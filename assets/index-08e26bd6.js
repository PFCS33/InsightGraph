var BZ=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var ZXe=BZ((wi,_i)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function h4(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const Dt={},md=[],cr=()=>{},jZ=()=>!1,UZ=/^on[^a-z]/,o2=e=>UZ.test(e),p4=e=>e.startsWith("onUpdate:"),sn=Object.assign,g4=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},qZ=Object.prototype.hasOwnProperty,at=(e,t)=>qZ.call(e,t),ze=Array.isArray,yd=e=>s2(e)==="[object Map]",NI=e=>s2(e)==="[object Set]",Ve=e=>typeof e=="function",Ye=e=>typeof e=="string",m4=e=>typeof e=="symbol",gt=e=>e!==null&&typeof e=="object",hv=e=>gt(e)&&Ve(e.then)&&Ve(e.catch),RI=Object.prototype.toString,s2=e=>RI.call(e),VZ=e=>s2(e).slice(8,-1),PI=e=>s2(e)==="[object Object]",y4=e=>Ye(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Cy=h4(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),a2=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},HZ=/-(\w)/g,Ts=a2(e=>e.replace(HZ,(t,n)=>n?n.toUpperCase():"")),WZ=/\B([A-Z])/g,of=a2(e=>e.replace(WZ,"-$1").toLowerCase()),tm=a2(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ay=a2(e=>e?`on${tm(e)}`:""),Gg=(e,t)=>!Object.is(e,t),r_=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},pv=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},GZ=e=>{const t=parseFloat(e);return isNaN(t)?e:t},YZ=e=>{const t=Ye(e)?Number(e):NaN;return isNaN(t)?e:t};let QM;const hE=()=>QM||(QM=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function rr(e){if(ze(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=Ye(r)?QZ(r):rr(r);if(i)for(const o in i)t[o]=i[o]}return t}else{if(Ye(e))return e;if(gt(e))return e}}const XZ=/;(?![^(]*\))/g,KZ=/:([^]+)/,JZ=/\/\*[^]*?\*\//g;function QZ(e){const t={};return e.replace(JZ,"").split(XZ).forEach(n=>{if(n){const r=n.split(KZ);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Te(e){let t="";if(Ye(e))t=e;else if(ze(e))for(let n=0;n<e.length;n++){const r=Te(e[n]);r&&(t+=r+" ")}else if(gt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const ZZ="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",eee=h4(ZZ);function II(e){return!!e||e===""}const Hr=e=>Ye(e)?e:e==null?"":ze(e)||gt(e)&&(e.toString===RI||!Ve(e.toString))?JSON.stringify(e,DI,2):String(e),DI=(e,t)=>t&&t.__v_isRef?DI(e,t.value):yd(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:NI(t)?{[`Set(${t.size})`]:[...t.values()]}:gt(t)&&!ze(t)&&!PI(t)?String(t):t;let hi;class LI{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=hi,!t&&hi&&(this.index=(hi.scopes||(hi.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=hi;try{return hi=this,t()}finally{hi=n}}}on(){hi=this}off(){hi=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function tee(e){return new LI(e)}function nee(e,t=hi){t&&t.active&&t.effects.push(e)}function zI(){return hi}function ree(e){hi&&hi.cleanups.push(e)}const v4=e=>{const t=new Set(e);return t.w=0,t.n=0,t},BI=e=>(e.w&ql)>0,jI=e=>(e.n&ql)>0,iee=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=ql},oee=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const i=t[r];BI(i)&&!jI(i)?i.delete(e):t[n++]=i,i.w&=~ql,i.n&=~ql}t.length=n}},gv=new WeakMap;let Hp=0,ql=1;const pE=30;let co;const hc=Symbol(""),gE=Symbol("");class b4{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,nee(this,r)}run(){if(!this.active)return this.fn();let t=co,n=Fl;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=co,co=this,Fl=!0,ql=1<<++Hp,Hp<=pE?iee(this):ZM(this),this.fn()}finally{Hp<=pE&&oee(this),ql=1<<--Hp,co=this.parent,Fl=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){co===this?this.deferStop=!0:this.active&&(ZM(this),this.onStop&&this.onStop(),this.active=!1)}}function ZM(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Fl=!0;const UI=[];function kh(){UI.push(Fl),Fl=!1}function Mh(){const e=UI.pop();Fl=e===void 0?!0:e}function Qr(e,t,n){if(Fl&&co){let r=gv.get(e);r||gv.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=v4()),qI(i)}}function qI(e,t){let n=!1;Hp<=pE?jI(e)||(e.n|=ql,n=!BI(e)):n=!e.has(co),n&&(e.add(co),co.deps.push(e))}function Ma(e,t,n,r,i,o){const s=gv.get(e);if(!s)return;let a=[];if(t==="clear")a=[...s.values()];else if(n==="length"&&ze(e)){const l=Number(r);s.forEach((u,c)=>{(c==="length"||c>=l)&&a.push(u)})}else switch(n!==void 0&&a.push(s.get(n)),t){case"add":ze(e)?y4(n)&&a.push(s.get("length")):(a.push(s.get(hc)),yd(e)&&a.push(s.get(gE)));break;case"delete":ze(e)||(a.push(s.get(hc)),yd(e)&&a.push(s.get(gE)));break;case"set":yd(e)&&a.push(s.get(hc));break}if(a.length===1)a[0]&&mE(a[0]);else{const l=[];for(const u of a)u&&l.push(...u);mE(v4(l))}}function mE(e,t){const n=ze(e)?e:[...e];for(const r of n)r.computed&&eT(r);for(const r of n)r.computed||eT(r)}function eT(e,t){(e!==co||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function see(e,t){var n;return(n=gv.get(e))==null?void 0:n.get(t)}const aee=h4("__proto__,__v_isRef,__isVue"),VI=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(m4)),lee=x4(),uee=x4(!1,!0),cee=x4(!0),tT=fee();function fee(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=dt(this);for(let o=0,s=this.length;o<s;o++)Qr(r,"get",o+"");const i=r[t](...n);return i===-1||i===!1?r[t](...n.map(dt)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){kh();const r=dt(this)[t].apply(this,n);return Mh(),r}}),e}function dee(e){const t=dt(this);return Qr(t,"has",e),t.hasOwnProperty(e)}function x4(e=!1,t=!1){return function(r,i,o){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&o===(e?t?kee:XI:t?YI:GI).get(r))return r;const s=ze(r);if(!e){if(s&&at(tT,i))return Reflect.get(tT,i,o);if(i==="hasOwnProperty")return dee}const a=Reflect.get(r,i,o);return(m4(i)?VI.has(i):aee(i))||(e||Qr(r,"get",i),t)?a:mn(a)?s&&y4(i)?a:a.value:gt(a)?e?nm(a):oi(a):a}}const hee=HI(),pee=HI(!0);function HI(e=!1){return function(n,r,i,o){let s=n[r];if(Nd(s)&&mn(s)&&!mn(i))return!1;if(!e&&(!mv(i)&&!Nd(i)&&(s=dt(s),i=dt(i)),!ze(n)&&mn(s)&&!mn(i)))return s.value=i,!0;const a=ze(n)&&y4(r)?Number(r)<n.length:at(n,r),l=Reflect.set(n,r,i,o);return n===dt(o)&&(a?Gg(i,s)&&Ma(n,"set",r,i):Ma(n,"add",r,i)),l}}function gee(e,t){const n=at(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&Ma(e,"delete",t,void 0),r}function mee(e,t){const n=Reflect.has(e,t);return(!m4(t)||!VI.has(t))&&Qr(e,"has",t),n}function yee(e){return Qr(e,"iterate",ze(e)?"length":hc),Reflect.ownKeys(e)}const WI={get:lee,set:hee,deleteProperty:gee,has:mee,ownKeys:yee},vee={get:cee,set(e,t){return!0},deleteProperty(e,t){return!0}},bee=sn({},WI,{get:uee,set:pee}),w4=e=>e,l2=e=>Reflect.getPrototypeOf(e);function y1(e,t,n=!1,r=!1){e=e.__v_raw;const i=dt(e),o=dt(t);n||(t!==o&&Qr(i,"get",t),Qr(i,"get",o));const{has:s}=l2(i),a=r?w4:n?S4:Yg;if(s.call(i,t))return a(e.get(t));if(s.call(i,o))return a(e.get(o));e!==i&&e.get(t)}function v1(e,t=!1){const n=this.__v_raw,r=dt(n),i=dt(e);return t||(e!==i&&Qr(r,"has",e),Qr(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function b1(e,t=!1){return e=e.__v_raw,!t&&Qr(dt(e),"iterate",hc),Reflect.get(e,"size",e)}function nT(e){e=dt(e);const t=dt(this);return l2(t).has.call(t,e)||(t.add(e),Ma(t,"add",e,e)),this}function rT(e,t){t=dt(t);const n=dt(this),{has:r,get:i}=l2(n);let o=r.call(n,e);o||(e=dt(e),o=r.call(n,e));const s=i.call(n,e);return n.set(e,t),o?Gg(t,s)&&Ma(n,"set",e,t):Ma(n,"add",e,t),this}function iT(e){const t=dt(this),{has:n,get:r}=l2(t);let i=n.call(t,e);i||(e=dt(e),i=n.call(t,e)),r&&r.call(t,e);const o=t.delete(e);return i&&Ma(t,"delete",e,void 0),o}function oT(){const e=dt(this),t=e.size!==0,n=e.clear();return t&&Ma(e,"clear",void 0,void 0),n}function x1(e,t){return function(r,i){const o=this,s=o.__v_raw,a=dt(s),l=t?w4:e?S4:Yg;return!e&&Qr(a,"iterate",hc),s.forEach((u,c)=>r.call(i,l(u),l(c),o))}}function w1(e,t,n){return function(...r){const i=this.__v_raw,o=dt(i),s=yd(o),a=e==="entries"||e===Symbol.iterator&&s,l=e==="keys"&&s,u=i[e](...r),c=n?w4:t?S4:Yg;return!t&&Qr(o,"iterate",l?gE:hc),{next(){const{value:f,done:h}=u.next();return h?{value:f,done:h}:{value:a?[c(f[0]),c(f[1])]:c(f),done:h}},[Symbol.iterator](){return this}}}}function Qa(e){return function(...t){return e==="delete"?!1:this}}function xee(){const e={get(o){return y1(this,o)},get size(){return b1(this)},has:v1,add:nT,set:rT,delete:iT,clear:oT,forEach:x1(!1,!1)},t={get(o){return y1(this,o,!1,!0)},get size(){return b1(this)},has:v1,add:nT,set:rT,delete:iT,clear:oT,forEach:x1(!1,!0)},n={get(o){return y1(this,o,!0)},get size(){return b1(this,!0)},has(o){return v1.call(this,o,!0)},add:Qa("add"),set:Qa("set"),delete:Qa("delete"),clear:Qa("clear"),forEach:x1(!0,!1)},r={get(o){return y1(this,o,!0,!0)},get size(){return b1(this,!0)},has(o){return v1.call(this,o,!0)},add:Qa("add"),set:Qa("set"),delete:Qa("delete"),clear:Qa("clear"),forEach:x1(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=w1(o,!1,!1),n[o]=w1(o,!0,!1),t[o]=w1(o,!1,!0),r[o]=w1(o,!0,!0)}),[e,n,t,r]}const[wee,_ee,Eee,See]=xee();function _4(e,t){const n=t?e?See:Eee:e?_ee:wee;return(r,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(at(n,i)&&i in r?n:r,i,o)}const $ee={get:_4(!1,!1)},Cee={get:_4(!1,!0)},Aee={get:_4(!0,!1)},GI=new WeakMap,YI=new WeakMap,XI=new WeakMap,kee=new WeakMap;function Mee(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Tee(e){return e.__v_skip||!Object.isExtensible(e)?0:Mee(VZ(e))}function oi(e){return Nd(e)?e:E4(e,!1,WI,$ee,GI)}function KI(e){return E4(e,!1,bee,Cee,YI)}function nm(e){return E4(e,!0,vee,Aee,XI)}function E4(e,t,n,r,i){if(!gt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=i.get(e);if(o)return o;const s=Tee(e);if(s===0)return e;const a=new Proxy(e,s===2?r:n);return i.set(e,a),a}function vd(e){return Nd(e)?vd(e.__v_raw):!!(e&&e.__v_isReactive)}function Nd(e){return!!(e&&e.__v_isReadonly)}function mv(e){return!!(e&&e.__v_isShallow)}function JI(e){return vd(e)||Nd(e)}function dt(e){const t=e&&e.__v_raw;return t?dt(t):e}function QI(e){return pv(e,"__v_skip",!0),e}const Yg=e=>gt(e)?oi(e):e,S4=e=>gt(e)?nm(e):e;function ZI(e){Fl&&co&&(e=dt(e),qI(e.dep||(e.dep=v4())))}function eD(e,t){e=dt(e);const n=e.dep;n&&mE(n)}function mn(e){return!!(e&&e.__v_isRef===!0)}function me(e){return tD(e,!1)}function Nl(e){return tD(e,!0)}function tD(e,t){return mn(e)?e:new Oee(e,t)}class Oee{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:dt(t),this._value=n?t:Yg(t)}get value(){return ZI(this),this._value}set value(t){const n=this.__v_isShallow||mv(t)||Nd(t);t=n?t:dt(t),Gg(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Yg(t),eD(this))}}function P(e){return mn(e)?e.value:e}const Fee={get:(e,t,n)=>P(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return mn(i)&&!mn(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function nD(e){return vd(e)?e:new Proxy(e,Fee)}function Xg(e){const t=ze(e)?new Array(e.length):{};for(const n in e)t[n]=rD(e,n);return t}class Nee{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return see(dt(this._object),this._key)}}class Ree{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function vl(e,t,n){return mn(e)?e:Ve(e)?new Ree(e):gt(e)&&arguments.length>1?rD(e,t,n):me(e)}function rD(e,t,n){const r=e[t];return mn(r)?r:new Nee(e,t,n)}class Pee{constructor(t,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new b4(t,()=>{this._dirty||(this._dirty=!0,eD(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const t=dt(this);return ZI(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Iee(e,t,n=!1){let r,i;const o=Ve(e);return o?(r=e,i=cr):(r=e.get,i=e.set),new Pee(r,i,o||!i,n)}function Dee(e,...t){}function Rl(e,t,n,r){let i;try{i=r?e(...r):e()}catch(o){u2(o,t,n)}return i}function Bi(e,t,n,r){if(Ve(e)){const o=Rl(e,t,n,r);return o&&hv(o)&&o.catch(s=>{u2(s,t,n)}),o}const i=[];for(let o=0;o<e.length;o++)i.push(Bi(e[o],t,n,r));return i}function u2(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let o=t.parent;const s=t.proxy,a=n;for(;o;){const u=o.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](e,s,a)===!1)return}o=o.parent}const l=t.appContext.config.errorHandler;if(l){Rl(l,null,10,[e,s,a]);return}}Lee(e,n,i,r)}function Lee(e,t,n,r=!0){console.error(e)}let Kg=!1,yE=!1;const ir=[];let ds=0;const bd=[];let ca=null,Ku=0;const iD=Promise.resolve();let $4=null;function Qt(e){const t=$4||iD;return e?t.then(this?e.bind(this):e):t}function zee(e){let t=ds+1,n=ir.length;for(;t<n;){const r=t+n>>>1;Jg(ir[r])<e?t=r+1:n=r}return t}function C4(e){(!ir.length||!ir.includes(e,Kg&&e.allowRecurse?ds+1:ds))&&(e.id==null?ir.push(e):ir.splice(zee(e.id),0,e),oD())}function oD(){!Kg&&!yE&&(yE=!0,$4=iD.then(aD))}function Bee(e){const t=ir.indexOf(e);t>ds&&ir.splice(t,1)}function jee(e){ze(e)?bd.push(...e):(!ca||!ca.includes(e,e.allowRecurse?Ku+1:Ku))&&bd.push(e),oD()}function sT(e,t=Kg?ds+1:0){for(;t<ir.length;t++){const n=ir[t];n&&n.pre&&(ir.splice(t,1),t--,n())}}function sD(e){if(bd.length){const t=[...new Set(bd)];if(bd.length=0,ca){ca.push(...t);return}for(ca=t,ca.sort((n,r)=>Jg(n)-Jg(r)),Ku=0;Ku<ca.length;Ku++)ca[Ku]();ca=null,Ku=0}}const Jg=e=>e.id==null?1/0:e.id,Uee=(e,t)=>{const n=Jg(e)-Jg(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function aD(e){yE=!1,Kg=!0,ir.sort(Uee);const t=cr;try{for(ds=0;ds<ir.length;ds++){const n=ir[ds];n&&n.active!==!1&&Rl(n,null,14)}}finally{ds=0,ir.length=0,sD(),Kg=!1,$4=null,(ir.length||bd.length)&&aD()}}function qee(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Dt;let i=n;const o=t.startsWith("update:"),s=o&&t.slice(7);if(s&&s in r){const c=`${s==="modelValue"?"model":s}Modifiers`,{number:f,trim:h}=r[c]||Dt;h&&(i=n.map(p=>Ye(p)?p.trim():p)),f&&(i=n.map(GZ))}let a,l=r[a=Ay(t)]||r[a=Ay(Ts(t))];!l&&o&&(l=r[a=Ay(of(t))]),l&&Bi(l,e,6,i);const u=r[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Bi(u,e,6,i)}}function lD(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const o=e.emits;let s={},a=!1;if(!Ve(e)){const l=u=>{const c=lD(u,t,!0);c&&(a=!0,sn(s,c))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!a?(gt(e)&&r.set(e,null),null):(ze(o)?o.forEach(l=>s[l]=null):sn(s,o),gt(e)&&r.set(e,s),s)}function c2(e,t){return!e||!o2(t)?!1:(t=t.slice(2).replace(/Once$/,""),at(e,t[0].toLowerCase()+t.slice(1))||at(e,of(t))||at(e,t))}let Bn=null,f2=null;function yv(e){const t=Bn;return Bn=e,f2=e&&e.type.__scopeId||null,t}function Vee(e){f2=e}function Hee(){f2=null}function oe(e,t=Bn,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&bT(-1);const o=yv(t);let s;try{s=e(...i)}finally{yv(o),r._d&&bT(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function i_(e){const{type:t,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[s],slots:a,attrs:l,emit:u,render:c,renderCache:f,data:h,setupState:p,ctx:g,inheritAttrs:m}=e;let y,v;const b=yv(e);try{if(n.shapeFlag&4){const w=i||r;y=cs(c.call(w,w,f,o,p,h,g)),v=l}else{const w=t;y=cs(w.length>1?w(o,{attrs:l,slots:a,emit:u}):w(o,null)),v=t.props?l:Wee(l)}}catch(w){Eg.length=0,u2(w,e,1),y=V(Ei)}let x=y;if(v&&m!==!1){const w=Object.keys(v),{shapeFlag:_}=x;w.length&&_&7&&(s&&w.some(p4)&&(v=Gee(v,s)),x=Ta(x,v))}return n.dirs&&(x=Ta(x),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&(x.transition=n.transition),y=x,yv(b),y}const Wee=e=>{let t;for(const n in e)(n==="class"||n==="style"||o2(n))&&((t||(t={}))[n]=e[n]);return t},Gee=(e,t)=>{const n={};for(const r in e)(!p4(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Yee(e,t,n){const{props:r,children:i,component:o}=e,{props:s,children:a,patchFlag:l}=t,u=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?aT(r,s,u):!!s;if(l&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const h=c[f];if(s[h]!==r[h]&&!c2(u,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===s?!1:r?s?aT(r,s,u):!0:!!s;return!1}function aT(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(t[o]!==e[o]&&!c2(n,o))return!0}return!1}function Xee({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Kee=e=>e.__isSuspense;function Jee(e,t){t&&t.pendingBranch?ze(e)?t.effects.push(...e):t.effects.push(e):jee(e)}function uD(e,t){return A4(e,null,t)}const _1={};function Pe(e,t,n){return A4(e,t,n)}function A4(e,t,{immediate:n,deep:r,flush:i,onTrack:o,onTrigger:s}=Dt){var a;const l=zI()===((a=$n)==null?void 0:a.scope)?$n:null;let u,c=!1,f=!1;if(mn(e)?(u=()=>e.value,c=mv(e)):vd(e)?(u=()=>e,r=!0):ze(e)?(f=!0,c=e.some(w=>vd(w)||mv(w)),u=()=>e.map(w=>{if(mn(w))return w.value;if(vd(w))return oc(w);if(Ve(w))return Rl(w,l,2)})):Ve(e)?t?u=()=>Rl(e,l,2):u=()=>{if(!(l&&l.isUnmounted))return h&&h(),Bi(e,l,3,[p])}:u=cr,t&&r){const w=u;u=()=>oc(w())}let h,p=w=>{h=b.onStop=()=>{Rl(w,l,4)}},g;if(t0)if(p=cr,t?n&&Bi(t,l,3,[u(),f?[]:void 0,p]):u(),i==="sync"){const w=qte();g=w.__watcherHandles||(w.__watcherHandles=[])}else return cr;let m=f?new Array(e.length).fill(_1):_1;const y=()=>{if(b.active)if(t){const w=b.run();(r||c||(f?w.some((_,$)=>Gg(_,m[$])):Gg(w,m)))&&(h&&h(),Bi(t,l,3,[w,m===_1?void 0:f&&m[0]===_1?[]:m,p]),m=w)}else b.run()};y.allowRecurse=!!t;let v;i==="sync"?v=y:i==="post"?v=()=>Dr(y,l&&l.suspense):(y.pre=!0,l&&(y.id=l.uid),v=()=>C4(y));const b=new b4(u,v);t?n?y():m=b.run():i==="post"?Dr(b.run.bind(b),l&&l.suspense):b.run();const x=()=>{b.stop(),l&&l.scope&&g4(l.scope.effects,b)};return g&&g.push(x),x}function Qee(e,t,n){const r=this.proxy,i=Ye(e)?e.includes(".")?cD(r,e):()=>r[e]:e.bind(r,r);let o;Ve(t)?o=t:(o=t.handler,n=t);const s=$n;Rd(this);const a=A4(i,o.bind(r),n);return s?Rd(s):pc(),a}function cD(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function oc(e,t){if(!gt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),mn(e))oc(e.value,t);else if(ze(e))for(let n=0;n<e.length;n++)oc(e[n],t);else if(NI(e)||yd(e))e.forEach(n=>{oc(n,t)});else if(PI(e))for(const n in e)oc(e[n],t);return e}function Vl(e,t){const n=Bn;if(n===null)return e;const r=m2(n)||n.proxy,i=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[s,a,l,u=Dt]=t[o];s&&(Ve(s)&&(s={mounted:s,updated:s}),s.deep&&oc(a),i.push({dir:s,instance:r,value:a,oldValue:void 0,arg:l,modifiers:u}))}return e}function Tu(e,t,n,r){const i=e.dirs,o=t&&t.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);let l=a.dir[r];l&&(kh(),Bi(l,n,8,[e.el,a,e,t]),Mh())}}function fD(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return nn(()=>{e.isMounted=!0}),si(()=>{e.isUnmounting=!0}),e}const Oi=[Function,Array],dD={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Oi,onEnter:Oi,onAfterEnter:Oi,onEnterCancelled:Oi,onBeforeLeave:Oi,onLeave:Oi,onAfterLeave:Oi,onLeaveCancelled:Oi,onBeforeAppear:Oi,onAppear:Oi,onAfterAppear:Oi,onAppearCancelled:Oi},Zee={name:"BaseTransition",props:dD,setup(e,{slots:t}){const n=yr(),r=fD();let i;return()=>{const o=t.default&&k4(t.default(),!0);if(!o||!o.length)return;let s=o[0];if(o.length>1){for(const m of o)if(m.type!==Ei){s=m;break}}const a=dt(e),{mode:l}=a;if(r.isLeaving)return o_(s);const u=lT(s);if(!u)return o_(s);const c=Qg(u,a,r,n);Zg(u,c);const f=n.subTree,h=f&&lT(f);let p=!1;const{getTransitionKey:g}=u.type;if(g){const m=g();i===void 0?i=m:m!==i&&(i=m,p=!0)}if(h&&h.type!==Ei&&(!Ju(u,h)||p)){const m=Qg(h,a,r,n);if(Zg(h,m),l==="out-in")return r.isLeaving=!0,m.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},o_(s);l==="in-out"&&u.type!==Ei&&(m.delayLeave=(y,v,b)=>{const x=hD(r,h);x[String(h.key)]=h,y._leaveCb=()=>{v(),y._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=b})}return s}}},ete=Zee;function hD(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Qg(e,t,n,r){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:f,onLeave:h,onAfterLeave:p,onLeaveCancelled:g,onBeforeAppear:m,onAppear:y,onAfterAppear:v,onAppearCancelled:b}=t,x=String(e.key),w=hD(n,e),_=(C,T)=>{C&&Bi(C,r,9,T)},$=(C,T)=>{const M=T[1];_(C,T),ze(C)?C.every(E=>E.length<=1)&&M():C.length<=1&&M()},S={mode:o,persisted:s,beforeEnter(C){let T=a;if(!n.isMounted)if(i)T=m||a;else return;C._leaveCb&&C._leaveCb(!0);const M=w[x];M&&Ju(e,M)&&M.el._leaveCb&&M.el._leaveCb(),_(T,[C])},enter(C){let T=l,M=u,E=c;if(!n.isMounted)if(i)T=y||l,M=v||u,E=b||c;else return;let N=!1;const k=C._enterCb=A=>{N||(N=!0,A?_(E,[C]):_(M,[C]),S.delayedLeave&&S.delayedLeave(),C._enterCb=void 0)};T?$(T,[C,k]):k()},leave(C,T){const M=String(e.key);if(C._enterCb&&C._enterCb(!0),n.isUnmounting)return T();_(f,[C]);let E=!1;const N=C._leaveCb=k=>{E||(E=!0,T(),k?_(g,[C]):_(p,[C]),C._leaveCb=void 0,w[M]===e&&delete w[M])};w[M]=e,h?$(h,[C,N]):N()},clone(C){return Qg(C,t,n,r)}};return S}function o_(e){if(d2(e))return e=Ta(e),e.children=null,e}function lT(e){return d2(e)?e.children?e.children[0]:void 0:e}function Zg(e,t){e.shapeFlag&6&&e.component?Zg(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function k4(e,t=!1,n){let r=[],i=0;for(let o=0;o<e.length;o++){let s=e[o];const a=n==null?s.key:String(n)+String(s.key!=null?s.key:o);s.type===Lt?(s.patchFlag&128&&i++,r=r.concat(k4(s.children,t,a))):(t||s.type!==Ei)&&r.push(a!=null?Ta(s,{key:a}):s)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}function Ue(e,t){return Ve(e)?(()=>sn({name:e.name},t,{setup:e}))():e}const xg=e=>!!e.type.__asyncLoader,d2=e=>e.type.__isKeepAlive;function tte(e,t){gD(e,"a",t)}function pD(e,t){gD(e,"da",t)}function gD(e,t,n=$n){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(h2(t,r,n),n){let i=n.parent;for(;i&&i.parent;)d2(i.parent.vnode)&&nte(r,t,n,i),i=i.parent}}function nte(e,t,n,r){const i=h2(t,e,r,!0);p2(()=>{g4(r[t],i)},n)}function h2(e,t,n=$n,r=!1){if(n){const i=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...s)=>{if(n.isUnmounted)return;kh(),Rd(n);const a=Bi(t,n,e,s);return pc(),Mh(),a});return r?i.unshift(o):i.push(o),o}}const za=e=>(t,n=$n)=>(!t0||e==="sp")&&h2(e,(...r)=>t(...r),n),mD=za("bm"),nn=za("m"),rte=za("bu"),rm=za("u"),si=za("bum"),p2=za("um"),ite=za("sp"),ote=za("rtg"),ste=za("rtc");function ate(e,t=$n){h2("ec",e,t)}const M4="components";function as(e,t){return vD(M4,e,!0,t)||e}const yD=Symbol.for("v-ndc");function va(e){return Ye(e)?vD(M4,e,!1)||e:e||yD}function vD(e,t,n=!0,r=!1){const i=Bn||$n;if(i){const o=i.type;if(e===M4){const a=Bte(o,!1);if(a&&(a===t||a===Ts(t)||a===tm(Ts(t))))return o}const s=uT(i[e]||o[e],t)||uT(i.appContext[e],t);return!s&&r?o:s}}function uT(e,t){return e&&(e[t]||e[Ts(t)]||e[tm(Ts(t))])}function s_(e,t,n,r){let i;const o=n&&n[r];if(ze(e)||Ye(e)){i=new Array(e.length);for(let s=0,a=e.length;s<a;s++)i[s]=t(e[s],s,void 0,o&&o[s])}else if(typeof e=="number"){i=new Array(e);for(let s=0;s<e;s++)i[s]=t(s+1,s,void 0,o&&o[s])}else if(gt(e))if(e[Symbol.iterator])i=Array.from(e,(s,a)=>t(s,a,void 0,o&&o[a]));else{const s=Object.keys(e);i=new Array(s.length);for(let a=0,l=s.length;a<l;a++){const u=s[a];i[a]=t(e[u],u,a,o&&o[a])}}else i=[];return n&&(n[r]=i),i}function ht(e,t,n={},r,i){if(Bn.isCE||Bn.parent&&xg(Bn.parent)&&Bn.parent.isCE)return t!=="default"&&(n.name=t),V("slot",n,r&&r());let o=e[t];o&&o._c&&(o._d=!1),re();const s=o&&bD(o(n)),a=tt(Lt,{key:n.key||s&&s.key||`_${t}`},s||(r?r():[]),s&&e._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function bD(e){return e.some(t=>Ac(t)?!(t.type===Ei||t.type===Lt&&!bD(t.children)):!0)?e:null}function lte(e,t){const n={};for(const r in e)n[t&&/[A-Z]/.test(r)?`on:${r}`:Ay(r)]=e[r];return n}const vE=e=>e?OD(e)?m2(e)||e.proxy:vE(e.parent):null,wg=sn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>vE(e.parent),$root:e=>vE(e.root),$emit:e=>e.emit,$options:e=>O4(e),$forceUpdate:e=>e.f||(e.f=()=>C4(e.update)),$nextTick:e=>e.n||(e.n=Qt.bind(e.proxy)),$watch:e=>Qee.bind(e)}),a_=(e,t)=>e!==Dt&&!e.__isScriptSetup&&at(e,t),ute={get({_:e},t){const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const p=s[t];if(p!==void 0)switch(p){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return o[t]}else{if(a_(r,t))return s[t]=1,r[t];if(i!==Dt&&at(i,t))return s[t]=2,i[t];if((u=e.propsOptions[0])&&at(u,t))return s[t]=3,o[t];if(n!==Dt&&at(n,t))return s[t]=4,n[t];bE&&(s[t]=0)}}const c=wg[t];let f,h;if(c)return t==="$attrs"&&Qr(e,"get",t),c(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(n!==Dt&&at(n,t))return s[t]=4,n[t];if(h=l.config.globalProperties,at(h,t))return h[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:o}=e;return a_(i,t)?(i[t]=n,!0):r!==Dt&&at(r,t)?(r[t]=n,!0):at(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let a;return!!n[s]||e!==Dt&&at(e,s)||a_(t,s)||(a=o[0])&&at(a,s)||at(r,s)||at(wg,s)||at(i.config.globalProperties,s)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:at(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function T4(){return xD().slots}function cte(){return xD().attrs}function xD(){const e=yr();return e.setupContext||(e.setupContext=ND(e))}function cT(e){return ze(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let bE=!0;function fte(e){const t=O4(e),n=e.proxy,r=e.ctx;bE=!1,t.beforeCreate&&fT(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:s,watch:a,provide:l,inject:u,created:c,beforeMount:f,mounted:h,beforeUpdate:p,updated:g,activated:m,deactivated:y,beforeDestroy:v,beforeUnmount:b,destroyed:x,unmounted:w,render:_,renderTracked:$,renderTriggered:S,errorCaptured:C,serverPrefetch:T,expose:M,inheritAttrs:E,components:N,directives:k,filters:A}=t;if(u&&dte(u,r,null),s)for(const R in s){const D=s[R];Ve(D)&&(r[R]=D.bind(n))}if(i){const R=i.call(n,n);gt(R)&&(e.data=oi(R))}if(bE=!0,o)for(const R in o){const D=o[R],z=Ve(D)?D.bind(n,n):Ve(D.get)?D.get.bind(n,n):cr,U=!Ve(D)&&Ve(D.set)?D.set.bind(n):cr,H=G({get:z,set:U});Object.defineProperty(r,R,{enumerable:!0,configurable:!0,get:()=>H.value,set:W=>H.value=W})}if(a)for(const R in a)wD(a[R],r,n,R);if(l){const R=Ve(l)?l.call(n):l;Reflect.ownKeys(R).forEach(D=>{Fn(D,R[D])})}c&&fT(c,e,"c");function F(R,D){ze(D)?D.forEach(z=>R(z.bind(n))):D&&R(D.bind(n))}if(F(mD,f),F(nn,h),F(rte,p),F(rm,g),F(tte,m),F(pD,y),F(ate,C),F(ste,$),F(ote,S),F(si,b),F(p2,w),F(ite,T),ze(M))if(M.length){const R=e.exposed||(e.exposed={});M.forEach(D=>{Object.defineProperty(R,D,{get:()=>n[D],set:z=>n[D]=z})})}else e.exposed||(e.exposed={});_&&e.render===cr&&(e.render=_),E!=null&&(e.inheritAttrs=E),N&&(e.components=N),k&&(e.directives=k)}function dte(e,t,n=cr){ze(e)&&(e=xE(e));for(const r in e){const i=e[r];let o;gt(i)?"default"in i?o=et(i.from||r,i.default,!0):o=et(i.from||r):o=et(i),mn(o)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):t[r]=o}}function fT(e,t,n){Bi(ze(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function wD(e,t,n,r){const i=r.includes(".")?cD(n,r):()=>n[r];if(Ye(e)){const o=t[e];Ve(o)&&Pe(i,o)}else if(Ve(e))Pe(i,e.bind(n));else if(gt(e))if(ze(e))e.forEach(o=>wD(o,t,n,r));else{const o=Ve(e.handler)?e.handler.bind(n):t[e.handler];Ve(o)&&Pe(i,o,e)}}function O4(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,a=o.get(t);let l;return a?l=a:!i.length&&!n&&!r?l=t:(l={},i.length&&i.forEach(u=>vv(l,u,s,!0)),vv(l,t,s)),gt(t)&&o.set(t,l),l}function vv(e,t,n,r=!1){const{mixins:i,extends:o}=t;o&&vv(e,o,n,!0),i&&i.forEach(s=>vv(e,s,n,!0));for(const s in t)if(!(r&&s==="expose")){const a=hte[s]||n&&n[s];e[s]=a?a(e[s],t[s]):t[s]}return e}const hte={data:dT,props:hT,emits:hT,methods:Wp,computed:Wp,beforeCreate:xr,created:xr,beforeMount:xr,mounted:xr,beforeUpdate:xr,updated:xr,beforeDestroy:xr,beforeUnmount:xr,destroyed:xr,unmounted:xr,activated:xr,deactivated:xr,errorCaptured:xr,serverPrefetch:xr,components:Wp,directives:Wp,watch:gte,provide:dT,inject:pte};function dT(e,t){return t?e?function(){return sn(Ve(e)?e.call(this,this):e,Ve(t)?t.call(this,this):t)}:t:e}function pte(e,t){return Wp(xE(e),xE(t))}function xE(e){if(ze(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function xr(e,t){return e?[...new Set([].concat(e,t))]:t}function Wp(e,t){return e?sn(Object.create(null),e,t):t}function hT(e,t){return e?ze(e)&&ze(t)?[...new Set([...e,...t])]:sn(Object.create(null),cT(e),cT(t??{})):t}function gte(e,t){if(!e)return t;if(!t)return e;const n=sn(Object.create(null),e);for(const r in t)n[r]=xr(e[r],t[r]);return n}function _D(){return{app:null,config:{isNativeTag:jZ,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let mte=0;function yte(e,t){return function(r,i=null){Ve(r)||(r=sn({},r)),i!=null&&!gt(i)&&(i=null);const o=_D(),s=new Set;let a=!1;const l=o.app={_uid:mte++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:Vte,get config(){return o.config},set config(u){},use(u,...c){return s.has(u)||(u&&Ve(u.install)?(s.add(u),u.install(l,...c)):Ve(u)&&(s.add(u),u(l,...c))),l},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),l},component(u,c){return c?(o.components[u]=c,l):o.components[u]},directive(u,c){return c?(o.directives[u]=c,l):o.directives[u]},mount(u,c,f){if(!a){const h=V(r,i);return h.appContext=o,c&&t?t(h,u):e(h,u,f),a=!0,l._container=u,u.__vue_app__=l,m2(h.component)||h.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(u,c){return o.provides[u]=c,l},runWithContext(u){bv=l;try{return u()}finally{bv=null}}};return l}}let bv=null;function Fn(e,t){if($n){let n=$n.provides;const r=$n.parent&&$n.parent.provides;r===n&&(n=$n.provides=Object.create(r)),n[e]=t}}function et(e,t,n=!1){const r=$n||Bn;if(r||bv){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:bv._context.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&Ve(t)?t.call(r&&r.proxy):t}}function vte(e,t,n,r=!1){const i={},o={};pv(o,g2,1),e.propsDefaults=Object.create(null),ED(e,t,i,o);for(const s in e.propsOptions[0])s in i||(i[s]=void 0);n?e.props=r?i:KI(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function bte(e,t,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=e,a=dt(i),[l]=e.propsOptions;let u=!1;if((r||s>0)&&!(s&16)){if(s&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let h=c[f];if(c2(e.emitsOptions,h))continue;const p=t[h];if(l)if(at(o,h))p!==o[h]&&(o[h]=p,u=!0);else{const g=Ts(h);i[g]=wE(l,a,g,p,e,!1)}else p!==o[h]&&(o[h]=p,u=!0)}}}else{ED(e,t,i,o)&&(u=!0);let c;for(const f in a)(!t||!at(t,f)&&((c=of(f))===f||!at(t,c)))&&(l?n&&(n[f]!==void 0||n[c]!==void 0)&&(i[f]=wE(l,a,f,void 0,e,!0)):delete i[f]);if(o!==a)for(const f in o)(!t||!at(t,f))&&(delete o[f],u=!0)}u&&Ma(e,"set","$attrs")}function ED(e,t,n,r){const[i,o]=e.propsOptions;let s=!1,a;if(t)for(let l in t){if(Cy(l))continue;const u=t[l];let c;i&&at(i,c=Ts(l))?!o||!o.includes(c)?n[c]=u:(a||(a={}))[c]=u:c2(e.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,s=!0)}if(o){const l=dt(n),u=a||Dt;for(let c=0;c<o.length;c++){const f=o[c];n[f]=wE(i,l,f,u[f],e,!at(u,f))}}return s}function wE(e,t,n,r,i,o){const s=e[n];if(s!=null){const a=at(s,"default");if(a&&r===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&Ve(l)){const{propsDefaults:u}=i;n in u?r=u[n]:(Rd(i),r=u[n]=l.call(null,t),pc())}else r=l}s[0]&&(o&&!a?r=!1:s[1]&&(r===""||r===of(n))&&(r=!0))}return r}function SD(e,t,n=!1){const r=t.propsCache,i=r.get(e);if(i)return i;const o=e.props,s={},a=[];let l=!1;if(!Ve(e)){const c=f=>{l=!0;const[h,p]=SD(f,t,!0);sn(s,h),p&&a.push(...p)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!o&&!l)return gt(e)&&r.set(e,md),md;if(ze(o))for(let c=0;c<o.length;c++){const f=Ts(o[c]);pT(f)&&(s[f]=Dt)}else if(o)for(const c in o){const f=Ts(c);if(pT(f)){const h=o[c],p=s[f]=ze(h)||Ve(h)?{type:h}:sn({},h);if(p){const g=yT(Boolean,p.type),m=yT(String,p.type);p[0]=g>-1,p[1]=m<0||g<m,(g>-1||at(p,"default"))&&a.push(f)}}}const u=[s,a];return gt(e)&&r.set(e,u),u}function pT(e){return e[0]!=="$"}function gT(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function mT(e,t){return gT(e)===gT(t)}function yT(e,t){return ze(t)?t.findIndex(n=>mT(n,e)):Ve(t)&&mT(t,e)?0:-1}const $D=e=>e[0]==="_"||e==="$stable",F4=e=>ze(e)?e.map(cs):[cs(e)],xte=(e,t,n)=>{if(t._n)return t;const r=oe((...i)=>F4(t(...i)),n);return r._c=!1,r},CD=(e,t,n)=>{const r=e._ctx;for(const i in e){if($D(i))continue;const o=e[i];if(Ve(o))t[i]=xte(i,o,r);else if(o!=null){const s=F4(o);t[i]=()=>s}}},AD=(e,t)=>{const n=F4(t);e.slots.default=()=>n},wte=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=dt(t),pv(t,"_",n)):CD(t,e.slots={})}else e.slots={},t&&AD(e,t);pv(e.slots,g2,1)},_te=(e,t,n)=>{const{vnode:r,slots:i}=e;let o=!0,s=Dt;if(r.shapeFlag&32){const a=t._;a?n&&a===1?o=!1:(sn(i,t),!n&&a===1&&delete i._):(o=!t.$stable,CD(t,i)),s=t}else t&&(AD(e,t),s={default:1});if(o)for(const a in i)!$D(a)&&!(a in s)&&delete i[a]};function _E(e,t,n,r,i=!1){if(ze(e)){e.forEach((h,p)=>_E(h,t&&(ze(t)?t[p]:t),n,r,i));return}if(xg(r)&&!i)return;const o=r.shapeFlag&4?m2(r.component)||r.component.proxy:r.el,s=i?null:o,{i:a,r:l}=e,u=t&&t.r,c=a.refs===Dt?a.refs={}:a.refs,f=a.setupState;if(u!=null&&u!==l&&(Ye(u)?(c[u]=null,at(f,u)&&(f[u]=null)):mn(u)&&(u.value=null)),Ve(l))Rl(l,a,12,[s,c]);else{const h=Ye(l),p=mn(l);if(h||p){const g=()=>{if(e.f){const m=h?at(f,l)?f[l]:c[l]:l.value;i?ze(m)&&g4(m,o):ze(m)?m.includes(o)||m.push(o):h?(c[l]=[o],at(f,l)&&(f[l]=c[l])):(l.value=[o],e.k&&(c[e.k]=l.value))}else h?(c[l]=s,at(f,l)&&(f[l]=s)):p&&(l.value=s,e.k&&(c[e.k]=s))};s?(g.id=-1,Dr(g,n)):g()}}}const Dr=Jee;function Ete(e){return Ste(e)}function Ste(e,t){const n=hE();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:s,createText:a,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:h,setScopeId:p=cr,insertStaticContent:g}=e,m=(I,L,j,X=null,ee=null,Y=null,ue=!1,pe=null,fe=!!L.dynamicChildren)=>{if(I===L)return;I&&!Ju(I,L)&&(X=B(I),W(I,ee,Y,!0),I=null),L.patchFlag===-2&&(fe=!1,L.dynamicChildren=null);const{type:se,ref:Re,shapeFlag:Me}=L;switch(se){case im:y(I,L,j,X);break;case Ei:v(I,L,j,X);break;case ky:I==null&&b(L,j,X,ue);break;case Lt:N(I,L,j,X,ee,Y,ue,pe,fe);break;default:Me&1?_(I,L,j,X,ee,Y,ue,pe,fe):Me&6?k(I,L,j,X,ee,Y,ue,pe,fe):(Me&64||Me&128)&&se.process(I,L,j,X,ee,Y,ue,pe,fe,q)}Re!=null&&ee&&_E(Re,I&&I.ref,Y,L||I,!L)},y=(I,L,j,X)=>{if(I==null)r(L.el=a(L.children),j,X);else{const ee=L.el=I.el;L.children!==I.children&&u(ee,L.children)}},v=(I,L,j,X)=>{I==null?r(L.el=l(L.children||""),j,X):L.el=I.el},b=(I,L,j,X)=>{[I.el,I.anchor]=g(I.children,L,j,X,I.el,I.anchor)},x=({el:I,anchor:L},j,X)=>{let ee;for(;I&&I!==L;)ee=h(I),r(I,j,X),I=ee;r(L,j,X)},w=({el:I,anchor:L})=>{let j;for(;I&&I!==L;)j=h(I),i(I),I=j;i(L)},_=(I,L,j,X,ee,Y,ue,pe,fe)=>{ue=ue||L.type==="svg",I==null?$(L,j,X,ee,Y,ue,pe,fe):T(I,L,ee,Y,ue,pe,fe)},$=(I,L,j,X,ee,Y,ue,pe)=>{let fe,se;const{type:Re,props:Me,shapeFlag:J,transition:Se,dirs:qe}=I;if(fe=I.el=s(I.type,Y,Me&&Me.is,Me),J&8?c(fe,I.children):J&16&&C(I.children,fe,null,X,ee,Y&&Re!=="foreignObject",ue,pe),qe&&Tu(I,null,X,"created"),S(fe,I,I.scopeId,ue,X),Me){for(const ct in Me)ct!=="value"&&!Cy(ct)&&o(fe,ct,null,Me[ct],Y,I.children,X,ee,xe);"value"in Me&&o(fe,"value",null,Me.value),(se=Me.onVnodeBeforeMount)&&ns(se,X,I)}qe&&Tu(I,null,X,"beforeMount");const ut=(!ee||ee&&!ee.pendingBranch)&&Se&&!Se.persisted;ut&&Se.beforeEnter(fe),r(fe,L,j),((se=Me&&Me.onVnodeMounted)||ut||qe)&&Dr(()=>{se&&ns(se,X,I),ut&&Se.enter(fe),qe&&Tu(I,null,X,"mounted")},ee)},S=(I,L,j,X,ee)=>{if(j&&p(I,j),X)for(let Y=0;Y<X.length;Y++)p(I,X[Y]);if(ee){let Y=ee.subTree;if(L===Y){const ue=ee.vnode;S(I,ue,ue.scopeId,ue.slotScopeIds,ee.parent)}}},C=(I,L,j,X,ee,Y,ue,pe,fe=0)=>{for(let se=fe;se<I.length;se++){const Re=I[se]=pe?al(I[se]):cs(I[se]);m(null,Re,L,j,X,ee,Y,ue,pe)}},T=(I,L,j,X,ee,Y,ue)=>{const pe=L.el=I.el;let{patchFlag:fe,dynamicChildren:se,dirs:Re}=L;fe|=I.patchFlag&16;const Me=I.props||Dt,J=L.props||Dt;let Se;j&&Ou(j,!1),(Se=J.onVnodeBeforeUpdate)&&ns(Se,j,L,I),Re&&Tu(L,I,j,"beforeUpdate"),j&&Ou(j,!0);const qe=ee&&L.type!=="foreignObject";if(se?M(I.dynamicChildren,se,pe,j,X,qe,Y):ue||D(I,L,pe,null,j,X,qe,Y,!1),fe>0){if(fe&16)E(pe,L,Me,J,j,X,ee);else if(fe&2&&Me.class!==J.class&&o(pe,"class",null,J.class,ee),fe&4&&o(pe,"style",Me.style,J.style,ee),fe&8){const ut=L.dynamicProps;for(let ct=0;ct<ut.length;ct++){const ln=ut[ct],to=Me[ln],Of=J[ln];(Of!==to||ln==="value")&&o(pe,ln,to,Of,ee,I.children,j,X,xe)}}fe&1&&I.children!==L.children&&c(pe,L.children)}else!ue&&se==null&&E(pe,L,Me,J,j,X,ee);((Se=J.onVnodeUpdated)||Re)&&Dr(()=>{Se&&ns(Se,j,L,I),Re&&Tu(L,I,j,"updated")},X)},M=(I,L,j,X,ee,Y,ue)=>{for(let pe=0;pe<L.length;pe++){const fe=I[pe],se=L[pe],Re=fe.el&&(fe.type===Lt||!Ju(fe,se)||fe.shapeFlag&70)?f(fe.el):j;m(fe,se,Re,null,X,ee,Y,ue,!0)}},E=(I,L,j,X,ee,Y,ue)=>{if(j!==X){if(j!==Dt)for(const pe in j)!Cy(pe)&&!(pe in X)&&o(I,pe,j[pe],null,ue,L.children,ee,Y,xe);for(const pe in X){if(Cy(pe))continue;const fe=X[pe],se=j[pe];fe!==se&&pe!=="value"&&o(I,pe,se,fe,ue,L.children,ee,Y,xe)}"value"in X&&o(I,"value",j.value,X.value)}},N=(I,L,j,X,ee,Y,ue,pe,fe)=>{const se=L.el=I?I.el:a(""),Re=L.anchor=I?I.anchor:a("");let{patchFlag:Me,dynamicChildren:J,slotScopeIds:Se}=L;Se&&(pe=pe?pe.concat(Se):Se),I==null?(r(se,j,X),r(Re,j,X),C(L.children,j,Re,ee,Y,ue,pe,fe)):Me>0&&Me&64&&J&&I.dynamicChildren?(M(I.dynamicChildren,J,j,ee,Y,ue,pe),(L.key!=null||ee&&L===ee.subTree)&&N4(I,L,!0)):D(I,L,j,Re,ee,Y,ue,pe,fe)},k=(I,L,j,X,ee,Y,ue,pe,fe)=>{L.slotScopeIds=pe,I==null?L.shapeFlag&512?ee.ctx.activate(L,j,X,ue,fe):A(L,j,X,ee,Y,ue,fe):O(I,L,fe)},A=(I,L,j,X,ee,Y,ue)=>{const pe=I.component=Ite(I,X,ee);if(d2(I)&&(pe.ctx.renderer=q),Dte(pe),pe.asyncDep){if(ee&&ee.registerDep(pe,F),!I.el){const fe=pe.subTree=V(Ei);v(null,fe,L,j)}return}F(pe,I,L,j,ee,Y,ue)},O=(I,L,j)=>{const X=L.component=I.component;if(Yee(I,L,j))if(X.asyncDep&&!X.asyncResolved){R(X,L,j);return}else X.next=L,Bee(X.update),X.update();else L.el=I.el,X.vnode=L},F=(I,L,j,X,ee,Y,ue)=>{const pe=()=>{if(I.isMounted){let{next:Re,bu:Me,u:J,parent:Se,vnode:qe}=I,ut=Re,ct;Ou(I,!1),Re?(Re.el=qe.el,R(I,Re,ue)):Re=qe,Me&&r_(Me),(ct=Re.props&&Re.props.onVnodeBeforeUpdate)&&ns(ct,Se,Re,qe),Ou(I,!0);const ln=i_(I),to=I.subTree;I.subTree=ln,m(to,ln,f(to.el),B(to),I,ee,Y),Re.el=ln.el,ut===null&&Xee(I,ln.el),J&&Dr(J,ee),(ct=Re.props&&Re.props.onVnodeUpdated)&&Dr(()=>ns(ct,Se,Re,qe),ee)}else{let Re;const{el:Me,props:J}=L,{bm:Se,m:qe,parent:ut}=I,ct=xg(L);if(Ou(I,!1),Se&&r_(Se),!ct&&(Re=J&&J.onVnodeBeforeMount)&&ns(Re,ut,L),Ou(I,!0),Me&&ce){const ln=()=>{I.subTree=i_(I),ce(Me,I.subTree,I,ee,null)};ct?L.type.__asyncLoader().then(()=>!I.isUnmounted&&ln()):ln()}else{const ln=I.subTree=i_(I);m(null,ln,j,X,I,ee,Y),L.el=ln.el}if(qe&&Dr(qe,ee),!ct&&(Re=J&&J.onVnodeMounted)){const ln=L;Dr(()=>ns(Re,ut,ln),ee)}(L.shapeFlag&256||ut&&xg(ut.vnode)&&ut.vnode.shapeFlag&256)&&I.a&&Dr(I.a,ee),I.isMounted=!0,L=j=X=null}},fe=I.effect=new b4(pe,()=>C4(se),I.scope),se=I.update=()=>fe.run();se.id=I.uid,Ou(I,!0),se()},R=(I,L,j)=>{L.component=I;const X=I.vnode.props;I.vnode=L,I.next=null,bte(I,L.props,X,j),_te(I,L.children,j),kh(),sT(),Mh()},D=(I,L,j,X,ee,Y,ue,pe,fe=!1)=>{const se=I&&I.children,Re=I?I.shapeFlag:0,Me=L.children,{patchFlag:J,shapeFlag:Se}=L;if(J>0){if(J&128){U(se,Me,j,X,ee,Y,ue,pe,fe);return}else if(J&256){z(se,Me,j,X,ee,Y,ue,pe,fe);return}}Se&8?(Re&16&&xe(se,ee,Y),Me!==se&&c(j,Me)):Re&16?Se&16?U(se,Me,j,X,ee,Y,ue,pe,fe):xe(se,ee,Y,!0):(Re&8&&c(j,""),Se&16&&C(Me,j,X,ee,Y,ue,pe,fe))},z=(I,L,j,X,ee,Y,ue,pe,fe)=>{I=I||md,L=L||md;const se=I.length,Re=L.length,Me=Math.min(se,Re);let J;for(J=0;J<Me;J++){const Se=L[J]=fe?al(L[J]):cs(L[J]);m(I[J],Se,j,null,ee,Y,ue,pe,fe)}se>Re?xe(I,ee,Y,!0,!1,Me):C(L,j,X,ee,Y,ue,pe,fe,Me)},U=(I,L,j,X,ee,Y,ue,pe,fe)=>{let se=0;const Re=L.length;let Me=I.length-1,J=Re-1;for(;se<=Me&&se<=J;){const Se=I[se],qe=L[se]=fe?al(L[se]):cs(L[se]);if(Ju(Se,qe))m(Se,qe,j,null,ee,Y,ue,pe,fe);else break;se++}for(;se<=Me&&se<=J;){const Se=I[Me],qe=L[J]=fe?al(L[J]):cs(L[J]);if(Ju(Se,qe))m(Se,qe,j,null,ee,Y,ue,pe,fe);else break;Me--,J--}if(se>Me){if(se<=J){const Se=J+1,qe=Se<Re?L[Se].el:X;for(;se<=J;)m(null,L[se]=fe?al(L[se]):cs(L[se]),j,qe,ee,Y,ue,pe,fe),se++}}else if(se>J)for(;se<=Me;)W(I[se],ee,Y,!0),se++;else{const Se=se,qe=se,ut=new Map;for(se=qe;se<=J;se++){const ci=L[se]=fe?al(L[se]):cs(L[se]);ci.key!=null&&ut.set(ci.key,se)}let ct,ln=0;const to=J-qe+1;let Of=!1,XM=0;const dp=new Array(to);for(se=0;se<to;se++)dp[se]=0;for(se=Se;se<=Me;se++){const ci=I[se];if(ln>=to){W(ci,ee,Y,!0);continue}let ts;if(ci.key!=null)ts=ut.get(ci.key);else for(ct=qe;ct<=J;ct++)if(dp[ct-qe]===0&&Ju(ci,L[ct])){ts=ct;break}ts===void 0?W(ci,ee,Y,!0):(dp[ts-qe]=se+1,ts>=XM?XM=ts:Of=!0,m(ci,L[ts],j,null,ee,Y,ue,pe,fe),ln++)}const KM=Of?$te(dp):md;for(ct=KM.length-1,se=to-1;se>=0;se--){const ci=qe+se,ts=L[ci],JM=ci+1<Re?L[ci+1].el:X;dp[se]===0?m(null,ts,j,JM,ee,Y,ue,pe,fe):Of&&(ct<0||se!==KM[ct]?H(ts,j,JM,2):ct--)}}},H=(I,L,j,X,ee=null)=>{const{el:Y,type:ue,transition:pe,children:fe,shapeFlag:se}=I;if(se&6){H(I.component.subTree,L,j,X);return}if(se&128){I.suspense.move(L,j,X);return}if(se&64){ue.move(I,L,j,q);return}if(ue===Lt){r(Y,L,j);for(let Me=0;Me<fe.length;Me++)H(fe[Me],L,j,X);r(I.anchor,L,j);return}if(ue===ky){x(I,L,j);return}if(X!==2&&se&1&&pe)if(X===0)pe.beforeEnter(Y),r(Y,L,j),Dr(()=>pe.enter(Y),ee);else{const{leave:Me,delayLeave:J,afterLeave:Se}=pe,qe=()=>r(Y,L,j),ut=()=>{Me(Y,()=>{qe(),Se&&Se()})};J?J(Y,qe,ut):ut()}else r(Y,L,j)},W=(I,L,j,X=!1,ee=!1)=>{const{type:Y,props:ue,ref:pe,children:fe,dynamicChildren:se,shapeFlag:Re,patchFlag:Me,dirs:J}=I;if(pe!=null&&_E(pe,null,j,I,!0),Re&256){L.ctx.deactivate(I);return}const Se=Re&1&&J,qe=!xg(I);let ut;if(qe&&(ut=ue&&ue.onVnodeBeforeUnmount)&&ns(ut,L,I),Re&6)Ce(I.component,j,X);else{if(Re&128){I.suspense.unmount(j,X);return}Se&&Tu(I,null,L,"beforeUnmount"),Re&64?I.type.remove(I,L,j,ee,q,X):se&&(Y!==Lt||Me>0&&Me&64)?xe(se,L,j,!1,!0):(Y===Lt&&Me&384||!ee&&Re&16)&&xe(fe,L,j),X&&he(I)}(qe&&(ut=ue&&ue.onVnodeUnmounted)||Se)&&Dr(()=>{ut&&ns(ut,L,I),Se&&Tu(I,null,L,"unmounted")},j)},he=I=>{const{type:L,el:j,anchor:X,transition:ee}=I;if(L===Lt){ae(j,X);return}if(L===ky){w(I);return}const Y=()=>{i(j),ee&&!ee.persisted&&ee.afterLeave&&ee.afterLeave()};if(I.shapeFlag&1&&ee&&!ee.persisted){const{leave:ue,delayLeave:pe}=ee,fe=()=>ue(j,Y);pe?pe(I.el,Y,fe):fe()}else Y()},ae=(I,L)=>{let j;for(;I!==L;)j=h(I),i(I),I=j;i(L)},Ce=(I,L,j)=>{const{bum:X,scope:ee,update:Y,subTree:ue,um:pe}=I;X&&r_(X),ee.stop(),Y&&(Y.active=!1,W(ue,I,L,j)),pe&&Dr(pe,L),Dr(()=>{I.isUnmounted=!0},L),L&&L.pendingBranch&&!L.isUnmounted&&I.asyncDep&&!I.asyncResolved&&I.suspenseId===L.pendingId&&(L.deps--,L.deps===0&&L.resolve())},xe=(I,L,j,X=!1,ee=!1,Y=0)=>{for(let ue=Y;ue<I.length;ue++)W(I[ue],L,j,X,ee)},B=I=>I.shapeFlag&6?B(I.component.subTree):I.shapeFlag&128?I.suspense.next():h(I.anchor||I.el),Q=(I,L,j)=>{I==null?L._vnode&&W(L._vnode,null,null,!0):m(L._vnode||null,I,L,null,null,null,j),sT(),sD(),L._vnode=I},q={p:m,um:W,m:H,r:he,mt:A,mc:C,pc:D,pbc:M,n:B,o:e};let K,ce;return t&&([K,ce]=t(q)),{render:Q,hydrate:K,createApp:yte(Q,K)}}function Ou({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function N4(e,t,n=!1){const r=e.children,i=t.children;if(ze(r)&&ze(i))for(let o=0;o<r.length;o++){const s=r[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=al(i[o]),a.el=s.el),n||N4(s,a)),a.type===im&&(a.el=s.el)}}function $te(e){const t=e.slice(),n=[0];let r,i,o,s,a;const l=e.length;for(r=0;r<l;r++){const u=e[r];if(u!==0){if(i=n[n.length-1],e[i]<u){t[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)a=o+s>>1,e[n[a]]<u?o=a+1:s=a;u<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=t[s];return n}const Cte=e=>e.__isTeleport,_g=e=>e&&(e.disabled||e.disabled===""),vT=e=>typeof SVGElement<"u"&&e instanceof SVGElement,EE=(e,t)=>{const n=e&&e.to;return Ye(n)?t?t(n):null:n},Ate={__isTeleport:!0,process(e,t,n,r,i,o,s,a,l,u){const{mc:c,pc:f,pbc:h,o:{insert:p,querySelector:g,createText:m,createComment:y}}=u,v=_g(t.props);let{shapeFlag:b,children:x,dynamicChildren:w}=t;if(e==null){const _=t.el=m(""),$=t.anchor=m("");p(_,n,r),p($,n,r);const S=t.target=EE(t.props,g),C=t.targetAnchor=m("");S&&(p(C,S),s=s||vT(S));const T=(M,E)=>{b&16&&c(x,M,E,i,o,s,a,l)};v?T(n,$):S&&T(S,C)}else{t.el=e.el;const _=t.anchor=e.anchor,$=t.target=e.target,S=t.targetAnchor=e.targetAnchor,C=_g(e.props),T=C?n:$,M=C?_:S;if(s=s||vT($),w?(h(e.dynamicChildren,w,T,i,o,s,a),N4(e,t,!0)):l||f(e,t,T,M,i,o,s,a,!1),v)C||E1(t,n,_,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const E=t.target=EE(t.props,g);E&&E1(t,E,null,u,0)}else C&&E1(t,$,S,u,1)}kD(t)},remove(e,t,n,r,{um:i,o:{remove:o}},s){const{shapeFlag:a,children:l,anchor:u,targetAnchor:c,target:f,props:h}=e;if(f&&o(c),(s||!_g(h))&&(o(u),a&16))for(let p=0;p<l.length;p++){const g=l[p];i(g,t,n,!0,!!g.dynamicChildren)}},move:E1,hydrate:kte};function E1(e,t,n,{o:{insert:r},m:i},o=2){o===0&&r(e.targetAnchor,t,n);const{el:s,anchor:a,shapeFlag:l,children:u,props:c}=e,f=o===2;if(f&&r(s,t,n),(!f||_g(c))&&l&16)for(let h=0;h<u.length;h++)i(u[h],t,n,2);f&&r(a,t,n)}function kte(e,t,n,r,i,o,{o:{nextSibling:s,parentNode:a,querySelector:l}},u){const c=t.target=EE(t.props,l);if(c){const f=c._lpa||c.firstChild;if(t.shapeFlag&16)if(_g(t.props))t.anchor=u(s(e),t,a(e),n,r,i,o),t.targetAnchor=f;else{t.anchor=s(e);let h=f;for(;h;)if(h=s(h),h&&h.nodeType===8&&h.data==="teleport anchor"){t.targetAnchor=h,c._lpa=t.targetAnchor&&s(t.targetAnchor);break}u(f,t,c,n,r,i,o)}kD(t)}return t.anchor&&s(t.anchor)}const Mte=Ate;function kD(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const Lt=Symbol.for("v-fgt"),im=Symbol.for("v-txt"),Ei=Symbol.for("v-cmt"),ky=Symbol.for("v-stc"),Eg=[];let yo=null;function re(e=!1){Eg.push(yo=e?null:[])}function Tte(){Eg.pop(),yo=Eg[Eg.length-1]||null}let e0=1;function bT(e){e0+=e}function MD(e){return e.dynamicChildren=e0>0?yo||md:null,Tte(),e0>0&&yo&&yo.push(e),e}function _e(e,t,n,r,i,o){return MD(be(e,t,n,r,i,o,!0))}function tt(e,t,n,r,i){return MD(V(e,t,n,r,i,!0))}function Ac(e){return e?e.__v_isVNode===!0:!1}function Ju(e,t){return e.type===t.type&&e.key===t.key}const g2="__vInternal",TD=({key:e})=>e??null,My=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Ye(e)||mn(e)||Ve(e)?{i:Bn,r:e,k:t,f:!!n}:e:null);function be(e,t=null,n=null,r=0,i=null,o=e===Lt?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&TD(t),ref:t&&My(t),scopeId:f2,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Bn};return a?(R4(l,n),o&128&&e.normalize(l)):n&&(l.shapeFlag|=Ye(n)?8:16),e0>0&&!s&&yo&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&yo.push(l),l}const V=Ote;function Ote(e,t=null,n=null,r=0,i=null,o=!1){if((!e||e===yD)&&(e=Ei),Ac(e)){const a=Ta(e,t,!0);return n&&R4(a,n),e0>0&&!o&&yo&&(a.shapeFlag&6?yo[yo.indexOf(e)]=a:yo.push(a)),a.patchFlag|=-2,a}if(jte(e)&&(e=e.__vccOpts),t){t=Fte(t);let{class:a,style:l}=t;a&&!Ye(a)&&(t.class=Te(a)),gt(l)&&(JI(l)&&!ze(l)&&(l=sn({},l)),t.style=rr(l))}const s=Ye(e)?1:Kee(e)?128:Cte(e)?64:gt(e)?4:Ve(e)?2:0;return be(e,t,n,r,i,s,o,!0)}function Fte(e){return e?JI(e)||g2 in e?sn({},e):e:null}function Ta(e,t,n=!1){const{props:r,ref:i,patchFlag:o,children:s}=e,a=t?xs(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&TD(a),ref:t&&t.ref?n&&i?ze(i)?i.concat(My(t)):[i,My(t)]:My(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Lt?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ta(e.ssContent),ssFallback:e.ssFallback&&Ta(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function bl(e=" ",t=0){return V(im,null,e,t)}function Nte(e,t){const n=V(ky,null,e);return n.staticCount=t,n}function Qe(e="",t=!1){return t?(re(),tt(Ei,null,e)):V(Ei,null,e)}function cs(e){return e==null||typeof e=="boolean"?V(Ei):ze(e)?V(Lt,null,e.slice()):typeof e=="object"?al(e):V(im,null,String(e))}function al(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ta(e)}function R4(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(ze(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),R4(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!(g2 in t)?t._ctx=Bn:i===3&&Bn&&(Bn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ve(t)?(t={default:t,_ctx:Bn},n=32):(t=String(t),r&64?(n=16,t=[bl(t)]):n=8);e.children=t,e.shapeFlag|=n}function xs(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=Te([t.class,r.class]));else if(i==="style")t.style=rr([t.style,r.style]);else if(o2(i)){const o=t[i],s=r[i];s&&o!==s&&!(ze(o)&&o.includes(s))&&(t[i]=o?[].concat(o,s):s)}else i!==""&&(t[i]=r[i])}return t}function ns(e,t,n,r=null){Bi(e,t,7,[n,r])}const Rte=_D();let Pte=0;function Ite(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||Rte,o={uid:Pte++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new LI(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:SD(r,i),emitsOptions:lD(r,i),emit:null,emitted:null,propsDefaults:Dt,inheritAttrs:r.inheritAttrs,ctx:Dt,data:Dt,props:Dt,attrs:Dt,slots:Dt,refs:Dt,setupState:Dt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=qee.bind(null,o),e.ce&&e.ce(o),o}let $n=null;const yr=()=>$n||Bn;let P4,Ff,xT="__VUE_INSTANCE_SETTERS__";(Ff=hE()[xT])||(Ff=hE()[xT]=[]),Ff.push(e=>$n=e),P4=e=>{Ff.length>1?Ff.forEach(t=>t(e)):Ff[0](e)};const Rd=e=>{P4(e),e.scope.on()},pc=()=>{$n&&$n.scope.off(),P4(null)};function OD(e){return e.vnode.shapeFlag&4}let t0=!1;function Dte(e,t=!1){t0=t;const{props:n,children:r}=e.vnode,i=OD(e);vte(e,n,i,t),wte(e,r);const o=i?Lte(e,t):void 0;return t0=!1,o}function Lte(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=QI(new Proxy(e.ctx,ute));const{setup:r}=n;if(r){const i=e.setupContext=r.length>1?ND(e):null;Rd(e),kh();const o=Rl(r,e,0,[e.props,i]);if(Mh(),pc(),hv(o)){if(o.then(pc,pc),t)return o.then(s=>{wT(e,s,t)}).catch(s=>{u2(s,e,0)});e.asyncDep=o}else wT(e,o,t)}else FD(e,t)}function wT(e,t,n){Ve(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:gt(t)&&(e.setupState=nD(t)),FD(e,n)}let _T;function FD(e,t,n){const r=e.type;if(!e.render){if(!t&&_T&&!r.render){const i=r.template||O4(e).template;if(i){const{isCustomElement:o,compilerOptions:s}=e.appContext.config,{delimiters:a,compilerOptions:l}=r,u=sn(sn({isCustomElement:o,delimiters:a},s),l);r.render=_T(i,u)}}e.render=r.render||cr}Rd(e),kh(),fte(e),Mh(),pc()}function zte(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Qr(e,"get","$attrs"),t[n]}}))}function ND(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return zte(e)},slots:e.slots,emit:e.emit,expose:t}}function m2(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(nD(QI(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in wg)return wg[n](e)},has(t,n){return n in t||n in wg}}))}function Bte(e,t=!0){return Ve(e)?e.displayName||e.name:e.name||t&&e.__name}function jte(e){return Ve(e)&&"__vccOpts"in e}const G=(e,t)=>Iee(e,t,t0);function on(e,t,n){const r=arguments.length;return r===2?gt(t)&&!ze(t)?Ac(t)?V(e,null,[t]):V(e,t):V(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ac(n)&&(n=[n]),V(e,t,n))}const Ute=Symbol.for("v-scx"),qte=()=>et(Ute),Vte="3.3.4",Hte="http://www.w3.org/2000/svg",Qu=typeof document<"u"?document:null,ET=Qu&&Qu.createElement("template"),Wte={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?Qu.createElementNS(Hte,e):Qu.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>Qu.createTextNode(e),createComment:e=>Qu.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Qu.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,o){const s=n?n.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{ET.innerHTML=r?`<svg>${e}</svg>`:e;const a=ET.content;if(r){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function Gte(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Yte(e,t,n){const r=e.style,i=Ye(n);if(n&&!i){if(t&&!Ye(t))for(const o in t)n[o]==null&&SE(r,o,"");for(const o in n)SE(r,o,n[o])}else{const o=r.display;i?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=o)}}const ST=/\s*!important$/;function SE(e,t,n){if(ze(n))n.forEach(r=>SE(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Xte(e,t);ST.test(n)?e.setProperty(of(r),n.replace(ST,""),"important"):e[r]=n}}const $T=["Webkit","Moz","ms"],l_={};function Xte(e,t){const n=l_[t];if(n)return n;let r=Ts(t);if(r!=="filter"&&r in e)return l_[t]=r;r=tm(r);for(let i=0;i<$T.length;i++){const o=$T[i]+r;if(o in e)return l_[t]=o}return t}const CT="http://www.w3.org/1999/xlink";function Kte(e,t,n,r,i){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(CT,t.slice(6,t.length)):e.setAttributeNS(CT,t,n);else{const o=eee(t);n==null||o&&!II(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function Jte(e,t,n,r,i,o,s){if(t==="innerHTML"||t==="textContent"){r&&s(r,i,o),e[t]=n??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){e._value=n;const u=a==="OPTION"?e.getAttribute("value"):e.value,c=n??"";u!==c&&(e.value=c),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=II(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function Qte(e,t,n,r){e.addEventListener(t,n,r)}function Zte(e,t,n,r){e.removeEventListener(t,n,r)}function ene(e,t,n,r,i=null){const o=e._vei||(e._vei={}),s=o[t];if(r&&s)s.value=r;else{const[a,l]=tne(t);if(r){const u=o[t]=ine(r,i);Qte(e,a,u,l)}else s&&(Zte(e,a,s,l),o[t]=void 0)}}const AT=/(?:Once|Passive|Capture)$/;function tne(e){let t;if(AT.test(e)){t={};let r;for(;r=e.match(AT);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):of(e.slice(2)),t]}let u_=0;const nne=Promise.resolve(),rne=()=>u_||(nne.then(()=>u_=0),u_=Date.now());function ine(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Bi(one(r,n.value),t,5,[r])};return n.value=e,n.attached=rne(),n}function one(e,t){if(ze(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const kT=/^on[a-z]/,sne=(e,t,n,r,i=!1,o,s,a,l)=>{t==="class"?Gte(e,r,i):t==="style"?Yte(e,n,r):o2(t)?p4(t)||ene(e,t,n,r,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ane(e,t,r,i))?Jte(e,t,r,o,s,a,l):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Kte(e,t,r,i))};function ane(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&kT.test(t)&&Ve(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||kT.test(t)&&Ye(n)?!1:t in e}const Za="transition",hp="animation",Th=(e,{slots:t})=>on(ete,PD(e),t);Th.displayName="Transition";const RD={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},lne=Th.props=sn({},dD,RD),Fu=(e,t=[])=>{ze(e)?e.forEach(n=>n(...t)):e&&e(...t)},MT=e=>e?ze(e)?e.some(t=>t.length>1):e.length>1:!1;function PD(e){const t={};for(const N in e)N in RD||(t[N]=e[N]);if(e.css===!1)return t;const{name:n="v",type:r,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:u=s,appearToClass:c=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=e,g=une(i),m=g&&g[0],y=g&&g[1],{onBeforeEnter:v,onEnter:b,onEnterCancelled:x,onLeave:w,onLeaveCancelled:_,onBeforeAppear:$=v,onAppear:S=b,onAppearCancelled:C=x}=t,T=(N,k,A)=>{nl(N,k?c:a),nl(N,k?u:s),A&&A()},M=(N,k)=>{N._isLeaving=!1,nl(N,f),nl(N,p),nl(N,h),k&&k()},E=N=>(k,A)=>{const O=N?S:b,F=()=>T(k,N,A);Fu(O,[k,F]),TT(()=>{nl(k,N?l:o),ua(k,N?c:a),MT(O)||OT(k,r,m,F)})};return sn(t,{onBeforeEnter(N){Fu(v,[N]),ua(N,o),ua(N,s)},onBeforeAppear(N){Fu($,[N]),ua(N,l),ua(N,u)},onEnter:E(!1),onAppear:E(!0),onLeave(N,k){N._isLeaving=!0;const A=()=>M(N,k);ua(N,f),DD(),ua(N,h),TT(()=>{N._isLeaving&&(nl(N,f),ua(N,p),MT(w)||OT(N,r,y,A))}),Fu(w,[N,A])},onEnterCancelled(N){T(N,!1),Fu(x,[N])},onAppearCancelled(N){T(N,!0),Fu(C,[N])},onLeaveCancelled(N){M(N),Fu(_,[N])}})}function une(e){if(e==null)return null;if(gt(e))return[c_(e.enter),c_(e.leave)];{const t=c_(e);return[t,t]}}function c_(e){return YZ(e)}function ua(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function nl(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function TT(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let cne=0;function OT(e,t,n,r){const i=e._endId=++cne,o=()=>{i===e._endId&&r()};if(n)return setTimeout(o,n);const{type:s,timeout:a,propCount:l}=ID(e,t);if(!s)return r();const u=s+"end";let c=0;const f=()=>{e.removeEventListener(u,h),o()},h=p=>{p.target===e&&++c>=l&&f()};setTimeout(()=>{c<l&&f()},a+1),e.addEventListener(u,h)}function ID(e,t){const n=window.getComputedStyle(e),r=g=>(n[g]||"").split(", "),i=r(`${Za}Delay`),o=r(`${Za}Duration`),s=FT(i,o),a=r(`${hp}Delay`),l=r(`${hp}Duration`),u=FT(a,l);let c=null,f=0,h=0;t===Za?s>0&&(c=Za,f=s,h=o.length):t===hp?u>0&&(c=hp,f=u,h=l.length):(f=Math.max(s,u),c=f>0?s>u?Za:hp:null,h=c?c===Za?o.length:l.length:0);const p=c===Za&&/\b(transform|all)(,|$)/.test(r(`${Za}Property`).toString());return{type:c,timeout:f,propCount:h,hasTransform:p}}function FT(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>NT(n)+NT(e[r])))}function NT(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function DD(){return document.body.offsetHeight}const LD=new WeakMap,zD=new WeakMap,BD={name:"TransitionGroup",props:sn({},lne,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=yr(),r=fD();let i,o;return rm(()=>{if(!i.length)return;const s=e.moveClass||`${e.name||"v"}-move`;if(!mne(i[0].el,n.vnode.el,s))return;i.forEach(hne),i.forEach(pne);const a=i.filter(gne);DD(),a.forEach(l=>{const u=l.el,c=u.style;ua(u,s),c.transform=c.webkitTransform=c.transitionDuration="";const f=u._moveCb=h=>{h&&h.target!==u||(!h||/transform$/.test(h.propertyName))&&(u.removeEventListener("transitionend",f),u._moveCb=null,nl(u,s))};u.addEventListener("transitionend",f)})}),()=>{const s=dt(e),a=PD(s);let l=s.tag||Lt;i=o,o=t.default?k4(t.default()):[];for(let u=0;u<o.length;u++){const c=o[u];c.key!=null&&Zg(c,Qg(c,a,r,n))}if(i)for(let u=0;u<i.length;u++){const c=i[u];Zg(c,Qg(c,a,r,n)),LD.set(c,c.el.getBoundingClientRect())}return V(l,null,o)}}},fne=e=>delete e.mode;BD.props;const dne=BD;function hne(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function pne(e){zD.set(e,e.el.getBoundingClientRect())}function gne(e){const t=LD.get(e),n=zD.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){const o=e.el.style;return o.transform=o.webkitTransform=`translate(${r}px,${i}px)`,o.transitionDuration="0s",e}}function mne(e,t,n){const r=e.cloneNode();e._vtc&&e._vtc.forEach(s=>{s.split(/\s+/).forEach(a=>a&&r.classList.remove(a))}),n.split(/\s+/).forEach(s=>s&&r.classList.add(s)),r.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(r);const{hasTransform:o}=ID(r);return i.removeChild(r),o}const yne=["ctrl","shift","alt","meta"],vne={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>yne.some(n=>e[`${n}Key`]&&!t.includes(n))},tr=(e,t)=>(n,...r)=>{for(let i=0;i<t.length;i++){const o=vne[t[i]];if(o&&o(n,t))return}return e(n,...r)},bne={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ld=(e,t)=>n=>{if(!("key"in n))return;const r=of(n.key);if(t.some(i=>i===r||bne[i]===r))return e(n)},om={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):pp(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),pp(e,!0),r.enter(e)):r.leave(e,()=>{pp(e,!1)}):pp(e,t))},beforeUnmount(e,{value:t}){pp(e,t)}};function pp(e,t){e.style.display=t?e._vod:"none"}const xne=sn({patchProp:sne},Wte);let RT;function wne(){return RT||(RT=Ete(xne))}const _ne=(...e)=>{const t=wne().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=Ene(r);if(!i)return;const o=t._component;!Ve(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const s=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},t};function Ene(e){return Ye(e)?document.querySelector(e):e}const sf=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},Sne={};function $ne(e,t,n,r,i,o){const s=as("router-view");return re(),tt(s,null,{default:oe(a=>[V(Th,{name:"route",mode:"out-in"},{default:oe(()=>[(re(),tt(va(a.Component)))]),_:2},1024)]),_:1})}const Cne=sf(Sne,[["render",$ne],["__scopeId","data-v-f0638ab2"]]);function Ane(){return jD().__VUE_DEVTOOLS_GLOBAL_HOOK__}function jD(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const kne=typeof Proxy=="function",Mne="devtools-plugin:setup",Tne="plugin:settings:set";let Nf,$E;function One(){var e;return Nf!==void 0||(typeof window<"u"&&window.performance?(Nf=!0,$E=window.performance):typeof global<"u"&&(!((e=global.perf_hooks)===null||e===void 0)&&e.performance)?(Nf=!0,$E=global.perf_hooks.performance):Nf=!1),Nf}function Fne(){return One()?$E.now():Date.now()}class Nne{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const r={};if(t.settings)for(const s in t.settings){const a=t.settings[s];r[s]=a.defaultValue}const i=`__vue-devtools-plugin-settings__${t.id}`;let o=Object.assign({},r);try{const s=localStorage.getItem(i),a=JSON.parse(s);Object.assign(o,a)}catch{}this.fallbacks={getSettings(){return o},setSettings(s){try{localStorage.setItem(i,JSON.stringify(s))}catch{}o=s},now(){return Fne()}},n&&n.on(Tne,(s,a)=>{s===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(s,a)=>this.target?this.target.on[a]:(...l)=>{this.onQueue.push({method:a,args:l})}}),this.proxiedTarget=new Proxy({},{get:(s,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...l)=>(this.targetQueue.push({method:a,args:l,resolve:()=>{}}),this.fallbacks[a](...l)):(...l)=>new Promise(u=>{this.targetQueue.push({method:a,args:l,resolve:u})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function Rne(e,t){const n=e,r=jD(),i=Ane(),o=kne&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!o))i.emit(Mne,e,t);else{const s=o?new Nne(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:s}),s&&t(s.proxiedTarget)}}/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const id=typeof window<"u";function Pne(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const _t=Object.assign;function f_(e,t){const n={};for(const r in t){const i=t[r];n[r]=To(i)?i.map(e):e(i)}return n}const Sg=()=>{},To=Array.isArray,Ine=/\/$/,Dne=e=>e.replace(Ine,"");function d_(e,t,n="/"){let r,i={},o="",s="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=t.slice(0,l),o=t.slice(l+1,a>-1?a:t.length),i=e(o)),a>-1&&(r=r||t.slice(0,a),s=t.slice(a,t.length)),r=jne(r??t,n),{fullPath:r+(o&&"?")+o+s,path:r,query:i,hash:s}}function Lne(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function PT(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function zne(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Pd(t.matched[r],n.matched[i])&&UD(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Pd(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function UD(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Bne(e[n],t[n]))return!1;return!0}function Bne(e,t){return To(e)?IT(e,t):To(t)?IT(t,e):e===t}function IT(e,t){return To(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function jne(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let o=n.length-1,s,a;for(s=0;s<r.length;s++)if(a=r[s],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(s-(s===r.length?1:0)).join("/")}var n0;(function(e){e.pop="pop",e.push="push"})(n0||(n0={}));var $g;(function(e){e.back="back",e.forward="forward",e.unknown=""})($g||($g={}));function Une(e){if(!e)if(id){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Dne(e)}const qne=/^[^#]+#/;function Vne(e,t){return e.replace(qne,"#")+t}function Hne(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const y2=()=>({left:window.pageXOffset,top:window.pageYOffset});function Wne(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=Hne(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function DT(e,t){return(history.state?history.state.position-t:-1)+e}const CE=new Map;function Gne(e,t){CE.set(e,t)}function Yne(e){const t=CE.get(e);return CE.delete(e),t}let Xne=()=>location.protocol+"//"+location.host;function qD(e,t){const{pathname:n,search:r,hash:i}=t,o=e.indexOf("#");if(o>-1){let a=i.includes(e.slice(o))?e.slice(o).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),PT(l,"")}return PT(n,e)+r+i}function Kne(e,t,n,r){let i=[],o=[],s=null;const a=({state:h})=>{const p=qD(e,location),g=n.value,m=t.value;let y=0;if(h){if(n.value=p,t.value=h,s&&s===g){s=null;return}y=m?h.position-m.position:0}else r(p);i.forEach(v=>{v(n.value,g,{delta:y,type:n0.pop,direction:y?y>0?$g.forward:$g.back:$g.unknown})})};function l(){s=n.value}function u(h){i.push(h);const p=()=>{const g=i.indexOf(h);g>-1&&i.splice(g,1)};return o.push(p),p}function c(){const{history:h}=window;h.state&&h.replaceState(_t({},h.state,{scroll:y2()}),"")}function f(){for(const h of o)h();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:f}}function LT(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?y2():null}}function Jne(e){const{history:t,location:n}=window,r={value:qD(e,n)},i={value:t.state};i.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(l,u,c){const f=e.indexOf("#"),h=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+l:Xne()+e+l;try{t[c?"replaceState":"pushState"](u,"",h),i.value=u}catch(p){console.error(p),n[c?"replace":"assign"](h)}}function s(l,u){const c=_t({},t.state,LT(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});o(l,c,!0),r.value=l}function a(l,u){const c=_t({},i.value,t.state,{forward:l,scroll:y2()});o(c.current,c,!0);const f=_t({},LT(r.value,l,null),{position:c.position+1},u);o(l,f,!1),r.value=l}return{location:r,state:i,push:a,replace:s}}function Qne(e){e=Une(e);const t=Jne(e),n=Kne(e,t.state,t.location,t.replace);function r(o,s=!0){s||n.pauseListeners(),history.go(o)}const i=_t({location:"",base:e,go:r,createHref:Vne.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function Zne(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),Qne(e)}function ere(e){return typeof e=="string"||e&&typeof e=="object"}function VD(e){return typeof e=="string"||typeof e=="symbol"}const el={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},HD=Symbol("");var zT;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(zT||(zT={}));function Id(e,t){return _t(new Error,{type:e,[HD]:!0},t)}function ea(e,t){return e instanceof Error&&HD in e&&(t==null||!!(e.type&t))}const BT="[^/]+?",tre={sensitive:!1,strict:!1,start:!0,end:!0},nre=/[.+*?^${}()[\]/\\]/g;function rre(e,t){const n=_t({},tre,t),r=[];let i=n.start?"^":"";const o=[];for(const u of e){const c=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let f=0;f<u.length;f++){const h=u[f];let p=40+(n.sensitive?.25:0);if(h.type===0)f||(i+="/"),i+=h.value.replace(nre,"\\$&"),p+=40;else if(h.type===1){const{value:g,repeatable:m,optional:y,regexp:v}=h;o.push({name:g,repeatable:m,optional:y});const b=v||BT;if(b!==BT){p+=10;try{new RegExp(`(${b})`)}catch(w){throw new Error(`Invalid custom RegExp for param "${g}" (${b}): `+w.message)}}let x=m?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;f||(x=y&&u.length<2?`(?:/${x})`:"/"+x),y&&(x+="?"),i+=x,p+=20,y&&(p+=-8),m&&(p+=-20),b===".*"&&(p+=-50)}c.push(p)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");function a(u){const c=u.match(s),f={};if(!c)return null;for(let h=1;h<c.length;h++){const p=c[h]||"",g=o[h-1];f[g.name]=p&&g.repeatable?p.split("/"):p}return f}function l(u){let c="",f=!1;for(const h of e){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const p of h)if(p.type===0)c+=p.value;else if(p.type===1){const{value:g,repeatable:m,optional:y}=p,v=g in u?u[g]:"";if(To(v)&&!m)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const b=To(v)?v.join("/"):v;if(!b)if(y)h.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${g}"`);c+=b}}return c||"/"}return{re:s,score:r,keys:o,parse:a,stringify:l}}function ire(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function ore(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const o=ire(r[n],i[n]);if(o)return o;n++}if(Math.abs(i.length-r.length)===1){if(jT(r))return 1;if(jT(i))return-1}return i.length-r.length}function jT(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const sre={type:0,value:""},are=/[a-zA-Z0-9_]/;function lre(e){if(!e)return[[]];if(e==="/")return[[sre]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(p){throw new Error(`ERR (${n})/"${u}": ${p}`)}let n=0,r=n;const i=[];let o;function s(){o&&i.push(o),o=[]}let a=0,l,u="",c="";function f(){u&&(n===0?o.push({type:0,value:u}):n===1||n===2||n===3?(o.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function h(){u+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&f(),s()):l===":"?(f(),n=1):h();break;case 4:h(),n=r;break;case 1:l==="("?n=2:are.test(l)?h():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),f(),s(),i}function ure(e,t,n){const r=rre(lre(e.path),n),i=_t(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function cre(e,t){const n=[],r=new Map;t=VT({strict:!1,end:!0,sensitive:!1},t);function i(c){return r.get(c)}function o(c,f,h){const p=!h,g=fre(c);g.aliasOf=h&&h.record;const m=VT(t,c),y=[g];if("alias"in c){const x=typeof c.alias=="string"?[c.alias]:c.alias;for(const w of x)y.push(_t({},g,{components:h?h.record.components:g.components,path:w,aliasOf:h?h.record:g}))}let v,b;for(const x of y){const{path:w}=x;if(f&&w[0]!=="/"){const _=f.record.path,$=_[_.length-1]==="/"?"":"/";x.path=f.record.path+(w&&$+w)}if(v=ure(x,f,m),h?h.alias.push(v):(b=b||v,b!==v&&b.alias.push(v),p&&c.name&&!qT(v)&&s(c.name)),g.children){const _=g.children;for(let $=0;$<_.length;$++)o(_[$],v,h&&h.children[$])}h=h||v,(v.record.components&&Object.keys(v.record.components).length||v.record.name||v.record.redirect)&&l(v)}return b?()=>{s(b)}:Sg}function s(c){if(VD(c)){const f=r.get(c);f&&(r.delete(c),n.splice(n.indexOf(f),1),f.children.forEach(s),f.alias.forEach(s))}else{const f=n.indexOf(c);f>-1&&(n.splice(f,1),c.record.name&&r.delete(c.record.name),c.children.forEach(s),c.alias.forEach(s))}}function a(){return n}function l(c){let f=0;for(;f<n.length&&ore(c,n[f])>=0&&(c.record.path!==n[f].record.path||!WD(c,n[f]));)f++;n.splice(f,0,c),c.record.name&&!qT(c)&&r.set(c.record.name,c)}function u(c,f){let h,p={},g,m;if("name"in c&&c.name){if(h=r.get(c.name),!h)throw Id(1,{location:c});m=h.record.name,p=_t(UT(f.params,h.keys.filter(b=>!b.optional).map(b=>b.name)),c.params&&UT(c.params,h.keys.map(b=>b.name))),g=h.stringify(p)}else if("path"in c)g=c.path,h=n.find(b=>b.re.test(g)),h&&(p=h.parse(g),m=h.record.name);else{if(h=f.name?r.get(f.name):n.find(b=>b.re.test(f.path)),!h)throw Id(1,{location:c,currentLocation:f});m=h.record.name,p=_t({},f.params,c.params),g=h.stringify(p)}const y=[];let v=h;for(;v;)y.unshift(v.record),v=v.parent;return{name:m,path:g,params:p,matched:y,meta:hre(y)}}return e.forEach(c=>o(c)),{addRoute:o,resolve:u,removeRoute:s,getRoutes:a,getRecordMatcher:i}}function UT(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function fre(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:dre(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function dre(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function qT(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function hre(e){return e.reduce((t,n)=>_t(t,n.meta),{})}function VT(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function WD(e,t){return t.children.some(n=>n===e||WD(e,n))}const GD=/#/g,pre=/&/g,gre=/\//g,mre=/=/g,yre=/\?/g,YD=/\+/g,vre=/%5B/g,bre=/%5D/g,XD=/%5E/g,xre=/%60/g,KD=/%7B/g,wre=/%7C/g,JD=/%7D/g,_re=/%20/g;function I4(e){return encodeURI(""+e).replace(wre,"|").replace(vre,"[").replace(bre,"]")}function Ere(e){return I4(e).replace(KD,"{").replace(JD,"}").replace(XD,"^")}function AE(e){return I4(e).replace(YD,"%2B").replace(_re,"+").replace(GD,"%23").replace(pre,"%26").replace(xre,"`").replace(KD,"{").replace(JD,"}").replace(XD,"^")}function Sre(e){return AE(e).replace(mre,"%3D")}function $re(e){return I4(e).replace(GD,"%23").replace(yre,"%3F")}function Cre(e){return e==null?"":$re(e).replace(gre,"%2F")}function xv(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Are(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const o=r[i].replace(YD," "),s=o.indexOf("="),a=xv(s<0?o:o.slice(0,s)),l=s<0?null:xv(o.slice(s+1));if(a in t){let u=t[a];To(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function HT(e){let t="";for(let n in e){const r=e[n];if(n=Sre(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(To(r)?r.map(o=>o&&AE(o)):[r&&AE(r)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function kre(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=To(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}const Mre=Symbol(""),WT=Symbol(""),D4=Symbol(""),QD=Symbol(""),kE=Symbol("");function gp(){let e=[];function t(r){return e.push(r),()=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function ll(e,t,n,r,i){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((s,a)=>{const l=f=>{f===!1?a(Id(4,{from:n,to:t})):f instanceof Error?a(f):ere(f)?a(Id(2,{from:t,to:f})):(o&&r.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),s())},u=e.call(r&&r.instances[i],t,n,l);let c=Promise.resolve(u);e.length<3&&(c=c.then(l)),c.catch(f=>a(f))})}function h_(e,t,n,r){const i=[];for(const o of e)for(const s in o.components){let a=o.components[s];if(!(t!=="beforeRouteEnter"&&!o.instances[s]))if(Tre(a)){const u=(a.__vccOpts||a)[t];u&&i.push(ll(u,n,r,o,s))}else{let l=a();i.push(()=>l.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${s}" at "${o.path}"`));const c=Pne(u)?u.default:u;o.components[s]=c;const h=(c.__vccOpts||c)[t];return h&&ll(h,n,r,o,s)()}))}}return i}function Tre(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function GT(e){const t=et(D4),n=et(QD),r=G(()=>t.resolve(P(e.to))),i=G(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],f=n.matched;if(!c||!f.length)return-1;const h=f.findIndex(Pd.bind(null,c));if(h>-1)return h;const p=YT(l[u-2]);return u>1&&YT(c)===p&&f[f.length-1].path!==p?f.findIndex(Pd.bind(null,l[u-2])):h}),o=G(()=>i.value>-1&&Rre(n.params,r.value.params)),s=G(()=>i.value>-1&&i.value===n.matched.length-1&&UD(n.params,r.value.params));function a(l={}){return Nre(l)?t[P(e.replace)?"replace":"push"](P(e.to)).catch(Sg):Promise.resolve()}return{route:r,href:G(()=>r.value.href),isActive:o,isExactActive:s,navigate:a}}const Ore=Ue({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:GT,setup(e,{slots:t}){const n=oi(GT(e)),{options:r}=et(D4),i=G(()=>({[XT(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[XT(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&t.default(n);return e.custom?o:on("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},o)}}}),Fre=Ore;function Nre(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Rre(e,t){for(const n in t){const r=t[n],i=e[n];if(typeof r=="string"){if(r!==i)return!1}else if(!To(i)||i.length!==r.length||r.some((o,s)=>o!==i[s]))return!1}return!0}function YT(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const XT=(e,t,n)=>e??t??n,Pre=Ue({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=et(kE),i=G(()=>e.route||r.value),o=et(WT,0),s=G(()=>{let u=P(o);const{matched:c}=i.value;let f;for(;(f=c[u])&&!f.components;)u++;return u}),a=G(()=>i.value.matched[s.value]);Fn(WT,G(()=>s.value+1)),Fn(Mre,a),Fn(kE,i);const l=me();return Pe(()=>[l.value,a.value,e.name],([u,c,f],[h,p,g])=>{c&&(c.instances[f]=u,p&&p!==c&&u&&u===h&&(c.leaveGuards.size||(c.leaveGuards=p.leaveGuards),c.updateGuards.size||(c.updateGuards=p.updateGuards))),u&&c&&(!p||!Pd(c,p)||!h)&&(c.enterCallbacks[f]||[]).forEach(m=>m(u))},{flush:"post"}),()=>{const u=i.value,c=e.name,f=a.value,h=f&&f.components[c];if(!h)return KT(n.default,{Component:h,route:u});const p=f.props[c],g=p?p===!0?u.params:typeof p=="function"?p(u):p:null,y=on(h,_t({},g,t,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(f.instances[c]=null)},ref:l}));return KT(n.default,{Component:y,route:u})||y}}});function KT(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Ire=Pre;function Dre(e){const t=cre(e.routes,e),n=e.parseQuery||Are,r=e.stringifyQuery||HT,i=e.history,o=gp(),s=gp(),a=gp(),l=Nl(el);let u=el;id&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=f_.bind(null,B=>""+B),f=f_.bind(null,Cre),h=f_.bind(null,xv);function p(B,Q){let q,K;return VD(B)?(q=t.getRecordMatcher(B),K=Q):K=B,t.addRoute(K,q)}function g(B){const Q=t.getRecordMatcher(B);Q&&t.removeRoute(Q)}function m(){return t.getRoutes().map(B=>B.record)}function y(B){return!!t.getRecordMatcher(B)}function v(B,Q){if(Q=_t({},Q||l.value),typeof B=="string"){const j=d_(n,B,Q.path),X=t.resolve({path:j.path},Q),ee=i.createHref(j.fullPath);return _t(j,X,{params:h(X.params),hash:xv(j.hash),redirectedFrom:void 0,href:ee})}let q;if("path"in B)q=_t({},B,{path:d_(n,B.path,Q.path).path});else{const j=_t({},B.params);for(const X in j)j[X]==null&&delete j[X];q=_t({},B,{params:f(j)}),Q.params=f(Q.params)}const K=t.resolve(q,Q),ce=B.hash||"";K.params=c(h(K.params));const I=Lne(r,_t({},B,{hash:Ere(ce),path:K.path})),L=i.createHref(I);return _t({fullPath:I,hash:ce,query:r===HT?kre(B.query):B.query||{}},K,{redirectedFrom:void 0,href:L})}function b(B){return typeof B=="string"?d_(n,B,l.value.path):_t({},B)}function x(B,Q){if(u!==B)return Id(8,{from:Q,to:B})}function w(B){return S(B)}function _(B){return w(_t(b(B),{replace:!0}))}function $(B){const Q=B.matched[B.matched.length-1];if(Q&&Q.redirect){const{redirect:q}=Q;let K=typeof q=="function"?q(B):q;return typeof K=="string"&&(K=K.includes("?")||K.includes("#")?K=b(K):{path:K},K.params={}),_t({query:B.query,hash:B.hash,params:"path"in K?{}:B.params},K)}}function S(B,Q){const q=u=v(B),K=l.value,ce=B.state,I=B.force,L=B.replace===!0,j=$(q);if(j)return S(_t(b(j),{state:typeof j=="object"?_t({},ce,j.state):ce,force:I,replace:L}),Q||q);const X=q;X.redirectedFrom=Q;let ee;return!I&&zne(r,K,q)&&(ee=Id(16,{to:X,from:K}),H(K,K,!0,!1)),(ee?Promise.resolve(ee):M(X,K)).catch(Y=>ea(Y)?ea(Y,2)?Y:U(Y):D(Y,X,K)).then(Y=>{if(Y){if(ea(Y,2))return S(_t({replace:L},b(Y.to),{state:typeof Y.to=="object"?_t({},ce,Y.to.state):ce,force:I}),Q||X)}else Y=N(X,K,!0,L,ce);return E(X,K,Y),Y})}function C(B,Q){const q=x(B,Q);return q?Promise.reject(q):Promise.resolve()}function T(B){const Q=ae.values().next().value;return Q&&typeof Q.runWithContext=="function"?Q.runWithContext(B):B()}function M(B,Q){let q;const[K,ce,I]=Lre(B,Q);q=h_(K.reverse(),"beforeRouteLeave",B,Q);for(const j of K)j.leaveGuards.forEach(X=>{q.push(ll(X,B,Q))});const L=C.bind(null,B,Q);return q.push(L),xe(q).then(()=>{q=[];for(const j of o.list())q.push(ll(j,B,Q));return q.push(L),xe(q)}).then(()=>{q=h_(ce,"beforeRouteUpdate",B,Q);for(const j of ce)j.updateGuards.forEach(X=>{q.push(ll(X,B,Q))});return q.push(L),xe(q)}).then(()=>{q=[];for(const j of I)if(j.beforeEnter)if(To(j.beforeEnter))for(const X of j.beforeEnter)q.push(ll(X,B,Q));else q.push(ll(j.beforeEnter,B,Q));return q.push(L),xe(q)}).then(()=>(B.matched.forEach(j=>j.enterCallbacks={}),q=h_(I,"beforeRouteEnter",B,Q),q.push(L),xe(q))).then(()=>{q=[];for(const j of s.list())q.push(ll(j,B,Q));return q.push(L),xe(q)}).catch(j=>ea(j,8)?j:Promise.reject(j))}function E(B,Q,q){a.list().forEach(K=>T(()=>K(B,Q,q)))}function N(B,Q,q,K,ce){const I=x(B,Q);if(I)return I;const L=Q===el,j=id?history.state:{};q&&(K||L?i.replace(B.fullPath,_t({scroll:L&&j&&j.scroll},ce)):i.push(B.fullPath,ce)),l.value=B,H(B,Q,q,L),U()}let k;function A(){k||(k=i.listen((B,Q,q)=>{if(!Ce.listening)return;const K=v(B),ce=$(K);if(ce){S(_t(ce,{replace:!0}),K).catch(Sg);return}u=K;const I=l.value;id&&Gne(DT(I.fullPath,q.delta),y2()),M(K,I).catch(L=>ea(L,12)?L:ea(L,2)?(S(L.to,K).then(j=>{ea(j,20)&&!q.delta&&q.type===n0.pop&&i.go(-1,!1)}).catch(Sg),Promise.reject()):(q.delta&&i.go(-q.delta,!1),D(L,K,I))).then(L=>{L=L||N(K,I,!1),L&&(q.delta&&!ea(L,8)?i.go(-q.delta,!1):q.type===n0.pop&&ea(L,20)&&i.go(-1,!1)),E(K,I,L)}).catch(Sg)}))}let O=gp(),F=gp(),R;function D(B,Q,q){U(B);const K=F.list();return K.length?K.forEach(ce=>ce(B,Q,q)):console.error(B),Promise.reject(B)}function z(){return R&&l.value!==el?Promise.resolve():new Promise((B,Q)=>{O.add([B,Q])})}function U(B){return R||(R=!B,A(),O.list().forEach(([Q,q])=>B?q(B):Q()),O.reset()),B}function H(B,Q,q,K){const{scrollBehavior:ce}=e;if(!id||!ce)return Promise.resolve();const I=!q&&Yne(DT(B.fullPath,0))||(K||!q)&&history.state&&history.state.scroll||null;return Qt().then(()=>ce(B,Q,I)).then(L=>L&&Wne(L)).catch(L=>D(L,B,Q))}const W=B=>i.go(B);let he;const ae=new Set,Ce={currentRoute:l,listening:!0,addRoute:p,removeRoute:g,hasRoute:y,getRoutes:m,resolve:v,options:e,push:w,replace:_,go:W,back:()=>W(-1),forward:()=>W(1),beforeEach:o.add,beforeResolve:s.add,afterEach:a.add,onError:F.add,isReady:z,install(B){const Q=this;B.component("RouterLink",Fre),B.component("RouterView",Ire),B.config.globalProperties.$router=Q,Object.defineProperty(B.config.globalProperties,"$route",{enumerable:!0,get:()=>P(l)}),id&&!he&&l.value===el&&(he=!0,w(i.location).catch(ce=>{}));const q={};for(const ce in el)Object.defineProperty(q,ce,{get:()=>l.value[ce],enumerable:!0});B.provide(D4,Q),B.provide(QD,KI(q)),B.provide(kE,l);const K=B.unmount;ae.add(B),B.unmount=function(){ae.delete(B),ae.size<1&&(u=el,k&&k(),k=null,l.value=el,he=!1,R=!1),K()}}};function xe(B){return B.reduce((Q,q)=>Q.then(()=>T(q)),Promise.resolve())}return Ce}function Lre(e,t){const n=[],r=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let s=0;s<o;s++){const a=t.matched[s];a&&(e.matched.find(u=>Pd(u,a))?r.push(a):n.push(a));const l=e.matched[s];l&&(t.matched.find(u=>Pd(u,l))||i.push(l))}return[n,r,i]}const zre={props:{mode:{type:String,required:!1,default:"card"},inset:{type:Boolean,required:!1,default:!1}}};function Bre(e,t,n,r,i,o){return re(),_e("div",{class:Te([n.mode,{inset:n.inset}])},[ht(e.$slots,"default",{},void 0,!0)],2)}const L4=sf(zre,[["render",Bre],["__scopeId","data-v-b70b1f03"]]),Ty=function(e,t,...n){let r;t.includes("mouse")||t.includes("click")?r="MouseEvents":t.includes("key")?r="KeyboardEvent":r="HTMLEvents";const i=document.createEvent(r);return i.initEvent(t,...n),e.dispatchEvent(i),e},fa=(e,t,{checkForDefaultPrevented:n=!0}={})=>i=>{const o=e==null?void 0:e(i);if(n===!1||!o)return t==null?void 0:t(i)};var jre=Object.defineProperty,Ure=Object.defineProperties,qre=Object.getOwnPropertyDescriptors,JT=Object.getOwnPropertySymbols,Vre=Object.prototype.hasOwnProperty,Hre=Object.prototype.propertyIsEnumerable,QT=(e,t,n)=>t in e?jre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wre=(e,t)=>{for(var n in t||(t={}))Vre.call(t,n)&&QT(e,n,t[n]);if(JT)for(var n of JT(t))Hre.call(t,n)&&QT(e,n,t[n]);return e},Gre=(e,t)=>Ure(e,qre(t));function ZT(e,t){var n;const r=Nl();return uD(()=>{r.value=e()},Gre(Wre({},t),{flush:(n=t==null?void 0:t.flush)!=null?n:"sync"})),nm(r)}var e9;const Si=typeof window<"u",Yre=e=>typeof e=="string",wv=()=>{},Xre=Si&&((e9=window==null?void 0:window.navigator)==null?void 0:e9.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function r0(e){return typeof e=="function"?e():P(e)}function Kre(e,t){function n(...r){return new Promise((i,o)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(i).catch(o)})}return n}function Jre(e,t={}){let n,r,i=wv;const o=a=>{clearTimeout(a),i(),i=wv};return a=>{const l=r0(e),u=r0(t.maxWait);return n&&o(n),l<=0||u!==void 0&&u<=0?(r&&(o(r),r=null),Promise.resolve(a())):new Promise((c,f)=>{i=t.rejectOnCancel?f:c,u&&!r&&(r=setTimeout(()=>{n&&o(n),r=null,c(a())},u)),n=setTimeout(()=>{r&&o(r),r=null,c(a())},l)})}}function Qre(e){return e}function v2(e){return zI()?(ree(e),!0):!1}function Zre(e,t=200,n={}){return Kre(Jre(t,n),e)}function eie(e,t=200,n={}){const r=me(e.value),i=Zre(()=>{r.value=e.value},t,n);return Pe(e,()=>i()),r}function tie(e,t=!0){yr()?nn(e):t?e():Qt(e)}function t9(e,t,n={}){const{immediate:r=!0}=n,i=me(!1);let o=null;function s(){o&&(clearTimeout(o),o=null)}function a(){i.value=!1,s()}function l(...u){s(),i.value=!0,o=setTimeout(()=>{i.value=!1,o=null,e(...u)},r0(t))}return r&&(i.value=!0,Si&&l()),v2(a),{isPending:nm(i),start:l,stop:a}}function xl(e){var t;const n=r0(e);return(t=n==null?void 0:n.$el)!=null?t:n}const b2=Si?window:void 0,nie=Si?window.document:void 0;function gc(...e){let t,n,r,i;if(Yre(e[0])||Array.isArray(e[0])?([n,r,i]=e,t=b2):[t,n,r,i]=e,!t)return wv;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const o=[],s=()=>{o.forEach(c=>c()),o.length=0},a=(c,f,h,p)=>(c.addEventListener(f,h,p),()=>c.removeEventListener(f,h,p)),l=Pe(()=>[xl(t),r0(i)],([c,f])=>{s(),c&&o.push(...n.flatMap(h=>r.map(p=>a(c,h,p,f))))},{immediate:!0,flush:"post"}),u=()=>{l(),s()};return v2(u),u}let n9=!1;function rie(e,t,n={}){const{window:r=b2,ignore:i=[],capture:o=!0,detectIframe:s=!1}=n;if(!r)return;Xre&&!n9&&(n9=!0,Array.from(r.document.body.children).forEach(h=>h.addEventListener("click",wv)));let a=!0;const l=h=>i.some(p=>{if(typeof p=="string")return Array.from(r.document.querySelectorAll(p)).some(g=>g===h.target||h.composedPath().includes(g));{const g=xl(p);return g&&(h.target===g||h.composedPath().includes(g))}}),c=[gc(r,"click",h=>{const p=xl(e);if(!(!p||p===h.target||h.composedPath().includes(p))){if(h.detail===0&&(a=!l(h)),!a){a=!0;return}t(h)}},{passive:!0,capture:o}),gc(r,"pointerdown",h=>{const p=xl(e);p&&(a=!h.composedPath().includes(p)&&!l(h))},{passive:!0}),s&&gc(r,"blur",h=>{var p;const g=xl(e);((p=r.document.activeElement)==null?void 0:p.tagName)==="IFRAME"&&!(g!=null&&g.contains(r.document.activeElement))&&t(h)})].filter(Boolean);return()=>c.forEach(h=>h())}function iie(e,t=!1){const n=me(),r=()=>n.value=!!e();return r(),tie(r,t),n}const r9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},i9="__vueuse_ssr_handlers__";r9[i9]=r9[i9]||{};function oie({document:e=nie}={}){if(!e)return me("visible");const t=me(e.visibilityState);return gc(e,"visibilitychange",()=>{t.value=e.visibilityState}),t}var o9=Object.getOwnPropertySymbols,sie=Object.prototype.hasOwnProperty,aie=Object.prototype.propertyIsEnumerable,lie=(e,t)=>{var n={};for(var r in e)sie.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&o9)for(var r of o9(e))t.indexOf(r)<0&&aie.call(e,r)&&(n[r]=e[r]);return n};function sm(e,t,n={}){const r=n,{window:i=b2}=r,o=lie(r,["window"]);let s;const a=iie(()=>i&&"ResizeObserver"in i),l=()=>{s&&(s.disconnect(),s=void 0)},u=Pe(()=>xl(e),f=>{l(),a.value&&i&&f&&(s=new ResizeObserver(t),s.observe(f,o))},{immediate:!0,flush:"post"}),c=()=>{l(),u()};return v2(c),{isSupported:a,stop:c}}var s9;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(s9||(s9={}));var uie=Object.defineProperty,a9=Object.getOwnPropertySymbols,cie=Object.prototype.hasOwnProperty,fie=Object.prototype.propertyIsEnumerable,l9=(e,t,n)=>t in e?uie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,die=(e,t)=>{for(var n in t||(t={}))cie.call(t,n)&&l9(e,n,t[n]);if(a9)for(var n of a9(t))fie.call(t,n)&&l9(e,n,t[n]);return e};const hie={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};die({linear:Qre},hie);function pie({window:e=b2}={}){if(!e)return me(!1);const t=me(e.document.hasFocus());return gc(e,"blur",()=>{t.value=!1}),gc(e,"focus",()=>{t.value=!0}),t}const gie=()=>Si&&/firefox/i.test(window.navigator.userAgent);var mie=typeof global=="object"&&global&&global.Object===Object&&global;const ZD=mie;var yie=typeof self=="object"&&self&&self.Object===Object&&self,vie=ZD||yie||Function("return this")();const jo=vie;var bie=jo.Symbol;const Hl=bie;var eL=Object.prototype,xie=eL.hasOwnProperty,wie=eL.toString,mp=Hl?Hl.toStringTag:void 0;function _ie(e){var t=xie.call(e,mp),n=e[mp];try{e[mp]=void 0;var r=!0}catch{}var i=wie.call(e);return r&&(t?e[mp]=n:delete e[mp]),i}var Eie=Object.prototype,Sie=Eie.toString;function $ie(e){return Sie.call(e)}var Cie="[object Null]",Aie="[object Undefined]",u9=Hl?Hl.toStringTag:void 0;function Oh(e){return e==null?e===void 0?Aie:Cie:u9&&u9 in Object(e)?_ie(e):$ie(e)}function Fh(e){return e!=null&&typeof e=="object"}var kie="[object Symbol]";function x2(e){return typeof e=="symbol"||Fh(e)&&Oh(e)==kie}function Mie(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var Tie=Array.isArray;const af=Tie;var Oie=1/0,c9=Hl?Hl.prototype:void 0,f9=c9?c9.toString:void 0;function tL(e){if(typeof e=="string")return e;if(af(e))return Mie(e,tL)+"";if(x2(e))return f9?f9.call(e):"";var t=e+"";return t=="0"&&1/e==-Oie?"-0":t}var Fie=/\s/;function Nie(e){for(var t=e.length;t--&&Fie.test(e.charAt(t)););return t}var Rie=/^\s+/;function Pie(e){return e&&e.slice(0,Nie(e)+1).replace(Rie,"")}function Os(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var d9=0/0,Iie=/^[-+]0x[0-9a-f]+$/i,Die=/^0b[01]+$/i,Lie=/^0o[0-7]+$/i,zie=parseInt;function h9(e){if(typeof e=="number")return e;if(x2(e))return d9;if(Os(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Os(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Pie(e);var n=Die.test(e);return n||Lie.test(e)?zie(e.slice(2),n?2:8):Iie.test(e)?d9:+e}var Bie="[object AsyncFunction]",jie="[object Function]",Uie="[object GeneratorFunction]",qie="[object Proxy]";function nL(e){if(!Os(e))return!1;var t=Oh(e);return t==jie||t==Uie||t==Bie||t==qie}var Vie=jo["__core-js_shared__"];const p_=Vie;var p9=function(){var e=/[^.]+$/.exec(p_&&p_.keys&&p_.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Hie(e){return!!p9&&p9 in e}var Wie=Function.prototype,Gie=Wie.toString;function lf(e){if(e!=null){try{return Gie.call(e)}catch{}try{return e+""}catch{}}return""}var Yie=/[\\^$.*+?()[\]{}|]/g,Xie=/^\[object .+?Constructor\]$/,Kie=Function.prototype,Jie=Object.prototype,Qie=Kie.toString,Zie=Jie.hasOwnProperty,eoe=RegExp("^"+Qie.call(Zie).replace(Yie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function toe(e){if(!Os(e)||Hie(e))return!1;var t=nL(e)?eoe:Xie;return t.test(lf(e))}function noe(e,t){return e==null?void 0:e[t]}function uf(e,t){var n=noe(e,t);return toe(n)?n:void 0}var roe=uf(jo,"WeakMap");const ME=roe;var g9=Object.create,ioe=function(){function e(){}return function(t){if(!Os(t))return{};if(g9)return g9(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const ooe=ioe;function soe(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var aoe=function(){try{var e=uf(Object,"defineProperty");return e({},"",{}),e}catch{}}();const m9=aoe;function loe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var uoe=9007199254740991,coe=/^(?:0|[1-9]\d*)$/;function rL(e,t){var n=typeof e;return t=t??uoe,!!t&&(n=="number"||n!="symbol"&&coe.test(e))&&e>-1&&e%1==0&&e<t}function iL(e,t,n){t=="__proto__"&&m9?m9(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function oL(e,t){return e===t||e!==e&&t!==t}var foe=Object.prototype,doe=foe.hasOwnProperty;function z4(e,t,n){var r=e[t];(!(doe.call(e,t)&&oL(r,n))||n===void 0&&!(t in e))&&iL(e,t,n)}function w2(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],l=r?r(n[a],e[a],a,n,e):void 0;l===void 0&&(l=e[a]),i?iL(n,a,l):z4(n,a,l)}return n}var hoe=9007199254740991;function sL(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=hoe}function aL(e){return e!=null&&sL(e.length)&&!nL(e)}var poe=Object.prototype;function B4(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||poe;return e===n}function goe(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var moe="[object Arguments]";function y9(e){return Fh(e)&&Oh(e)==moe}var lL=Object.prototype,yoe=lL.hasOwnProperty,voe=lL.propertyIsEnumerable,boe=y9(function(){return arguments}())?y9:function(e){return Fh(e)&&yoe.call(e,"callee")&&!voe.call(e,"callee")};const xoe=boe;function woe(){return!1}var uL=typeof wi=="object"&&wi&&!wi.nodeType&&wi,v9=uL&&typeof _i=="object"&&_i&&!_i.nodeType&&_i,_oe=v9&&v9.exports===uL,b9=_oe?jo.Buffer:void 0,Eoe=b9?b9.isBuffer:void 0,Soe=Eoe||woe;const cL=Soe;var $oe="[object Arguments]",Coe="[object Array]",Aoe="[object Boolean]",koe="[object Date]",Moe="[object Error]",Toe="[object Function]",Ooe="[object Map]",Foe="[object Number]",Noe="[object Object]",Roe="[object RegExp]",Poe="[object Set]",Ioe="[object String]",Doe="[object WeakMap]",Loe="[object ArrayBuffer]",zoe="[object DataView]",Boe="[object Float32Array]",joe="[object Float64Array]",Uoe="[object Int8Array]",qoe="[object Int16Array]",Voe="[object Int32Array]",Hoe="[object Uint8Array]",Woe="[object Uint8ClampedArray]",Goe="[object Uint16Array]",Yoe="[object Uint32Array]",It={};It[Boe]=It[joe]=It[Uoe]=It[qoe]=It[Voe]=It[Hoe]=It[Woe]=It[Goe]=It[Yoe]=!0;It[$oe]=It[Coe]=It[Loe]=It[Aoe]=It[zoe]=It[koe]=It[Moe]=It[Toe]=It[Ooe]=It[Foe]=It[Noe]=It[Roe]=It[Poe]=It[Ioe]=It[Doe]=!1;function Xoe(e){return Fh(e)&&sL(e.length)&&!!It[Oh(e)]}function j4(e){return function(t){return e(t)}}var fL=typeof wi=="object"&&wi&&!wi.nodeType&&wi,Cg=fL&&typeof _i=="object"&&_i&&!_i.nodeType&&_i,Koe=Cg&&Cg.exports===fL,g_=Koe&&ZD.process,Joe=function(){try{var e=Cg&&Cg.require&&Cg.require("util").types;return e||g_&&g_.binding&&g_.binding("util")}catch{}}();const Dd=Joe;var x9=Dd&&Dd.isTypedArray,Qoe=x9?j4(x9):Xoe;const Zoe=Qoe;var ese=Object.prototype,tse=ese.hasOwnProperty;function dL(e,t){var n=af(e),r=!n&&xoe(e),i=!n&&!r&&cL(e),o=!n&&!r&&!i&&Zoe(e),s=n||r||i||o,a=s?goe(e.length,String):[],l=a.length;for(var u in e)(t||tse.call(e,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||rL(u,l)))&&a.push(u);return a}function hL(e,t){return function(n){return e(t(n))}}var nse=hL(Object.keys,Object);const rse=nse;var ise=Object.prototype,ose=ise.hasOwnProperty;function sse(e){if(!B4(e))return rse(e);var t=[];for(var n in Object(e))ose.call(e,n)&&n!="constructor"&&t.push(n);return t}function U4(e){return aL(e)?dL(e):sse(e)}function ase(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var lse=Object.prototype,use=lse.hasOwnProperty;function cse(e){if(!Os(e))return ase(e);var t=B4(e),n=[];for(var r in e)r=="constructor"&&(t||!use.call(e,r))||n.push(r);return n}function q4(e){return aL(e)?dL(e,!0):cse(e)}var fse=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dse=/^\w*$/;function hse(e,t){if(af(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||x2(e)?!0:dse.test(e)||!fse.test(e)||t!=null&&e in Object(t)}var pse=uf(Object,"create");const i0=pse;function gse(){this.__data__=i0?i0(null):{},this.size=0}function mse(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var yse="__lodash_hash_undefined__",vse=Object.prototype,bse=vse.hasOwnProperty;function xse(e){var t=this.__data__;if(i0){var n=t[e];return n===yse?void 0:n}return bse.call(t,e)?t[e]:void 0}var wse=Object.prototype,_se=wse.hasOwnProperty;function Ese(e){var t=this.__data__;return i0?t[e]!==void 0:_se.call(t,e)}var Sse="__lodash_hash_undefined__";function $se(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i0&&t===void 0?Sse:t,this}function kc(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}kc.prototype.clear=gse;kc.prototype.delete=mse;kc.prototype.get=xse;kc.prototype.has=Ese;kc.prototype.set=$se;function Cse(){this.__data__=[],this.size=0}function _2(e,t){for(var n=e.length;n--;)if(oL(e[n][0],t))return n;return-1}var Ase=Array.prototype,kse=Ase.splice;function Mse(e){var t=this.__data__,n=_2(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():kse.call(t,n,1),--this.size,!0}function Tse(e){var t=this.__data__,n=_2(t,e);return n<0?void 0:t[n][1]}function Ose(e){return _2(this.__data__,e)>-1}function Fse(e,t){var n=this.__data__,r=_2(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Ba(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ba.prototype.clear=Cse;Ba.prototype.delete=Mse;Ba.prototype.get=Tse;Ba.prototype.has=Ose;Ba.prototype.set=Fse;var Nse=uf(jo,"Map");const o0=Nse;function Rse(){this.size=0,this.__data__={hash:new kc,map:new(o0||Ba),string:new kc}}function Pse(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function E2(e,t){var n=e.__data__;return Pse(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Ise(e){var t=E2(this,e).delete(e);return this.size-=t?1:0,t}function Dse(e){return E2(this,e).get(e)}function Lse(e){return E2(this,e).has(e)}function zse(e,t){var n=E2(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function hu(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}hu.prototype.clear=Rse;hu.prototype.delete=Ise;hu.prototype.get=Dse;hu.prototype.has=Lse;hu.prototype.set=zse;var Bse="Expected a function";function V4(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Bse);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(V4.Cache||hu),n}V4.Cache=hu;var jse=500;function Use(e){var t=V4(e,function(r){return n.size===jse&&n.clear(),r}),n=t.cache;return t}var qse=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Vse=/\\(\\)?/g,Hse=Use(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(qse,function(n,r,i,o){t.push(i?o.replace(Vse,"$1"):r||n)}),t});const Wse=Hse;function Gse(e){return e==null?"":tL(e)}function pL(e,t){return af(e)?e:hse(e,t)?[e]:Wse(Gse(e))}var Yse=1/0;function gL(e){if(typeof e=="string"||x2(e))return e;var t=e+"";return t=="0"&&1/e==-Yse?"-0":t}function Xse(e,t){t=pL(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[gL(t[n++])];return n&&n==r?e:void 0}function mL(e,t,n){var r=e==null?void 0:Xse(e,t);return r===void 0?n:r}function yL(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var Kse=hL(Object.getPrototypeOf,Object);const vL=Kse;function s0(){if(!arguments.length)return[];var e=arguments[0];return af(e)?e:[e]}function Jse(){this.__data__=new Ba,this.size=0}function Qse(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Zse(e){return this.__data__.get(e)}function eae(e){return this.__data__.has(e)}var tae=200;function nae(e,t){var n=this.__data__;if(n instanceof Ba){var r=n.__data__;if(!o0||r.length<tae-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new hu(r)}return n.set(e,t),this.size=n.size,this}function Nh(e){var t=this.__data__=new Ba(e);this.size=t.size}Nh.prototype.clear=Jse;Nh.prototype.delete=Qse;Nh.prototype.get=Zse;Nh.prototype.has=eae;Nh.prototype.set=nae;function rae(e,t){return e&&w2(t,U4(t),e)}function iae(e,t){return e&&w2(t,q4(t),e)}var bL=typeof wi=="object"&&wi&&!wi.nodeType&&wi,w9=bL&&typeof _i=="object"&&_i&&!_i.nodeType&&_i,oae=w9&&w9.exports===bL,_9=oae?jo.Buffer:void 0,E9=_9?_9.allocUnsafe:void 0;function sae(e,t){if(t)return e.slice();var n=e.length,r=E9?E9(n):new e.constructor(n);return e.copy(r),r}function aae(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function xL(){return[]}var lae=Object.prototype,uae=lae.propertyIsEnumerable,S9=Object.getOwnPropertySymbols,cae=S9?function(e){return e==null?[]:(e=Object(e),aae(S9(e),function(t){return uae.call(e,t)}))}:xL;const H4=cae;function fae(e,t){return w2(e,H4(e),t)}var dae=Object.getOwnPropertySymbols,hae=dae?function(e){for(var t=[];e;)yL(t,H4(e)),e=vL(e);return t}:xL;const wL=hae;function pae(e,t){return w2(e,wL(e),t)}function _L(e,t,n){var r=t(e);return af(e)?r:yL(r,n(e))}function gae(e){return _L(e,U4,H4)}function mae(e){return _L(e,q4,wL)}var yae=uf(jo,"DataView");const TE=yae;var vae=uf(jo,"Promise");const OE=vae;var bae=uf(jo,"Set");const FE=bae;var $9="[object Map]",xae="[object Object]",C9="[object Promise]",A9="[object Set]",k9="[object WeakMap]",M9="[object DataView]",wae=lf(TE),_ae=lf(o0),Eae=lf(OE),Sae=lf(FE),$ae=lf(ME),Wu=Oh;(TE&&Wu(new TE(new ArrayBuffer(1)))!=M9||o0&&Wu(new o0)!=$9||OE&&Wu(OE.resolve())!=C9||FE&&Wu(new FE)!=A9||ME&&Wu(new ME)!=k9)&&(Wu=function(e){var t=Oh(e),n=t==xae?e.constructor:void 0,r=n?lf(n):"";if(r)switch(r){case wae:return M9;case _ae:return $9;case Eae:return C9;case Sae:return A9;case $ae:return k9}return t});const W4=Wu;var Cae=Object.prototype,Aae=Cae.hasOwnProperty;function kae(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Aae.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Mae=jo.Uint8Array;const T9=Mae;function G4(e){var t=new e.constructor(e.byteLength);return new T9(t).set(new T9(e)),t}function Tae(e,t){var n=t?G4(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var Oae=/\w*$/;function Fae(e){var t=new e.constructor(e.source,Oae.exec(e));return t.lastIndex=e.lastIndex,t}var O9=Hl?Hl.prototype:void 0,F9=O9?O9.valueOf:void 0;function Nae(e){return F9?Object(F9.call(e)):{}}function Rae(e,t){var n=t?G4(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var Pae="[object Boolean]",Iae="[object Date]",Dae="[object Map]",Lae="[object Number]",zae="[object RegExp]",Bae="[object Set]",jae="[object String]",Uae="[object Symbol]",qae="[object ArrayBuffer]",Vae="[object DataView]",Hae="[object Float32Array]",Wae="[object Float64Array]",Gae="[object Int8Array]",Yae="[object Int16Array]",Xae="[object Int32Array]",Kae="[object Uint8Array]",Jae="[object Uint8ClampedArray]",Qae="[object Uint16Array]",Zae="[object Uint32Array]";function ele(e,t,n){var r=e.constructor;switch(t){case qae:return G4(e);case Pae:case Iae:return new r(+e);case Vae:return Tae(e,n);case Hae:case Wae:case Gae:case Yae:case Xae:case Kae:case Jae:case Qae:case Zae:return Rae(e,n);case Dae:return new r;case Lae:case jae:return new r(e);case zae:return Fae(e);case Bae:return new r;case Uae:return Nae(e)}}function tle(e){return typeof e.constructor=="function"&&!B4(e)?ooe(vL(e)):{}}var nle="[object Map]";function rle(e){return Fh(e)&&W4(e)==nle}var N9=Dd&&Dd.isMap,ile=N9?j4(N9):rle;const ole=ile;var sle="[object Set]";function ale(e){return Fh(e)&&W4(e)==sle}var R9=Dd&&Dd.isSet,lle=R9?j4(R9):ale;const ule=lle;var cle=1,fle=2,dle=4,EL="[object Arguments]",hle="[object Array]",ple="[object Boolean]",gle="[object Date]",mle="[object Error]",SL="[object Function]",yle="[object GeneratorFunction]",vle="[object Map]",ble="[object Number]",$L="[object Object]",xle="[object RegExp]",wle="[object Set]",_le="[object String]",Ele="[object Symbol]",Sle="[object WeakMap]",$le="[object ArrayBuffer]",Cle="[object DataView]",Ale="[object Float32Array]",kle="[object Float64Array]",Mle="[object Int8Array]",Tle="[object Int16Array]",Ole="[object Int32Array]",Fle="[object Uint8Array]",Nle="[object Uint8ClampedArray]",Rle="[object Uint16Array]",Ple="[object Uint32Array]",Ft={};Ft[EL]=Ft[hle]=Ft[$le]=Ft[Cle]=Ft[ple]=Ft[gle]=Ft[Ale]=Ft[kle]=Ft[Mle]=Ft[Tle]=Ft[Ole]=Ft[vle]=Ft[ble]=Ft[$L]=Ft[xle]=Ft[wle]=Ft[_le]=Ft[Ele]=Ft[Fle]=Ft[Nle]=Ft[Rle]=Ft[Ple]=!0;Ft[mle]=Ft[SL]=Ft[Sle]=!1;function Oy(e,t,n,r,i,o){var s,a=t&cle,l=t&fle,u=t&dle;if(n&&(s=i?n(e,r,i,o):n(e)),s!==void 0)return s;if(!Os(e))return e;var c=af(e);if(c){if(s=kae(e),!a)return soe(e,s)}else{var f=W4(e),h=f==SL||f==yle;if(cL(e))return sae(e,a);if(f==$L||f==EL||h&&!i){if(s=l||h?{}:tle(e),!a)return l?pae(e,iae(s,e)):fae(e,rae(s,e))}else{if(!Ft[f])return i?e:{};s=ele(e,f,a)}}o||(o=new Nh);var p=o.get(e);if(p)return p;o.set(e,s),ule(e)?e.forEach(function(y){s.add(Oy(y,t,n,y,e,o))}):ole(e)&&e.forEach(function(y,v){s.set(v,Oy(y,t,n,v,e,o))});var g=u?l?mae:gae:l?q4:U4,m=c?void 0:g(e);return loe(m||e,function(y,v){m&&(v=y,y=e[v]),z4(s,v,Oy(y,t,n,v,e,o))}),s}var Ile=4;function P9(e){return Oy(e,Ile)}var Dle=function(){return jo.Date.now()};const m_=Dle;var Lle="Expected a function",zle=Math.max,Ble=Math.min;function I9(e,t,n){var r,i,o,s,a,l,u=0,c=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(Lle);t=h9(t)||0,Os(n)&&(c=!!n.leading,f="maxWait"in n,o=f?zle(h9(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h);function p($){var S=r,C=i;return r=i=void 0,u=$,s=e.apply(C,S),s}function g($){return u=$,a=setTimeout(v,t),c?p($):s}function m($){var S=$-l,C=$-u,T=t-S;return f?Ble(T,o-C):T}function y($){var S=$-l,C=$-u;return l===void 0||S>=t||S<0||f&&C>=o}function v(){var $=m_();if(y($))return b($);a=setTimeout(v,m($))}function b($){return a=void 0,h&&r?p($):(r=i=void 0,s)}function x(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function w(){return a===void 0?s:b(m_())}function _(){var $=m_(),S=y($);if(r=arguments,i=this,l=$,S){if(a===void 0)return g(l);if(f)return clearTimeout(a),a=setTimeout(v,t),p(l)}return a===void 0&&(a=setTimeout(v,t)),s}return _.cancel=x,_.flush=w,_}function _v(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}function So(e){return e==null}function jle(e){return e===void 0}function Ule(e,t,n,r){if(!Os(e))return e;t=pL(t,e);for(var i=-1,o=t.length,s=o-1,a=e;a!=null&&++i<o;){var l=gL(t[i]),u=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(i!=s){var c=a[l];u=r?r(c,l,a):void 0,u===void 0&&(u=Os(c)?c:rL(t[i+1])?[]:{})}z4(a,l,u),a=a[l]}return e}function qle(e,t,n){return e==null?e:Ule(e,t,n)}const sc=e=>e===void 0,Pl=e=>typeof e=="boolean",Yt=e=>typeof e=="number",Ev=e=>typeof Element>"u"?!1:e instanceof Element,Vle=e=>Ye(e)?!Number.isNaN(Number(e)):!1,gl=e=>tm(e),y_=(e,t,n)=>({get value(){return mL(e,t,n)},set value(r){qle(e,t,r)}});class Hle extends Error{constructor(t){super(t),this.name="ElementPlusError"}}function Oo(e,t){throw new Hle(`[${e}] ${t}`)}const CL=(e="")=>e.split(" ").filter(t=>!!t.trim()),Wle=(e,t)=>{if(!e||!t)return!1;if(t.includes(" "))throw new Error("className should not contain space.");return e.classList.contains(t)},S1=(e,t)=>{!e||!t.trim()||e.classList.add(...CL(t))},v_=(e,t)=>{!e||!t.trim()||e.classList.remove(...CL(t))};function Sv(e,t="px"){if(!e)return"";if(Yt(e)||Vle(e))return`${e}${t}`;if(Ye(e))return e}/*! Element Plus Icons Vue v2.1.0 */var rn=(e,t)=>{let n=e.__vccOpts||e;for(let[r,i]of t)n[r]=i;return n},Gle={name:"ArrowDown"},Yle={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Xle=be("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),Kle=[Xle];function Jle(e,t,n,r,i,o){return re(),_e("svg",Yle,Kle)}var AL=rn(Gle,[["render",Jle],["__file","arrow-down.vue"]]),Qle={name:"ArrowLeft"},Zle={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},eue=be("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"},null,-1),tue=[eue];function nue(e,t,n,r,i,o){return re(),_e("svg",Zle,tue)}var rue=rn(Qle,[["render",nue],["__file","arrow-left.vue"]]),iue={name:"ArrowRight"},oue={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},sue=be("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"},null,-1),aue=[sue];function lue(e,t,n,r,i,o){return re(),_e("svg",oue,aue)}var Y4=rn(iue,[["render",lue],["__file","arrow-right.vue"]]),uue={name:"ArrowUp"},cue={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},fue=be("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0z"},null,-1),due=[fue];function hue(e,t,n,r,i,o){return re(),_e("svg",cue,due)}var pue=rn(uue,[["render",hue],["__file","arrow-up.vue"]]),gue={name:"CircleCheck"},mue={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},yue=be("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),vue=be("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"},null,-1),bue=[yue,vue];function xue(e,t,n,r,i,o){return re(),_e("svg",mue,bue)}var wue=rn(gue,[["render",xue],["__file","circle-check.vue"]]),_ue={name:"CircleClose"},Eue={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Sue=be("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"},null,-1),$ue=be("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),Cue=[Sue,$ue];function Aue(e,t,n,r,i,o){return re(),_e("svg",Eue,Cue)}var kL=rn(_ue,[["render",Aue],["__file","circle-close.vue"]]),kue={name:"Close"},Mue={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Tue=be("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),Oue=[Tue];function Fue(e,t,n,r,i,o){return re(),_e("svg",Mue,Oue)}var Nue=rn(kue,[["render",Fue],["__file","close.vue"]]),Rue={name:"Hide"},Pue={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Iue=be("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"},null,-1),Due=be("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"},null,-1),Lue=[Iue,Due];function zue(e,t,n,r,i,o){return re(),_e("svg",Pue,Lue)}var Bue=rn(Rue,[["render",zue],["__file","hide.vue"]]),jue={name:"Loading"},Uue={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},que=be("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1),Vue=[que];function Hue(e,t,n,r,i,o){return re(),_e("svg",Uue,Vue)}var ML=rn(jue,[["render",Hue],["__file","loading.vue"]]),Wue={name:"Location"},Gue={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Yue=be("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416zM512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544z"},null,-1),Xue=be("path",{fill:"currentColor",d:"M512 512a96 96 0 1 0 0-192 96 96 0 0 0 0 192zm0 64a160 160 0 1 1 0-320 160 160 0 0 1 0 320z"},null,-1),Kue=[Yue,Xue];function Jue(e,t,n,r,i,o){return re(),_e("svg",Gue,Kue)}var Que=rn(Wue,[["render",Jue],["__file","location.vue"]]),Zue={name:"Menu"},ece={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},tce=be("path",{fill:"currentColor",d:"M160 448a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32H160zm448 0a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32H608zM160 896a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32H160zm448 0a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32H608z"},null,-1),nce=[tce];function rce(e,t,n,r,i,o){return re(),_e("svg",ece,nce)}var ice=rn(Zue,[["render",rce],["__file","menu.vue"]]),oce={name:"Minus"},sce={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ace=be("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64z"},null,-1),lce=[ace];function uce(e,t,n,r,i,o){return re(),_e("svg",sce,lce)}var cce=rn(oce,[["render",uce],["__file","minus.vue"]]),fce={name:"More"},dce={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},hce=be("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96zm336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96zm336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96z"},null,-1),pce=[hce];function gce(e,t,n,r,i,o){return re(),_e("svg",dce,pce)}var mce=rn(fce,[["render",gce],["__file","more.vue"]]),yce={name:"Operation"},vce={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},bce=be("path",{fill:"currentColor",d:"M389.44 768a96.064 96.064 0 0 1 181.12 0H896v64H570.56a96.064 96.064 0 0 1-181.12 0H128v-64h261.44zm192-288a96.064 96.064 0 0 1 181.12 0H896v64H762.56a96.064 96.064 0 0 1-181.12 0H128v-64h453.44zm-320-288a96.064 96.064 0 0 1 181.12 0H896v64H442.56a96.064 96.064 0 0 1-181.12 0H128v-64h133.44z"},null,-1),xce=[bce];function wce(e,t,n,r,i,o){return re(),_e("svg",vce,xce)}var _ce=rn(yce,[["render",wce],["__file","operation.vue"]]),Ece={name:"Plus"},Sce={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},$ce=be("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64h352z"},null,-1),Cce=[$ce];function Ace(e,t,n,r,i,o){return re(),_e("svg",Sce,Cce)}var TL=rn(Ece,[["render",Ace],["__file","plus.vue"]]),kce={name:"RemoveFilled"},Mce={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Tce=be("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zM288 512a38.4 38.4 0 0 0 38.4 38.4h371.2a38.4 38.4 0 0 0 0-76.8H326.4A38.4 38.4 0 0 0 288 512z"},null,-1),Oce=[Tce];function Fce(e,t,n,r,i,o){return re(),_e("svg",Mce,Oce)}var Nce=rn(kce,[["render",Fce],["__file","remove-filled.vue"]]),Rce={name:"Remove"},Pce={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ice=be("path",{fill:"currentColor",d:"M352 480h320a32 32 0 1 1 0 64H352a32 32 0 0 1 0-64z"},null,-1),Dce=be("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),Lce=[Ice,Dce];function zce(e,t,n,r,i,o){return re(),_e("svg",Pce,Lce)}var Bce=rn(Rce,[["render",zce],["__file","remove.vue"]]),jce={name:"Setting"},Uce={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},qce=be("path",{fill:"currentColor",d:"M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357.12 357.12 0 0 1 0 49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 828.48a351.616 351.616 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357.12 357.12 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 64H446.72l-36.352 113.088-24.512 11.968a294.113 294.113 0 0 0-34.816 20.096l-22.656 15.36-116.224-25.088-65.28 113.152 79.68 88.192-1.92 27.136a293.12 293.12 0 0 0 0 40.192l1.92 27.136-79.808 88.192 65.344 113.152 116.224-25.024 22.656 15.296a294.113 294.113 0 0 0 34.816 20.096l24.512 11.968L446.72 896h130.688l36.48-113.152 24.448-11.904a288.282 288.282 0 0 0 34.752-20.096l22.592-15.296 116.288 25.024 65.28-113.152-79.744-88.192 1.92-27.136a293.12 293.12 0 0 0 0-40.256l-1.92-27.136 79.808-88.128-65.344-113.152-116.288 24.96-22.592-15.232a287.616 287.616 0 0 0-34.752-20.096l-24.448-11.904L577.344 128zM512 320a192 192 0 1 1 0 384 192 192 0 0 1 0-384zm0 64a128 128 0 1 0 0 256 128 128 0 0 0 0-256z"},null,-1),Vce=[qce];function Hce(e,t,n,r,i,o){return re(),_e("svg",Uce,Vce)}var Wce=rn(jce,[["render",Hce],["__file","setting.vue"]]),Gce={name:"Share"},Yce={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Xce=be("path",{fill:"currentColor",d:"m679.872 348.8-301.76 188.608a127.808 127.808 0 0 1 5.12 52.16l279.936 104.96a128 128 0 1 1-22.464 59.904l-279.872-104.96a128 128 0 1 1-16.64-166.272l301.696-188.608a128 128 0 1 1 33.92 54.272z"},null,-1),Kce=[Xce];function Jce(e,t,n,r,i,o){return re(),_e("svg",Yce,Kce)}var Qce=rn(Gce,[["render",Jce],["__file","share.vue"]]),Zce={name:"Tools"},efe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},tfe=be("path",{fill:"currentColor",d:"M764.416 254.72a351.68 351.68 0 0 1 86.336 149.184H960v192.064H850.752a351.68 351.68 0 0 1-86.336 149.312l54.72 94.72-166.272 96-54.592-94.72a352.64 352.64 0 0 1-172.48 0L371.136 936l-166.272-96 54.72-94.72a351.68 351.68 0 0 1-86.336-149.312H64v-192h109.248a351.68 351.68 0 0 1 86.336-149.312L204.8 160l166.208-96h.192l54.656 94.592a352.64 352.64 0 0 1 172.48 0L652.8 64h.128L819.2 160l-54.72 94.72zM704 499.968a192 192 0 1 0-384 0 192 192 0 0 0 384 0z"},null,-1),nfe=[tfe];function rfe(e,t,n,r,i,o){return re(),_e("svg",efe,nfe)}var ife=rn(Zce,[["render",rfe],["__file","tools.vue"]]),ofe={name:"View"},sfe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},afe=be("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),lfe=[afe];function ufe(e,t,n,r,i,o){return re(),_e("svg",sfe,lfe)}var cfe=rn(ofe,[["render",ufe],["__file","view.vue"]]),ffe={name:"Warning"},dfe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},hfe=be("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 832a384 384 0 0 0 0-768 384 384 0 0 0 0 768zm48-176a48 48 0 1 1-96 0 48 48 0 0 1 96 0zm-48-464a32 32 0 0 1 32 32v288a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32z"},null,-1),pfe=[hfe];function gfe(e,t,n,r,i,o){return re(),_e("svg",dfe,pfe)}var mfe=rn(ffe,[["render",gfe],["__file","warning.vue"]]);const OL="__epPropKey",Ge=e=>e,yfe=e=>gt(e)&&!!e[OL],S2=(e,t)=>{if(!gt(e)||yfe(e))return e;const{values:n,required:r,default:i,type:o,validator:s}=e,l={type:o,required:!!r,validator:n||s?u=>{let c=!1,f=[];if(n&&(f=Array.from(n),at(e,"default")&&f.push(i),c||(c=f.includes(u))),s&&(c||(c=s(u))),!c&&f.length>0){const h=[...new Set(f)].map(p=>JSON.stringify(p)).join(", ");Dee(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${h}], got value ${JSON.stringify(u)}.`)}return c}:void 0,[OL]:!0};return at(e,"default")&&(l.default=i),l},At=e=>_v(Object.entries(e).map(([t,n])=>[t,S2(n,t)])),wl=Ge([String,Object,Function]),vfe={validating:ML,success:wue,error:kL},Uo=(e,t)=>{if(e.install=n=>{for(const r of[e,...Object.values(t??{})])n.component(r.name,r)},t)for(const[n,r]of Object.entries(t))e[n]=r;return e},Rh=e=>(e.install=cr,e),pn={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},un="update:modelValue",Oa="change",ws="input",$2=["","default","small","large"],bfe=e=>["",...$2].includes(e),Ag=e=>{const t=ze(e)?e:[e],n=[];return t.forEach(r=>{var i;ze(r)?n.push(...Ag(r)):Ac(r)&&ze(r.children)?n.push(...Ag(r.children)):(n.push(r),Ac(r)&&((i=r.component)!=null&&i.subTree)&&n.push(...Ag(r.component.subTree)))}),n},xfe=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e),FL=()=>Math.floor(Math.random()*1e4),am=e=>e,wfe=["class","style"],_fe=/^on[A-Z]/,Efe=(e={})=>{const{excludeListeners:t=!1,excludeKeys:n}=e,r=G(()=>((n==null?void 0:n.value)||[]).concat(wfe)),i=yr();return G(i?()=>{var o;return _v(Object.entries((o=i.proxy)==null?void 0:o.$attrs).filter(([s])=>!r.value.includes(s)&&!(t&&_fe.test(s))))}:()=>({}))},X4=({from:e,replacement:t,scope:n,version:r,ref:i,type:o="API"},s)=>{Pe(()=>P(s),a=>{},{immediate:!0})};var Sfe={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const $fe=e=>(t,n)=>Cfe(t,n,P(e)),Cfe=(e,t,n)=>mL(n,e,e).replace(/\{(\w+)\}/g,(r,i)=>{var o;return`${(o=t==null?void 0:t[i])!=null?o:`{${i}}`}`}),Afe=e=>{const t=G(()=>P(e).name),n=mn(e)?e:me(e);return{lang:t,locale:n,t:$fe(e)}},kfe=Symbol("localeContextKey"),NL=e=>{const t=e||et(kfe,me());return Afe(G(()=>t.value||Sfe))},D9="el",Mfe="is-",Nu=(e,t,n,r,i)=>{let o=`${e}-${t}`;return n&&(o+=`-${n}`),r&&(o+=`__${r}`),i&&(o+=`--${i}`),o},Tfe=Symbol("namespaceContextKey"),K4=e=>{const t=e||et(Tfe,me(D9));return G(()=>P(t)||D9)},mt=(e,t)=>{const n=K4(t);return{namespace:n,b:(m="")=>Nu(n.value,e,m,"",""),e:m=>m?Nu(n.value,e,"",m,""):"",m:m=>m?Nu(n.value,e,"","",m):"",be:(m,y)=>m&&y?Nu(n.value,e,m,y,""):"",em:(m,y)=>m&&y?Nu(n.value,e,"",m,y):"",bm:(m,y)=>m&&y?Nu(n.value,e,m,"",y):"",bem:(m,y,v)=>m&&y&&v?Nu(n.value,e,m,y,v):"",is:(m,...y)=>{const v=y.length>=1?y[0]:!0;return m&&v?`${Mfe}${m}`:""},cssVar:m=>{const y={};for(const v in m)m[v]&&(y[`--${n.value}-${v}`]=m[v]);return y},cssVarName:m=>`--${n.value}-${m}`,cssVarBlock:m=>{const y={};for(const v in m)m[v]&&(y[`--${n.value}-${e}-${v}`]=m[v]);return y},cssVarBlockName:m=>`--${n.value}-${e}-${m}`}},Ofe=S2({type:Ge(Boolean),default:null}),Ffe=S2({type:Ge(Function)}),RL=e=>{const t=`update:${e}`,n=`onUpdate:${e}`,r=[t],i={[e]:Ofe,[n]:Ffe};return{useModelToggle:({indicator:s,toggleReason:a,shouldHideWhenRouteChanges:l,shouldProceed:u,onShow:c,onHide:f})=>{const h=yr(),{emit:p}=h,g=h.props,m=G(()=>Ve(g[n])),y=G(()=>g[e]===null),v=S=>{s.value!==!0&&(s.value=!0,a&&(a.value=S),Ve(c)&&c(S))},b=S=>{s.value!==!1&&(s.value=!1,a&&(a.value=S),Ve(f)&&f(S))},x=S=>{if(g.disabled===!0||Ve(u)&&!u())return;const C=m.value&&Si;C&&p(t,!0),(y.value||!C)&&v(S)},w=S=>{if(g.disabled===!0||!Si)return;const C=m.value&&Si;C&&p(t,!1),(y.value||!C)&&b(S)},_=S=>{Pl(S)&&(g.disabled&&S?m.value&&p(t,!1):s.value!==S&&(S?v():b()))},$=()=>{s.value?w():x()};return Pe(()=>g[e],_),l&&h.appContext.config.globalProperties.$route!==void 0&&Pe(()=>({...h.proxy.$route}),()=>{l.value&&s.value&&w()}),nn(()=>{_(g[e])}),{hide:w,show:x,toggle:$,hasUpdateHandler:m}},useModelToggleProps:i,useModelToggleEmits:r}};RL("modelValue");const PL=e=>{const t=yr();return G(()=>{var n,r;return(r=(n=t==null?void 0:t.proxy)==null?void 0:n.$props)==null?void 0:r[e]})};var Wr="top",Vi="bottom",Hi="right",Gr="left",J4="auto",lm=[Wr,Vi,Hi,Gr],Ld="start",a0="end",Nfe="clippingParents",IL="viewport",yp="popper",Rfe="reference",L9=lm.reduce(function(e,t){return e.concat([t+"-"+Ld,t+"-"+a0])},[]),um=[].concat(lm,[J4]).reduce(function(e,t){return e.concat([t,t+"-"+Ld,t+"-"+a0])},[]),Pfe="beforeRead",Ife="read",Dfe="afterRead",Lfe="beforeMain",zfe="main",Bfe="afterMain",jfe="beforeWrite",Ufe="write",qfe="afterWrite",Vfe=[Pfe,Ife,Dfe,Lfe,zfe,Bfe,jfe,Ufe,qfe];function Fs(e){return e?(e.nodeName||"").toLowerCase():null}function qo(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function zd(e){var t=qo(e).Element;return e instanceof t||e instanceof Element}function ji(e){var t=qo(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Q4(e){if(typeof ShadowRoot>"u")return!1;var t=qo(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Hfe(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},o=t.elements[n];!ji(o)||!Fs(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function Wfe(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],o=t.attributes[r]||{},s=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),a=s.reduce(function(l,u){return l[u]="",l},{});!ji(i)||!Fs(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}var DL={name:"applyStyles",enabled:!0,phase:"write",fn:Hfe,effect:Wfe,requires:["computeStyles"]};function _s(e){return e.split("-")[0]}var mc=Math.max,$v=Math.min,Bd=Math.round;function jd(e,t){t===void 0&&(t=!1);var n=e.getBoundingClientRect(),r=1,i=1;if(ji(e)&&t){var o=e.offsetHeight,s=e.offsetWidth;s>0&&(r=Bd(n.width)/s||1),o>0&&(i=Bd(n.height)/o||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function Z4(e){var t=jd(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function LL(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Q4(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Fa(e){return qo(e).getComputedStyle(e)}function Gfe(e){return["table","td","th"].indexOf(Fs(e))>=0}function pu(e){return((zd(e)?e.ownerDocument:e.document)||window.document).documentElement}function C2(e){return Fs(e)==="html"?e:e.assignedSlot||e.parentNode||(Q4(e)?e.host:null)||pu(e)}function z9(e){return!ji(e)||Fa(e).position==="fixed"?null:e.offsetParent}function Yfe(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&ji(e)){var r=Fa(e);if(r.position==="fixed")return null}var i=C2(e);for(Q4(i)&&(i=i.host);ji(i)&&["html","body"].indexOf(Fs(i))<0;){var o=Fa(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function cm(e){for(var t=qo(e),n=z9(e);n&&Gfe(n)&&Fa(n).position==="static";)n=z9(n);return n&&(Fs(n)==="html"||Fs(n)==="body"&&Fa(n).position==="static")?t:n||Yfe(e)||t}function e8(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function kg(e,t,n){return mc(e,$v(t,n))}function Xfe(e,t,n){var r=kg(e,t,n);return r>n?n:r}function zL(){return{top:0,right:0,bottom:0,left:0}}function BL(e){return Object.assign({},zL(),e)}function jL(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var Kfe=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,BL(typeof e!="number"?e:jL(e,lm))};function Jfe(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=_s(n.placement),l=e8(a),u=[Gr,Hi].indexOf(a)>=0,c=u?"height":"width";if(!(!o||!s)){var f=Kfe(i.padding,n),h=Z4(o),p=l==="y"?Wr:Gr,g=l==="y"?Vi:Hi,m=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],y=s[l]-n.rects.reference[l],v=cm(o),b=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,x=m/2-y/2,w=f[p],_=b-h[c]-f[g],$=b/2-h[c]/2+x,S=kg(w,$,_),C=l;n.modifiersData[r]=(t={},t[C]=S,t.centerOffset=S-$,t)}}function Qfe(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||!LL(t.elements.popper,i)||(t.elements.arrow=i))}var Zfe={name:"arrow",enabled:!0,phase:"main",fn:Jfe,effect:Qfe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ud(e){return e.split("-")[1]}var ede={top:"auto",right:"auto",bottom:"auto",left:"auto"};function tde(e){var t=e.x,n=e.y,r=window,i=r.devicePixelRatio||1;return{x:Bd(t*i)/i||0,y:Bd(n*i)/i||0}}function B9(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,f=e.isFixed,h=s.x,p=h===void 0?0:h,g=s.y,m=g===void 0?0:g,y=typeof c=="function"?c({x:p,y:m}):{x:p,y:m};p=y.x,m=y.y;var v=s.hasOwnProperty("x"),b=s.hasOwnProperty("y"),x=Gr,w=Wr,_=window;if(u){var $=cm(n),S="clientHeight",C="clientWidth";if($===qo(n)&&($=pu(n),Fa($).position!=="static"&&a==="absolute"&&(S="scrollHeight",C="scrollWidth")),$=$,i===Wr||(i===Gr||i===Hi)&&o===a0){w=Vi;var T=f&&$===_&&_.visualViewport?_.visualViewport.height:$[S];m-=T-r.height,m*=l?1:-1}if(i===Gr||(i===Wr||i===Vi)&&o===a0){x=Hi;var M=f&&$===_&&_.visualViewport?_.visualViewport.width:$[C];p-=M-r.width,p*=l?1:-1}}var E=Object.assign({position:a},u&&ede),N=c===!0?tde({x:p,y:m}):{x:p,y:m};if(p=N.x,m=N.y,l){var k;return Object.assign({},E,(k={},k[w]=b?"0":"",k[x]=v?"0":"",k.transform=(_.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",k))}return Object.assign({},E,(t={},t[w]=b?m+"px":"",t[x]=v?p+"px":"",t.transform="",t))}function nde(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:_s(t.placement),variation:Ud(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,B9(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,B9(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var UL={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:nde,data:{}},$1={passive:!0};function rde(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,l=qo(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&u.forEach(function(c){c.addEventListener("scroll",n.update,$1)}),a&&l.addEventListener("resize",n.update,$1),function(){o&&u.forEach(function(c){c.removeEventListener("scroll",n.update,$1)}),a&&l.removeEventListener("resize",n.update,$1)}}var qL={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:rde,data:{}},ide={left:"right",right:"left",bottom:"top",top:"bottom"};function Fy(e){return e.replace(/left|right|bottom|top/g,function(t){return ide[t]})}var ode={start:"end",end:"start"};function j9(e){return e.replace(/start|end/g,function(t){return ode[t]})}function t8(e){var t=qo(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function n8(e){return jd(pu(e)).left+t8(e).scrollLeft}function sde(e){var t=qo(e),n=pu(e),r=t.visualViewport,i=n.clientWidth,o=n.clientHeight,s=0,a=0;return r&&(i=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=r.offsetLeft,a=r.offsetTop)),{width:i,height:o,x:s+n8(e),y:a}}function ade(e){var t,n=pu(e),r=t8(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=mc(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=mc(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+n8(e),l=-r.scrollTop;return Fa(i||n).direction==="rtl"&&(a+=mc(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function r8(e){var t=Fa(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function VL(e){return["html","body","#document"].indexOf(Fs(e))>=0?e.ownerDocument.body:ji(e)&&r8(e)?e:VL(C2(e))}function Mg(e,t){var n;t===void 0&&(t=[]);var r=VL(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=qo(r),s=i?[o].concat(o.visualViewport||[],r8(r)?r:[]):r,a=t.concat(s);return i?a:a.concat(Mg(C2(s)))}function NE(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function lde(e){var t=jd(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function U9(e,t){return t===IL?NE(sde(e)):zd(t)?lde(t):NE(ade(pu(e)))}function ude(e){var t=Mg(C2(e)),n=["absolute","fixed"].indexOf(Fa(e).position)>=0,r=n&&ji(e)?cm(e):e;return zd(r)?t.filter(function(i){return zd(i)&&LL(i,r)&&Fs(i)!=="body"}):[]}function cde(e,t,n){var r=t==="clippingParents"?ude(e):[].concat(t),i=[].concat(r,[n]),o=i[0],s=i.reduce(function(a,l){var u=U9(e,l);return a.top=mc(u.top,a.top),a.right=$v(u.right,a.right),a.bottom=$v(u.bottom,a.bottom),a.left=mc(u.left,a.left),a},U9(e,o));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function HL(e){var t=e.reference,n=e.element,r=e.placement,i=r?_s(r):null,o=r?Ud(r):null,s=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,l;switch(i){case Wr:l={x:s,y:t.y-n.height};break;case Vi:l={x:s,y:t.y+t.height};break;case Hi:l={x:t.x+t.width,y:a};break;case Gr:l={x:t.x-n.width,y:a};break;default:l={x:t.x,y:t.y}}var u=i?e8(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(o){case Ld:l[u]=l[u]-(t[c]/2-n[c]/2);break;case a0:l[u]=l[u]+(t[c]/2-n[c]/2);break}}return l}function l0(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,o=n.boundary,s=o===void 0?Nfe:o,a=n.rootBoundary,l=a===void 0?IL:a,u=n.elementContext,c=u===void 0?yp:u,f=n.altBoundary,h=f===void 0?!1:f,p=n.padding,g=p===void 0?0:p,m=BL(typeof g!="number"?g:jL(g,lm)),y=c===yp?Rfe:yp,v=e.rects.popper,b=e.elements[h?y:c],x=cde(zd(b)?b:b.contextElement||pu(e.elements.popper),s,l),w=jd(e.elements.reference),_=HL({reference:w,element:v,strategy:"absolute",placement:i}),$=NE(Object.assign({},v,_)),S=c===yp?$:w,C={top:x.top-S.top+m.top,bottom:S.bottom-x.bottom+m.bottom,left:x.left-S.left+m.left,right:S.right-x.right+m.right},T=e.modifiersData.offset;if(c===yp&&T){var M=T[i];Object.keys(C).forEach(function(E){var N=[Hi,Vi].indexOf(E)>=0?1:-1,k=[Wr,Vi].indexOf(E)>=0?"y":"x";C[E]+=M[k]*N})}return C}function fde(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?um:l,c=Ud(r),f=c?a?L9:L9.filter(function(g){return Ud(g)===c}):lm,h=f.filter(function(g){return u.indexOf(g)>=0});h.length===0&&(h=f);var p=h.reduce(function(g,m){return g[m]=l0(e,{placement:m,boundary:i,rootBoundary:o,padding:s})[_s(m)],g},{});return Object.keys(p).sort(function(g,m){return p[g]-p[m]})}function dde(e){if(_s(e)===J4)return[];var t=Fy(e);return[j9(e),t,j9(t)]}function hde(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,u=n.padding,c=n.boundary,f=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,g=p===void 0?!0:p,m=n.allowedAutoPlacements,y=t.options.placement,v=_s(y),b=v===y,x=l||(b||!g?[Fy(y)]:dde(y)),w=[y].concat(x).reduce(function(ae,Ce){return ae.concat(_s(Ce)===J4?fde(t,{placement:Ce,boundary:c,rootBoundary:f,padding:u,flipVariations:g,allowedAutoPlacements:m}):Ce)},[]),_=t.rects.reference,$=t.rects.popper,S=new Map,C=!0,T=w[0],M=0;M<w.length;M++){var E=w[M],N=_s(E),k=Ud(E)===Ld,A=[Wr,Vi].indexOf(N)>=0,O=A?"width":"height",F=l0(t,{placement:E,boundary:c,rootBoundary:f,altBoundary:h,padding:u}),R=A?k?Hi:Gr:k?Vi:Wr;_[O]>$[O]&&(R=Fy(R));var D=Fy(R),z=[];if(o&&z.push(F[N]<=0),a&&z.push(F[R]<=0,F[D]<=0),z.every(function(ae){return ae})){T=E,C=!1;break}S.set(E,z)}if(C)for(var U=g?3:1,H=function(ae){var Ce=w.find(function(xe){var B=S.get(xe);if(B)return B.slice(0,ae).every(function(Q){return Q})});if(Ce)return T=Ce,"break"},W=U;W>0;W--){var he=H(W);if(he==="break")break}t.placement!==T&&(t.modifiersData[r]._skip=!0,t.placement=T,t.reset=!0)}}var pde={name:"flip",enabled:!0,phase:"main",fn:hde,requiresIfExists:["offset"],data:{_skip:!1}};function q9(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function V9(e){return[Wr,Hi,Vi,Gr].some(function(t){return e[t]>=0})}function gde(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=l0(t,{elementContext:"reference"}),a=l0(t,{altBoundary:!0}),l=q9(s,r),u=q9(a,i,o),c=V9(l),f=V9(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}var mde={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:gde};function yde(e,t,n){var r=_s(e),i=[Gr,Wr].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[Gr,Hi].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function vde(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=i===void 0?[0,0]:i,s=um.reduce(function(c,f){return c[f]=yde(f,t.rects,o),c},{}),a=s[t.placement],l=a.x,u=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=s}var bde={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:vde};function xde(e){var t=e.state,n=e.name;t.modifiersData[n]=HL({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var WL={name:"popperOffsets",enabled:!0,phase:"read",fn:xde,data:{}};function wde(e){return e==="x"?"y":"x"}function _de(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,f=n.padding,h=n.tether,p=h===void 0?!0:h,g=n.tetherOffset,m=g===void 0?0:g,y=l0(t,{boundary:l,rootBoundary:u,padding:f,altBoundary:c}),v=_s(t.placement),b=Ud(t.placement),x=!b,w=e8(v),_=wde(w),$=t.modifiersData.popperOffsets,S=t.rects.reference,C=t.rects.popper,T=typeof m=="function"?m(Object.assign({},t.rects,{placement:t.placement})):m,M=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),E=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,N={x:0,y:0};if($){if(o){var k,A=w==="y"?Wr:Gr,O=w==="y"?Vi:Hi,F=w==="y"?"height":"width",R=$[w],D=R+y[A],z=R-y[O],U=p?-C[F]/2:0,H=b===Ld?S[F]:C[F],W=b===Ld?-C[F]:-S[F],he=t.elements.arrow,ae=p&&he?Z4(he):{width:0,height:0},Ce=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:zL(),xe=Ce[A],B=Ce[O],Q=kg(0,S[F],ae[F]),q=x?S[F]/2-U-Q-xe-M.mainAxis:H-Q-xe-M.mainAxis,K=x?-S[F]/2+U+Q+B+M.mainAxis:W+Q+B+M.mainAxis,ce=t.elements.arrow&&cm(t.elements.arrow),I=ce?w==="y"?ce.clientTop||0:ce.clientLeft||0:0,L=(k=E==null?void 0:E[w])!=null?k:0,j=R+q-L-I,X=R+K-L,ee=kg(p?$v(D,j):D,R,p?mc(z,X):z);$[w]=ee,N[w]=ee-R}if(a){var Y,ue=w==="x"?Wr:Gr,pe=w==="x"?Vi:Hi,fe=$[_],se=_==="y"?"height":"width",Re=fe+y[ue],Me=fe-y[pe],J=[Wr,Gr].indexOf(v)!==-1,Se=(Y=E==null?void 0:E[_])!=null?Y:0,qe=J?Re:fe-S[se]-C[se]-Se+M.altAxis,ut=J?fe+S[se]+C[se]-Se-M.altAxis:Me,ct=p&&J?Xfe(qe,fe,ut):kg(p?qe:Re,fe,p?ut:Me);$[_]=ct,N[_]=ct-fe}t.modifiersData[r]=N}}var Ede={name:"preventOverflow",enabled:!0,phase:"main",fn:_de,requiresIfExists:["offset"]};function Sde(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function $de(e){return e===qo(e)||!ji(e)?t8(e):Sde(e)}function Cde(e){var t=e.getBoundingClientRect(),n=Bd(t.width)/e.offsetWidth||1,r=Bd(t.height)/e.offsetHeight||1;return n!==1||r!==1}function Ade(e,t,n){n===void 0&&(n=!1);var r=ji(t),i=ji(t)&&Cde(t),o=pu(t),s=jd(e,i),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Fs(t)!=="body"||r8(o))&&(a=$de(t)),ji(t)?(l=jd(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=n8(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function kde(e){var t=new Map,n=new Set,r=[];e.forEach(function(o){t.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=t.get(a);l&&i(l)}}),r.push(o)}return e.forEach(function(o){n.has(o.name)||i(o)}),r}function Mde(e){var t=kde(e);return Vfe.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function Tde(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function Ode(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var H9={placement:"bottom",modifiers:[],strategy:"absolute"};function W9(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function i8(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,o=i===void 0?H9:i;return function(s,a,l){l===void 0&&(l=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},H9,o),modifiersData:{},elements:{reference:s,popper:a},attributes:{},styles:{}},c=[],f=!1,h={state:u,setOptions:function(m){var y=typeof m=="function"?m(u.options):m;g(),u.options=Object.assign({},o,u.options,y),u.scrollParents={reference:zd(s)?Mg(s):s.contextElement?Mg(s.contextElement):[],popper:Mg(a)};var v=Mde(Ode([].concat(r,u.options.modifiers)));return u.orderedModifiers=v.filter(function(b){return b.enabled}),p(),h.update()},forceUpdate:function(){if(!f){var m=u.elements,y=m.reference,v=m.popper;if(W9(y,v)){u.rects={reference:Ade(y,cm(v),u.options.strategy==="fixed"),popper:Z4(v)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(C){return u.modifiersData[C.name]=Object.assign({},C.data)});for(var b=0;b<u.orderedModifiers.length;b++){if(u.reset===!0){u.reset=!1,b=-1;continue}var x=u.orderedModifiers[b],w=x.fn,_=x.options,$=_===void 0?{}:_,S=x.name;typeof w=="function"&&(u=w({state:u,options:$,name:S,instance:h})||u)}}}},update:Tde(function(){return new Promise(function(m){h.forceUpdate(),m(u)})}),destroy:function(){g(),f=!0}};if(!W9(s,a))return h;h.setOptions(l).then(function(m){!f&&l.onFirstUpdate&&l.onFirstUpdate(m)});function p(){u.orderedModifiers.forEach(function(m){var y=m.name,v=m.options,b=v===void 0?{}:v,x=m.effect;if(typeof x=="function"){var w=x({state:u,name:y,instance:h,options:b}),_=function(){};c.push(w||_)}})}function g(){c.forEach(function(m){return m()}),c=[]}return h}}i8();var Fde=[qL,WL,UL,DL];i8({defaultModifiers:Fde});var Nde=[qL,WL,UL,DL,bde,pde,Ede,Zfe,mde],Rde=i8({defaultModifiers:Nde});const Pde=(e,t,n={})=>{const r={name:"updateState",enabled:!0,phase:"write",fn:({state:l})=>{const u=Ide(l);Object.assign(s.value,u)},requires:["computeStyles"]},i=G(()=>{const{onFirstUpdate:l,placement:u,strategy:c,modifiers:f}=P(n);return{onFirstUpdate:l,placement:u||"bottom",strategy:c||"absolute",modifiers:[...f||[],r,{name:"applyStyles",enabled:!1}]}}),o=Nl(),s=me({styles:{popper:{position:P(i).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),a=()=>{o.value&&(o.value.destroy(),o.value=void 0)};return Pe(i,l=>{const u=P(o);u&&u.setOptions(l)},{deep:!0}),Pe([e,t],([l,u])=>{a(),!(!l||!u)&&(o.value=Rde(l,u,P(i)))}),si(()=>{a()}),{state:G(()=>{var l;return{...((l=P(o))==null?void 0:l.state)||{}}}),styles:G(()=>P(s).styles),attributes:G(()=>P(s).attributes),update:()=>{var l;return(l=P(o))==null?void 0:l.update()},forceUpdate:()=>{var l;return(l=P(o))==null?void 0:l.forceUpdate()},instanceRef:G(()=>P(o))}};function Ide(e){const t=Object.keys(e.elements),n=_v(t.map(i=>[i,e.styles[i]||{}])),r=_v(t.map(i=>[i,e.attributes[i]]));return{styles:n,attributes:r}}function G9(){let e;const t=(r,i)=>{n(),e=window.setTimeout(r,i)},n=()=>window.clearTimeout(e);return v2(()=>n()),{registerTimeout:t,cancelTimeout:n}}const Y9={prefix:Math.floor(Math.random()*1e4),current:0},Dde=Symbol("elIdInjection"),GL=()=>yr()?et(Dde,Y9):Y9,o8=e=>{const t=GL(),n=K4();return G(()=>P(e)||`${n.value}-id-${t.prefix}-${t.current++}`)};let od=[];const X9=e=>{const t=e;t.key===pn.esc&&od.forEach(n=>n(t))},Lde=e=>{nn(()=>{od.length===0&&document.addEventListener("keydown",X9),Si&&od.push(e)}),si(()=>{od=od.filter(t=>t!==e),od.length===0&&Si&&document.removeEventListener("keydown",X9)})};let K9;const YL=()=>{const e=K4(),t=GL(),n=G(()=>`${e.value}-popper-container-${t.prefix}`),r=G(()=>`#${n.value}`);return{id:n,selector:r}},zde=e=>{const t=document.createElement("div");return t.id=e,document.body.appendChild(t),t},Bde=()=>{const{id:e,selector:t}=YL();return mD(()=>{Si&&!K9&&!document.body.querySelector(t.value)&&(K9=zde(e.value))}),{id:e,selector:t}},jde=At({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),Ude=({showAfter:e,hideAfter:t,autoClose:n,open:r,close:i})=>{const{registerTimeout:o}=G9(),{registerTimeout:s,cancelTimeout:a}=G9();return{onOpen:c=>{o(()=>{r(c);const f=P(n);Yt(f)&&f>0&&s(()=>{i(c)},f)},P(e))},onClose:c=>{a(),o(()=>{i(c)},P(t))}}},XL=Symbol("elForwardRef"),qde=e=>{Fn(XL,{setForwardRef:n=>{e.value=n}})},Vde=e=>({mounted(t){e(t)},updated(t){e(t)},unmounted(){e(null)}}),J9=me(0),Hde=2e3,Wde=Symbol("zIndexContextKey"),Gde=e=>{const t=e||et(Wde,void 0),n=G(()=>{const o=P(t);return Yt(o)?o:Hde}),r=G(()=>n.value+J9.value);return{initialZIndex:n,currentZIndex:r,nextZIndex:()=>(J9.value++,r.value)}};function Yde(e){const t=me();function n(){if(e.value==null)return;const{selectionStart:i,selectionEnd:o,value:s}=e.value;if(i==null||o==null)return;const a=s.slice(0,Math.max(0,i)),l=s.slice(Math.max(0,o));t.value={selectionStart:i,selectionEnd:o,value:s,beforeTxt:a,afterTxt:l}}function r(){if(e.value==null||t.value==null)return;const{value:i}=e.value,{beforeTxt:o,afterTxt:s,selectionStart:a}=t.value;if(o==null||s==null||a==null)return;let l=i.length;if(i.endsWith(s))l=i.length-s.length;else if(i.startsWith(o))l=o.length;else{const u=o[a-1],c=i.indexOf(u,a-1);c!==-1&&(l=c+1)}e.value.setSelectionRange(l,l)}return[n,r]}const Xde=(e,t,n)=>Ag(e.subTree).filter(o=>{var s;return Ac(o)&&((s=o.type)==null?void 0:s.name)===t&&!!o.component}).map(o=>o.component.uid).map(o=>n[o]).filter(o=>!!o),Kde=(e,t)=>{const n={},r=Nl([]);return{children:r,addChild:s=>{n[s.uid]=s,r.value=Xde(e,t,n)},removeChild:s=>{delete n[s],r.value=r.value.filter(a=>a.uid!==s)}}},Cv=S2({type:String,values:$2,required:!1}),Jde=Symbol("size"),Qde=()=>{const e=et(Jde,{});return G(()=>P(e.size)||"")};var Wt=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n};const Zde=At({size:{type:Ge([Number,String])},color:{type:String}}),ehe=Ue({name:"ElIcon",inheritAttrs:!1}),the=Ue({...ehe,props:Zde,setup(e){const t=e,n=mt("icon"),r=G(()=>{const{size:i,color:o}=t;return!i&&!o?{}:{fontSize:sc(i)?void 0:Sv(i),"--color":o}});return(i,o)=>(re(),_e("i",xs({class:P(n).b(),style:P(r)},i.$attrs),[ht(i.$slots,"default")],16))}});var nhe=Wt(the,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const gn=Uo(nhe),Ph=Symbol("formContextKey"),Mc=Symbol("formItemContextKey"),Ih=(e,t={})=>{const n=me(void 0),r=t.prop?n:PL("size"),i=t.global?n:Qde(),o=t.form?{size:void 0}:et(Ph,void 0),s=t.formItem?{size:void 0}:et(Mc,void 0);return G(()=>r.value||P(e)||(s==null?void 0:s.size)||(o==null?void 0:o.size)||i.value||"")},s8=e=>{const t=PL("disabled"),n=et(Ph,void 0);return G(()=>t.value||P(e)||(n==null?void 0:n.disabled)||!1)},A2=()=>{const e=et(Ph,void 0),t=et(Mc,void 0);return{form:e,formItem:t}},a8=(e,{formItemContext:t,disableIdGeneration:n,disableIdManagement:r})=>{n||(n=me(!1)),r||(r=me(!1));const i=me();let o;const s=G(()=>{var a;return!!(!e.label&&t&&t.inputIds&&((a=t.inputIds)==null?void 0:a.length)<=1)});return nn(()=>{o=Pe([vl(e,"id"),n],([a,l])=>{const u=a??(l?void 0:o8().value);u!==i.value&&(t!=null&&t.removeInputId&&(i.value&&t.removeInputId(i.value),!(r!=null&&r.value)&&!l&&u&&t.addInputId(u)),i.value=u)},{immediate:!0})}),p2(()=>{o&&o(),t!=null&&t.removeInputId&&i.value&&t.removeInputId(i.value)}),{isLabeledByFormItem:s,inputId:i}},rhe=At({size:{type:String,values:$2},disabled:Boolean}),ihe=At({...rhe,model:Object,rules:{type:Ge(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),ohe={validate:(e,t,n)=>(ze(e)||Ye(e))&&Pl(t)&&Ye(n)};function she(){const e=me([]),t=G(()=>{if(!e.value.length)return"0";const o=Math.max(...e.value);return o?`${o}px`:""});function n(o){const s=e.value.indexOf(o);return s===-1&&t.value,s}function r(o,s){if(o&&s){const a=n(s);e.value.splice(a,1,o)}else o&&e.value.push(o)}function i(o){const s=n(o);s>-1&&e.value.splice(s,1)}return{autoLabelWidth:t,registerLabelWidth:r,deregisterLabelWidth:i}}const C1=(e,t)=>{const n=s0(t);return n.length>0?e.filter(r=>r.prop&&n.includes(r.prop)):e},ahe="ElForm",lhe=Ue({name:ahe}),uhe=Ue({...lhe,props:ihe,emits:ohe,setup(e,{expose:t,emit:n}){const r=e,i=[],o=Ih(),s=mt("form"),a=G(()=>{const{labelPosition:b,inline:x}=r;return[s.b(),s.m(o.value||"default"),{[s.m(`label-${b}`)]:b,[s.m("inline")]:x}]}),l=b=>{i.push(b)},u=b=>{b.prop&&i.splice(i.indexOf(b),1)},c=(b=[])=>{r.model&&C1(i,b).forEach(x=>x.resetField())},f=(b=[])=>{C1(i,b).forEach(x=>x.clearValidate())},h=G(()=>!!r.model),p=b=>{if(i.length===0)return[];const x=C1(i,b);return x.length?x:[]},g=async b=>y(void 0,b),m=async(b=[])=>{if(!h.value)return!1;const x=p(b);if(x.length===0)return!0;let w={};for(const _ of x)try{await _.validate("")}catch($){w={...w,...$}}return Object.keys(w).length===0?!0:Promise.reject(w)},y=async(b=[],x)=>{const w=!Ve(x);try{const _=await m(b);return _===!0&&(x==null||x(_)),_}catch(_){if(_ instanceof Error)throw _;const $=_;return r.scrollToError&&v(Object.keys($)[0]),x==null||x(!1,$),w&&Promise.reject($)}},v=b=>{var x;const w=C1(i,b)[0];w&&((x=w.$el)==null||x.scrollIntoView(r.scrollIntoViewOptions))};return Pe(()=>r.rules,()=>{r.validateOnRuleChange&&g().catch(b=>void 0)},{deep:!0}),Fn(Ph,oi({...Xg(r),emit:n,resetFields:c,clearValidate:f,validateField:y,addField:l,removeField:u,...she()})),t({validate:g,validateField:y,resetFields:c,clearValidate:f,scrollToField:v}),(b,x)=>(re(),_e("form",{class:Te(P(a))},[ht(b.$slots,"default")],2))}});var che=Wt(uhe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form.vue"]]);function ac(){return ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ac.apply(this,arguments)}function fhe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,u0(e,t)}function RE(e){return RE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},RE(e)}function u0(e,t){return u0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},u0(e,t)}function dhe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ny(e,t,n){return dhe()?Ny=Reflect.construct.bind():Ny=function(i,o,s){var a=[null];a.push.apply(a,o);var l=Function.bind.apply(i,a),u=new l;return s&&u0(u,s.prototype),u},Ny.apply(null,arguments)}function hhe(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function PE(e){var t=typeof Map=="function"?new Map:void 0;return PE=function(r){if(r===null||!hhe(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,i)}function i(){return Ny(r,arguments,RE(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),u0(i,r)},PE(e)}var phe=/%[sdj%]/g,ghe=function(){};typeof process<"u"&&process.env;function IE(e){if(!e||!e.length)return null;var t={};return e.forEach(function(n){var r=n.field;t[r]=t[r]||[],t[r].push(n)}),t}function bi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o=n.length;if(typeof e=="function")return e.apply(null,n);if(typeof e=="string"){var s=e.replace(phe,function(a){if(a==="%%")return"%";if(i>=o)return a;switch(a){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch{return"[Circular]"}break;default:return a}});return s}return e}function mhe(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="date"||e==="pattern"}function _n(e,t){return!!(e==null||t==="array"&&Array.isArray(e)&&!e.length||mhe(t)&&typeof e=="string"&&!e)}function yhe(e,t,n){var r=[],i=0,o=e.length;function s(a){r.push.apply(r,a||[]),i++,i===o&&n(r)}e.forEach(function(a){t(a,s)})}function Q9(e,t,n){var r=0,i=e.length;function o(s){if(s&&s.length){n(s);return}var a=r;r=r+1,a<i?t(e[a],o):n([])}o([])}function vhe(e){var t=[];return Object.keys(e).forEach(function(n){t.push.apply(t,e[n]||[])}),t}var Z9=function(e){fhe(t,e);function t(n,r){var i;return i=e.call(this,"Async Validation Error")||this,i.errors=n,i.fields=r,i}return t}(PE(Error));function bhe(e,t,n,r,i){if(t.first){var o=new Promise(function(h,p){var g=function(v){return r(v),v.length?p(new Z9(v,IE(v))):h(i)},m=vhe(e);Q9(m,n,g)});return o.catch(function(h){return h}),o}var s=t.firstFields===!0?Object.keys(e):t.firstFields||[],a=Object.keys(e),l=a.length,u=0,c=[],f=new Promise(function(h,p){var g=function(y){if(c.push.apply(c,y),u++,u===l)return r(c),c.length?p(new Z9(c,IE(c))):h(i)};a.length||(r(c),h(i)),a.forEach(function(m){var y=e[m];s.indexOf(m)!==-1?Q9(y,n,g):yhe(y,n,g)})});return f.catch(function(h){return h}),f}function xhe(e){return!!(e&&e.message!==void 0)}function whe(e,t){for(var n=e,r=0;r<t.length;r++){if(n==null)return n;n=n[t[r]]}return n}function e7(e,t){return function(n){var r;return e.fullFields?r=whe(t,e.fullFields):r=t[n.field||e.fullField],xhe(n)?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||e.fullField}}}function t7(e,t){if(t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];typeof r=="object"&&typeof e[n]=="object"?e[n]=ac({},e[n],r):e[n]=r}}return e}var KL=function(t,n,r,i,o,s){t.required&&(!r.hasOwnProperty(t.field)||_n(n,s||t.type))&&i.push(bi(o.messages.required,t.fullField))},_he=function(t,n,r,i,o){(/^\s+$/.test(n)||n==="")&&i.push(bi(o.messages.whitespace,t.fullField))},A1,Ehe=function(){if(A1)return A1;var e="[a-fA-F\\d:]",t=function(w){return w&&w.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=(`
(?:
(?:`+r+":){7}(?:"+r+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+r+":){6}(?:"+n+"|:"+r+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+r+":){5}(?::"+n+"|(?::"+r+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+r+"){0,5}:"+n+"|(?::"+r+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=new RegExp("(?:^"+n+"$)|(?:^"+i+"$)"),s=new RegExp("^"+n+"$"),a=new RegExp("^"+i+"$"),l=function(w){return w&&w.exact?o:new RegExp("(?:"+t(w)+n+t(w)+")|(?:"+t(w)+i+t(w)+")","g")};l.v4=function(x){return x&&x.exact?s:new RegExp(""+t(x)+n+t(x),"g")},l.v6=function(x){return x&&x.exact?a:new RegExp(""+t(x)+i+t(x),"g")};var u="(?:(?:[a-z]+:)?//)",c="(?:\\S+(?::\\S*)?@)?",f=l.v4().source,h=l.v6().source,p="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",g="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",m="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",y="(?::\\d{2,5})?",v='(?:[/?#][^\\s"]*)?',b="(?:"+u+"|www\\.)"+c+"(?:localhost|"+f+"|"+h+"|"+p+g+m+")"+y+v;return A1=new RegExp("(?:^"+b+"$)","i"),A1},n7={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Gp={integer:function(t){return Gp.number(t)&&parseInt(t,10)===t},float:function(t){return Gp.number(t)&&!Gp.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return typeof t=="object"&&!Gp.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(n7.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(Ehe())},hex:function(t){return typeof t=="string"&&!!t.match(n7.hex)}},She=function(t,n,r,i,o){if(t.required&&n===void 0){KL(t,n,r,i,o);return}var s=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=t.type;s.indexOf(a)>-1?Gp[a](n)||i.push(bi(o.messages.types[a],t.fullField,t.type)):a&&typeof n!==t.type&&i.push(bi(o.messages.types[a],t.fullField,t.type))},$he=function(t,n,r,i,o){var s=typeof t.len=="number",a=typeof t.min=="number",l=typeof t.max=="number",u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=n,f=null,h=typeof n=="number",p=typeof n=="string",g=Array.isArray(n);if(h?f="number":p?f="string":g&&(f="array"),!f)return!1;g&&(c=n.length),p&&(c=n.replace(u,"_").length),s?c!==t.len&&i.push(bi(o.messages[f].len,t.fullField,t.len)):a&&!l&&c<t.min?i.push(bi(o.messages[f].min,t.fullField,t.min)):l&&!a&&c>t.max?i.push(bi(o.messages[f].max,t.fullField,t.max)):a&&l&&(c<t.min||c>t.max)&&i.push(bi(o.messages[f].range,t.fullField,t.min,t.max))},Rf="enum",Che=function(t,n,r,i,o){t[Rf]=Array.isArray(t[Rf])?t[Rf]:[],t[Rf].indexOf(n)===-1&&i.push(bi(o.messages[Rf],t.fullField,t[Rf].join(", ")))},Ahe=function(t,n,r,i,o){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(n)||i.push(bi(o.messages.pattern.mismatch,t.fullField,n,t.pattern));else if(typeof t.pattern=="string"){var s=new RegExp(t.pattern);s.test(n)||i.push(bi(o.messages.pattern.mismatch,t.fullField,n,t.pattern))}}},rt={required:KL,whitespace:_he,type:She,range:$he,enum:Che,pattern:Ahe},khe=function(t,n,r,i,o){var s=[],a=t.required||!t.required&&i.hasOwnProperty(t.field);if(a){if(_n(n,"string")&&!t.required)return r();rt.required(t,n,i,s,o,"string"),_n(n,"string")||(rt.type(t,n,i,s,o),rt.range(t,n,i,s,o),rt.pattern(t,n,i,s,o),t.whitespace===!0&&rt.whitespace(t,n,i,s,o))}r(s)},Mhe=function(t,n,r,i,o){var s=[],a=t.required||!t.required&&i.hasOwnProperty(t.field);if(a){if(_n(n)&&!t.required)return r();rt.required(t,n,i,s,o),n!==void 0&&rt.type(t,n,i,s,o)}r(s)},The=function(t,n,r,i,o){var s=[],a=t.required||!t.required&&i.hasOwnProperty(t.field);if(a){if(n===""&&(n=void 0),_n(n)&&!t.required)return r();rt.required(t,n,i,s,o),n!==void 0&&(rt.type(t,n,i,s,o),rt.range(t,n,i,s,o))}r(s)},Ohe=function(t,n,r,i,o){var s=[],a=t.required||!t.required&&i.hasOwnProperty(t.field);if(a){if(_n(n)&&!t.required)return r();rt.required(t,n,i,s,o),n!==void 0&&rt.type(t,n,i,s,o)}r(s)},Fhe=function(t,n,r,i,o){var s=[],a=t.required||!t.required&&i.hasOwnProperty(t.field);if(a){if(_n(n)&&!t.required)return r();rt.required(t,n,i,s,o),_n(n)||rt.type(t,n,i,s,o)}r(s)},Nhe=function(t,n,r,i,o){var s=[],a=t.required||!t.required&&i.hasOwnProperty(t.field);if(a){if(_n(n)&&!t.required)return r();rt.required(t,n,i,s,o),n!==void 0&&(rt.type(t,n,i,s,o),rt.range(t,n,i,s,o))}r(s)},Rhe=function(t,n,r,i,o){var s=[],a=t.required||!t.required&&i.hasOwnProperty(t.field);if(a){if(_n(n)&&!t.required)return r();rt.required(t,n,i,s,o),n!==void 0&&(rt.type(t,n,i,s,o),rt.range(t,n,i,s,o))}r(s)},Phe=function(t,n,r,i,o){var s=[],a=t.required||!t.required&&i.hasOwnProperty(t.field);if(a){if(n==null&&!t.required)return r();rt.required(t,n,i,s,o,"array"),n!=null&&(rt.type(t,n,i,s,o),rt.range(t,n,i,s,o))}r(s)},Ihe=function(t,n,r,i,o){var s=[],a=t.required||!t.required&&i.hasOwnProperty(t.field);if(a){if(_n(n)&&!t.required)return r();rt.required(t,n,i,s,o),n!==void 0&&rt.type(t,n,i,s,o)}r(s)},Dhe="enum",Lhe=function(t,n,r,i,o){var s=[],a=t.required||!t.required&&i.hasOwnProperty(t.field);if(a){if(_n(n)&&!t.required)return r();rt.required(t,n,i,s,o),n!==void 0&&rt[Dhe](t,n,i,s,o)}r(s)},zhe=function(t,n,r,i,o){var s=[],a=t.required||!t.required&&i.hasOwnProperty(t.field);if(a){if(_n(n,"string")&&!t.required)return r();rt.required(t,n,i,s,o),_n(n,"string")||rt.pattern(t,n,i,s,o)}r(s)},Bhe=function(t,n,r,i,o){var s=[],a=t.required||!t.required&&i.hasOwnProperty(t.field);if(a){if(_n(n,"date")&&!t.required)return r();if(rt.required(t,n,i,s,o),!_n(n,"date")){var l;n instanceof Date?l=n:l=new Date(n),rt.type(t,l,i,s,o),l&&rt.range(t,l.getTime(),i,s,o)}}r(s)},jhe=function(t,n,r,i,o){var s=[],a=Array.isArray(n)?"array":typeof n;rt.required(t,n,i,s,o,a),r(s)},b_=function(t,n,r,i,o){var s=t.type,a=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(_n(n,s)&&!t.required)return r();rt.required(t,n,i,a,o,s),_n(n,s)||rt.type(t,n,i,a,o)}r(a)},Uhe=function(t,n,r,i,o){var s=[],a=t.required||!t.required&&i.hasOwnProperty(t.field);if(a){if(_n(n)&&!t.required)return r();rt.required(t,n,i,s,o)}r(s)},Tg={string:khe,method:Mhe,number:The,boolean:Ohe,regexp:Fhe,integer:Nhe,float:Rhe,array:Phe,object:Ihe,enum:Lhe,pattern:zhe,date:Bhe,url:b_,hex:b_,email:b_,required:jhe,any:Uhe};function DE(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var LE=DE(),fm=function(){function e(n){this.rules=null,this._messages=LE,this.define(n)}var t=e.prototype;return t.define=function(r){var i=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(o){var s=r[o];i.rules[o]=Array.isArray(s)?s:[s]})},t.messages=function(r){return r&&(this._messages=t7(DE(),r)),this._messages},t.validate=function(r,i,o){var s=this;i===void 0&&(i={}),o===void 0&&(o=function(){});var a=r,l=i,u=o;if(typeof l=="function"&&(u=l,l={}),!this.rules||Object.keys(this.rules).length===0)return u&&u(null,a),Promise.resolve(a);function c(m){var y=[],v={};function b(w){if(Array.isArray(w)){var _;y=(_=y).concat.apply(_,w)}else y.push(w)}for(var x=0;x<m.length;x++)b(m[x]);y.length?(v=IE(y),u(y,v)):u(null,a)}if(l.messages){var f=this.messages();f===LE&&(f=DE()),t7(f,l.messages),l.messages=f}else l.messages=this.messages();var h={},p=l.keys||Object.keys(this.rules);p.forEach(function(m){var y=s.rules[m],v=a[m];y.forEach(function(b){var x=b;typeof x.transform=="function"&&(a===r&&(a=ac({},a)),v=a[m]=x.transform(v)),typeof x=="function"?x={validator:x}:x=ac({},x),x.validator=s.getValidationMethod(x),x.validator&&(x.field=m,x.fullField=x.fullField||m,x.type=s.getType(x),h[m]=h[m]||[],h[m].push({rule:x,value:v,source:a,field:m}))})});var g={};return bhe(h,l,function(m,y){var v=m.rule,b=(v.type==="object"||v.type==="array")&&(typeof v.fields=="object"||typeof v.defaultField=="object");b=b&&(v.required||!v.required&&m.value),v.field=m.field;function x($,S){return ac({},S,{fullField:v.fullField+"."+$,fullFields:v.fullFields?[].concat(v.fullFields,[$]):[$]})}function w($){$===void 0&&($=[]);var S=Array.isArray($)?$:[$];!l.suppressWarning&&S.length&&e.warning("async-validator:",S),S.length&&v.message!==void 0&&(S=[].concat(v.message));var C=S.map(e7(v,a));if(l.first&&C.length)return g[v.field]=1,y(C);if(!b)y(C);else{if(v.required&&!m.value)return v.message!==void 0?C=[].concat(v.message).map(e7(v,a)):l.error&&(C=[l.error(v,bi(l.messages.required,v.field))]),y(C);var T={};v.defaultField&&Object.keys(m.value).map(function(N){T[N]=v.defaultField}),T=ac({},T,m.rule.fields);var M={};Object.keys(T).forEach(function(N){var k=T[N],A=Array.isArray(k)?k:[k];M[N]=A.map(x.bind(null,N))});var E=new e(M);E.messages(l.messages),m.rule.options&&(m.rule.options.messages=l.messages,m.rule.options.error=l.error),E.validate(m.value,m.rule.options||l,function(N){var k=[];C&&C.length&&k.push.apply(k,C),N&&N.length&&k.push.apply(k,N),y(k.length?k:null)})}}var _;if(v.asyncValidator)_=v.asyncValidator(v,m.value,w,m.source,l);else if(v.validator){try{_=v.validator(v,m.value,w,m.source,l)}catch($){console.error==null||console.error($),l.suppressValidatorError||setTimeout(function(){throw $},0),w($.message)}_===!0?w():_===!1?w(typeof v.message=="function"?v.message(v.fullField||v.field):v.message||(v.fullField||v.field)+" fails"):_ instanceof Array?w(_):_ instanceof Error&&w(_.message)}_&&_.then&&_.then(function(){return w()},function($){return w($)})},function(m){c(m)},a)},t.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!Tg.hasOwnProperty(r.type))throw new Error(bi("Unknown rule type %s",r.type));return r.type||"string"},t.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var i=Object.keys(r),o=i.indexOf("message");return o!==-1&&i.splice(o,1),i.length===1&&i[0]==="required"?Tg.required:Tg[this.getType(r)]||void 0},e}();fm.register=function(t,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");Tg[t]=n};fm.warning=ghe;fm.messages=LE;fm.validators=Tg;const qhe=["","error","validating","success"],Vhe=At({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:Ge([String,Array])},required:{type:Boolean,default:void 0},rules:{type:Ge([Object,Array])},error:String,validateStatus:{type:String,values:qhe},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:$2}}),r7="ElLabelWrap";var Hhe=Ue({name:r7,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(e,{slots:t}){const n=et(Ph,void 0),r=et(Mc);r||Oo(r7,"usage: <el-form-item><label-wrap /></el-form-item>");const i=mt("form"),o=me(),s=me(0),a=()=>{var c;if((c=o.value)!=null&&c.firstElementChild){const f=window.getComputedStyle(o.value.firstElementChild).width;return Math.ceil(Number.parseFloat(f))}else return 0},l=(c="update")=>{Qt(()=>{t.default&&e.isAutoWidth&&(c==="update"?s.value=a():c==="remove"&&(n==null||n.deregisterLabelWidth(s.value)))})},u=()=>l("update");return nn(()=>{u()}),si(()=>{l("remove")}),rm(()=>u()),Pe(s,(c,f)=>{e.updateAll&&(n==null||n.registerLabelWidth(c,f))}),sm(G(()=>{var c,f;return(f=(c=o.value)==null?void 0:c.firstElementChild)!=null?f:null}),u),()=>{var c,f;if(!t)return null;const{isAutoWidth:h}=e;if(h){const p=n==null?void 0:n.autoLabelWidth,g=r==null?void 0:r.hasLabel,m={};if(g&&p&&p!=="auto"){const y=Math.max(0,Number.parseInt(p,10)-s.value),v=n.labelPosition==="left"?"marginRight":"marginLeft";y&&(m[v]=`${y}px`)}return V("div",{ref:o,class:[i.be("item","label-wrap")],style:m},[(c=t.default)==null?void 0:c.call(t)])}else return V(Lt,{ref:o},[(f=t.default)==null?void 0:f.call(t)])}}});const Whe=["role","aria-labelledby"],Ghe=Ue({name:"ElFormItem"}),Yhe=Ue({...Ghe,props:Vhe,setup(e,{expose:t}){const n=e,r=T4(),i=et(Ph,void 0),o=et(Mc,void 0),s=Ih(void 0,{formItem:!1}),a=mt("form-item"),l=o8().value,u=me([]),c=me(""),f=eie(c,100),h=me(""),p=me();let g,m=!1;const y=G(()=>{if((i==null?void 0:i.labelPosition)==="top")return{};const B=Sv(n.labelWidth||(i==null?void 0:i.labelWidth)||"");return B?{width:B}:{}}),v=G(()=>{if((i==null?void 0:i.labelPosition)==="top"||i!=null&&i.inline)return{};if(!n.label&&!n.labelWidth&&T)return{};const B=Sv(n.labelWidth||(i==null?void 0:i.labelWidth)||"");return!n.label&&!r.label?{marginLeft:B}:{}}),b=G(()=>[a.b(),a.m(s.value),a.is("error",c.value==="error"),a.is("validating",c.value==="validating"),a.is("success",c.value==="success"),a.is("required",A.value||n.required),a.is("no-asterisk",i==null?void 0:i.hideRequiredAsterisk),(i==null?void 0:i.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[a.m("feedback")]:i==null?void 0:i.statusIcon}]),x=G(()=>Pl(n.inlineMessage)?n.inlineMessage:(i==null?void 0:i.inlineMessage)||!1),w=G(()=>[a.e("error"),{[a.em("error","inline")]:x.value}]),_=G(()=>n.prop?Ye(n.prop)?n.prop:n.prop.join("."):""),$=G(()=>!!(n.label||r.label)),S=G(()=>n.for||u.value.length===1?u.value[0]:void 0),C=G(()=>!S.value&&$.value),T=!!o,M=G(()=>{const B=i==null?void 0:i.model;if(!(!B||!n.prop))return y_(B,n.prop).value}),E=G(()=>{const{required:B}=n,Q=[];n.rules&&Q.push(...s0(n.rules));const q=i==null?void 0:i.rules;if(q&&n.prop){const K=y_(q,n.prop).value;K&&Q.push(...s0(K))}if(B!==void 0){const K=Q.map((ce,I)=>[ce,I]).filter(([ce])=>Object.keys(ce).includes("required"));if(K.length>0)for(const[ce,I]of K)ce.required!==B&&(Q[I]={...ce,required:B});else Q.push({required:B})}return Q}),N=G(()=>E.value.length>0),k=B=>E.value.filter(q=>!q.trigger||!B?!0:Array.isArray(q.trigger)?q.trigger.includes(B):q.trigger===B).map(({trigger:q,...K})=>K),A=G(()=>E.value.some(B=>B.required)),O=G(()=>{var B;return f.value==="error"&&n.showMessage&&((B=i==null?void 0:i.showMessage)!=null?B:!0)}),F=G(()=>`${n.label||""}${(i==null?void 0:i.labelSuffix)||""}`),R=B=>{c.value=B},D=B=>{var Q,q;const{errors:K,fields:ce}=B;(!K||!ce)&&console.error(B),R("error"),h.value=K?(q=(Q=K==null?void 0:K[0])==null?void 0:Q.message)!=null?q:`${n.prop} is required`:"",i==null||i.emit("validate",n.prop,!1,h.value)},z=()=>{R("success"),i==null||i.emit("validate",n.prop,!0,"")},U=async B=>{const Q=_.value;return new fm({[Q]:B}).validate({[Q]:M.value},{firstFields:!0}).then(()=>(z(),!0)).catch(K=>(D(K),Promise.reject(K)))},H=async(B,Q)=>{if(m||!n.prop)return!1;const q=Ve(Q);if(!N.value)return Q==null||Q(!1),!1;const K=k(B);return K.length===0?(Q==null||Q(!0),!0):(R("validating"),U(K).then(()=>(Q==null||Q(!0),!0)).catch(ce=>{const{fields:I}=ce;return Q==null||Q(!1,I),q?!1:Promise.reject(I)}))},W=()=>{R(""),h.value="",m=!1},he=async()=>{const B=i==null?void 0:i.model;if(!B||!n.prop)return;const Q=y_(B,n.prop);m=!0,Q.value=P9(g),await Qt(),W(),m=!1},ae=B=>{u.value.includes(B)||u.value.push(B)},Ce=B=>{u.value=u.value.filter(Q=>Q!==B)};Pe(()=>n.error,B=>{h.value=B||"",R(B?"error":"")},{immediate:!0}),Pe(()=>n.validateStatus,B=>R(B||""));const xe=oi({...Xg(n),$el:p,size:s,validateState:c,labelId:l,inputIds:u,isGroup:C,hasLabel:$,addInputId:ae,removeInputId:Ce,resetField:he,clearValidate:W,validate:H});return Fn(Mc,xe),nn(()=>{n.prop&&(i==null||i.addField(xe),g=P9(M.value))}),si(()=>{i==null||i.removeField(xe)}),t({size:s,validateMessage:h,validateState:c,validate:H,clearValidate:W,resetField:he}),(B,Q)=>{var q;return re(),_e("div",{ref_key:"formItemRef",ref:p,class:Te(P(b)),role:P(C)?"group":void 0,"aria-labelledby":P(C)?P(l):void 0},[V(P(Hhe),{"is-auto-width":P(y).width==="auto","update-all":((q=P(i))==null?void 0:q.labelWidth)==="auto"},{default:oe(()=>[P($)?(re(),tt(va(P(S)?"label":"div"),{key:0,id:P(l),for:P(S),class:Te(P(a).e("label")),style:rr(P(y))},{default:oe(()=>[ht(B.$slots,"label",{label:P(F)},()=>[bl(Hr(P(F)),1)])]),_:3},8,["id","for","class","style"])):Qe("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),be("div",{class:Te(P(a).e("content")),style:rr(P(v))},[ht(B.$slots,"default"),V(dne,{name:`${P(a).namespace.value}-zoom-in-top`},{default:oe(()=>[P(O)?ht(B.$slots,"error",{key:0,error:h.value},()=>[be("div",{class:Te(P(w))},Hr(h.value),3)]):Qe("v-if",!0)]),_:3},8,["name"])],6)],10,Whe)}}});var JL=Wt(Yhe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form-item.vue"]]);const Xhe=Uo(che,{FormItem:JL}),Khe=Rh(JL);let no;const Jhe=`
  height:0 !important;
  visibility:hidden !important;
  ${gie()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,Qhe=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Zhe(e){const t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing"),r=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),i=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:Qhe.map(s=>`${s}:${t.getPropertyValue(s)}`).join(";"),paddingSize:r,borderSize:i,boxSizing:n}}function i7(e,t=1,n){var r;no||(no=document.createElement("textarea"),document.body.appendChild(no));const{paddingSize:i,borderSize:o,boxSizing:s,contextStyle:a}=Zhe(e);no.setAttribute("style",`${a};${Jhe}`),no.value=e.value||e.placeholder||"";let l=no.scrollHeight;const u={};s==="border-box"?l=l+o:s==="content-box"&&(l=l-i),no.value="";const c=no.scrollHeight-i;if(Yt(t)){let f=c*t;s==="border-box"&&(f=f+i+o),l=Math.max(f,l),u.minHeight=`${f}px`}if(Yt(n)){let f=c*n;s==="border-box"&&(f=f+i+o),l=Math.min(f,l)}return u.height=`${l}px`,(r=no.parentNode)==null||r.removeChild(no),no=void 0,u}const epe=At({id:{type:String,default:void 0},size:Cv,disabled:Boolean,modelValue:{type:Ge([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:Ge([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:wl},prefixIcon:{type:wl},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:Ge([Object,Array,String]),default:()=>am({})}}),tpe={[un]:e=>Ye(e),input:e=>Ye(e),change:e=>Ye(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},npe=["role"],rpe=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],ipe=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],ope=Ue({name:"ElInput",inheritAttrs:!1}),spe=Ue({...ope,props:epe,emits:tpe,setup(e,{expose:t,emit:n}){const r=e,i=cte(),o=T4(),s=G(()=>{const J={};return r.containerRole==="combobox"&&(J["aria-haspopup"]=i["aria-haspopup"],J["aria-owns"]=i["aria-owns"],J["aria-expanded"]=i["aria-expanded"]),J}),a=G(()=>[r.type==="textarea"?y.b():m.b(),m.m(p.value),m.is("disabled",g.value),m.is("exceed",H.value),{[m.b("group")]:o.prepend||o.append,[m.bm("group","append")]:o.append,[m.bm("group","prepend")]:o.prepend,[m.m("prefix")]:o.prefix||r.prefixIcon,[m.m("suffix")]:o.suffix||r.suffixIcon||r.clearable||r.showPassword,[m.bm("suffix","password-clear")]:R.value&&D.value},i.class]),l=G(()=>[m.e("wrapper"),m.is("focus",x.value)]),u=Efe({excludeKeys:G(()=>Object.keys(s.value))}),{form:c,formItem:f}=A2(),{inputId:h}=a8(r,{formItemContext:f}),p=Ih(),g=s8(),m=mt("input"),y=mt("textarea"),v=Nl(),b=Nl(),x=me(!1),w=me(!1),_=me(!1),$=me(!1),S=me(),C=Nl(r.inputStyle),T=G(()=>v.value||b.value),M=G(()=>{var J;return(J=c==null?void 0:c.statusIcon)!=null?J:!1}),E=G(()=>(f==null?void 0:f.validateState)||""),N=G(()=>E.value&&vfe[E.value]),k=G(()=>$.value?cfe:Bue),A=G(()=>[i.style,r.inputStyle]),O=G(()=>[r.inputStyle,C.value,{resize:r.resize}]),F=G(()=>So(r.modelValue)?"":String(r.modelValue)),R=G(()=>r.clearable&&!g.value&&!r.readonly&&!!F.value&&(x.value||w.value)),D=G(()=>r.showPassword&&!g.value&&!r.readonly&&!!F.value&&(!!F.value||x.value)),z=G(()=>r.showWordLimit&&!!u.value.maxlength&&(r.type==="text"||r.type==="textarea")&&!g.value&&!r.readonly&&!r.showPassword),U=G(()=>F.value.length),H=G(()=>!!z.value&&U.value>Number(u.value.maxlength)),W=G(()=>!!o.suffix||!!r.suffixIcon||R.value||r.showPassword||z.value||!!E.value&&M.value),[he,ae]=Yde(v);sm(b,J=>{if(B(),!z.value||r.resize!=="both")return;const Se=J[0],{width:qe}=Se.contentRect;S.value={right:`calc(100% - ${qe+15+6}px)`}});const Ce=()=>{const{type:J,autosize:Se}=r;if(!(!Si||J!=="textarea"||!b.value))if(Se){const qe=gt(Se)?Se.minRows:void 0,ut=gt(Se)?Se.maxRows:void 0,ct=i7(b.value,qe,ut);C.value={overflowY:"hidden",...ct},Qt(()=>{b.value.offsetHeight,C.value=ct})}else C.value={minHeight:i7(b.value).minHeight}},B=(J=>{let Se=!1;return()=>{var qe;if(Se||!r.autosize)return;((qe=b.value)==null?void 0:qe.offsetParent)===null||(J(),Se=!0)}})(Ce),Q=()=>{const J=T.value,Se=r.formatter?r.formatter(F.value):F.value;!J||J.value===Se||(J.value=Se)},q=async J=>{he();let{value:Se}=J.target;if(r.formatter&&(Se=r.parser?r.parser(Se):Se),!_.value){if(Se===F.value){Q();return}n(un,Se),n("input",Se),await Qt(),Q(),ae()}},K=J=>{n("change",J.target.value)},ce=J=>{n("compositionstart",J),_.value=!0},I=J=>{var Se;n("compositionupdate",J);const qe=(Se=J.target)==null?void 0:Se.value,ut=qe[qe.length-1]||"";_.value=!xfe(ut)},L=J=>{n("compositionend",J),_.value&&(_.value=!1,q(J))},j=()=>{$.value=!$.value,X()},X=async()=>{var J;await Qt(),(J=T.value)==null||J.focus()},ee=()=>{var J;return(J=T.value)==null?void 0:J.blur()},Y=J=>{x.value=!0,n("focus",J)},ue=J=>{var Se;x.value=!1,n("blur",J),r.validateEvent&&((Se=f==null?void 0:f.validate)==null||Se.call(f,"blur").catch(qe=>void 0))},pe=J=>{w.value=!1,n("mouseleave",J)},fe=J=>{w.value=!0,n("mouseenter",J)},se=J=>{n("keydown",J)},Re=()=>{var J;(J=T.value)==null||J.select()},Me=()=>{n(un,""),n("change",""),n("clear"),n("input","")};return Pe(()=>r.modelValue,()=>{var J;Qt(()=>Ce()),r.validateEvent&&((J=f==null?void 0:f.validate)==null||J.call(f,"change").catch(Se=>void 0))}),Pe(F,()=>Q()),Pe(()=>r.type,async()=>{await Qt(),Q(),Ce()}),nn(()=>{!r.formatter&&r.parser,Q(),Qt(Ce)}),t({input:v,textarea:b,ref:T,textareaStyle:O,autosize:vl(r,"autosize"),focus:X,blur:ee,select:Re,clear:Me,resizeTextarea:Ce}),(J,Se)=>Vl((re(),_e("div",xs(P(s),{class:P(a),style:P(A),role:J.containerRole,onMouseenter:fe,onMouseleave:pe}),[Qe(" input "),J.type!=="textarea"?(re(),_e(Lt,{key:0},[Qe(" prepend slot "),J.$slots.prepend?(re(),_e("div",{key:0,class:Te(P(m).be("group","prepend"))},[ht(J.$slots,"prepend")],2)):Qe("v-if",!0),be("div",{class:Te(P(l))},[Qe(" prefix slot "),J.$slots.prefix||J.prefixIcon?(re(),_e("span",{key:0,class:Te(P(m).e("prefix"))},[be("span",{class:Te(P(m).e("prefix-inner")),onClick:X},[ht(J.$slots,"prefix"),J.prefixIcon?(re(),tt(P(gn),{key:0,class:Te(P(m).e("icon"))},{default:oe(()=>[(re(),tt(va(J.prefixIcon)))]),_:1},8,["class"])):Qe("v-if",!0)],2)],2)):Qe("v-if",!0),be("input",xs({id:P(h),ref_key:"input",ref:v,class:P(m).e("inner")},P(u),{type:J.showPassword?$.value?"text":"password":J.type,disabled:P(g),formatter:J.formatter,parser:J.parser,readonly:J.readonly,autocomplete:J.autocomplete,tabindex:J.tabindex,"aria-label":J.label,placeholder:J.placeholder,style:J.inputStyle,form:r.form,onCompositionstart:ce,onCompositionupdate:I,onCompositionend:L,onInput:q,onFocus:Y,onBlur:ue,onChange:K,onKeydown:se}),null,16,rpe),Qe(" suffix slot "),P(W)?(re(),_e("span",{key:1,class:Te(P(m).e("suffix"))},[be("span",{class:Te(P(m).e("suffix-inner")),onClick:X},[!P(R)||!P(D)||!P(z)?(re(),_e(Lt,{key:0},[ht(J.$slots,"suffix"),J.suffixIcon?(re(),tt(P(gn),{key:0,class:Te(P(m).e("icon"))},{default:oe(()=>[(re(),tt(va(J.suffixIcon)))]),_:1},8,["class"])):Qe("v-if",!0)],64)):Qe("v-if",!0),P(R)?(re(),tt(P(gn),{key:1,class:Te([P(m).e("icon"),P(m).e("clear")]),onMousedown:tr(P(cr),["prevent"]),onClick:Me},{default:oe(()=>[V(P(kL))]),_:1},8,["class","onMousedown"])):Qe("v-if",!0),P(D)?(re(),tt(P(gn),{key:2,class:Te([P(m).e("icon"),P(m).e("password")]),onClick:j},{default:oe(()=>[(re(),tt(va(P(k))))]),_:1},8,["class"])):Qe("v-if",!0),P(z)?(re(),_e("span",{key:3,class:Te(P(m).e("count"))},[be("span",{class:Te(P(m).e("count-inner"))},Hr(P(U))+" / "+Hr(P(u).maxlength),3)],2)):Qe("v-if",!0),P(E)&&P(N)&&P(M)?(re(),tt(P(gn),{key:4,class:Te([P(m).e("icon"),P(m).e("validateIcon"),P(m).is("loading",P(E)==="validating")])},{default:oe(()=>[(re(),tt(va(P(N))))]),_:1},8,["class"])):Qe("v-if",!0)],2)],2)):Qe("v-if",!0)],2),Qe(" append slot "),J.$slots.append?(re(),_e("div",{key:1,class:Te(P(m).be("group","append"))},[ht(J.$slots,"append")],2)):Qe("v-if",!0)],64)):(re(),_e(Lt,{key:1},[Qe(" textarea "),be("textarea",xs({id:P(h),ref_key:"textarea",ref:b,class:P(y).e("inner")},P(u),{tabindex:J.tabindex,disabled:P(g),readonly:J.readonly,autocomplete:J.autocomplete,style:P(O),"aria-label":J.label,placeholder:J.placeholder,form:r.form,onCompositionstart:ce,onCompositionupdate:I,onCompositionend:L,onInput:q,onFocus:Y,onBlur:ue,onChange:K,onKeydown:se}),null,16,ipe),P(z)?(re(),_e("span",{key:0,style:rr(S.value),class:Te(P(m).e("count"))},Hr(P(U))+" / "+Hr(P(u).maxlength),7)):Qe("v-if",!0)],64))],16,npe)),[[om,J.type!=="hidden"]])}});var ape=Wt(spe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const QL=Uo(ape),l8=Symbol("popper"),ZL=Symbol("popperContent"),lpe=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],ez=At({role:{type:String,values:lpe,default:"tooltip"}}),upe=Ue({name:"ElPopper",inheritAttrs:!1}),cpe=Ue({...upe,props:ez,setup(e,{expose:t}){const n=e,r=me(),i=me(),o=me(),s=me(),a=G(()=>n.role),l={triggerRef:r,popperInstanceRef:i,contentRef:o,referenceRef:s,role:a};return t(l),Fn(l8,l),(u,c)=>ht(u.$slots,"default")}});var fpe=Wt(cpe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const tz=At({arrowOffset:{type:Number,default:5}}),dpe=Ue({name:"ElPopperArrow",inheritAttrs:!1}),hpe=Ue({...dpe,props:tz,setup(e,{expose:t}){const n=e,r=mt("popper"),{arrowOffset:i,arrowRef:o,arrowStyle:s}=et(ZL,void 0);return Pe(()=>n.arrowOffset,a=>{i.value=a}),si(()=>{o.value=void 0}),t({arrowRef:o}),(a,l)=>(re(),_e("span",{ref_key:"arrowRef",ref:o,class:Te(P(r).e("arrow")),style:rr(P(s)),"data-popper-arrow":""},null,6))}});var ppe=Wt(hpe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const gpe="ElOnlyChild",mpe=Ue({name:gpe,setup(e,{slots:t,attrs:n}){var r;const i=et(XL),o=Vde((r=i==null?void 0:i.setForwardRef)!=null?r:cr);return()=>{var s;const a=(s=t.default)==null?void 0:s.call(t,n);if(!a||a.length>1)return null;const l=nz(a);return l?Vl(Ta(l,n),[[o]]):null}}});function nz(e){if(!e)return null;const t=e;for(const n of t){if(gt(n))switch(n.type){case Ei:continue;case im:case"svg":return o7(n);case Lt:return nz(n.children);default:return n}return o7(n)}return null}function o7(e){const t=mt("only-child");return V("span",{class:t.e("content")},[e])}const rz=At({virtualRef:{type:Ge(Object)},virtualTriggering:Boolean,onMouseenter:{type:Ge(Function)},onMouseleave:{type:Ge(Function)},onClick:{type:Ge(Function)},onKeydown:{type:Ge(Function)},onFocus:{type:Ge(Function)},onBlur:{type:Ge(Function)},onContextmenu:{type:Ge(Function)},id:String,open:Boolean}),ype=Ue({name:"ElPopperTrigger",inheritAttrs:!1}),vpe=Ue({...ype,props:rz,setup(e,{expose:t}){const n=e,{role:r,triggerRef:i}=et(l8,void 0);qde(i);const o=G(()=>a.value?n.id:void 0),s=G(()=>{if(r&&r.value==="tooltip")return n.open&&n.id?n.id:void 0}),a=G(()=>{if(r&&r.value!=="tooltip")return r.value}),l=G(()=>a.value?`${n.open}`:void 0);let u;return nn(()=>{Pe(()=>n.virtualRef,c=>{c&&(i.value=xl(c))},{immediate:!0}),Pe(i,(c,f)=>{u==null||u(),u=void 0,Ev(c)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(h=>{var p;const g=n[h];g&&(c.addEventListener(h.slice(2).toLowerCase(),g),(p=f==null?void 0:f.removeEventListener)==null||p.call(f,h.slice(2).toLowerCase(),g))}),u=Pe([o,s,a,l],h=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((p,g)=>{So(h[g])?c.removeAttribute(p):c.setAttribute(p,h[g])})},{immediate:!0})),Ev(f)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(h=>f.removeAttribute(h))},{immediate:!0})}),si(()=>{u==null||u(),u=void 0}),t({triggerRef:i}),(c,f)=>c.virtualTriggering?Qe("v-if",!0):(re(),tt(P(mpe),xs({key:0},c.$attrs,{"aria-controls":P(o),"aria-describedby":P(s),"aria-expanded":P(l),"aria-haspopup":P(a)}),{default:oe(()=>[ht(c.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var bpe=Wt(vpe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]);const x_="focus-trap.focus-after-trapped",w_="focus-trap.focus-after-released",xpe="focus-trap.focusout-prevented",s7={cancelable:!0,bubbles:!1},wpe={cancelable:!0,bubbles:!1},a7="focusAfterTrapped",l7="focusAfterReleased",_pe=Symbol("elFocusTrap"),u8=me(),k2=me(0),c8=me(0);let k1=0;const iz=e=>{const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0||r===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t},u7=(e,t)=>{for(const n of e)if(!Epe(n,t))return n},Epe=(e,t)=>{if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1},Spe=e=>{const t=iz(e),n=u7(t,e),r=u7(t.reverse(),e);return[n,r]},$pe=e=>e instanceof HTMLInputElement&&"select"in e,rl=(e,t)=>{if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),c8.value=window.performance.now(),e!==n&&$pe(e)&&t&&e.select()}};function c7(e,t){const n=[...e],r=e.indexOf(t);return r!==-1&&n.splice(r,1),n}const Cpe=()=>{let e=[];return{push:r=>{const i=e[0];i&&r!==i&&i.pause(),e=c7(e,r),e.unshift(r)},remove:r=>{var i,o;e=c7(e,r),(o=(i=e[0])==null?void 0:i.resume)==null||o.call(i)}}},Ape=(e,t=!1)=>{const n=document.activeElement;for(const r of e)if(rl(r,t),document.activeElement!==n)return},f7=Cpe(),kpe=()=>k2.value>c8.value,M1=()=>{u8.value="pointer",k2.value=window.performance.now()},d7=()=>{u8.value="keyboard",k2.value=window.performance.now()},Mpe=()=>(nn(()=>{k1===0&&(document.addEventListener("mousedown",M1),document.addEventListener("touchstart",M1),document.addEventListener("keydown",d7)),k1++}),si(()=>{k1--,k1<=0&&(document.removeEventListener("mousedown",M1),document.removeEventListener("touchstart",M1),document.removeEventListener("keydown",d7))}),{focusReason:u8,lastUserFocusTimestamp:k2,lastAutomatedFocusTimestamp:c8}),T1=e=>new CustomEvent(xpe,{...wpe,detail:e}),Tpe=Ue({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[a7,l7,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:t}){const n=me();let r,i;const{focusReason:o}=Mpe();Lde(g=>{e.trapped&&!s.paused&&t("release-requested",g)});const s={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},a=g=>{if(!e.loop&&!e.trapped||s.paused)return;const{key:m,altKey:y,ctrlKey:v,metaKey:b,currentTarget:x,shiftKey:w}=g,{loop:_}=e,$=m===pn.tab&&!y&&!v&&!b,S=document.activeElement;if($&&S){const C=x,[T,M]=Spe(C);if(T&&M){if(!w&&S===M){const N=T1({focusReason:o.value});t("focusout-prevented",N),N.defaultPrevented||(g.preventDefault(),_&&rl(T,!0))}else if(w&&[T,C].includes(S)){const N=T1({focusReason:o.value});t("focusout-prevented",N),N.defaultPrevented||(g.preventDefault(),_&&rl(M,!0))}}else if(S===C){const N=T1({focusReason:o.value});t("focusout-prevented",N),N.defaultPrevented||g.preventDefault()}}};Fn(_pe,{focusTrapRef:n,onKeydown:a}),Pe(()=>e.focusTrapEl,g=>{g&&(n.value=g)},{immediate:!0}),Pe([n],([g],[m])=>{g&&(g.addEventListener("keydown",a),g.addEventListener("focusin",c),g.addEventListener("focusout",f)),m&&(m.removeEventListener("keydown",a),m.removeEventListener("focusin",c),m.removeEventListener("focusout",f))});const l=g=>{t(a7,g)},u=g=>t(l7,g),c=g=>{const m=P(n);if(!m)return;const y=g.target,v=g.relatedTarget,b=y&&m.contains(y);e.trapped||v&&m.contains(v)||(r=v),b&&t("focusin",g),!s.paused&&e.trapped&&(b?i=y:rl(i,!0))},f=g=>{const m=P(n);if(!(s.paused||!m))if(e.trapped){const y=g.relatedTarget;!So(y)&&!m.contains(y)&&setTimeout(()=>{if(!s.paused&&e.trapped){const v=T1({focusReason:o.value});t("focusout-prevented",v),v.defaultPrevented||rl(i,!0)}},0)}else{const y=g.target;y&&m.contains(y)||t("focusout",g)}};async function h(){await Qt();const g=P(n);if(g){f7.push(s);const m=g.contains(document.activeElement)?r:document.activeElement;if(r=m,!g.contains(m)){const v=new Event(x_,s7);g.addEventListener(x_,l),g.dispatchEvent(v),v.defaultPrevented||Qt(()=>{let b=e.focusStartEl;Ye(b)||(rl(b),document.activeElement!==b&&(b="first")),b==="first"&&Ape(iz(g),!0),(document.activeElement===m||b==="container")&&rl(g)})}}}function p(){const g=P(n);if(g){g.removeEventListener(x_,l);const m=new CustomEvent(w_,{...s7,detail:{focusReason:o.value}});g.addEventListener(w_,u),g.dispatchEvent(m),!m.defaultPrevented&&(o.value=="keyboard"||!kpe()||g.contains(document.activeElement))&&rl(r??document.body),g.removeEventListener(w_,l),f7.remove(s)}}return nn(()=>{e.trapped&&h(),Pe(()=>e.trapped,g=>{g?h():p()})}),si(()=>{e.trapped&&p()}),{onKeydown:a}}});function Ope(e,t,n,r,i,o){return ht(e.$slots,"default",{handleKeydown:e.onKeydown})}var Fpe=Wt(Tpe,[["render",Ope],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const Npe=["fixed","absolute"],Rpe=At({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:Ge(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:um,default:"bottom"},popperOptions:{type:Ge(Object),default:()=>({})},strategy:{type:String,values:Npe,default:"absolute"}}),oz=At({...Rpe,id:String,style:{type:Ge([String,Array,Object])},className:{type:Ge([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:Ge([String,Array,Object])},popperStyle:{type:Ge([String,Array,Object])},referenceEl:{type:Ge(Object)},triggerTargetEl:{type:Ge(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),Ppe={mouseenter:e=>e instanceof MouseEvent,mouseleave:e=>e instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},Ipe=(e,t=[])=>{const{placement:n,strategy:r,popperOptions:i}=e,o={placement:n,strategy:r,...i,modifiers:[...Lpe(e),...t]};return zpe(o,i==null?void 0:i.modifiers),o},Dpe=e=>{if(Si)return xl(e)};function Lpe(e){const{offset:t,gpuAcceleration:n,fallbackPlacements:r}=e;return[{name:"offset",options:{offset:[0,t??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:r}},{name:"computeStyles",options:{gpuAcceleration:n}}]}function zpe(e,t){t&&(e.modifiers=[...e.modifiers,...t??[]])}const Bpe=0,jpe=e=>{const{popperInstanceRef:t,contentRef:n,triggerRef:r,role:i}=et(l8,void 0),o=me(),s=me(),a=G(()=>({name:"eventListeners",enabled:!!e.visible})),l=G(()=>{var v;const b=P(o),x=(v=P(s))!=null?v:Bpe;return{name:"arrow",enabled:!jle(b),options:{element:b,padding:x}}}),u=G(()=>({onFirstUpdate:()=>{g()},...Ipe(e,[P(l),P(a)])})),c=G(()=>Dpe(e.referenceEl)||P(r)),{attributes:f,state:h,styles:p,update:g,forceUpdate:m,instanceRef:y}=Pde(c,n,u);return Pe(y,v=>t.value=v),nn(()=>{Pe(()=>{var v;return(v=P(c))==null?void 0:v.getBoundingClientRect()},()=>{g()})}),{attributes:f,arrowRef:o,contentRef:n,instanceRef:y,state:h,styles:p,role:i,forceUpdate:m,update:g}},Upe=(e,{attributes:t,styles:n,role:r})=>{const{nextZIndex:i}=Gde(),o=mt("popper"),s=G(()=>P(t).popper),a=me(e.zIndex||i()),l=G(()=>[o.b(),o.is("pure",e.pure),o.is(e.effect),e.popperClass]),u=G(()=>[{zIndex:P(a)},P(n).popper,e.popperStyle||{}]),c=G(()=>r.value==="dialog"?"false":void 0),f=G(()=>P(n).arrow||{});return{ariaModal:c,arrowStyle:f,contentAttrs:s,contentClass:l,contentStyle:u,contentZIndex:a,updateZIndex:()=>{a.value=e.zIndex||i()}}},qpe=(e,t)=>{const n=me(!1),r=me();return{focusStartRef:r,trapped:n,onFocusAfterReleased:u=>{var c;((c=u.detail)==null?void 0:c.focusReason)!=="pointer"&&(r.value="first",t("blur"))},onFocusAfterTrapped:()=>{t("focus")},onFocusInTrap:u=>{e.visible&&!n.value&&(u.target&&(r.value=u.target),n.value=!0)},onFocusoutPrevented:u=>{e.trapping||(u.detail.focusReason==="pointer"&&u.preventDefault(),n.value=!1)},onReleaseRequested:()=>{n.value=!1,t("close")}}},Vpe=Ue({name:"ElPopperContent"}),Hpe=Ue({...Vpe,props:oz,emits:Ppe,setup(e,{expose:t,emit:n}){const r=e,{focusStartRef:i,trapped:o,onFocusAfterReleased:s,onFocusAfterTrapped:a,onFocusInTrap:l,onFocusoutPrevented:u,onReleaseRequested:c}=qpe(r,n),{attributes:f,arrowRef:h,contentRef:p,styles:g,instanceRef:m,role:y,update:v}=jpe(r),{ariaModal:b,arrowStyle:x,contentAttrs:w,contentClass:_,contentStyle:$,updateZIndex:S}=Upe(r,{styles:g,attributes:f,role:y}),C=et(Mc,void 0),T=me();Fn(ZL,{arrowStyle:x,arrowRef:h,arrowOffset:T}),C&&(C.addInputId||C.removeInputId)&&Fn(Mc,{...C,addInputId:cr,removeInputId:cr});let M;const E=(k=!0)=>{v(),k&&S()},N=()=>{E(!1),r.visible&&r.focusOnShow?o.value=!0:r.visible===!1&&(o.value=!1)};return nn(()=>{Pe(()=>r.triggerTargetEl,(k,A)=>{M==null||M(),M=void 0;const O=P(k||p.value),F=P(A||p.value);Ev(O)&&(M=Pe([y,()=>r.ariaLabel,b,()=>r.id],R=>{["role","aria-label","aria-modal","id"].forEach((D,z)=>{So(R[z])?O.removeAttribute(D):O.setAttribute(D,R[z])})},{immediate:!0})),F!==O&&Ev(F)&&["role","aria-label","aria-modal","id"].forEach(R=>{F.removeAttribute(R)})},{immediate:!0}),Pe(()=>r.visible,N,{immediate:!0})}),si(()=>{M==null||M(),M=void 0}),t({popperContentRef:p,popperInstanceRef:m,updatePopper:E,contentStyle:$}),(k,A)=>(re(),_e("div",xs({ref_key:"contentRef",ref:p},P(w),{style:P($),class:P(_),tabindex:"-1",onMouseenter:A[0]||(A[0]=O=>k.$emit("mouseenter",O)),onMouseleave:A[1]||(A[1]=O=>k.$emit("mouseleave",O))}),[V(P(Fpe),{trapped:P(o),"trap-on-focus-in":!0,"focus-trap-el":P(p),"focus-start-el":P(i),onFocusAfterTrapped:P(a),onFocusAfterReleased:P(s),onFocusin:P(l),onFocusoutPrevented:P(u),onReleaseRequested:P(c)},{default:oe(()=>[ht(k.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var Wpe=Wt(Hpe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const Gpe=Uo(fpe),f8=Symbol("elTooltip"),sz=At({...jde,...oz,appendTo:{type:Ge([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:Ge(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean}),az=At({...rz,disabled:Boolean,trigger:{type:Ge([String,Array]),default:"hover"},triggerKeys:{type:Ge(Array),default:()=>[pn.enter,pn.space]}}),{useModelToggleProps:Ype,useModelToggleEmits:Xpe,useModelToggle:Kpe}=RL("visible"),Jpe=At({...ez,...Ype,...sz,...az,...tz,showArrow:{type:Boolean,default:!0}}),Qpe=[...Xpe,"before-show","before-hide","show","hide","open","close"],Zpe=(e,t)=>ze(e)?e.includes(t):e===t,Pf=(e,t,n)=>r=>{Zpe(P(e),t)&&n(r)},ege=Ue({name:"ElTooltipTrigger"}),tge=Ue({...ege,props:az,setup(e,{expose:t}){const n=e,r=mt("tooltip"),{controlled:i,id:o,open:s,onOpen:a,onClose:l,onToggle:u}=et(f8,void 0),c=me(null),f=()=>{if(P(i)||n.disabled)return!0},h=vl(n,"trigger"),p=fa(f,Pf(h,"hover",a)),g=fa(f,Pf(h,"hover",l)),m=fa(f,Pf(h,"click",w=>{w.button===0&&u(w)})),y=fa(f,Pf(h,"focus",a)),v=fa(f,Pf(h,"focus",l)),b=fa(f,Pf(h,"contextmenu",w=>{w.preventDefault(),u(w)})),x=fa(f,w=>{const{code:_}=w;n.triggerKeys.includes(_)&&(w.preventDefault(),u(w))});return t({triggerRef:c}),(w,_)=>(re(),tt(P(bpe),{id:P(o),"virtual-ref":w.virtualRef,open:P(s),"virtual-triggering":w.virtualTriggering,class:Te(P(r).e("trigger")),onBlur:P(v),onClick:P(m),onContextmenu:P(b),onFocus:P(y),onMouseenter:P(p),onMouseleave:P(g),onKeydown:P(x)},{default:oe(()=>[ht(w.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var nge=Wt(tge,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const rge=Ue({name:"ElTooltipContent",inheritAttrs:!1}),ige=Ue({...rge,props:sz,setup(e,{expose:t}){const n=e,{selector:r}=YL(),i=mt("tooltip"),o=me(null),s=me(!1),{controlled:a,id:l,open:u,trigger:c,onClose:f,onOpen:h,onShow:p,onHide:g,onBeforeShow:m,onBeforeHide:y}=et(f8,void 0),v=G(()=>n.transition||`${i.namespace.value}-fade-in-linear`),b=G(()=>n.persistent);si(()=>{s.value=!0});const x=G(()=>P(b)?!0:P(u)),w=G(()=>n.disabled?!1:P(u)),_=G(()=>n.appendTo||r.value),$=G(()=>{var R;return(R=n.style)!=null?R:{}}),S=G(()=>!P(u)),C=()=>{g()},T=()=>{if(P(a))return!0},M=fa(T,()=>{n.enterable&&P(c)==="hover"&&h()}),E=fa(T,()=>{P(c)==="hover"&&f()}),N=()=>{var R,D;(D=(R=o.value)==null?void 0:R.updatePopper)==null||D.call(R),m==null||m()},k=()=>{y==null||y()},A=()=>{p(),F=rie(G(()=>{var R;return(R=o.value)==null?void 0:R.popperContentRef}),()=>{if(P(a))return;P(c)!=="hover"&&f()})},O=()=>{n.virtualTriggering||f()};let F;return Pe(()=>P(u),R=>{R||F==null||F()},{flush:"post"}),Pe(()=>n.content,()=>{var R,D;(D=(R=o.value)==null?void 0:R.updatePopper)==null||D.call(R)}),t({contentRef:o}),(R,D)=>(re(),tt(Mte,{disabled:!R.teleported,to:P(_)},[V(Th,{name:P(v),onAfterLeave:C,onBeforeEnter:N,onAfterEnter:A,onBeforeLeave:k},{default:oe(()=>[P(x)?Vl((re(),tt(P(Wpe),xs({key:0,id:P(l),ref_key:"contentRef",ref:o},R.$attrs,{"aria-label":R.ariaLabel,"aria-hidden":P(S),"boundaries-padding":R.boundariesPadding,"fallback-placements":R.fallbackPlacements,"gpu-acceleration":R.gpuAcceleration,offset:R.offset,placement:R.placement,"popper-options":R.popperOptions,strategy:R.strategy,effect:R.effect,enterable:R.enterable,pure:R.pure,"popper-class":R.popperClass,"popper-style":[R.popperStyle,P($)],"reference-el":R.referenceEl,"trigger-target-el":R.triggerTargetEl,visible:P(w),"z-index":R.zIndex,onMouseenter:P(M),onMouseleave:P(E),onBlur:O,onClose:P(f)}),{default:oe(()=>[s.value?Qe("v-if",!0):ht(R.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[om,P(w)]]):Qe("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var oge=Wt(ige,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const sge=["innerHTML"],age={key:1},lge=Ue({name:"ElTooltip"}),uge=Ue({...lge,props:Jpe,emits:Qpe,setup(e,{expose:t,emit:n}){const r=e;Bde();const i=o8(),o=me(),s=me(),a=()=>{var v;const b=P(o);b&&((v=b.popperInstanceRef)==null||v.update())},l=me(!1),u=me(),{show:c,hide:f,hasUpdateHandler:h}=Kpe({indicator:l,toggleReason:u}),{onOpen:p,onClose:g}=Ude({showAfter:vl(r,"showAfter"),hideAfter:vl(r,"hideAfter"),autoClose:vl(r,"autoClose"),open:c,close:f}),m=G(()=>Pl(r.visible)&&!h.value);Fn(f8,{controlled:m,id:i,open:nm(l),trigger:vl(r,"trigger"),onOpen:v=>{p(v)},onClose:v=>{g(v)},onToggle:v=>{P(l)?g(v):p(v)},onShow:()=>{n("show",u.value)},onHide:()=>{n("hide",u.value)},onBeforeShow:()=>{n("before-show",u.value)},onBeforeHide:()=>{n("before-hide",u.value)},updatePopper:a}),Pe(()=>r.disabled,v=>{v&&l.value&&(l.value=!1)});const y=()=>{var v,b;const x=(b=(v=s.value)==null?void 0:v.contentRef)==null?void 0:b.popperContentRef;return x&&x.contains(document.activeElement)};return pD(()=>l.value&&f()),t({popperRef:o,contentRef:s,isFocusInsideContent:y,updatePopper:a,onOpen:p,onClose:g,hide:f}),(v,b)=>(re(),tt(P(Gpe),{ref_key:"popperRef",ref:o,role:v.role},{default:oe(()=>[V(nge,{disabled:v.disabled,trigger:v.trigger,"trigger-keys":v.triggerKeys,"virtual-ref":v.virtualRef,"virtual-triggering":v.virtualTriggering},{default:oe(()=>[v.$slots.default?ht(v.$slots,"default",{key:0}):Qe("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),V(oge,{ref_key:"contentRef",ref:s,"aria-label":v.ariaLabel,"boundaries-padding":v.boundariesPadding,content:v.content,disabled:v.disabled,effect:v.effect,enterable:v.enterable,"fallback-placements":v.fallbackPlacements,"hide-after":v.hideAfter,"gpu-acceleration":v.gpuAcceleration,offset:v.offset,persistent:v.persistent,"popper-class":v.popperClass,"popper-style":v.popperStyle,placement:v.placement,"popper-options":v.popperOptions,pure:v.pure,"raw-content":v.rawContent,"reference-el":v.referenceEl,"trigger-target-el":v.triggerTargetEl,"show-after":v.showAfter,strategy:v.strategy,teleported:v.teleported,transition:v.transition,"virtual-triggering":v.virtualTriggering,"z-index":v.zIndex,"append-to":v.appendTo},{default:oe(()=>[ht(v.$slots,"content",{},()=>[v.rawContent?(re(),_e("span",{key:0,innerHTML:v.content},null,8,sge)):(re(),_e("span",age,Hr(v.content),1))]),v.showArrow?(re(),tt(P(ppe),{key:0,"arrow-offset":v.arrowOffset},null,8,["arrow-offset"])):Qe("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var cge=Wt(uge,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const d8=Uo(cge);function Un(e,t){fge(e)&&(e="100%");var n=dge(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function O1(e){return Math.min(1,Math.max(0,e))}function fge(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function dge(e){return typeof e=="string"&&e.indexOf("%")!==-1}function lz(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function F1(e){return e<=1?"".concat(Number(e)*100,"%"):e}function lc(e){return e.length===1?"0"+e:String(e)}function hge(e,t,n){return{r:Un(e,255)*255,g:Un(t,255)*255,b:Un(n,255)*255}}function h7(e,t,n){e=Un(e,255),t=Un(t,255),n=Un(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o=0,s=0,a=(r+i)/2;if(r===i)s=0,o=0;else{var l=r-i;switch(s=a>.5?l/(2-r-i):l/(r+i),r){case e:o=(t-n)/l+(t<n?6:0);break;case t:o=(n-e)/l+2;break;case n:o=(e-t)/l+4;break}o/=6}return{h:o,s,l:a}}function __(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*(6*n):n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function pge(e,t,n){var r,i,o;if(e=Un(e,360),t=Un(t,100),n=Un(n,100),t===0)i=n,o=n,r=n;else{var s=n<.5?n*(1+t):n+t-n*t,a=2*n-s;r=__(a,s,e+1/3),i=__(a,s,e),o=__(a,s,e-1/3)}return{r:r*255,g:i*255,b:o*255}}function p7(e,t,n){e=Un(e,255),t=Un(t,255),n=Un(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o=0,s=r,a=r-i,l=r===0?0:a/r;if(r===i)o=0;else{switch(r){case e:o=(t-n)/a+(t<n?6:0);break;case t:o=(n-e)/a+2;break;case n:o=(e-t)/a+4;break}o/=6}return{h:o,s:l,v:s}}function gge(e,t,n){e=Un(e,360)*6,t=Un(t,100),n=Un(n,100);var r=Math.floor(e),i=e-r,o=n*(1-t),s=n*(1-i*t),a=n*(1-(1-i)*t),l=r%6,u=[n,s,o,o,a,n][l],c=[a,n,n,s,o,o][l],f=[o,o,a,n,n,s][l];return{r:u*255,g:c*255,b:f*255}}function g7(e,t,n,r){var i=[lc(Math.round(e).toString(16)),lc(Math.round(t).toString(16)),lc(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function mge(e,t,n,r,i){var o=[lc(Math.round(e).toString(16)),lc(Math.round(t).toString(16)),lc(Math.round(n).toString(16)),lc(yge(r))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function yge(e){return Math.round(parseFloat(e)*255).toString(16)}function m7(e){return fi(e)/255}function fi(e){return parseInt(e,16)}function vge(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var zE={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function bge(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,s=!1,a=!1;return typeof e=="string"&&(e=_ge(e)),typeof e=="object"&&(ta(e.r)&&ta(e.g)&&ta(e.b)?(t=hge(e.r,e.g,e.b),s=!0,a=String(e.r).substr(-1)==="%"?"prgb":"rgb"):ta(e.h)&&ta(e.s)&&ta(e.v)?(r=F1(e.s),i=F1(e.v),t=gge(e.h,r,i),s=!0,a="hsv"):ta(e.h)&&ta(e.s)&&ta(e.l)&&(r=F1(e.s),o=F1(e.l),t=pge(e.h,r,o),s=!0,a="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=lz(n),{ok:s,format:e.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var xge="[-\\+]?\\d+%?",wge="[-\\+]?\\d*\\.\\d+%?",_l="(?:".concat(wge,")|(?:").concat(xge,")"),E_="[\\s|\\(]+(".concat(_l,")[,|\\s]+(").concat(_l,")[,|\\s]+(").concat(_l,")\\s*\\)?"),S_="[\\s|\\(]+(".concat(_l,")[,|\\s]+(").concat(_l,")[,|\\s]+(").concat(_l,")[,|\\s]+(").concat(_l,")\\s*\\)?"),io={CSS_UNIT:new RegExp(_l),rgb:new RegExp("rgb"+E_),rgba:new RegExp("rgba"+S_),hsl:new RegExp("hsl"+E_),hsla:new RegExp("hsla"+S_),hsv:new RegExp("hsv"+E_),hsva:new RegExp("hsva"+S_),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function _ge(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if(zE[e])e=zE[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=io.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=io.rgba.exec(e),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=io.hsl.exec(e),n?{h:n[1],s:n[2],l:n[3]}:(n=io.hsla.exec(e),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=io.hsv.exec(e),n?{h:n[1],s:n[2],v:n[3]}:(n=io.hsva.exec(e),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=io.hex8.exec(e),n?{r:fi(n[1]),g:fi(n[2]),b:fi(n[3]),a:m7(n[4]),format:t?"name":"hex8"}:(n=io.hex6.exec(e),n?{r:fi(n[1]),g:fi(n[2]),b:fi(n[3]),format:t?"name":"hex"}:(n=io.hex4.exec(e),n?{r:fi(n[1]+n[1]),g:fi(n[2]+n[2]),b:fi(n[3]+n[3]),a:m7(n[4]+n[4]),format:t?"name":"hex8"}:(n=io.hex3.exec(e),n?{r:fi(n[1]+n[1]),g:fi(n[2]+n[2]),b:fi(n[3]+n[3]),format:t?"name":"hex"}:!1)))))))))}function ta(e){return!!io.CSS_UNIT.exec(String(e))}var Ege=function(){function e(t,n){t===void 0&&(t=""),n===void 0&&(n={});var r;if(t instanceof e)return t;typeof t=="number"&&(t=vge(t)),this.originalInput=t;var i=bge(t);this.originalInput=t,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},e.prototype.getLuminance=function(){var t=this.toRgb(),n,r,i,o=t.r/255,s=t.g/255,a=t.b/255;return o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),s<=.03928?r=s/12.92:r=Math.pow((s+.055)/1.055,2.4),a<=.03928?i=a/12.92:i=Math.pow((a+.055)/1.055,2.4),.2126*n+.7152*r+.0722*i},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(t){return this.a=lz(t),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){var t=this.toHsl().s;return t===0},e.prototype.toHsv=function(){var t=p7(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},e.prototype.toHsvString=function(){var t=p7(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var t=h7(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},e.prototype.toHslString=function(){var t=h7(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(t){return t===void 0&&(t=!1),g7(this.r,this.g,this.b,t)},e.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},e.prototype.toHex8=function(t){return t===void 0&&(t=!1),mge(this.r,this.g,this.b,this.a,t)},e.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},e.prototype.toHexShortString=function(t){return t===void 0&&(t=!1),this.a===1?this.toHexString(t):this.toHex8String(t)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var t=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(n,", ").concat(r,")"):"rgba(".concat(t,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var t=function(n){return"".concat(Math.round(Un(n,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var t=function(n){return Math.round(Un(n,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+g7(this.r,this.g,this.b,!1),n=0,r=Object.entries(zE);n<r.length;n++){var i=r[n],o=i[0],s=i[1];if(t===s)return o}return!1},e.prototype.toString=function(t){var n=!!t;t=t??this.format;var r=!1,i=this.a<1&&this.a>=0,o=!n&&i&&(t.startsWith("hex")||t==="name");return o?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=O1(n.l),new e(n)},e.prototype.brighten=function(t){t===void 0&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),new e(n)},e.prototype.darken=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=O1(n.l),new e(n)},e.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},e.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=O1(n.s),new e(n)},e.prototype.saturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=O1(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){n===void 0&&(n=50);var r=this.toRgb(),i=new e(t).toRgb(),o=n/100,s={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return new e(s)},e.prototype.analogous=function(t,n){t===void 0&&(t=6),n===void 0&&(n=30);var r=this.toHsl(),i=360/n,o=[this];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(new e(r));return o},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var n=this.toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/t;t--;)s.push(new e({h:r,s:i,v:o})),o=(o+a)%1;return s},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb(),i=n.a+r.a*(1-n.a);return new e({r:(n.r*n.a+r.r*r.a*(1-n.a))/i,g:(n.g*n.a+r.g*r.a*(1-n.a))/i,b:(n.b*n.a+r.b*r.a*(1-n.a))/i,a:i})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,i=[this],o=360/t,s=1;s<t;s++)i.push(new e({h:(r+s*o)%360,s:n.s,l:n.l}));return i},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function M2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const Sge=100,$ge=600,y7={beforeMount(e,t){const n=t.value,{interval:r=Sge,delay:i=$ge}=Ve(n)?{}:n;let o,s;const a=()=>Ve(n)?n():n.handler(),l=()=>{s&&(clearTimeout(s),s=void 0),o&&(clearInterval(o),o=void 0)};e.addEventListener("mousedown",u=>{u.button===0&&(l(),a(),document.addEventListener("mouseup",()=>l(),{once:!0}),s=setTimeout(()=>{o=setInterval(()=>{a()},r)},i))})}},v7=e=>typeof Yt(e),Cge=At({accordion:Boolean,modelValue:{type:Ge([Array,String,Number]),default:()=>am([])}}),Age={[un]:v7,[Oa]:v7},uz=Symbol("collapseContextKey"),kge=(e,t)=>{const n=me(s0(e.modelValue)),r=o=>{n.value=o;const s=e.accordion?n.value[0]:n.value;t(un,s),t(Oa,s)},i=o=>{if(e.accordion)r([n.value[0]===o?"":o]);else{const s=[...n.value],a=s.indexOf(o);a>-1?s.splice(a,1):s.push(o),r(s)}};return Pe(()=>e.modelValue,()=>n.value=s0(e.modelValue),{deep:!0}),Fn(uz,{activeNames:n,handleItemClick:i}),{activeNames:n,setActiveNames:r}},Mge=()=>{const e=mt("collapse");return{rootKls:G(()=>e.b())}},Tge=Ue({name:"ElCollapse"}),Oge=Ue({...Tge,props:Cge,emits:Age,setup(e,{expose:t,emit:n}){const r=e,{activeNames:i,setActiveNames:o}=kge(r,n),{rootKls:s}=Mge();return t({activeNames:i,setActiveNames:o}),(a,l)=>(re(),_e("div",{class:Te(P(s)),role:"tablist","aria-multiselectable":"true"},[ht(a.$slots,"default")],2))}});var Fge=Wt(Oge,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse.vue"]]);const Nge=Ue({name:"ElCollapseTransition"}),Rge=Ue({...Nge,setup(e){const t=mt("collapse-transition"),n={beforeEnter(r){r.dataset||(r.dataset={}),r.dataset.oldPaddingTop=r.style.paddingTop,r.dataset.oldPaddingBottom=r.style.paddingBottom,r.style.maxHeight=0,r.style.paddingTop=0,r.style.paddingBottom=0},enter(r){r.dataset.oldOverflow=r.style.overflow,r.scrollHeight!==0?(r.style.maxHeight=`${r.scrollHeight}px`,r.style.paddingTop=r.dataset.oldPaddingTop,r.style.paddingBottom=r.dataset.oldPaddingBottom):(r.style.maxHeight=0,r.style.paddingTop=r.dataset.oldPaddingTop,r.style.paddingBottom=r.dataset.oldPaddingBottom),r.style.overflow="hidden"},afterEnter(r){r.style.maxHeight="",r.style.overflow=r.dataset.oldOverflow},beforeLeave(r){r.dataset||(r.dataset={}),r.dataset.oldPaddingTop=r.style.paddingTop,r.dataset.oldPaddingBottom=r.style.paddingBottom,r.dataset.oldOverflow=r.style.overflow,r.style.maxHeight=`${r.scrollHeight}px`,r.style.overflow="hidden"},leave(r){r.scrollHeight!==0&&(r.style.maxHeight=0,r.style.paddingTop=0,r.style.paddingBottom=0)},afterLeave(r){r.style.maxHeight="",r.style.overflow=r.dataset.oldOverflow,r.style.paddingTop=r.dataset.oldPaddingTop,r.style.paddingBottom=r.dataset.oldPaddingBottom}};return(r,i)=>(re(),tt(Th,xs({name:P(t).b()},lte(n)),{default:oe(()=>[ht(r.$slots,"default")]),_:3},16,["name"]))}});var Ry=Wt(Rge,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue"]]);Ry.install=e=>{e.component(Ry.name,Ry)};const cz=Ry,Pge=At({title:{type:String,default:""},name:{type:Ge([String,Number]),default:()=>FL()},disabled:Boolean}),Ige=e=>{const t=et(uz),n=me(!1),r=me(!1),i=me(FL()),o=G(()=>t==null?void 0:t.activeNames.value.includes(e.name));return{focusing:n,id:i,isActive:o,handleFocus:()=>{setTimeout(()=>{r.value?r.value=!1:n.value=!0},50)},handleHeaderClick:()=>{e.disabled||(t==null||t.handleItemClick(e.name),n.value=!1,r.value=!0)},handleEnterClick:()=>{t==null||t.handleItemClick(e.name)}}},Dge=(e,{focusing:t,isActive:n,id:r})=>{const i=mt("collapse"),o=G(()=>[i.b("item"),i.is("active",P(n)),i.is("disabled",e.disabled)]),s=G(()=>[i.be("item","header"),i.is("active",P(n)),{focusing:P(t)&&!e.disabled}]),a=G(()=>[i.be("item","arrow"),i.is("active",P(n))]),l=G(()=>i.be("item","wrap")),u=G(()=>i.be("item","content")),c=G(()=>i.b(`content-${P(r)}`)),f=G(()=>i.b(`head-${P(r)}`));return{arrowKls:a,headKls:s,rootKls:o,itemWrapperKls:l,itemContentKls:u,scopedContentId:c,scopedHeadId:f}},Lge=["aria-expanded","aria-controls","aria-describedby"],zge=["id","tabindex"],Bge=["id","aria-hidden","aria-labelledby"],jge=Ue({name:"ElCollapseItem"}),Uge=Ue({...jge,props:Pge,setup(e,{expose:t}){const n=e,{focusing:r,id:i,isActive:o,handleFocus:s,handleHeaderClick:a,handleEnterClick:l}=Ige(n),{arrowKls:u,headKls:c,rootKls:f,itemWrapperKls:h,itemContentKls:p,scopedContentId:g,scopedHeadId:m}=Dge(n,{focusing:r,isActive:o,id:i});return t({isActive:o}),(y,v)=>(re(),_e("div",{class:Te(P(f))},[be("div",{role:"tab","aria-expanded":P(o),"aria-controls":P(g),"aria-describedby":P(g)},[be("div",{id:P(m),class:Te(P(c)),role:"button",tabindex:y.disabled?-1:0,onClick:v[0]||(v[0]=(...b)=>P(a)&&P(a)(...b)),onKeypress:v[1]||(v[1]=ld(tr((...b)=>P(l)&&P(l)(...b),["stop","prevent"]),["space","enter"])),onFocus:v[2]||(v[2]=(...b)=>P(s)&&P(s)(...b)),onBlur:v[3]||(v[3]=b=>r.value=!1)},[ht(y.$slots,"title",{},()=>[bl(Hr(y.title),1)]),V(P(gn),{class:Te(P(u))},{default:oe(()=>[V(P(Y4))]),_:1},8,["class"])],42,zge)],8,Lge),V(P(cz),null,{default:oe(()=>[Vl(be("div",{id:P(g),class:Te(P(h)),role:"tabpanel","aria-hidden":!P(o),"aria-labelledby":P(m)},[be("div",{class:Te(P(p))},[ht(y.$slots,"default")],2)],10,Bge),[[om,P(o)]])]),_:3})],2))}});var fz=Wt(Uge,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse-item.vue"]]);const qge=Uo(Fge,{CollapseItem:fz}),Vge=Rh(fz),Hge=At({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:Cv,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:e=>e===null||Yt(e)||["min","max"].includes(e),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===Number.parseInt(`${e}`,10)},validateEvent:{type:Boolean,default:!0}}),Wge={[Oa]:(e,t)=>t!==e,blur:e=>e instanceof FocusEvent,focus:e=>e instanceof FocusEvent,[ws]:e=>Yt(e)||So(e),[un]:e=>Yt(e)||So(e)},Gge=["aria-label","onKeydown"],Yge=["aria-label","onKeydown"],Xge=Ue({name:"ElInputNumber"}),Kge=Ue({...Xge,props:Hge,emits:Wge,setup(e,{expose:t,emit:n}){const r=e,{t:i}=NL(),o=mt("input-number"),s=me(),a=oi({currentValue:r.modelValue,userInput:null}),{formItem:l}=A2(),u=G(()=>Yt(r.modelValue)&&r.modelValue<=r.min),c=G(()=>Yt(r.modelValue)&&r.modelValue>=r.max),f=G(()=>{const k=v(r.step);return sc(r.precision)?Math.max(v(r.modelValue),k):(k>r.precision,r.precision)}),h=G(()=>r.controls&&r.controlsPosition==="right"),p=Ih(),g=s8(),m=G(()=>{if(a.userInput!==null)return a.userInput;let k=a.currentValue;if(So(k))return"";if(Yt(k)){if(Number.isNaN(k))return"";sc(r.precision)||(k=k.toFixed(r.precision))}return k}),y=(k,A)=>{if(sc(A)&&(A=f.value),A===0)return Math.round(k);let O=String(k);const F=O.indexOf(".");if(F===-1||!O.replace(".","").split("")[F+A])return k;const z=O.length;return O.charAt(z-1)==="5"&&(O=`${O.slice(0,Math.max(0,z-1))}6`),Number.parseFloat(Number(O).toFixed(A))},v=k=>{if(So(k))return 0;const A=k.toString(),O=A.indexOf(".");let F=0;return O!==-1&&(F=A.length-O-1),F},b=(k,A=1)=>Yt(k)?y(k+r.step*A):a.currentValue,x=()=>{if(r.readonly||g.value||c.value)return;const k=Number(m.value)||0,A=b(k);$(A),n(ws,a.currentValue)},w=()=>{if(r.readonly||g.value||u.value)return;const k=Number(m.value)||0,A=b(k,-1);$(A),n(ws,a.currentValue)},_=(k,A)=>{const{max:O,min:F,step:R,precision:D,stepStrictly:z,valueOnClear:U}=r;O<F&&Oo("InputNumber","min should not be greater than max.");let H=Number(k);if(So(k)||Number.isNaN(H))return null;if(k===""){if(U===null)return null;H=Ye(U)?{min:F,max:O}[U]:U}return z&&(H=y(Math.round(H/R)*R,D)),sc(D)||(H=y(H,D)),(H>O||H<F)&&(H=H>O?O:F,A&&n(un,H)),H},$=(k,A=!0)=>{var O;const F=a.currentValue,R=_(k);if(!A){n(un,R);return}F!==R&&(a.userInput=null,n(un,R),n(Oa,R,F),r.validateEvent&&((O=l==null?void 0:l.validate)==null||O.call(l,"change").catch(D=>void 0)),a.currentValue=R)},S=k=>{a.userInput=k;const A=k===""?null:Number(k);n(ws,A),$(A,!1)},C=k=>{const A=k!==""?Number(k):"";(Yt(A)&&!Number.isNaN(A)||k==="")&&$(A),a.userInput=null},T=()=>{var k,A;(A=(k=s.value)==null?void 0:k.focus)==null||A.call(k)},M=()=>{var k,A;(A=(k=s.value)==null?void 0:k.blur)==null||A.call(k)},E=k=>{n("focus",k)},N=k=>{var A;n("blur",k),r.validateEvent&&((A=l==null?void 0:l.validate)==null||A.call(l,"blur").catch(O=>void 0))};return Pe(()=>r.modelValue,k=>{const A=_(a.userInput),O=_(k,!0);!Yt(A)&&(!A||A!==O)&&(a.currentValue=O,a.userInput=null)},{immediate:!0}),nn(()=>{var k;const{min:A,max:O,modelValue:F}=r,R=(k=s.value)==null?void 0:k.input;if(R.setAttribute("role","spinbutton"),Number.isFinite(O)?R.setAttribute("aria-valuemax",String(O)):R.removeAttribute("aria-valuemax"),Number.isFinite(A)?R.setAttribute("aria-valuemin",String(A)):R.removeAttribute("aria-valuemin"),R.setAttribute("aria-valuenow",String(a.currentValue)),R.setAttribute("aria-disabled",String(g.value)),!Yt(F)&&F!=null){let D=Number(F);Number.isNaN(D)&&(D=null),n(un,D)}}),rm(()=>{var k;const A=(k=s.value)==null?void 0:k.input;A==null||A.setAttribute("aria-valuenow",`${a.currentValue}`)}),t({focus:T,blur:M}),(k,A)=>(re(),_e("div",{class:Te([P(o).b(),P(o).m(P(p)),P(o).is("disabled",P(g)),P(o).is("without-controls",!k.controls),P(o).is("controls-right",P(h))]),onDragstart:A[1]||(A[1]=tr(()=>{},["prevent"]))},[k.controls?Vl((re(),_e("span",{key:0,role:"button","aria-label":P(i)("el.inputNumber.decrease"),class:Te([P(o).e("decrease"),P(o).is("disabled",P(u))]),onKeydown:ld(w,["enter"])},[V(P(gn),null,{default:oe(()=>[P(h)?(re(),tt(P(AL),{key:0})):(re(),tt(P(cce),{key:1}))]),_:1})],42,Gge)),[[P(y7),w]]):Qe("v-if",!0),k.controls?Vl((re(),_e("span",{key:1,role:"button","aria-label":P(i)("el.inputNumber.increase"),class:Te([P(o).e("increase"),P(o).is("disabled",P(c))]),onKeydown:ld(x,["enter"])},[V(P(gn),null,{default:oe(()=>[P(h)?(re(),tt(P(pue),{key:0})):(re(),tt(P(TL),{key:1}))]),_:1})],42,Yge)),[[P(y7),x]]):Qe("v-if",!0),V(P(QL),{id:k.id,ref_key:"input",ref:s,type:"number",step:k.step,"model-value":P(m),placeholder:k.placeholder,readonly:k.readonly,disabled:P(g),size:P(p),max:k.max,min:k.min,name:k.name,label:k.label,"validate-event":!1,onWheel:A[0]||(A[0]=tr(()=>{},["prevent"])),onKeydown:[ld(tr(x,["prevent"]),["up"]),ld(tr(w,["prevent"]),["down"])],onBlur:N,onFocus:E,onInput:S,onChange:C},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","label","onKeydown"])],34))}});var Jge=Wt(Kge,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input-number/src/input-number.vue"]]);const Qge=Uo(Jge);let Zge=class{constructor(t,n){this.parent=t,this.domNode=n,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(t){t===this.subMenuItems.length?t=0:t<0&&(t=this.subMenuItems.length-1),this.subMenuItems[t].focus(),this.subIndex=t}addListeners(){const t=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,n=>{n.addEventListener("keydown",r=>{let i=!1;switch(r.code){case pn.down:{this.gotoSubIndex(this.subIndex+1),i=!0;break}case pn.up:{this.gotoSubIndex(this.subIndex-1),i=!0;break}case pn.tab:{Ty(t,"mouseleave");break}case pn.enter:case pn.space:{i=!0,r.currentTarget.click();break}}return i&&(r.preventDefault(),r.stopPropagation()),!1})})}},e0e=class{constructor(t,n){this.domNode=t,this.submenu=null,this.submenu=null,this.init(n)}init(t){this.domNode.setAttribute("tabindex","0");const n=this.domNode.querySelector(`.${t}-menu`);n&&(this.submenu=new Zge(this,n)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",t=>{let n=!1;switch(t.code){case pn.down:{Ty(t.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),n=!0;break}case pn.up:{Ty(t.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),n=!0;break}case pn.tab:{Ty(t.currentTarget,"mouseleave");break}case pn.enter:case pn.space:{n=!0,t.currentTarget.click();break}}n&&t.preventDefault()})}},t0e=class{constructor(t,n){this.domNode=t,this.init(n)}init(t){const n=this.domNode.childNodes;Array.from(n).forEach(r=>{r.nodeType===1&&new e0e(r,t)})}};const n0e=Ue({name:"ElMenuCollapseTransition",setup(){const e=mt("menu");return{listeners:{onBeforeEnter:n=>n.style.opacity="0.2",onEnter(n,r){S1(n,`${e.namespace.value}-opacity-transition`),n.style.opacity="1",r()},onAfterEnter(n){v_(n,`${e.namespace.value}-opacity-transition`),n.style.opacity=""},onBeforeLeave(n){n.dataset||(n.dataset={}),Wle(n,e.m("collapse"))?(v_(n,e.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),S1(n,e.m("collapse"))):(S1(n,e.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),v_(n,e.m("collapse"))),n.style.width=`${n.scrollWidth}px`,n.style.overflow="hidden"},onLeave(n){S1(n,"horizontal-collapse-transition"),n.style.width=`${n.dataset.scrollWidth}px`}}}}});function r0e(e,t,n,r,i,o){return re(),tt(Th,xs({mode:"out-in"},e.listeners),{default:oe(()=>[ht(e.$slots,"default")]),_:3},16)}var i0e=Wt(n0e,[["render",r0e],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-collapse-transition.vue"]]);function dz(e,t){const n=G(()=>{let i=e.parent;const o=[t.value];for(;i.type.name!=="ElMenu";)i.props.index&&o.unshift(i.props.index),i=i.parent;return o});return{parentMenu:G(()=>{let i=e.parent;for(;i&&!["ElMenu","ElSubMenu"].includes(i.type.name);)i=i.parent;return i}),indexPath:n}}function o0e(e){return G(()=>{const n=e.backgroundColor;return n?new Ege(n).shade(20).toString():""})}const hz=(e,t)=>{const n=mt("menu");return G(()=>n.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":o0e(e).value||"","active-color":e.activeTextColor||"",level:`${t}`}))},s0e=At({index:{type:String,required:!0},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0},teleported:{type:Boolean,default:void 0},popperOffset:{type:Number,default:6},expandCloseIcon:{type:wl},expandOpenIcon:{type:wl},collapseCloseIcon:{type:wl},collapseOpenIcon:{type:wl}}),N1="ElSubMenu";var h8=Ue({name:N1,props:s0e,setup(e,{slots:t,expose:n}){X4({from:"popper-append-to-body",replacement:"teleported",scope:N1,version:"2.3.0",ref:"https://element-plus.org/en-US/component/menu.html#submenu-attributes"},G(()=>e.popperAppendToBody!==void 0));const r=yr(),{indexPath:i,parentMenu:o}=dz(r,G(()=>e.index)),s=mt("menu"),a=mt("sub-menu"),l=et("rootMenu");l||Oo(N1,"can not inject root menu");const u=et(`subMenu:${o.value.uid}`);u||Oo(N1,"can not inject sub menu");const c=me({}),f=me({});let h;const p=me(!1),g=me(),m=me(null),y=G(()=>E.value==="horizontal"&&b.value?"bottom-start":"right-start"),v=G(()=>E.value==="horizontal"&&b.value||E.value==="vertical"&&!l.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?$.value?e.expandOpenIcon:e.expandCloseIcon:AL:e.collapseCloseIcon&&e.collapseOpenIcon?$.value?e.collapseOpenIcon:e.collapseCloseIcon:Y4),b=G(()=>u.level===0),x=G(()=>{var U;const H=(U=e.teleported)!=null?U:e.popperAppendToBody;return H===void 0?b.value:H}),w=G(()=>l.props.collapse?`${s.namespace.value}-zoom-in-left`:`${s.namespace.value}-zoom-in-top`),_=G(()=>E.value==="horizontal"&&b.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","left-start","bottom-start","bottom-end","top-start","top-end"]),$=G(()=>l.openedMenus.includes(e.index)),S=G(()=>{let U=!1;return Object.values(c.value).forEach(H=>{H.active&&(U=!0)}),Object.values(f.value).forEach(H=>{H.active&&(U=!0)}),U}),C=G(()=>l.props.backgroundColor||""),T=G(()=>l.props.activeTextColor||""),M=G(()=>l.props.textColor||""),E=G(()=>l.props.mode),N=oi({index:e.index,indexPath:i,active:S}),k=hz(l.props,u.level+1),A=G(()=>E.value!=="horizontal"?{color:M.value}:{borderBottomColor:S.value?l.props.activeTextColor?T.value:"":"transparent",color:S.value?T.value:M.value}),O=()=>{var U,H,W;return(W=(H=(U=m.value)==null?void 0:U.popperRef)==null?void 0:H.popperInstanceRef)==null?void 0:W.destroy()},F=U=>{U||O()},R=()=>{l.props.menuTrigger==="hover"&&l.props.mode==="horizontal"||l.props.collapse&&l.props.mode==="vertical"||e.disabled||l.handleSubMenuClick({index:e.index,indexPath:i.value,active:S.value})},D=(U,H=e.showTimeout)=>{var W;U.type!=="focus"&&(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"||e.disabled||(u.mouseInChild.value=!0,h==null||h(),{stop:h}=t9(()=>{l.openMenu(e.index,i.value)},H),x.value&&((W=o.value.vnode.el)==null||W.dispatchEvent(new MouseEvent("mouseenter")))))},z=(U=!1)=>{var H,W;l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"||(h==null||h(),u.mouseInChild.value=!1,{stop:h}=t9(()=>!p.value&&l.closeMenu(e.index,i.value),e.hideTimeout),x.value&&U&&((H=r.parent)==null?void 0:H.type.name)==="ElSubMenu"&&((W=u.handleMouseleave)==null||W.call(u,!0)))};Pe(()=>l.props.collapse,U=>F(!!U));{const U=W=>{f.value[W.index]=W},H=W=>{delete f.value[W.index]};Fn(`subMenu:${r.uid}`,{addSubMenu:U,removeSubMenu:H,handleMouseleave:z,mouseInChild:p,level:u.level+1})}return n({opened:$}),nn(()=>{l.addSubMenu(N),u.addSubMenu(N)}),si(()=>{u.removeSubMenu(N),l.removeSubMenu(N)}),()=>{var U;const H=[(U=t.title)==null?void 0:U.call(t),on(gn,{class:a.e("icon-arrow"),style:{transform:$.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&l.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>Ye(v.value)?on(r.appContext.components[v.value]):on(v.value)})],W=l.isMenuPopup?on(d8,{ref:m,visible:$.value,effect:"light",pure:!0,offset:e.popperOffset,showArrow:!1,persistent:!0,popperClass:e.popperClass,placement:y.value,teleported:x.value,fallbackPlacements:_.value,transition:w.value,gpuAcceleration:!1},{content:()=>{var he;return on("div",{class:[s.m(E.value),s.m("popup-container"),e.popperClass],onMouseenter:ae=>D(ae,100),onMouseleave:()=>z(!0),onFocus:ae=>D(ae,100)},[on("ul",{class:[s.b(),s.m("popup"),s.m(`popup-${y.value}`)],style:k.value},[(he=t.default)==null?void 0:he.call(t)])])},default:()=>on("div",{class:a.e("title"),style:[A.value,{backgroundColor:C.value}],onClick:R},H)}):on(Lt,{},[on("div",{class:a.e("title"),style:[A.value,{backgroundColor:C.value}],ref:g,onClick:R},H),on(cz,{},{default:()=>{var he;return Vl(on("ul",{role:"menu",class:[s.b(),s.m("inline")],style:k.value},[(he=t.default)==null?void 0:he.call(t)]),[[om,$.value]])}})]);return on("li",{class:[a.b(),a.is("active",S.value),a.is("opened",$.value),a.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:$.value,onMouseenter:D,onMouseleave:()=>z(!0),onFocus:D},[W])}}});const a0e=At({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:Ge(Array),default:()=>am([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperEffect:{type:String,values:["dark","light"],default:"dark"}}),$_=e=>Array.isArray(e)&&e.every(t=>Ye(t)),l0e={close:(e,t)=>Ye(e)&&$_(t),open:(e,t)=>Ye(e)&&$_(t),select:(e,t,n,r)=>Ye(e)&&$_(t)&&gt(n)&&(r===void 0||r instanceof Promise)};var u0e=Ue({name:"ElMenu",props:a0e,emits:l0e,setup(e,{emit:t,slots:n,expose:r}){const i=yr(),o=i.appContext.config.globalProperties.$router,s=me(),a=mt("menu"),l=mt("sub-menu"),u=me(-1),c=me(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),f=me(e.defaultActive),h=me({}),p=me({}),g=G(()=>e.mode==="horizontal"||e.mode==="vertical"&&e.collapse),m=()=>{const E=f.value&&h.value[f.value];if(!E||e.mode==="horizontal"||e.collapse)return;E.indexPath.forEach(k=>{const A=p.value[k];A&&y(k,A.indexPath)})},y=(E,N)=>{c.value.includes(E)||(e.uniqueOpened&&(c.value=c.value.filter(k=>N.includes(k))),c.value.push(E),t("open",E,N))},v=E=>{const N=c.value.indexOf(E);N!==-1&&c.value.splice(N,1)},b=(E,N)=>{v(E),t("close",E,N)},x=({index:E,indexPath:N})=>{c.value.includes(E)?b(E,N):y(E,N)},w=E=>{(e.mode==="horizontal"||e.collapse)&&(c.value=[]);const{index:N,indexPath:k}=E;if(!(So(N)||So(k)))if(e.router&&o){const A=E.route||N,O=o.push(A).then(F=>(F||(f.value=N),F));t("select",N,k,{index:N,indexPath:k,route:A},O)}else f.value=N,t("select",N,k,{index:N,indexPath:k})},_=E=>{const N=h.value,k=N[E]||f.value&&N[f.value]||N[e.defaultActive];k?f.value=k.index:f.value=E},$=()=>{var E,N;if(!s.value)return-1;const k=Array.from((N=(E=s.value)==null?void 0:E.childNodes)!=null?N:[]).filter(U=>U.nodeName!=="#comment"&&(U.nodeName!=="#text"||U.nodeValue)),A=64,O=Number.parseInt(getComputedStyle(s.value).paddingLeft,10),F=Number.parseInt(getComputedStyle(s.value).paddingRight,10),R=s.value.clientWidth-O-F;let D=0,z=0;return k.forEach((U,H)=>{D+=U.offsetWidth||0,D<=R-A&&(z=H+1)}),z===k.length?-1:z},S=(E,N=33.34)=>{let k;return()=>{k&&clearTimeout(k),k=setTimeout(()=>{E()},N)}};let C=!0;const T=()=>{const E=()=>{u.value=-1,Qt(()=>{u.value=$()})};C?E():S(E)(),C=!1};Pe(()=>e.defaultActive,E=>{h.value[E]||(f.value=""),_(E)}),Pe(()=>e.collapse,E=>{E&&(c.value=[])}),Pe(h.value,m);let M;uD(()=>{e.mode==="horizontal"&&e.ellipsis?M=sm(s,T).stop:M==null||M()});{const E=O=>{p.value[O.index]=O},N=O=>{delete p.value[O.index]};Fn("rootMenu",oi({props:e,openedMenus:c,items:h,subMenus:p,activeIndex:f,isMenuPopup:g,addMenuItem:O=>{h.value[O.index]=O},removeMenuItem:O=>{delete h.value[O.index]},addSubMenu:E,removeSubMenu:N,openMenu:y,closeMenu:b,handleMenuItemClick:w,handleSubMenuClick:x})),Fn(`subMenu:${i.uid}`,{addSubMenu:E,removeSubMenu:N,mouseInChild:me(!1),level:0})}return nn(()=>{e.mode==="horizontal"&&new t0e(i.vnode.el,a.namespace.value)}),r({open:N=>{const{indexPath:k}=p.value[N];k.forEach(A=>y(A,k))},close:v,handleResize:T}),()=>{var E,N;let k=(N=(E=n.default)==null?void 0:E.call(n))!=null?N:[];const A=[];if(e.mode==="horizontal"&&s.value){const R=Ag(k),D=u.value===-1?R:R.slice(0,u.value),z=u.value===-1?[]:R.slice(u.value);z!=null&&z.length&&e.ellipsis&&(k=D,A.push(on(h8,{index:"sub-menu-more",class:l.e("hide-arrow")},{title:()=>on(gn,{class:l.e("icon-more")},{default:()=>on(mce)}),default:()=>z})))}const O=hz(e,0),F=on("ul",{key:String(e.collapse),role:"menubar",ref:s,style:O.value,class:{[a.b()]:!0,[a.m(e.mode)]:!0,[a.m("collapse")]:e.collapse}},[...k,...A]);return e.collapseTransition&&e.mode==="vertical"?on(i0e,()=>F):F}}});const c0e=At({index:{type:Ge([String,null]),default:null},route:{type:Ge([String,Object])},disabled:Boolean}),f0e={click:e=>Ye(e.index)&&Array.isArray(e.indexPath)},C_="ElMenuItem",d0e=Ue({name:C_,components:{ElTooltip:d8},props:c0e,emits:f0e,setup(e,{emit:t}){const n=yr(),r=et("rootMenu"),i=mt("menu"),o=mt("menu-item");r||Oo(C_,"can not inject root menu");const{parentMenu:s,indexPath:a}=dz(n,vl(e,"index")),l=et(`subMenu:${s.value.uid}`);l||Oo(C_,"can not inject sub menu");const u=G(()=>e.index===r.activeIndex),c=oi({index:e.index,indexPath:a,active:u}),f=()=>{e.disabled||(r.handleMenuItemClick({index:e.index,indexPath:a.value,route:e.route}),t("click",c))};return nn(()=>{l.addSubMenu(c),r.addMenuItem(c)}),si(()=>{l.removeSubMenu(c),r.removeMenuItem(c)}),{parentMenu:s,rootMenu:r,active:u,nsMenu:i,nsMenuItem:o,handleClick:f}}});function h0e(e,t,n,r,i,o){const s=as("el-tooltip");return re(),_e("li",{class:Te([e.nsMenuItem.b(),e.nsMenuItem.is("active",e.active),e.nsMenuItem.is("disabled",e.disabled)]),role:"menuitem",tabindex:"-1",onClick:t[0]||(t[0]=(...a)=>e.handleClick&&e.handleClick(...a))},[e.parentMenu.type.name==="ElMenu"&&e.rootMenu.props.collapse&&e.$slots.title?(re(),tt(s,{key:0,effect:e.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:oe(()=>[ht(e.$slots,"title")]),default:oe(()=>[be("div",{class:Te(e.nsMenu.be("tooltip","trigger"))},[ht(e.$slots,"default")],2)]),_:3},8,["effect"])):(re(),_e(Lt,{key:1},[ht(e.$slots,"default"),ht(e.$slots,"title")],64))],2)}var pz=Wt(d0e,[["render",h0e],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item.vue"]]);const p0e={title:String},g0e="ElMenuItemGroup",m0e=Ue({name:g0e,props:p0e,setup(){return{ns:mt("menu-item-group")}}});function y0e(e,t,n,r,i,o){return re(),_e("li",{class:Te(e.ns.b())},[be("div",{class:Te(e.ns.e("title"))},[e.$slots.title?ht(e.$slots,"title",{key:1}):(re(),_e(Lt,{key:0},[bl(Hr(e.title),1)],64))],2),be("ul",null,[ht(e.$slots,"default")])],2)}var gz=Wt(m0e,[["render",y0e],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item-group.vue"]]);const v0e=Uo(u0e,{MenuItem:pz,MenuItemGroup:gz,SubMenu:h8});Rh(pz);Rh(gz);const b0e=Rh(h8),mz=Symbol("sliderContextKey"),x0e=At({modelValue:{type:Ge([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:Cv,inputSize:Cv,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:Ge(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},label:{type:String,default:void 0},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:Ge(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:um,default:"top"},marks:{type:Ge(Object)},validateEvent:{type:Boolean,default:!0}}),A_=e=>Yt(e)||ze(e)&&e.every(Yt),w0e={[un]:A_,[ws]:A_,[Oa]:A_},_0e=(e,t,n)=>{const r=me();return nn(async()=>{e.range?(Array.isArray(e.modelValue)?(t.firstValue=Math.max(e.min,e.modelValue[0]),t.secondValue=Math.min(e.max,e.modelValue[1])):(t.firstValue=e.min,t.secondValue=e.max),t.oldValue=[t.firstValue,t.secondValue]):(typeof e.modelValue!="number"||Number.isNaN(e.modelValue)?t.firstValue=e.min:t.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),t.oldValue=t.firstValue),gc(window,"resize",n),await Qt(),n()}),{sliderWrapper:r}},E0e=e=>G(()=>e.marks?Object.keys(e.marks).map(Number.parseFloat).sort((n,r)=>n-r).filter(n=>n<=e.max&&n>=e.min).map(n=>({point:n,position:(n-e.min)*100/(e.max-e.min),mark:e.marks[n]})):[]),S0e=(e,t,n)=>{const{form:r,formItem:i}=A2(),o=Nl(),s=me(),a=me(),l={firstButton:s,secondButton:a},u=G(()=>e.disabled||(r==null?void 0:r.disabled)||!1),c=G(()=>Math.min(t.firstValue,t.secondValue)),f=G(()=>Math.max(t.firstValue,t.secondValue)),h=G(()=>e.range?`${100*(f.value-c.value)/(e.max-e.min)}%`:`${100*(t.firstValue-e.min)/(e.max-e.min)}%`),p=G(()=>e.range?`${100*(c.value-e.min)/(e.max-e.min)}%`:"0%"),g=G(()=>e.vertical?{height:e.height}:{}),m=G(()=>e.vertical?{height:h.value,bottom:p.value}:{width:h.value,left:p.value}),y=()=>{o.value&&(t.sliderSize=o.value[`client${e.vertical?"Height":"Width"}`])},v=E=>{const N=e.min+E*(e.max-e.min)/100;if(!e.range)return s;let k;return Math.abs(c.value-N)<Math.abs(f.value-N)?k=t.firstValue<t.secondValue?"firstButton":"secondButton":k=t.firstValue>t.secondValue?"firstButton":"secondButton",l[k]},b=E=>{const N=v(E);return N.value.setPosition(E),N},x=E=>{t.firstValue=E,_(e.range?[c.value,f.value]:E)},w=E=>{t.secondValue=E,e.range&&_([c.value,f.value])},_=E=>{n(un,E),n(ws,E)},$=async()=>{await Qt(),n(Oa,e.range?[c.value,f.value]:e.modelValue)},S=E=>{var N,k,A,O,F,R;if(u.value||t.dragging)return;y();let D=0;if(e.vertical){const z=(A=(k=(N=E.touches)==null?void 0:N.item(0))==null?void 0:k.clientY)!=null?A:E.clientY;D=(o.value.getBoundingClientRect().bottom-z)/t.sliderSize*100}else{const z=(R=(F=(O=E.touches)==null?void 0:O.item(0))==null?void 0:F.clientX)!=null?R:E.clientX,U=o.value.getBoundingClientRect().left;D=(z-U)/t.sliderSize*100}if(!(D<0||D>100))return b(D)};return{elFormItem:i,slider:o,firstButton:s,secondButton:a,sliderDisabled:u,minValue:c,maxValue:f,runwayStyle:g,barStyle:m,resetSize:y,setPosition:b,emitChange:$,onSliderWrapperPrevent:E=>{var N,k;((N=l.firstButton.value)!=null&&N.dragging||(k=l.secondButton.value)!=null&&k.dragging)&&E.preventDefault()},onSliderClick:E=>{S(E)&&$()},onSliderDown:async E=>{const N=S(E);N&&(await Qt(),N.value.onButtonDown(E))},setFirstValue:x,setSecondValue:w}},{left:$0e,down:C0e,right:A0e,up:k0e,home:M0e,end:T0e,pageUp:O0e,pageDown:F0e}=pn,N0e=(e,t,n)=>{const r=me(),i=me(!1),o=G(()=>t.value instanceof Function),s=G(()=>o.value&&t.value(e.modelValue)||e.modelValue),a=I9(()=>{n.value&&(i.value=!0)},50),l=I9(()=>{n.value&&(i.value=!1)},50);return{tooltip:r,tooltipVisible:i,formatValue:s,displayTooltip:a,hideTooltip:l}},R0e=(e,t,n)=>{const{disabled:r,min:i,max:o,step:s,showTooltip:a,precision:l,sliderSize:u,formatTooltip:c,emitChange:f,resetSize:h,updateDragging:p}=et(mz),{tooltip:g,tooltipVisible:m,formatValue:y,displayTooltip:v,hideTooltip:b}=N0e(e,c,a),x=me(),w=G(()=>`${(e.modelValue-i.value)/(o.value-i.value)*100}%`),_=G(()=>e.vertical?{bottom:w.value}:{left:w.value}),$=()=>{t.hovering=!0,v()},S=()=>{t.hovering=!1,t.dragging||b()},C=W=>{r.value||(W.preventDefault(),D(W),window.addEventListener("mousemove",z),window.addEventListener("touchmove",z),window.addEventListener("mouseup",U),window.addEventListener("touchend",U),window.addEventListener("contextmenu",U),x.value.focus())},T=W=>{r.value||(t.newPosition=Number.parseFloat(w.value)+W/(o.value-i.value)*100,H(t.newPosition),f())},M=()=>{T(-s.value)},E=()=>{T(s.value)},N=()=>{T(-s.value*4)},k=()=>{T(s.value*4)},A=()=>{r.value||(H(0),f())},O=()=>{r.value||(H(100),f())},F=W=>{let he=!0;[$0e,C0e].includes(W.key)?M():[A0e,k0e].includes(W.key)?E():W.key===M0e?A():W.key===T0e?O():W.key===F0e?N():W.key===O0e?k():he=!1,he&&W.preventDefault()},R=W=>{let he,ae;return W.type.startsWith("touch")?(ae=W.touches[0].clientY,he=W.touches[0].clientX):(ae=W.clientY,he=W.clientX),{clientX:he,clientY:ae}},D=W=>{t.dragging=!0,t.isClick=!0;const{clientX:he,clientY:ae}=R(W);e.vertical?t.startY=ae:t.startX=he,t.startPosition=Number.parseFloat(w.value),t.newPosition=t.startPosition},z=W=>{if(t.dragging){t.isClick=!1,v(),h();let he;const{clientX:ae,clientY:Ce}=R(W);e.vertical?(t.currentY=Ce,he=(t.startY-t.currentY)/u.value*100):(t.currentX=ae,he=(t.currentX-t.startX)/u.value*100),t.newPosition=t.startPosition+he,H(t.newPosition)}},U=()=>{t.dragging&&(setTimeout(()=>{t.dragging=!1,t.hovering||b(),t.isClick||H(t.newPosition),f()},0),window.removeEventListener("mousemove",z),window.removeEventListener("touchmove",z),window.removeEventListener("mouseup",U),window.removeEventListener("touchend",U),window.removeEventListener("contextmenu",U))},H=async W=>{if(W===null||Number.isNaN(+W))return;W<0?W=0:W>100&&(W=100);const he=100/((o.value-i.value)/s.value);let Ce=Math.round(W/he)*he*(o.value-i.value)*.01+i.value;Ce=Number.parseFloat(Ce.toFixed(l.value)),Ce!==e.modelValue&&n(un,Ce),!t.dragging&&e.modelValue!==t.oldValue&&(t.oldValue=e.modelValue),await Qt(),t.dragging&&v(),g.value.updatePopper()};return Pe(()=>t.dragging,W=>{p(W)}),{disabled:r,button:x,tooltip:g,tooltipVisible:m,showTooltip:a,wrapperStyle:_,formatValue:y,handleMouseEnter:$,handleMouseLeave:S,onButtonDown:C,onKeyDown:F,setPosition:H}},P0e=(e,t,n,r)=>({stops:G(()=>{if(!e.showStops||e.min>e.max)return[];if(e.step===0)return[];const s=(e.max-e.min)/e.step,a=100*e.step/(e.max-e.min),l=Array.from({length:s-1}).map((u,c)=>(c+1)*a);return e.range?l.filter(u=>u<100*(n.value-e.min)/(e.max-e.min)||u>100*(r.value-e.min)/(e.max-e.min)):l.filter(u=>u>100*(t.firstValue-e.min)/(e.max-e.min))}),getStopStyle:s=>e.vertical?{bottom:`${s}%`}:{left:`${s}%`}}),I0e=(e,t,n,r,i,o)=>{const s=u=>{i(un,u),i(ws,u)},a=()=>e.range?![n.value,r.value].every((u,c)=>u===t.oldValue[c]):e.modelValue!==t.oldValue,l=()=>{var u,c;e.min>e.max&&Oo("Slider","min should not be greater than max.");const f=e.modelValue;e.range&&Array.isArray(f)?f[1]<e.min?s([e.min,e.min]):f[0]>e.max?s([e.max,e.max]):f[0]<e.min?s([e.min,f[1]]):f[1]>e.max?s([f[0],e.max]):(t.firstValue=f[0],t.secondValue=f[1],a()&&(e.validateEvent&&((u=o==null?void 0:o.validate)==null||u.call(o,"change").catch(h=>void 0)),t.oldValue=f.slice())):!e.range&&typeof f=="number"&&!Number.isNaN(f)&&(f<e.min?s(e.min):f>e.max?s(e.max):(t.firstValue=f,a()&&(e.validateEvent&&((c=o==null?void 0:o.validate)==null||c.call(o,"change").catch(h=>void 0)),t.oldValue=f)))};l(),Pe(()=>t.dragging,u=>{u||l()}),Pe(()=>e.modelValue,(u,c)=>{t.dragging||Array.isArray(u)&&Array.isArray(c)&&u.every((f,h)=>f===c[h])&&t.firstValue===u[0]&&t.secondValue===u[1]||l()},{deep:!0}),Pe(()=>[e.min,e.max],()=>{l()})},D0e=At({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:um,default:"top"}}),L0e={[un]:e=>Yt(e)},z0e=["tabindex"],B0e=Ue({name:"ElSliderButton"}),j0e=Ue({...B0e,props:D0e,emits:L0e,setup(e,{expose:t,emit:n}){const r=e,i=mt("slider"),o=oi({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:r.modelValue}),{disabled:s,button:a,tooltip:l,showTooltip:u,tooltipVisible:c,wrapperStyle:f,formatValue:h,handleMouseEnter:p,handleMouseLeave:g,onButtonDown:m,onKeyDown:y,setPosition:v}=R0e(r,o,n),{hovering:b,dragging:x}=Xg(o);return t({onButtonDown:m,onKeyDown:y,setPosition:v,hovering:b,dragging:x}),(w,_)=>(re(),_e("div",{ref_key:"button",ref:a,class:Te([P(i).e("button-wrapper"),{hover:P(b),dragging:P(x)}]),style:rr(P(f)),tabindex:P(s)?-1:0,onMouseenter:_[0]||(_[0]=(...$)=>P(p)&&P(p)(...$)),onMouseleave:_[1]||(_[1]=(...$)=>P(g)&&P(g)(...$)),onMousedown:_[2]||(_[2]=(...$)=>P(m)&&P(m)(...$)),onTouchstart:_[3]||(_[3]=(...$)=>P(m)&&P(m)(...$)),onFocus:_[4]||(_[4]=(...$)=>P(p)&&P(p)(...$)),onBlur:_[5]||(_[5]=(...$)=>P(g)&&P(g)(...$)),onKeydown:_[6]||(_[6]=(...$)=>P(y)&&P(y)(...$))},[V(P(d8),{ref_key:"tooltip",ref:l,visible:P(c),placement:w.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":w.tooltipClass,disabled:!P(u),persistent:""},{content:oe(()=>[be("span",null,Hr(P(h)),1)]),default:oe(()=>[be("div",{class:Te([P(i).e("button"),{hover:P(b),dragging:P(x)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled"])],46,z0e))}});var b7=Wt(j0e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/button.vue"]]);const U0e=At({mark:{type:Ge([String,Object]),default:void 0}});var q0e=Ue({name:"ElSliderMarker",props:U0e,setup(e){const t=mt("slider"),n=G(()=>Ye(e.mark)?e.mark:e.mark.label),r=G(()=>Ye(e.mark)?void 0:e.mark.style);return()=>on("div",{class:t.e("marks-text"),style:r.value},n.value)}});const V0e=["id","role","aria-label","aria-labelledby"],H0e={key:1},W0e=Ue({name:"ElSlider"}),G0e=Ue({...W0e,props:x0e,emits:w0e,setup(e,{expose:t,emit:n}){const r=e,i=mt("slider"),{t:o}=NL(),s=oi({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:a,slider:l,firstButton:u,secondButton:c,sliderDisabled:f,minValue:h,maxValue:p,runwayStyle:g,barStyle:m,resetSize:y,emitChange:v,onSliderWrapperPrevent:b,onSliderClick:x,onSliderDown:w,setFirstValue:_,setSecondValue:$}=S0e(r,s,n),{stops:S,getStopStyle:C}=P0e(r,s,h,p),{inputId:T,isLabeledByFormItem:M}=a8(r,{formItemContext:a}),E=Ih(),N=G(()=>r.inputSize||E.value),k=G(()=>r.label||o("el.slider.defaultLabel",{min:r.min,max:r.max})),A=G(()=>r.range?r.rangeStartLabel||o("el.slider.defaultRangeStartLabel"):k.value),O=G(()=>r.formatValueText?r.formatValueText(W.value):`${W.value}`),F=G(()=>r.rangeEndLabel||o("el.slider.defaultRangeEndLabel")),R=G(()=>r.formatValueText?r.formatValueText(he.value):`${he.value}`),D=G(()=>[i.b(),i.m(E.value),i.is("vertical",r.vertical),{[i.m("with-input")]:r.showInput}]),z=E0e(r);I0e(r,s,h,p,n,a);const U=G(()=>{const xe=[r.min,r.max,r.step].map(B=>{const Q=`${B}`.split(".")[1];return Q?Q.length:0});return Math.max.apply(null,xe)}),{sliderWrapper:H}=_0e(r,s,y),{firstValue:W,secondValue:he,sliderSize:ae}=Xg(s),Ce=xe=>{s.dragging=xe};return Fn(mz,{...Xg(r),sliderSize:ae,disabled:f,precision:U,emitChange:v,resetSize:y,updateDragging:Ce}),t({onSliderClick:x}),(xe,B)=>{var Q,q;return re(),_e("div",{id:xe.range?P(T):void 0,ref_key:"sliderWrapper",ref:H,class:Te(P(D)),role:xe.range?"group":void 0,"aria-label":xe.range&&!P(M)?P(k):void 0,"aria-labelledby":xe.range&&P(M)?(Q=P(a))==null?void 0:Q.labelId:void 0,onTouchstart:B[2]||(B[2]=(...K)=>P(b)&&P(b)(...K)),onTouchmove:B[3]||(B[3]=(...K)=>P(b)&&P(b)(...K))},[be("div",{ref_key:"slider",ref:l,class:Te([P(i).e("runway"),{"show-input":xe.showInput&&!xe.range},P(i).is("disabled",P(f))]),style:rr(P(g)),onMousedown:B[0]||(B[0]=(...K)=>P(w)&&P(w)(...K)),onTouchstart:B[1]||(B[1]=(...K)=>P(w)&&P(w)(...K))},[be("div",{class:Te(P(i).e("bar")),style:rr(P(m))},null,6),V(b7,{id:xe.range?void 0:P(T),ref_key:"firstButton",ref:u,"model-value":P(W),vertical:xe.vertical,"tooltip-class":xe.tooltipClass,placement:xe.placement,role:"slider","aria-label":xe.range||!P(M)?P(A):void 0,"aria-labelledby":!xe.range&&P(M)?(q=P(a))==null?void 0:q.labelId:void 0,"aria-valuemin":xe.min,"aria-valuemax":xe.range?P(he):xe.max,"aria-valuenow":P(W),"aria-valuetext":P(O),"aria-orientation":xe.vertical?"vertical":"horizontal","aria-disabled":P(f),"onUpdate:modelValue":P(_)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),xe.range?(re(),tt(b7,{key:0,ref_key:"secondButton",ref:c,"model-value":P(he),vertical:xe.vertical,"tooltip-class":xe.tooltipClass,placement:xe.placement,role:"slider","aria-label":P(F),"aria-valuemin":P(W),"aria-valuemax":xe.max,"aria-valuenow":P(he),"aria-valuetext":P(R),"aria-orientation":xe.vertical?"vertical":"horizontal","aria-disabled":P(f),"onUpdate:modelValue":P($)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):Qe("v-if",!0),xe.showStops?(re(),_e("div",H0e,[(re(!0),_e(Lt,null,s_(P(S),(K,ce)=>(re(),_e("div",{key:ce,class:Te(P(i).e("stop")),style:rr(P(C)(K))},null,6))),128))])):Qe("v-if",!0),P(z).length>0?(re(),_e(Lt,{key:2},[be("div",null,[(re(!0),_e(Lt,null,s_(P(z),(K,ce)=>(re(),_e("div",{key:ce,style:rr(P(C)(K.position)),class:Te([P(i).e("stop"),P(i).e("marks-stop")])},null,6))),128))]),be("div",{class:Te(P(i).e("marks"))},[(re(!0),_e(Lt,null,s_(P(z),(K,ce)=>(re(),tt(P(q0e),{key:ce,mark:K.mark,style:rr(P(C)(K.position))},null,8,["mark","style"]))),128))],2)],64)):Qe("v-if",!0)],38),xe.showInput&&!xe.range?(re(),tt(P(Qge),{key:0,ref:"input","model-value":P(W),class:Te(P(i).e("input")),step:xe.step,disabled:P(f),controls:xe.showInputControls,min:xe.min,max:xe.max,debounce:xe.debounce,size:P(N),"onUpdate:modelValue":P(_),onChange:P(v)},null,8,["model-value","class","step","disabled","controls","min","max","debounce","size","onUpdate:modelValue","onChange"])):Qe("v-if",!0)],42,V0e)}}});var Y0e=Wt(G0e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/slider.vue"]]);const X0e=Uo(Y0e),K0e=At({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},size:{type:String,validator:bfe},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:wl},inactiveIcon:{type:wl},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:Ge(Function)},id:String,tabindex:{type:[String,Number]},value:{type:[Boolean,String,Number],default:!1}}),J0e={[un]:e=>Pl(e)||Ye(e)||Yt(e),[Oa]:e=>Pl(e)||Ye(e)||Yt(e),[ws]:e=>Pl(e)||Ye(e)||Yt(e)},Q0e=["onClick"],Z0e=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],eme=["aria-hidden"],tme=["aria-hidden"],nme=["aria-hidden"],BE="ElSwitch",rme=Ue({name:BE}),ime=Ue({...rme,props:K0e,emits:J0e,setup(e,{expose:t,emit:n}){const r=e,i=yr(),{formItem:o}=A2(),s=Ih(),a=mt("switch");(C=>{C.forEach(T=>{X4({from:T[0],replacement:T[1],scope:BE,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},G(()=>{var M;return!!((M=i.vnode.props)!=null&&M[T[2]])}))})})([['"value"','"model-value" or "v-model"',"value"],['"active-color"',"CSS var `--el-switch-on-color`","activeColor"],['"inactive-color"',"CSS var `--el-switch-off-color`","inactiveColor"],['"border-color"',"CSS var `--el-switch-border-color`","borderColor"]]);const{inputId:u}=a8(r,{formItemContext:o}),c=s8(G(()=>r.loading)),f=me(r.modelValue!==!1),h=me(),p=me(),g=G(()=>[a.b(),a.m(s.value),a.is("disabled",c.value),a.is("checked",x.value)]),m=G(()=>[a.e("label"),a.em("label","left"),a.is("active",!x.value)]),y=G(()=>[a.e("label"),a.em("label","right"),a.is("active",x.value)]),v=G(()=>({width:Sv(r.width)}));Pe(()=>r.modelValue,()=>{f.value=!0}),Pe(()=>r.value,()=>{f.value=!1});const b=G(()=>f.value?r.modelValue:r.value),x=G(()=>b.value===r.activeValue);[r.activeValue,r.inactiveValue].includes(b.value)||(n(un,r.inactiveValue),n(Oa,r.inactiveValue),n(ws,r.inactiveValue)),Pe(x,C=>{var T;h.value.checked=C,r.validateEvent&&((T=o==null?void 0:o.validate)==null||T.call(o,"change").catch(M=>void 0))});const w=()=>{const C=x.value?r.inactiveValue:r.activeValue;n(un,C),n(Oa,C),n(ws,C),Qt(()=>{h.value.checked=x.value})},_=()=>{if(c.value)return;const{beforeChange:C}=r;if(!C){w();return}const T=C();[hv(T),Pl(T)].includes(!0)||Oo(BE,"beforeChange must return type `Promise<boolean>` or `boolean`"),hv(T)?T.then(E=>{E&&w()}).catch(E=>{}):T&&w()},$=G(()=>a.cssVarBlock({...r.activeColor?{"on-color":r.activeColor}:null,...r.inactiveColor?{"off-color":r.inactiveColor}:null,...r.borderColor?{"border-color":r.borderColor}:null})),S=()=>{var C,T;(T=(C=h.value)==null?void 0:C.focus)==null||T.call(C)};return nn(()=>{h.value.checked=x.value}),t({focus:S,checked:x}),(C,T)=>(re(),_e("div",{class:Te(P(g)),style:rr(P($)),onClick:tr(_,["prevent"])},[be("input",{id:P(u),ref_key:"input",ref:h,class:Te(P(a).e("input")),type:"checkbox",role:"switch","aria-checked":P(x),"aria-disabled":P(c),name:C.name,"true-value":C.activeValue,"false-value":C.inactiveValue,disabled:P(c),tabindex:C.tabindex,onChange:w,onKeydown:ld(_,["enter"])},null,42,Z0e),!C.inlinePrompt&&(C.inactiveIcon||C.inactiveText)?(re(),_e("span",{key:0,class:Te(P(m))},[C.inactiveIcon?(re(),tt(P(gn),{key:0},{default:oe(()=>[(re(),tt(va(C.inactiveIcon)))]),_:1})):Qe("v-if",!0),!C.inactiveIcon&&C.inactiveText?(re(),_e("span",{key:1,"aria-hidden":P(x)},Hr(C.inactiveText),9,eme)):Qe("v-if",!0)],2)):Qe("v-if",!0),be("span",{ref_key:"core",ref:p,class:Te(P(a).e("core")),style:rr(P(v))},[C.inlinePrompt?(re(),_e("div",{key:0,class:Te(P(a).e("inner"))},[C.activeIcon||C.inactiveIcon?(re(),tt(P(gn),{key:0,class:Te(P(a).is("icon"))},{default:oe(()=>[(re(),tt(va(P(x)?C.activeIcon:C.inactiveIcon)))]),_:1},8,["class"])):C.activeText||C.inactiveText?(re(),_e("span",{key:1,class:Te(P(a).is("text")),"aria-hidden":!P(x)},Hr(P(x)?C.activeText:C.inactiveText),11,tme)):Qe("v-if",!0)],2)):Qe("v-if",!0),be("div",{class:Te(P(a).e("action"))},[C.loading?(re(),tt(P(gn),{key:0,class:Te(P(a).is("loading"))},{default:oe(()=>[V(P(ML))]),_:1},8,["class"])):Qe("v-if",!0)],2)],6),!C.inlinePrompt&&(C.activeIcon||C.activeText)?(re(),_e("span",{key:1,class:Te(P(y))},[C.activeIcon?(re(),tt(P(gn),{key:0},{default:oe(()=>[(re(),tt(va(C.activeIcon)))]),_:1})):Qe("v-if",!0),!C.activeIcon&&C.activeText?(re(),_e("span",{key:1,"aria-hidden":!P(x)},Hr(C.activeText),9,nme)):Qe("v-if",!0)],2)):Qe("v-if",!0)],14,Q0e))}});var ome=Wt(ime,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const sme=Uo(ome),T2=Symbol("tabsRootContextKey"),ame=At({tabs:{type:Ge(Array),default:()=>am([])}}),yz="ElTabBar",lme=Ue({name:yz}),ume=Ue({...lme,props:ame,setup(e,{expose:t}){const n=e,r=yr(),i=et(T2);i||Oo(yz,"<el-tabs><el-tab-bar /></el-tabs>");const o=mt("tabs"),s=me(),a=me(),l=()=>{let c=0,f=0;const h=["top","bottom"].includes(i.props.tabPosition)?"width":"height",p=h==="width"?"x":"y",g=p==="x"?"left":"top";return n.tabs.every(m=>{var y,v;const b=(v=(y=r.parent)==null?void 0:y.refs)==null?void 0:v[`tab-${m.uid}`];if(!b)return!1;if(!m.active)return!0;c=b[`offset${gl(g)}`],f=b[`client${gl(h)}`];const x=window.getComputedStyle(b);return h==="width"&&(n.tabs.length>1&&(f-=Number.parseFloat(x.paddingLeft)+Number.parseFloat(x.paddingRight)),c+=Number.parseFloat(x.paddingLeft)),!1}),{[h]:`${f}px`,transform:`translate${gl(p)}(${c}px)`}},u=()=>a.value=l();return Pe(()=>n.tabs,async()=>{await Qt(),u()},{immediate:!0}),sm(s,()=>u()),t({ref:s,update:u}),(c,f)=>(re(),_e("div",{ref_key:"barRef",ref:s,class:Te([P(o).e("active-bar"),P(o).is(P(i).props.tabPosition)]),style:rr(a.value)},null,6))}});var cme=Wt(ume,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const fme=At({panes:{type:Ge(Array),default:()=>am([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),dme={tabClick:(e,t,n)=>n instanceof Event,tabRemove:(e,t)=>t instanceof Event},x7="ElTabNav",hme=Ue({name:x7,props:fme,emits:dme,setup(e,{expose:t,emit:n}){const r=yr(),i=et(T2);i||Oo(x7,"<el-tabs><tab-nav /></el-tabs>");const o=mt("tabs"),s=oie(),a=pie(),l=me(),u=me(),c=me(),f=me(),h=me(!1),p=me(0),g=me(!1),m=me(!0),y=G(()=>["top","bottom"].includes(i.props.tabPosition)?"width":"height"),v=G(()=>({transform:`translate${y.value==="width"?"X":"Y"}(-${p.value}px)`})),b=()=>{if(!l.value)return;const T=l.value[`offset${gl(y.value)}`],M=p.value;if(!M)return;const E=M>T?M-T:0;p.value=E},x=()=>{if(!l.value||!u.value)return;const T=u.value[`offset${gl(y.value)}`],M=l.value[`offset${gl(y.value)}`],E=p.value;if(T-E<=M)return;const N=T-E>M*2?E+M:T-M;p.value=N},w=async()=>{const T=u.value;if(!h.value||!c.value||!l.value||!T)return;await Qt();const M=c.value.querySelector(".is-active");if(!M)return;const E=l.value,N=["top","bottom"].includes(i.props.tabPosition),k=M.getBoundingClientRect(),A=E.getBoundingClientRect(),O=N?T.offsetWidth-A.width:T.offsetHeight-A.height,F=p.value;let R=F;N?(k.left<A.left&&(R=F-(A.left-k.left)),k.right>A.right&&(R=F+k.right-A.right)):(k.top<A.top&&(R=F-(A.top-k.top)),k.bottom>A.bottom&&(R=F+(k.bottom-A.bottom))),R=Math.max(R,0),p.value=Math.min(R,O)},_=()=>{var T;if(!u.value||!l.value)return;e.stretch&&((T=f.value)==null||T.update());const M=u.value[`offset${gl(y.value)}`],E=l.value[`offset${gl(y.value)}`],N=p.value;E<M?(h.value=h.value||{},h.value.prev=N,h.value.next=N+E<M,M-N<E&&(p.value=M-E)):(h.value=!1,N>0&&(p.value=0))},$=T=>{const M=T.code,{up:E,down:N,left:k,right:A}=pn;if(![E,N,k,A].includes(M))return;const O=Array.from(T.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),F=O.indexOf(T.target);let R;M===k||M===E?F===0?R=O.length-1:R=F-1:F<O.length-1?R=F+1:R=0,O[R].focus({preventScroll:!0}),O[R].click(),S()},S=()=>{m.value&&(g.value=!0)},C=()=>g.value=!1;return Pe(s,T=>{T==="hidden"?m.value=!1:T==="visible"&&setTimeout(()=>m.value=!0,50)}),Pe(a,T=>{T?setTimeout(()=>m.value=!0,50):m.value=!1}),sm(c,_),nn(()=>setTimeout(()=>w(),0)),rm(()=>_()),t({scrollToActiveTab:w,removeFocus:C}),Pe(()=>e.panes,()=>r.update(),{flush:"post",deep:!0}),()=>{const T=h.value?[V("span",{class:[o.e("nav-prev"),o.is("disabled",!h.value.prev)],onClick:b},[V(gn,null,{default:()=>[V(rue,null,null)]})]),V("span",{class:[o.e("nav-next"),o.is("disabled",!h.value.next)],onClick:x},[V(gn,null,{default:()=>[V(Y4,null,null)]})])]:null,M=e.panes.map((E,N)=>{var k,A,O,F;const R=E.uid,D=E.props.disabled,z=(A=(k=E.props.name)!=null?k:E.index)!=null?A:`${N}`,U=!D&&(E.isClosable||e.editable);E.index=`${N}`;const H=U?V(gn,{class:"is-icon-close",onClick:ae=>n("tabRemove",E,ae)},{default:()=>[V(Nue,null,null)]}):null,W=((F=(O=E.slots).label)==null?void 0:F.call(O))||E.props.label,he=!D&&E.active?0:-1;return V("div",{ref:`tab-${R}`,class:[o.e("item"),o.is(i.props.tabPosition),o.is("active",E.active),o.is("disabled",D),o.is("closable",U),o.is("focus",g.value)],id:`tab-${z}`,key:`tab-${R}`,"aria-controls":`pane-${z}`,role:"tab","aria-selected":E.active,tabindex:he,onFocus:()=>S(),onBlur:()=>C(),onClick:ae=>{C(),n("tabClick",E,z,ae)},onKeydown:ae=>{U&&(ae.code===pn.delete||ae.code===pn.backspace)&&n("tabRemove",E,ae)}},[W,H])});return V("div",{ref:c,class:[o.e("nav-wrap"),o.is("scrollable",!!h.value),o.is(i.props.tabPosition)]},[T,V("div",{class:o.e("nav-scroll"),ref:l},[V("div",{class:[o.e("nav"),o.is(i.props.tabPosition),o.is("stretch",e.stretch&&["top","bottom"].includes(i.props.tabPosition))],ref:u,style:v.value,role:"tablist",onKeydown:$},[e.type?null:V(cme,{ref:f,tabs:[...e.panes]},null),M])])])}}}),pme=At({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:Ge(Function),default:()=>!0},stretch:Boolean}),k_=e=>Ye(e)||Yt(e),gme={[un]:e=>k_(e),tabClick:(e,t)=>t instanceof Event,tabChange:e=>k_(e),edit:(e,t)=>["remove","add"].includes(t),tabRemove:e=>k_(e),tabAdd:()=>!0};var mme=Ue({name:"ElTabs",props:pme,emits:gme,setup(e,{emit:t,slots:n,expose:r}){var i,o;const s=mt("tabs"),{children:a,addChild:l,removeChild:u}=Kde(yr(),"ElTabPane"),c=me(),f=me((o=(i=e.modelValue)!=null?i:e.activeName)!=null?o:"0"),h=v=>{f.value=v,t(un,v),t("tabChange",v)},p=async v=>{var b,x,w;if(!(f.value===v||sc(v)))try{await((b=e.beforeLeave)==null?void 0:b.call(e,v,f.value))!==!1&&(h(v),(w=(x=c.value)==null?void 0:x.removeFocus)==null||w.call(x))}catch{}},g=(v,b,x)=>{v.props.disabled||(p(b),t("tabClick",v,x))},m=(v,b)=>{v.props.disabled||sc(v.props.name)||(b.stopPropagation(),t("edit",v.props.name,"remove"),t("tabRemove",v.props.name))},y=()=>{t("edit",void 0,"add"),t("tabAdd")};return X4({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},G(()=>!!e.activeName)),Pe(()=>e.activeName,v=>p(v)),Pe(()=>e.modelValue,v=>p(v)),Pe(f,async()=>{var v;await Qt(),(v=c.value)==null||v.scrollToActiveTab()}),Fn(T2,{props:e,currentName:f,registerPane:l,unregisterPane:u}),r({currentName:f}),()=>{const v=e.editable||e.addable?V("span",{class:s.e("new-tab"),tabindex:"0",onClick:y,onKeydown:w=>{w.code===pn.enter&&y()}},[V(gn,{class:s.is("icon-plus")},{default:()=>[V(TL,null,null)]})]):null,b=V("div",{class:[s.e("header"),s.is(e.tabPosition)]},[v,V(hme,{ref:c,currentName:f.value,editable:e.editable,type:e.type,panes:a.value,stretch:e.stretch,onTabClick:g,onTabRemove:m},null)]),x=V("div",{class:s.e("content")},[ht(n,"default")]);return V("div",{class:[s.b(),s.m(e.tabPosition),{[s.m("card")]:e.type==="card",[s.m("border-card")]:e.type==="border-card"}]},[...e.tabPosition!=="bottom"?[b,x]:[x,b]])}}});const yme=At({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),vme=["id","aria-hidden","aria-labelledby"],vz="ElTabPane",bme=Ue({name:vz}),xme=Ue({...bme,props:yme,setup(e){const t=e,n=yr(),r=T4(),i=et(T2);i||Oo(vz,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const o=mt("tab-pane"),s=me(),a=G(()=>t.closable||i.props.closable),l=ZT(()=>{var p;return i.currentName.value===((p=t.name)!=null?p:s.value)}),u=me(l.value),c=G(()=>{var p;return(p=t.name)!=null?p:s.value}),f=ZT(()=>!t.lazy||u.value||l.value);Pe(l,p=>{p&&(u.value=!0)});const h=oi({uid:n.uid,slots:r,props:t,paneName:c,active:l,index:s,isClosable:a});return nn(()=>{i.registerPane(h)}),p2(()=>{i.unregisterPane(h.uid)}),(p,g)=>P(f)?Vl((re(),_e("div",{key:0,id:`pane-${P(c)}`,class:Te(P(o).b()),role:"tabpanel","aria-hidden":!P(l),"aria-labelledby":`tab-${P(c)}`},[ht(p.$slots,"default")],10,vme)),[[om,P(l)]]):Qe("v-if",!0)}});var bz=Wt(xme,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const wme=Uo(mme,{TabPane:bz}),_me=Rh(bz),Eme={props:{mode:{type:String,required:!1,default:null},link:{type:Boolean,required:!1,default:!1},to:{type:String,required:!1,default:"/"}}};function Sme(e,t,n,r,i,o){const s=as("router-link");return n.link?(re(),tt(s,{key:1,to:n.to,class:Te(n.mode)},{default:oe(()=>[ht(e.$slots,"default",{},void 0,!0)]),_:3},8,["to","class"])):(re(),_e("button",{key:0,class:Te({mode:n.mode})},[ht(e.$slots,"default",{},void 0,!0)],2))}const xz=sf(Eme,[["render",Sme],["__scopeId","data-v-9a4825ce"]]),$me="/customed-force-directed-graph/pic/dominance.png",Cme="/customed-force-directed-graph/pic/outlier.png",Ame="/customed-force-directed-graph/pic/top2.png",kme="/customed-force-directed-graph/pic/evenness.png",Mme="/customed-force-directed-graph/pic/trend.png",Tme="/customed-force-directed-graph/pic/skewness.png",Ome="/customed-force-directed-graph/pic/kurtosis.png",Fme={components:{Tools:ife,Location:Que,IconMenu:ice,Setting:Wce,Share:Qce,Operation:_ce,Warning:mfe,Remove:Nce},data(){return{defaultLinkColor:"#999",defaultNodeColor:"#868e96",circleHoveredColor:"#e6fcf5",width:null,height:null,leftCornerCoord:null,rightCornerCoord:null,circleR:12,circleFocusR:24,rectWidthOffset:3,rectHeightOffset:13,rectHeightBottomOffset:3,rectR:10,vegaLiteR:125,vegaLiteHeight:100,vegaLiteWidth:100,circleLink:50,vegaLiteLink:200,vegaLiteLongLink:300,circleStrength:-100,vegaLiteStrength:-5e3,insightNum:7,insightIconSize:20,iconSize:15,iconOffset:5,showIndex:new Map,pinnedIndex:new Map,neighborMap:new Map,selectedNode:null,simulation:null,ticks:0,editMode:!1,forceXMode:"number",alpha:1,alphaMin:.001,alphaDecay:1-Math.pow(.001,1/300),alphaTarget:0,velocityDecay:.4,defaultBaseConfig:{alpha:1,alphaMin:.001,alphaDecay:1-Math.pow(.001,1/300),alphaTarget:0,velocityDecay:.4},setCenter:!0,centerX:null,centerY:null,centerStrength:1,setX:!1,xX:null,xStrength:.1,setY:!1,yY:null,yStrength:.1,setRadicial:!1,radialX:null,radialY:null,radialR:100,radialStrength:.1,setManyBody:!0,manyBodyStrength:null,manyBodyTheta:.9,manyBodyDistanceMin:1,manyBodyDistanceMax:5e3,setLink:!0,linkDistance:null,linkStrength:null,linkIterations:1,setCollide:!0,collideRadius:null,collideStrength:1,collideIterations:1,defaultForceConfig:{center:{X:null,Y:null,Strength:1},x:{X:null,Strength:.1},y:{Y:null,Strength:.1},radial:{X:null,Y:null,R:100,Strength:1},manyBody:{Strength:null,Theta:.9,DistanceMin:1,DistanceMax:5e3},link:{Distance:null,Strength:null,Iterations:1},collide:{Radius:null,Strength:1,Iterations:1}}}},computed:{drawData(){return this.$store.getters["force/drawData"]},vegaLiteData(){return this.$store.getters["force/vegaLiteData"]},carsData(){return this.$store.getters["force/carsData"]}},watch:{drawData(e){e&&(this.getNeighbourInfo(e),this.drawGraph())},selectedNode(e,t){if(e!==t){const n=this.neighborMap.get(e),r=this.neighborMap.get(t);this.neighborHighligt(t,r,"selected",!1),this.neighborHighligt(e,n,"selected",!0)}},alpha(e,t){e!==t&&(e>1?this.alpha=1:e<0?this.alpha=0:this.baseConfigSet("alpha",e))},alphaMin(e,t){e!==t&&(e>1?this.alphaMin=1:e<0?this.alphaMin=0:this.baseConfigSet("alphaMin",e))},alphaDecay(e,t){e!==t&&(e>1?this.alphaDecay=1:e<0?this.alphaDecay=0:this.baseConfigSet("alphaDecay",e))},alphaTarget(e,t){e!==t&&(e>1?this.alphaTarget=1:e<0?this.alphaTarget=0:this.baseConfigSet("alphaTarget",e))},velocityDecay(e,t){e!==t&&(e>1?this.velocityDecay=1:e<0?this.velocityDecay=0:this.baseConfigSet("velocityDecay",e))},setCenter(e){e?this.simulation.force("center",d3.forceCenter(this.defaultForceConfig.center.X,this.defaultForceConfig.center.Y).strength(this.defaultForceConfig.center.Strength)):this.simulation.force("center",null),this.simulation.alpha(this.alpha),this.simulation.restart()},centerX(e,t){e!==t&&(e<0?this.conterX=0:this.forceConfigSet("center","x",e))},centerY(e,t){e!==t&&(e<0?this.conterY=0:this.forceConfigSet("center","y",e))},centerStrength(e,t){e!==t&&(e<-1?this.centerStrength=-1:this.forceConfigSet("center","strength",e))},setX(e){if(e)switch(this.forceXMode){case"number":this.simulation.force("x",d3.forceX(this.xX).strength(this.xStrength));break;case"aggregate":this.simulation.force("x",d3.forceX().x(n=>(+n.group+1)*100).strength(this.xStrength));break}else this.simulation.force("x",null);this.simulation.alpha(this.alpha),this.simulation.restart()},xX(e,t){this.setX&&e!==t&&(e<0?this.xX=0:this.forceConfigSet("x","x",e))},xStrength(e,t){this.setX&&e!==t&&(e<-1?this.xStrength=-1:this.forceConfigSet("x","strength",e))},setY(e){e?this.simulation.force("y",d3.forceY(this.yY).strength(this.yStrength)):this.simulation.force("y",null),this.simulation.alpha(this.alpha),this.simulation.restart()},yY(e,t){this.setY&&e!==t&&(e<0?this.yY=0:this.forceConfigSet("y","y",e))},yStrength(e,t){this.setY&&e!==t&&(e<-1?this.yStrength=-1:this.forceConfigSet("y","strength",e))},setRadicial(e){e?this.simulation.force("radial",d3.forceRadial(this.radialR,this.radialX,this.radialY).strength(this.radialStrength)):this.simulation.force("radial",null),this.simulation.alpha(this.alpha),this.simulation.restart()},radialX(e,t){this.setRadicial&&e!==t&&(e<0?this.radialX=0:this.forceConfigSet("radial","x",e))},radialY(e,t){this.setRadicial&&e!==t&&(e<0?this.radialY=0:this.forceConfigSet("radial","y",e))},radialR(e,t){this.setRadicial&&e!==t&&(e<0?this.radialR=0:this.forceConfigSet("radial","radius",e))},radialStrength(e,t){this.setRadicial&&e!==t&&(e<-1?this.radialStrength=-1:this.forceConfigSet("radial","strength",e))},setManyBody(e){const t=this;e?this.simulation.force("charge",d3.forceManyBody().strength(function(n){return n.showDetail?t.vegaLiteStrength:t.circleStrength}).theta(this.manyBodyTheta).distanceMin(this.manyBodyDistanceMin).distanceMax(this.manyBodyDistanceMax)):this.simulation.force("charge",null),this.simulation.alpha(this.alpha),this.simulation.restart()},manyBodyStrength(e,t){this.setManyBody&&e!==t&&(e<-500?this.manyBodyStrength=-500:e>500?this.manyBodyStrength=500:this.forceConfigSet("charge","strength",e))},manyBodyTheta(e,t){this.setManyBody&&e!==t&&(e<0?this.manyBodyTheta=0:e>1?this.manyBodyTheta=1:this.forceConfigSet("charge","theta",e))},manyBodyDistanceMin(e,t){this.setManyBody&&e!==t&&(e<0?this.manyBodyDistanceMin=0:e>1e3?this.manyBodyDistanceMin=1e3:this.forceConfigSet("charge","distanceMin",e))},manyBodyDistanceMax(e,t){this.setManyBody&&e!==t&&(e<0?this.manyBodyDistanceMax=0:e>5e3?this.manyBodyDistanceMax=5e3:this.forceConfigSet("charge","distanceMax",e))},setLink(e){if(e){const t=this,n=d3.select("#svg-container").select("svg").select("g.link-group").selectAll("line").data();this.simulation.force("link",d3.forceLink(n).id(r=>r.id).distance(function(r){if(t.showIndex.size>0){const i=t.showIndex.has(r.source.index),o=t.showIndex.has(r.target.index);if(i||o)return i&&o?t.vegaLiteLongLink:t.vegaLiteLink}return t.circleLink}).strength(this.linkStrength).iterations(this.linkIterations))}else this.simulation.force("link",null);this.simulation.alpha(this.alpha),this.simulation.restart()},linkDistance(e,t){this.setLink&&e!==t&&(e<0?this.linkDistance=0:e>300?this.linkDistance=300:this.forceConfigSet("link","distance",e))},linkStrength(e,t){this.setLink&&e!==t&&(e<0?this.linkStrength=0:e>1?this.linkStrength=1:this.forceConfigSet("link","strength",e))},linkIterations(e,t){this.setLink&&e!==t&&(e<0?this.linkIterations=0:e>500?this.linkIterations=500:this.forceConfigSet("link","iterations",e))},setCollide(e){const t=this;e?this.simulation.force("collide",d3.forceCollide(n=>n.showDetail?t.vegaLiteR:t.circleR).strength(this.collideStrength).iterations(this.collideIterations)):this.simulation.force("collide",null),this.simulation.alpha(this.alpha),this.simulation.restart()},collideStrength(e,t){this.setCollide&&e!==t&&(e<0?this.collideStrength=0:e>1?this.collideStrength=1:this.forceConfigSet("collide","strength",e))},collideIterations(e,t){this.setCollide&&e!==t&&(e<0?this.collideIterations=0:e>500?this.collideIterations=500:this.forceConfigSet("collide","iterations",e))}},methods:{loadData(){this.$store.dispatch("force/loadResultData")},neighborHighligt(e,t,n,r){const i=n+"-highlight",o=d3.select("#svg-container").select(".node-group").selectChildren("g"),s=d3.select("#svg-container").select(".link-group").selectChildren("line");t&&(o.filter(a=>t.includes(a.id.replace(".",""))).selectChildren("circle, rect").classed(i,r),s.filter(a=>e===a.source.id.replace(".","")||e===a.target.id.replace(".","")).classed(i,r)),n==="selected"&&o.filter(a=>a.id.replace(".","")===e).selectChildren("circle, rect").classed("center-highlight",r)},getNeighbourInfo(e){e.links.forEach(n=>{const r=n.source.replace(".",""),i=n.target.replace(".","");this.neighborMap.has(r)?this.neighborMap.get(r).push(i):this.neighborMap.set(r,[i]),this.neighborMap.has(i)?this.neighborMap.get(i).push(r):this.neighborMap.set(i,[r])})},handleBaseBlur(e){this[e]||(this[e]=this.defaultBaseConfig[e])},simStop(){this.simulation.stop()},simRestart(){this.simulation&&(this.alpha=this.defaultBaseConfig.alpha,this.alphaMin=this.defaultBaseConfig.alphaMin,this.alphaDecay=this.defaultBaseConfig.alphaDecay,this.alphaTarget=this.defaultBaseConfig.alphaTarget,this.velocityDecay=this.defaultBaseConfig.velocityDecay,this.simulation.alpha(this.defaultBaseConfig.alpha),this.simulation.alphaMin(this.defaultBaseConfig.alphaMin),this.simulation.alphaDecay(this.defaultBaseConfig.alphaDecay),this.simulation.alphaTarget(this.defaultBaseConfig.alphaTarget),this.simulation.velocityDecay(this.defaultBaseConfig.velocityDecay),this.restart())},restart(){this.ticks=0;const e=this.drawData,t=this.simulation.nodes(),n=e.links.map(a=>({...a})),r=t.map(function(a){return delete a.x,delete a.y,delete a.vx,delete a.vy,a});if(this.showIndex.size)for(const a of this.showIndex.keys())r[a].showDetail=!0;if(this.pinnedIndex.size)for(const[a,l]of this.pinnedIndex)this.drawVegaLite(l,a,"svg");const i=d3.select("#svg-container").select("svg").select("g.node-group"),o=d3.select("#svg-container").select("svg").select("g.link-group");i.selectChildren("g").data(r).join("g"),o.selectAll("line").data(n).join("line"),this.simulation.nodes(r),this.simulation.force("link")&&this.simulation.force("link").links(n),this.simulation.restart()},baseConfigSet(e,t){this.simulation[e](t),e!=="alpha"&&this.simulation.alpha(this.alpha),this.restart()},forceConfigSet(e,t,n){this.simulation.force(e)[t](n),this.simulation.alpha(this.alpha),this.simulation.restart()},forceDefaultSet(e){switch(e){case"center":this.centerX=this.defaultForceConfig.center.X,this.centerY=this.defaultForceConfig.center.Y,this.centerStrength=this.defaultForceConfig.center.Strength;break}this.simulation.alpha(this.alpha),this.simulation.restart()},handleCenterBlur(e){const t="center"+e;this[t]||(this[t]=this.defaultForceConfig.center[e])},drawVegaLite(e,t,n){const r=this,i=e.select(".vega-lite-container"),o=e.selectChild(".rect"),s=e.selectChild(".remove"),a=e.selectChild(".pin"),l=e.datum().view,u=e.select(".rect-title"),c=e.selectChild(".title-name"),f=e.selectChild(".title-description");if(l){const h=i.selectChild("svg");switch(n){case"img":h.classed("not-show",!0);const p=e.datum().img;l.toCanvas(5).then(g=>{const m=document.createElementNS("http://www.w3.org/2000/svg","image");m.setAttribute("href",g.toDataURL("image/png",1)),m.setAttribute("width",p.width),m.setAttribute("height",p.height),m.setAttribute("class","vega-lite-graph"),i.node().appendChild(m)});break;case"svg":i.selectChild("image").remove(),h.classed("not-show",!1);break}}else{let h=JSON.parse(e.datum()["vega-lite"][0]);h.width=this.vegaLiteWidth,h.height=this.vegaLiteHeight,h.usermeta={embedOptions:{renderer:"svg"}},vegaEmbed(i.node(),h).then(p=>{const g=p.view.background("transparent");e.datum().view=g,r.showIndex.set(t,g);const m=r.simulation.force("link");m&&m.initialize(r.simulation.nodes());const y=i.select("svg");y.attr("class","vega-lite-graph").attr("fill-opacity",0).attr("stroke-opacity",0).transition().duration(175).attr("fill-opacity",1).attr("stroke-opacity",1);const v=y.attr("width"),b=y.attr("height");e.datum().img={width:v,height:b};const x=r.iconSize+2*r.iconOffset,w=+v+r.rectWidthOffset*2,_=+b+r.rectHeightOffset*2+x,$=w/2,S=_/2;e.datum().rect={r:Math.sqrt(Math.pow($,2)+Math.pow(S,2))};const C=r.simulation.force("collide");switch(C&&C.initialize(r.simulation.nodes()),o.attr("rx",r.rectR).attr("x",0).attr("y",0).attr("width",0).attr("height",0).transition().duration(150).attr("x",-$).attr("y",-S).attr("width",w).attr("height",_),u.attr("rx",r.rectR).attr("x",0).attr("y",0).attr("width",0).attr("height",0).transition().duration(150).attr("x",-$).attr("y",-S).attr("width",w).attr("height",x),c.text("This is Name").attr("x",-$+r.iconOffset).attr("y",-S+r.iconSize+r.iconOffset/2).attr("font-size",r.iconSize-2),f.text("x axis, y axis").attr("font-size",r.iconSize-2).attr("x",-$+r.iconOffset).attr("y",-S+2*r.iconSize+2*r.iconOffset),s.attr("transform",`translate(${$-r.iconSize-r.iconOffset},${-S+r.iconOffset})`),a.attr("transform",`translate(${$-2*r.iconSize-r.iconOffset},${-S+r.iconOffset})`),n){case"img":console.log("img"),y.classed("not-show",!0);const T=e.datum().img;g.toCanvas(5).then(M=>{const E=document.createElementNS("http://www.w3.org/2000/svg","image");E.setAttribute("href",M.toDataURL("image/png",1)),E.setAttribute("width",T.width),E.setAttribute("height",T.height),E.setAttribute("class","vega-lite-graph"),i.node().appendChild(E)});break;case"svg":a.classed("icon-pinned",!0),r.pinnedIndex.set(t,e),e.datum().pinned=!0,e.classed("pinned",!0),e.datum().fx=e.datum().x,e.datum().fy=e.datum().y,i.node().appendChild(y.node());break}i.select("div").remove(),i.select("details").remove(),i.style("transform",`translate(${-v/2}px,${-b/2+r.rectHeightOffset+x/2}px)`)})}r.simulation.alpha(r.alpha),r.simulation.restart()},deleteVegaLite(e,t){this.showIndex.get(t).finalize(),e.selectAll(".vega-lite-graph").remove(),e.datum().view=null,e.datum().img=null,this.pinnedIndex.delete(t),this.showIndex.delete(t);const n=this.simulation.force("link");n&&n.initialize(this.simulation.nodes())},toggleEditMode(){this.editMode=!this.editMode},handleTabClick(e,t){if(this.setX){switch(e.props.name){case"number":this.simulation.force("x",d3.forceX(this.xX).strength(this.xStrength));break;case"aggregate":this.simulation.force("x",d3.forceX().x(r=>(+r.group+1)*100).strength(this.xStrength));break}this.simulation.alpha(this.alpha),this.simulation.restart()}},drawGraph(){const e=this,t=this.drawData,n=t.links.map(E=>({...E})),r=t.nodes.map(E=>({...E,showDetail:!1,pinned:!1,view:null,img:null,rect:null}));console.log(t.links);const i=d3.select("#svg-container"),o=document.createElementNS("http://www.w3.org/2000/svg","defs");i.node().appendChild(o);const s=parseInt(i.style("width"),10),a=parseInt(i.style("height"),10);this.leftCornerCoord=[0,0],this.rightCornerCoord=[s,a],d3.scaleOrdinal(d3.schemeCategory10);const l=i.append("svg").attr("width",s).attr("height",a).attr("viewbox",[-s,-a,s,a]).attr("style","max-width: 100%; height: auto;"),u=l.append("g").attr("class","link-group").attr("stroke",this.defaultLinkColor).attr("stroke-opacity",.6).selectAll("line").data(n).join("line").attr("class","network-line").attr("stroke-width",1),c=l.append("g").attr("class","node-group").selectAll("g").data(r).join("g").append("circle").attr("class","circle").classed("not-show",function(){return d3.select(this.parentNode).datum().showDetail}).attr("r",e.circleR).attr("stroke",this.defaultNodeColor).attr("fill","#fff").attr("stroke-width",1).style("transition","r 0.2s").on("mouseover",function(E){d3.select(this.parentNode).datum().showDetail||(d3.select(this).attr("fill",e.circleHoveredColor).attr("r",e.circleFocusR).style("cursor","pointer"),d3.select(this.parentNode).select(".insight-icon").attr("transform","scale(2)"))}).on("mouseout",function(E){d3.select(this.parentNode).datum().showDetail||d3.select(this).attr("r",e.circleR).attr("fill","#FFF"),d3.select(this.parentNode).select(".insight-icon").attr("transform","scale(1)")}).on("click",function(E,N){const k=d3.select(this.parentNode);if(e.selectedNode=k.datum().id.replace(".",""),!k.datum().showDetail){k.datum().showDetail=!0;const A=d3.select(this),O=k.selectChild(".rect"),F=k.selectChild(".insight-icon"),R=k.select(".rect-title"),D=k.selectChildren(".title-text"),z=e.simulation.force("charge");z&&(e.simulation.force("charge",null),e.simulation.force("charge",z)),O.classed("not-show",!1),R.classed("not-show",!1),D.classed("not-show",!1),A.classed("not-show",!0),F.classed("not-show",!0),k.append("use").attr("href","#defs-remove").attr("class","remove vega-lite-icon").attr("cursor","pointer").on("click",function(){k.datum().showDetail=!1,k.datum().pinned=!1,k.classed("pinned",!1),k.datum().fx=null,k.datum().fy=null,e.selectedNode=null,k.selectChildren(".vega-lite-icon").remove(),e.deleteVegaLite(k,N.index);const U=e.simulation.force("collide"),H=e.simulation.force("charge");U&&U.initialize(e.simulation.nodes()),H&&(e.simulation.force("charge",null),e.simulation.force("charge",H)),O.classed("not-show",!0),R.classed("not-show",!0),D.classed("not-show",!0),A.classed("not-show",!1).attr("r",e.circleR).attr("fill","#FFF"),F.classed("not-show",!1),e.simulation.alpha(e.alpha),e.simulation.restart()}),k.append("use").attr("href","#defs-pin").attr("class","pin vega-lite-icon").attr("cursor","pointer").on("click",M),e.drawVegaLite(k,N.index,"img")}}),f=l.select("g.node-group").selectChildren("g");let h=0;f.append("use").attr("href",function(){d3.select(this.parentNode);const E=h%e.insightNum;h+=1;let N=null;switch(E){case 0:N="dominance";break;case 1:N="outlier";break;case 2:N="top2";break;case 3:N="evenness";break;case 4:N="trend";break;case 5:N="skewness";break;case 6:N="kurtosis";break}return"#defs-"+N}).attr("class","insight-icon").attr("x",-this.insightIconSize/2).attr("y",-this.insightIconSize/2).attr("pointer-events","none").style("transition","transform 0.2s");const p=f.append("rect").attr("class","rect").classed("not-show",function(){return!d3.select(this.parentNode).datum().showDetail}).attr("fill","#fff").attr("stroke","#ccc").attr("stroke-width",1.5).attr("cursor","pointer").on("mouseover",function(E){const N=d3.select(this),k=d3.select(this.parentNode),A=k.datum().id.replace(".",""),O=e.neighborMap.get(A);e.neighborHighligt(A,O,"hover",!0),N.classed("center-highlight",!0),console.log(k.select(".rect-title")),k.select(".rect-title").classed("center-highlight",!0)}).on("mouseout",function(E){const N=d3.select(this),k=d3.select(this.parentNode),A=k.datum().id.replace(".",""),O=e.neighborMap.get(A);e.neighborHighligt(A,O,"hover",!1),A!==e.selectedNode&&(N.classed("center-highlight",!1),k.select(".rect-title").classed("center-highlight",!1))}).on("click",function(){const E=d3.select(this.parentNode);e.selectedNode=E.datum().id.replace(".","")}).on("dblclick",M);f.append("rect").attr("class","rect-title").classed("not-show",function(){return!d3.select(this.parentNode).datum().showDetail}).attr("fill","#e9ecef").attr("stroke","#ccc").attr("stroke-width",1.5).attr("pointer-events","none"),f.append("text").classed("not-show",function(){return!d3.select(this.parentNode).datum().showDetail}).attr("class","title-text title-name").attr("pointer-events","none").style("user-select","none"),f.append("text").classed("not-show",function(){return!d3.select(this.parentNode).datum().showDetail}).attr("class","title-text title-description").attr("pointer-events","none").style("user-select","none"),f.append("g").attr("class","vega-lite-container");const g=this.defaultBaseConfig,m=this.defaultForceConfig,y=d3.forceSimulation(r).force("link",d3.forceLink(n).id(E=>E.id).distance(function(E){if(e.showIndex.size>0){const N=e.showIndex.has(E.source.index),k=e.showIndex.has(E.target.index);if(N||k)return N&&k?e.vegaLiteLongLink:e.vegaLiteLink}return e.circleLink}).iterations(m.link.Iterations)).force("charge",d3.forceManyBody().strength(function(E){let N=e.circleStrength;return E.showDetail&&(N=e.vegaLiteStrength),N}).theta(m.manyBody.Theta).distanceMin(m.manyBody.DistanceMin)).force("center",d3.forceCenter(s/2,a/2).strength(m.center.Strength)).force("x",d3.forceX().x(s/2).strength(m.x.Strength)).force("y",d3.forceY().y(a/2).strength(m.y.Strength)).force("collide",d3.forceCollide(E=>E.showDetail?E.rect.r:e.circleR).strength(m.collide.Strength).iterations(m.collide.Iterations)).alpha(g.alpha).alphaMin(g.alphaMin).alphaTarget(g.alphaTarget).alphaDecay(g.alphaDecay).velocityDecay(g.velocityDecay).on("tick",v);function v(){e.ticks++,f.style("transform",E=>{let N=0,k=0;E.showDetail?(N=E.img.width/2+e.rectWidthOffset+e.iconOffset,k=E.img.height/2+(e.rectHeightOffset+e.iconOffset)*5/4):N=k=e.circleR;const A=E.x,O=E.y;return A-N<e.leftCornerCoord[0]?E.x=e.leftCornerCoord[0]+N:A+N>e.rightCornerCoord[0]&&(E.x=e.rightCornerCoord[0]-N),O-k<e.leftCornerCoord[1]?E.y=e.leftCornerCoord[1]+k:O+k>e.rightCornerCoord[1]&&(E.y=e.rightCornerCoord[1]-k),`translate(${E.x}px,${E.y}px)`}),u.attr("x1",E=>E.source.x).attr("y1",E=>E.source.y).attr("x2",E=>E.target.x).attr("y2",E=>E.target.y)}const b=l.selectChild(".node-group"),x=d3.drag().container(function(){return b.node()}).subject(function(E){return d3.select(this.parentNode).datum()}).on("start",w).on("drag",_).on("end",$);c.call(x),p.call(x);function w(E){E.active||y.alphaTarget(+e.alphaTarget+.3>1?1:+e.alphaTarget+.3).restart(),E.subject.fx=E.subject.x,E.subject.fy=E.subject.y}function _(E){E.subject.fx=E.x,E.subject.fy=E.y}function $(E){E.active||y.alphaTarget(e.alphaTarget),E.subject.pinned?(E.subject.fx=E.subject.x,E.subject.fy=E.subject.y):(E.subject.fx=null,E.subject.fy=null)}const S=l.selectChildren("g"),C=d3.zoom().scaleExtent([.5,30]).translateExtent([[0,0],[s,a]]).on("zoom",T).filter(E=>E.target===l.node());l.call(C);function T(E){const N=E.transform;S.attr("transform",N),console.log(N),N.k<1.3&&(e.leftCornerCoord=N.invert([0,0]),e.rightCornerCoord=N.invert([s,a]))}this.simulation=y,this.centerX=this.defaultForceConfig.center.X=this.xX=this.defaultForceConfig.x.X=this.radialX=this.defaultForceConfig.radial.X=s/2,this.centerY=this.defaultForceConfig.center.Y=this.yY=this.defaultForceConfig.y.Y=this.radialY=this.defaultForceConfig.radial.Y=a/2,this.defaultForceConfig.collide.Radius=this.collideRadius=this.circleR;function M(){const E=d3.select(this.parentNode),N=!E.datum().pinned;E.datum().pinned=N,E.classed("pinned",!0),N?(E.datum().fx=E.datum().x,E.datum().fy=E.datum().y,E.select(".pin").classed("icon-pinned",!0),e.drawVegaLite(E,d.index,"svg")):(E.classed("pinned",!1),E.select(".pin").classed("icon-pinned",!1),E.datum().fx=null,E.datum().fy=null,e.drawVegaLite(E,d.index,"img"))}}},created(){this.loadData()}},Wn=e=>(Vee("data-v-f23c9c88"),e=e(),Hee(),e),Nme={class:"container",ref:"1"},Rme=Wn(()=>be("span",null,"Base Config",-1)),Pme={class:"form-btn-control"},Ime=Wn(()=>be("span",null,"Force Config",-1)),Dme=Wn(()=>be("span",null,"Center Force",-1)),Lme={class:"btn-label",style:{width:"100%"}},zme=Wn(()=>be("span",null,"Set",-1)),Bme={class:"form-btn-control"},jme=Wn(()=>be("span",null," Position Force ",-1)),Ume={class:"btn-label"},qme=Wn(()=>be("span",null," ForceX ",-1)),Vme={class:"btn-label"},Hme=Wn(()=>be("span",null," ForceY ",-1)),Wme={class:"btn-label"},Gme=Wn(()=>be("span",null," ForceR ",-1)),Yme=Wn(()=>be("span",null," NBody Force ",-1)),Xme={class:"btn-label",style:{width:"100%"}},Kme=Wn(()=>be("span",null,"Set",-1)),Jme=Wn(()=>be("span",null," Collide Force ",-1)),Qme={class:"btn-label",style:{width:"100%"}},Zme=Wn(()=>be("span",null,"Set",-1)),e1e=Wn(()=>be("span",null," Link Force ",-1)),t1e={class:"btn-label",style:{width:"100%"}},n1e=Wn(()=>be("span",null,"Set",-1)),r1e=Wn(()=>be("div",{id:"svg-container"},null,-1)),i1e={style:{display:"none"}},o1e=["width","height"],s1e=Wn(()=>be("path",{d:"M512 64q190.016 4.992 316.512 131.488T960 512q-4.992 190.016-131.488 316.512T512 960q-190.016-4.992-316.512-131.488T64 512q4.992-190.016 131.488-316.512T512 64zM288 512q0 16 11.008 27.008t27.008 11.008h372q16 0 27.008-11.008t11.008-27.008-11.008-27.008-27.008-11.008H326.016q-16 0-27.008 11.008T288 512z"},null,-1)),a1e=[s1e],l1e=["width","height"],u1e=Wn(()=>be("path",{d:"M320 839.68l-238.592 174.08c-8.704 6.656-19.456 9.728-29.696 9.728-12.8 0-26.112-5.12-35.84-14.848-17.92-17.92-20.48-46.08-5.12-66.56l212.992-288.256L56.32 487.424C39.936 471.04 36.864 445.44 48.128 425.472c8.192-12.8 76.8-112.64 229.376-75.264 2.56 0.512 5.12 0.512 8.192 1.024 6.144 0.512 13.312 1.024 20.992 2.56 32.256 5.12 89.6-20.48 139.264-62.976 47.616-40.448 78.336-87.552 78.336-120.32 0-7.68 0-15.872-0.512-23.552-1.024-30.72-3.072-77.824 31.744-112.64 41.472-41.472 107.52-45.056 153.088-7.68 1.024 0.512 1.536 1.536 2.56 2.56 24.576 24.064 276.48 275.968 279.04 278.528 21.504 21.504 33.792 50.688 33.792 81.408s-11.776 59.392-33.792 80.896c-34.816 34.816-82.432 33.28-113.664 31.744-7.168 0-15.36-0.512-23.04-0.512-30.72 0-67.584 21.504-103.936 60.928-50.688 55.296-81.92 126.464-79.36 158.72 1.024 10.24 3.072 28.16 3.584 30.72 36.864 149.504-62.976 217.6-74.752 225.28-20.48 12.288-46.592 9.216-62.976-7.168l-165.376-165.376-50.688 35.328z"},null,-1)),c1e=[u1e],f1e={id:"defs-dominance",xmlns:"http://www.w3.org/2000/svg"},d1e=["width","height"],h1e={id:"defs-outlier",xmlns:"http://www.w3.org/2000/svg"},p1e=["width","height"],g1e={id:"defs-top2",xmlns:"http://www.w3.org/2000/svg"},m1e=["width","height"],y1e={id:"defs-evenness",xmlns:"http://www.w3.org/2000/svg"},v1e=["width","height"],b1e={id:"defs-trend",xmlns:"http://www.w3.org/2000/svg"},x1e=["width","height"],w1e={id:"defs-skewness",xmlns:"http://www.w3.org/2000/svg"},_1e=["width","height"],E1e={id:"defs-kurtosis",xmlns:"http://www.w3.org/2000/svg"},S1e=["width","height"];function $1e(e,t,n,r,i,o){const s=as("operation"),a=gn,l=xz,u=Khe,c=QL,f=Xhe,h=b0e,p=as("setting"),g=as("Location"),m=sme,y=X0e,v=_me,b=wme,x=Vge,w=qge,_=as("IconMenu"),$=as("Warning"),S=as("Share"),C=v0e,T=as("Tools"),M=L4;return re(),_e("div",Nme,[V(C,{"default-active":"1",class:"edit-panel",collapse:!i.editMode},{default:oe(()=>[V(h,{index:"1"},{title:oe(()=>[V(a,null,{default:oe(()=>[V(s)]),_:1}),Rme]),default:oe(()=>[V(f,{"label-position":"top","label-width":"100px",style:{"max-width":"460px"},onSubmit:t[10]||(t[10]=tr(()=>{},["prevent"])),size:"small",class:"form",novalidate:""},{default:oe(()=>[V(u,{class:"form-item-control"},{default:oe(()=>[be("div",Pme,[V(l,{onClick:o.simRestart,class:"config-btn btn"},{default:oe(()=>[bl("Default")]),_:1},8,["onClick"]),V(l,{onClick:o.simStop,class:"config-btn btn"},{default:oe(()=>[bl("Stop")]),_:1},8,["onClick"])])]),_:1}),V(u,{label:"Alpha",class:"form-item-control"},{default:oe(()=>[V(c,{type:"number",id:"alpha",modelValue:i.alpha,"onUpdate:modelValue":t[0]||(t[0]=E=>i.alpha=E),step:"0.01",min:"0",max:"1",onBlur:t[1]||(t[1]=E=>o.handleBaseBlur("alpha")),class:"input-control"},null,8,["modelValue"])]),_:1}),V(u,{label:"AlphaMin",class:"form-item-control"},{default:oe(()=>[V(c,{type:"number",id:"alphaMin",modelValue:i.alphaMin,"onUpdate:modelValue":t[2]||(t[2]=E=>i.alphaMin=E),step:"0.001",min:"0",max:"1",onBlur:t[3]||(t[3]=E=>o.handleBaseBlur("alphaMin")),class:"input-control"},null,8,["modelValue"])]),_:1}),V(u,{label:"AlphaDecay",class:"form-item-control"},{default:oe(()=>[V(c,{type:"number",id:"alphaDecay",modelValue:i.alphaDecay,"onUpdate:modelValue":t[4]||(t[4]=E=>i.alphaDecay=E),step:"0.001",min:"0",max:"1",onBlur:t[5]||(t[5]=E=>o.handleBaseBlur("alphaDecay")),class:"input-control"},null,8,["modelValue"])]),_:1}),V(u,{label:"AlphaTarget",class:"form-item-control"},{default:oe(()=>[V(c,{type:"number",id:"alphaTarget",modelValue:i.alphaTarget,"onUpdate:modelValue":t[6]||(t[6]=E=>i.alphaTarget=E),step:"0.001",min:"0",max:"1",onBlur:t[7]||(t[7]=E=>o.handleBaseBlur("alphaTarget")),class:"input-control"},null,8,["modelValue"])]),_:1}),V(u,{label:"VelocityDecay",class:"form-item-control"},{default:oe(()=>[V(c,{type:"number",id:"velocityDecay",modelValue:i.velocityDecay,"onUpdate:modelValue":t[8]||(t[8]=E=>i.velocityDecay=E),step:"0.01",min:"0",max:"1",onBlur:t[9]||(t[9]=E=>o.handleBaseBlur("velocityDecay")),class:"input-control"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),V(h,{index:"2"},{title:oe(()=>[V(a,null,{default:oe(()=>[V(p)]),_:1}),Ime]),default:oe(()=>[V(h,{index:"2-1"},{title:oe(()=>[V(a,null,{default:oe(()=>[V(g)]),_:1}),Dme]),default:oe(()=>[V(f,{"label-position":"top","label-width":"100px",style:{"max-width":"460px"},onSubmit:t[21]||(t[21]=tr(()=>{},["prevent"])),size:"small",class:"form",novalidate:""},{default:oe(()=>[V(u,null,{default:oe(()=>[be("div",Lme,[zme,V(m,{modelValue:i.setCenter,"onUpdate:modelValue":t[11]||(t[11]=E=>i.setCenter=E),size:"default",disabled:!1},null,8,["modelValue"])])]),_:1}),V(u,null,{default:oe(()=>[be("div",Bme,[V(l,{onClick:t[12]||(t[12]=E=>o.forceDefaultSet("center")),class:"config-btn btn",disabled:!i.setCenter},{default:oe(()=>[bl("Default")]),_:1},8,["disabled"])])]),_:1}),V(u,{label:"CenterX",class:"form-item-control"},{default:oe(()=>[V(c,{disabled:!i.setCenter,type:"number",id:"centerX",modelValue:i.centerX,"onUpdate:modelValue":t[13]||(t[13]=E=>i.centerX=E),modelModifiers:{number:!0},step:"1",min:"0",max:i.defaultForceConfig.center.X*2,class:"input-control",onBlur:t[14]||(t[14]=E=>o.handleCenterBlur("X"))},null,8,["disabled","modelValue","max"]),V(y,{disabled:!i.setCenter,modelValue:i.centerX,"onUpdate:modelValue":t[15]||(t[15]=E=>i.centerX=E),min:0,max:i.defaultForceConfig.center.X*2},null,8,["disabled","modelValue","max"])]),_:1}),V(u,{label:"CenterY",class:"form-item-control"},{default:oe(()=>[V(c,{disabled:!i.setCenter,type:"number",id:"centerY",modelValue:i.centerY,"onUpdate:modelValue":t[16]||(t[16]=E=>i.centerY=E),modelModifiers:{number:!0},step:"1",min:"0",max:i.defaultForceConfig.center.Y*2,class:"input-control",onBlur:t[17]||(t[17]=E=>o.handleCenterBlur("Y"))},null,8,["disabled","modelValue","max"]),V(y,{disabled:!i.setCenter,modelValue:i.centerY,"onUpdate:modelValue":t[18]||(t[18]=E=>i.centerY=E),min:0,max:i.defaultForceConfig.center.Y*2},null,8,["disabled","modelValue","max"])]),_:1}),V(u,{label:"CenterStrength",class:"form-item-control"},{default:oe(()=>[V(c,{disabled:!i.setCenter,type:"number",id:"centerStrength",modelValue:i.centerStrength,"onUpdate:modelValue":t[19]||(t[19]=E=>i.centerStrength=E),modelModifiers:{number:!0},step:"0.1",min:"-1",class:"input-control",onBlur:t[20]||(t[20]=E=>o.handleCenterBlur("Strength"))},null,8,["disabled","modelValue"])]),_:1})]),_:1})]),_:1}),V(h,{index:"2-2"},{title:oe(()=>[V(a,null,{default:oe(()=>[V(g)]),_:1}),jme]),default:oe(()=>[V(w,{style:{width:"90%","margin-left":"auto"}},{default:oe(()=>[V(x,{name:"1"},{title:oe(()=>[be("div",Ume,[qme,V(m,{modelValue:i.setX,"onUpdate:modelValue":t[22]||(t[22]=E=>i.setX=E),size:"default",onClick:t[23]||(t[23]=tr(()=>{},["stop"]))},null,8,["modelValue"])])]),default:oe(()=>[V(f,{"label-position":"top","label-width":"100px",style:{"max-width":"460px","padding-left":"0"},onSubmit:t[28]||(t[28]=tr(()=>{},["prevent"])),size:"small",class:"form",novalidate:"",disabled:!i.setX},{default:oe(()=>[V(u,{label:"X *",class:"form-item-control"},{default:oe(()=>[V(b,{modelValue:i.forceXMode,"onUpdate:modelValue":t[26]||(t[26]=E=>i.forceXMode=E),onTabClick:o.handleTabClick},{default:oe(()=>[V(v,{label:"Number",name:"number",style:{"margin-bottom":"10px"}},{default:oe(()=>[V(c,{type:"number",id:"xX",modelValue:i.xX,"onUpdate:modelValue":t[24]||(t[24]=E=>i.xX=E),modelModifiers:{number:!0},step:"1",min:"0",class:"input-control"},null,8,["modelValue"]),V(y,{modelValue:i.xX,"onUpdate:modelValue":t[25]||(t[25]=E=>i.xX=E),min:0,max:i.defaultForceConfig.x.X*2},null,8,["modelValue","max"])]),_:1}),V(v,{label:"Aggregate",name:"aggregate"})]),_:1},8,["modelValue","onTabClick"])]),_:1}),V(u,{label:"Strength *",class:"form-item-control"},{default:oe(()=>[V(c,{type:"number",id:"xStrength",modelValue:i.xStrength,"onUpdate:modelValue":t[27]||(t[27]=E=>i.xStrength=E),modelModifiers:{number:!0},step:"0.1",min:"-1",class:"input-control"},null,8,["modelValue"])]),_:1})]),_:1},8,["disabled"])]),_:1}),V(x,{name:"2"},{title:oe(()=>[be("div",Vme,[Hme,V(m,{modelValue:i.setY,"onUpdate:modelValue":t[29]||(t[29]=E=>i.setY=E),size:"default"},null,8,["modelValue"])])]),default:oe(()=>[V(f,{"label-position":"top","label-width":"100px",style:{"max-width":"460px","padding-left":"0"},onSubmit:t[33]||(t[33]=tr(()=>{},["prevent"])),size:"small",class:"form",novalidate:"",disabled:!i.setY},{default:oe(()=>[V(u,{label:"Y *",class:"form-item-control"},{default:oe(()=>[V(c,{type:"number",id:"yY",modelValue:i.yY,"onUpdate:modelValue":t[30]||(t[30]=E=>i.yY=E),modelModifiers:{number:!0},step:"1",min:"0",class:"input-control"},null,8,["modelValue"]),V(y,{modelValue:i.yY,"onUpdate:modelValue":t[31]||(t[31]=E=>i.yY=E),min:0,max:i.defaultForceConfig.y.Y*2},null,8,["modelValue","max"])]),_:1}),V(u,{label:"Strength *",class:"form-item-control"},{default:oe(()=>[V(c,{type:"number",id:"yStrength",modelValue:i.yStrength,"onUpdate:modelValue":t[32]||(t[32]=E=>i.yStrength=E),modelModifiers:{number:!0},step:"0.1",min:"-1",class:"input-control"},null,8,["modelValue"])]),_:1})]),_:1},8,["disabled"])]),_:1}),V(x,{name:"3"},{title:oe(()=>[be("div",Wme,[Gme,V(m,{modelValue:i.setRadicial,"onUpdate:modelValue":t[34]||(t[34]=E=>i.setRadicial=E),size:"default"},null,8,["modelValue"])])]),default:oe(()=>[V(f,{"label-position":"top","label-width":"100px",style:{"max-width":"460px","padding-left":"0"},onSubmit:t[42]||(t[42]=tr(()=>{},["prevent"])),size:"small",class:"form",novalidate:"",disabled:!i.setRadicial},{default:oe(()=>[V(u,{label:"X",class:"form-item-control"},{default:oe(()=>[V(c,{type:"number",id:"radialX",modelValue:i.radialX,"onUpdate:modelValue":t[35]||(t[35]=E=>i.radialX=E),modelModifiers:{number:!0},step:"1",min:"0",class:"input-control"},null,8,["modelValue"]),V(y,{modelValue:i.radialX,"onUpdate:modelValue":t[36]||(t[36]=E=>i.radialX=E),min:0,max:i.defaultForceConfig.radial.X*2},null,8,["modelValue","max"])]),_:1}),V(u,{label:"Y",class:"form-item-control"},{default:oe(()=>[V(c,{type:"number",id:"radialY",modelValue:i.radialY,"onUpdate:modelValue":t[37]||(t[37]=E=>i.radialY=E),modelModifiers:{number:!0},step:"1",min:"0",class:"input-control"},null,8,["modelValue"]),V(y,{modelValue:i.radialY,"onUpdate:modelValue":t[38]||(t[38]=E=>i.radialY=E),min:0,max:i.defaultForceConfig.radial.Y*2},null,8,["modelValue","max"])]),_:1}),V(u,{label:"R *",class:"form-item-control"},{default:oe(()=>[V(c,{type:"number",id:"radialR",modelValue:i.radialR,"onUpdate:modelValue":t[39]||(t[39]=E=>i.radialR=E),modelModifiers:{number:!0},step:"1",min:"0",class:"input-control"},null,8,["modelValue"]),V(y,{modelValue:i.radialR,"onUpdate:modelValue":t[40]||(t[40]=E=>i.radialR=E),min:0,max:1e3},null,8,["modelValue"])]),_:1}),V(u,{label:"Strength *",class:"form-item-control"},{default:oe(()=>[V(c,{type:"number",id:"radialStrength",modelValue:i.radialStrength,"onUpdate:modelValue":t[41]||(t[41]=E=>i.radialStrength=E),modelModifiers:{number:!0},step:"0.1",min:"-1",class:"input-control"},null,8,["modelValue"])]),_:1})]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1}),V(h,{index:"2-3"},{title:oe(()=>[V(a,null,{default:oe(()=>[V(_)]),_:1}),Yme]),default:oe(()=>[V(f,{"label-position":"top","label-width":"100px",style:{"max-width":"460px"},onSubmit:t[51]||(t[51]=tr(()=>{},["prevent"])),size:"small",class:"form",novalidate:""},{default:oe(()=>[V(u,null,{default:oe(()=>[be("div",Xme,[Kme,V(m,{modelValue:i.setManyBody,"onUpdate:modelValue":t[43]||(t[43]=E=>i.setManyBody=E),size:"default"},null,8,["modelValue"])])]),_:1}),V(u,{label:"Strength *",class:"form-item-control"},{default:oe(()=>[V(c,{disabled:"",type:"number",id:"manyBodyStrength",modelValue:i.manyBodyStrength,"onUpdate:modelValue":t[44]||(t[44]=E=>i.manyBodyStrength=E),modelModifiers:{number:!0},step:"1",min:"-500",max:"500",class:"input-control"},null,8,["modelValue"]),V(y,{disabled:"",modelValue:i.manyBodyStrength,"onUpdate:modelValue":t[45]||(t[45]=E=>i.manyBodyStrength=E),min:-500,max:500},null,8,["modelValue"])]),_:1}),V(u,{label:"Theta",class:"form-item-control"},{default:oe(()=>[V(c,{type:"number",id:"manyBodyTheta",modelValue:i.manyBodyTheta,"onUpdate:modelValue":t[46]||(t[46]=E=>i.manyBodyTheta=E),modelModifiers:{number:!0},step:"0.1",min:"0",class:"input-control"},null,8,["modelValue"])]),_:1}),V(u,{label:"DistanceMin",class:"form-item-control"},{default:oe(()=>[V(c,{disabled:!i.setManyBody,type:"number",id:"distanceMin",modelValue:i.manyBodyDistanceMin,"onUpdate:modelValue":t[47]||(t[47]=E=>i.manyBodyDistanceMin=E),modelModifiers:{number:!0},step:"0.1",min:"0",max:"1000",class:"input-control"},null,8,["disabled","modelValue"]),V(y,{disabled:!i.setManyBody,modelValue:i.manyBodyDistanceMin,"onUpdate:modelValue":t[48]||(t[48]=E=>i.manyBodyDistanceMin=E),step:.1,min:0,max:1e3},null,8,["disabled","modelValue"])]),_:1}),V(u,{label:"DistanceMax",class:"form-item-control"},{default:oe(()=>[V(c,{disabled:!i.setManyBody,type:"number",id:"manyBodyDistanceMax",modelValue:i.manyBodyDistanceMax,"onUpdate:modelValue":t[49]||(t[49]=E=>i.manyBodyDistanceMax=E),modelModifiers:{number:!0},step:"0.1",min:"0",max:"5000",class:"input-control"},null,8,["disabled","modelValue"]),V(y,{disabled:!i.setManyBody,modelValue:i.manyBodyDistanceMax,"onUpdate:modelValue":t[50]||(t[50]=E=>i.manyBodyDistanceMax=E),step:.1,min:0,max:5e3},null,8,["disabled","modelValue"])]),_:1})]),_:1})]),_:1}),V(h,{index:"2-4"},{title:oe(()=>[V(a,null,{default:oe(()=>[V($)]),_:1}),Jme]),default:oe(()=>[V(f,{"label-position":"top","label-width":"100px",style:{"max-width":"460px"},onSubmit:t[56]||(t[56]=tr(()=>{},["prevent"])),size:"small",class:"form",novalidate:""},{default:oe(()=>[V(u,null,{default:oe(()=>[be("div",Qme,[Zme,V(m,{modelValue:i.setCollide,"onUpdate:modelValue":t[52]||(t[52]=E=>i.setCollide=E),size:"default"},null,8,["modelValue"])])]),_:1}),V(u,{label:"Radius *"}),V(u,{label:"Strength",class:"form-item-control"},{default:oe(()=>[V(c,{disabled:!i.setCollide,type:"number",id:"collideStrength",modelValue:i.collideStrength,"onUpdate:modelValue":t[53]||(t[53]=E=>i.collideStrength=E),modelModifiers:{number:!0},step:"0.1",min:"0",max:"1",class:"input-control"},null,8,["disabled","modelValue"])]),_:1}),V(u,{label:"Iterations",class:"form-item-control"},{default:oe(()=>[V(c,{disabled:!i.setCollide,type:"number",id:"collideIterations",modelValue:i.collideIterations,"onUpdate:modelValue":t[54]||(t[54]=E=>i.collideIterations=E),modelModifiers:{number:!0},step:"1",min:"0",max:"500",class:"input-control"},null,8,["disabled","modelValue"]),V(y,{disabled:!i.setCollide,modelValue:i.collideIterations,"onUpdate:modelValue":t[55]||(t[55]=E=>i.collideIterations=E),min:0,max:500},null,8,["disabled","modelValue"])]),_:1})]),_:1})]),_:1}),V(h,{index:"2-5"},{title:oe(()=>[V(a,null,{default:oe(()=>[V(S)]),_:1}),e1e]),default:oe(()=>[V(f,{"label-position":"top","label-width":"100px",style:{"max-width":"460px"},onSubmit:t[63]||(t[63]=tr(()=>{},["prevent"])),size:"small",class:"form",novalidate:""},{default:oe(()=>[V(u,null,{default:oe(()=>[be("div",t1e,[n1e,V(m,{modelValue:i.setLink,"onUpdate:modelValue":t[57]||(t[57]=E=>i.setLink=E),size:"default"},null,8,["modelValue"])])]),_:1}),V(u,{label:"Distance *",class:"form-item-control"},{default:oe(()=>[V(c,{disabled:"",type:"number",id:"linkDistance",modelValue:i.linkDistance,"onUpdate:modelValue":t[58]||(t[58]=E=>i.linkDistance=E),modelModifiers:{number:!0},step:"1",min:"0",max:"300",class:"input-control"},null,8,["modelValue"]),V(y,{disabled:"",modelValue:i.linkDistance,"onUpdate:modelValue":t[59]||(t[59]=E=>i.linkDistance=E),min:0,max:300},null,8,["modelValue"])]),_:1}),V(u,{label:"Strength *",class:"form-item-control"},{default:oe(()=>[V(c,{disabled:!i.setLink,type:"number",id:"linkStrength",modelValue:i.linkStrength,"onUpdate:modelValue":t[60]||(t[60]=E=>i.linkStrength=E),modelModifiers:{number:!0},step:"0.1",min:"0",max:"1",class:"input-control"},null,8,["disabled","modelValue"])]),_:1}),V(u,{label:"Iterations",class:"form-item-control"},{default:oe(()=>[V(c,{disabled:!i.setLink,type:"number",id:"linkIterations",modelValue:i.linkIterations,"onUpdate:modelValue":t[61]||(t[61]=E=>i.linkIterations=E),modelModifiers:{number:!0},step:"1",min:"0",max:"500",class:"input-control"},null,8,["disabled","modelValue"]),V(y,{disabled:!i.setLink,modelValue:i.linkIterations,"onUpdate:modelValue":t[62]||(t[62]=E=>i.linkIterations=E),min:0,max:500},null,8,["disabled","modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["collapse"]),V(l,{onClick:o.toggleEditMode,class:Te(["edit-btn btn",{"active-btn":i.editMode}])},{default:oe(()=>[V(a,{size:"large",class:"icon"},{default:oe(()=>[V(T)]),_:1})]),_:1},8,["onClick","class"]),V(M,{inset:!0,class:"ticks-card"},{default:oe(()=>[bl(Hr(i.ticks),1)]),_:1}),r1e,be("defs",i1e,[(re(),_e("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",id:"defs-remove",width:i.iconSize,height:i.iconSize},a1e,8,o1e)),(re(),_e("svg",{id:"defs-pin",viewBox:"0 0 1025 1024",xmlns:"http://www.w3.org/2000/svg",width:i.iconSize,height:i.iconSize},c1e,8,l1e)),(re(),_e("svg",f1e,[be("image",{href:$me,width:i.insightIconSize,height:i.insightIconSize},null,8,d1e)])),(re(),_e("svg",h1e,[be("image",{href:Cme,width:i.insightIconSize,height:i.insightIconSize},null,8,p1e)])),(re(),_e("svg",g1e,[be("image",{href:Ame,width:i.insightIconSize,height:i.insightIconSize},null,8,m1e)])),(re(),_e("svg",y1e,[be("image",{href:kme,width:i.insightIconSize,height:i.insightIconSize},null,8,v1e)])),(re(),_e("svg",b1e,[be("image",{href:Mme,width:i.insightIconSize,height:i.insightIconSize},null,8,x1e)])),(re(),_e("svg",w1e,[be("image",{href:Tme,width:i.insightIconSize,height:i.insightIconSize},null,8,_1e)])),(re(),_e("svg",E1e,[be("image",{href:Ome,width:i.insightIconSize,height:i.insightIconSize},null,8,S1e)]))])],512)}const wz=sf(Fme,[["render",$1e],["__scopeId","data-v-f23c9c88"]]),C1e={components:{ForceDirectedGraph:wz}},A1e={class:"container"};function k1e(e,t,n,r,i,o){const s=wz,a=L4;return re(),_e("div",A1e,[V(a,{class:"card"},{default:oe(()=>[V(s)]),_:1})])}const M1e=sf(C1e,[["render",k1e],["__scopeId","data-v-326a8074"]]),T1e={components:{Remove:Bce},data(){return{graphNum:1}},methods:{loadData(){this.$store.dispatch("force/loadCarsData")},drawGraph(){const e={description:"Drag out a rectangular brush to highlight points.",usermeta:{embedOptions:{renderer:"svg"}},data:{values:this.carsData},params:[{name:"brush",select:"interval",value:{x:[55,160],y:[13,37]}}],mark:"point",encoding:{x:{field:"Horsepower",type:"quantitative"},y:{field:"Miles_per_Gallon",type:"quantitative"},color:{condition:{param:"brush",field:"Cylinders",type:"ordinal"},value:"grey"}}};for(let t=0;t<this.graphNum;t++){const n="#vis"+t;vegaEmbed(n,e).then(r=>{const i=r.view;i.toCanvas().then(o=>{const s=d3.select(n);s.select("div").remove(),s.select("details").remove();const a=document.createElementNS("http://www.w3.org/2000/svg","image");a.setAttribute("href",o.toDataURL()),a.setAttribute("width",i.width()),a.setAttribute("height",i.height()),s.node().appendChild(a)})})}}},computed:{drawData(){return this.$store.getters["force/vegaLiteData"]},carsData(){return this.$store.getters["force/carsData"]}},watch:{carsData(e){e&&this.drawGraph()}},created(){this.loadData()}},O1e={class:"container"},F1e=Nte('<svg id="defs-dominance-icon" width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-1f9ddfd2><g clip-path="url(#clip0_3_48)" data-v-1f9ddfd2><mask id="path-1-inside-1_3_48" fill="white" data-v-1f9ddfd2><path d="M88.3022 17.8606C81.5151 9.77199 72.3414 4.03966 62.0961 1.48522C51.8508 -1.06923 41.0598 -0.314652 31.2697 3.6408C21.4796 7.59626 13.193 14.5495 7.5976 23.504C2.0022 32.4585 -0.614757 42.9546 0.121797 53.4878C0.85835 64.0211 4.9106 74.0507 11.6978 82.1394C18.4849 90.228 27.6586 95.9603 37.9039 98.5148C48.1492 101.069 58.9402 100.315 68.7303 96.3592C78.5204 92.4037 86.807 85.4505 92.4024 76.496L50 50L88.3022 17.8606Z" data-v-1f9ddfd2></path></mask><path d="M88.3022 17.8606C81.5151 9.77199 72.3414 4.03966 62.0961 1.48522C51.8508 -1.06923 41.0598 -0.314652 31.2697 3.6408C21.4796 7.59626 13.193 14.5495 7.5976 23.504C2.0022 32.4585 -0.614757 42.9546 0.121797 53.4878C0.85835 64.0211 4.9106 74.0507 11.6978 82.1394C18.4849 90.228 27.6586 95.9603 37.9039 98.5148C48.1492 101.069 58.9402 100.315 68.7303 96.3592C78.5204 92.4037 86.807 85.4505 92.4024 76.496L50 50L88.3022 17.8606Z" fill="#AAAAAA" stroke="#555555" stroke-width="3" mask="url(#path-1-inside-1_3_48)" data-v-1f9ddfd2></path><mask id="path-2-inside-2_3_48" fill="white" data-v-1f9ddfd2><path d="M82.3017 66.119C85.7923 60.6399 87.41 54.1758 86.9116 47.6984C86.4132 41.2211 83.8256 35.0805 79.5379 30.1999L57 50L82.3017 66.119Z" data-v-1f9ddfd2></path></mask><path d="M82.3017 66.119C85.7923 60.6399 87.41 54.1758 86.9116 47.6984C86.4132 41.2211 83.8256 35.0805 79.5379 30.1999L57 50L82.3017 66.119Z" fill="#D9D9D9" stroke="#555555" stroke-width="3" mask="url(#path-2-inside-2_3_48)" data-v-1f9ddfd2></path></g><defs data-v-1f9ddfd2><clipPath id="clip0_3_48" data-v-1f9ddfd2><rect width="100" height="100" fill="white" data-v-1f9ddfd2></rect></clipPath></defs></svg><svg width="200" height="200" viewBox="0 0 102 102" fill="none" x="300" y="300" xmlns="http://www.w3.org/2000/svg" data-v-1f9ddfd2><rect x="1" y="1" width="100" height="100" rx="8" fill="#D9D9D9" data-v-1f9ddfd2></rect><rect x="1" y="1" width="100" height="15" rx="7.5" fill="#555555" data-v-1f9ddfd2></rect></svg><rect x="50%" y="50%" width="100" height="100" fill="#f9f9f9" filter="url(#inset-shadow)" data-v-1f9ddfd2></rect><circle cx="25%" cy="25%" r="50" fill="#f9f9f9" filter="url(#inset)" data-v-1f9ddfd2></circle><rect x="100" y="500" width="100" height="100" filter="url(#inset-shadow)" fill="transparent" stroke="#000" data-v-1f9ddfd2></rect><g id="vis0" width="500" height="500" data-v-1f9ddfd2></g><defs data-v-1f9ddfd2><filter id="inset-shadow" x="-50%" y="-50%" width="200%" height="200%" data-v-1f9ddfd2><feComponentTransfer in="SourceAlpha" data-v-1f9ddfd2><feFuncA type="table" tableValues="1 0" data-v-1f9ddfd2></feFuncA></feComponentTransfer><feGaussianBlur stdDeviation="6" data-v-1f9ddfd2></feGaussianBlur><feOffset dx="0" dy="0" result="offsetblur" data-v-1f9ddfd2></feOffset><feFlood flood-color="rgb(0, 0, 0)" result="color" data-v-1f9ddfd2></feFlood><feComposite in2="offsetblur" operator="in" data-v-1f9ddfd2></feComposite><feComposite in2="SourceAlpha" operator="in" data-v-1f9ddfd2></feComposite><feMerge data-v-1f9ddfd2><feMergeNode in="SourceGraphic" data-v-1f9ddfd2></feMergeNode><feMergeNode data-v-1f9ddfd2></feMergeNode></feMerge></filter><filter id="inset" x="0" y="0" width="200%" height="200%" data-v-1f9ddfd2><feOffset result="offOut" in="SourceAlpha" dx="0" dy="0" data-v-1f9ddfd2></feOffset><feGaussianBlur result="blurOut" in="offOut" stdDeviation="5" data-v-1f9ddfd2></feGaussianBlur><feBlend in="SourceGraphic" in2="blurOut" mode="normal" data-v-1f9ddfd2></feBlend></filter></defs>',7),N1e=[F1e];function R1e(e,t,n,r,i,o){return re(),_e("svg",O1e,N1e)}const _z=sf(T1e,[["render",R1e],["__scopeId","data-v-1f9ddfd2"]]),P1e={components:{BarChart:_z},data(){return{drawData:null}},methods:{}},I1e={class:"container"};function D1e(e,t,n,r,i,o){const s=_z;return re(),_e("div",I1e,[V(s)])}const L1e=sf(P1e,[["render",D1e],["__scopeId","data-v-299001d2"]]),z1e=Dre({history:Zne(),routes:[{path:"/",redirect:"/main"},{path:"/main",component:M1e},{path:"/test",component:L1e}]});/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var B1e="store";function Dh(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function j1e(e){return e!==null&&typeof e=="object"}function U1e(e){return e&&typeof e.then=="function"}function q1e(e,t){return function(){return e(t)}}function Ez(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function Sz(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;O2(e,n,[],e._modules.root,!0),p8(e,n,t)}function p8(e,t,n){var r=e._state,i=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var o=e._wrappedGetters,s={},a={},l=tee(!0);l.run(function(){Dh(o,function(u,c){s[c]=q1e(u,e),a[c]=G(function(){return s[c]()}),Object.defineProperty(e.getters,c,{get:function(){return a[c].value},enumerable:!0})})}),e._state=oi({data:t}),e._scope=l,e.strict&&Y1e(e),r&&n&&e._withCommit(function(){r.data=null}),i&&i.stop()}function O2(e,t,n,r,i){var o=!n.length,s=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[s],e._modulesNamespaceMap[s]=r),!o&&!i){var a=g8(t,n.slice(0,-1)),l=n[n.length-1];e._withCommit(function(){a[l]=r.state})}var u=r.context=V1e(e,s,n);r.forEachMutation(function(c,f){var h=s+f;H1e(e,h,c,u)}),r.forEachAction(function(c,f){var h=c.root?f:s+f,p=c.handler||c;W1e(e,h,p,u)}),r.forEachGetter(function(c,f){var h=s+f;G1e(e,h,c,u)}),r.forEachChild(function(c,f){O2(e,t,n.concat(f),c,i)})}function V1e(e,t,n){var r=t==="",i={dispatch:r?e.dispatch:function(o,s,a){var l=Av(o,s,a),u=l.payload,c=l.options,f=l.type;return(!c||!c.root)&&(f=t+f),e.dispatch(f,u)},commit:r?e.commit:function(o,s,a){var l=Av(o,s,a),u=l.payload,c=l.options,f=l.type;(!c||!c.root)&&(f=t+f),e.commit(f,u,c)}};return Object.defineProperties(i,{getters:{get:r?function(){return e.getters}:function(){return $z(e,t)}},state:{get:function(){return g8(e.state,n)}}}),i}function $z(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(i){if(i.slice(0,r)===t){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return e.getters[i]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function H1e(e,t,n,r){var i=e._mutations[t]||(e._mutations[t]=[]);i.push(function(s){n.call(e,r.state,s)})}function W1e(e,t,n,r){var i=e._actions[t]||(e._actions[t]=[]);i.push(function(s){var a=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},s);return U1e(a)||(a=Promise.resolve(a)),e._devtoolHook?a.catch(function(l){throw e._devtoolHook.emit("vuex:error",l),l}):a})}function G1e(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(o){return n(r.state,r.getters,o.state,o.getters)})}function Y1e(e){Pe(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function g8(e,t){return t.reduce(function(n,r){return n[r]},e)}function Av(e,t,n){return j1e(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var X1e="vuex bindings",w7="vuex:mutations",M_="vuex:actions",If="vuex",K1e=0;function J1e(e,t){Rne({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[X1e]},function(n){n.addTimelineLayer({id:w7,label:"Vuex Mutations",color:_7}),n.addTimelineLayer({id:M_,label:"Vuex Actions",color:_7}),n.addInspector({id:If,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===e&&r.inspectorId===If)if(r.filter){var i=[];Mz(i,t._modules.root,r.filter,""),r.rootNodes=i}else r.rootNodes=[kz(t._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===e&&r.inspectorId===If){var i=r.nodeId;$z(t,i),r.state=eye(nye(t._modules,i),i==="root"?t.getters:t._makeLocalGettersCache,i)}}),n.on.editInspectorState(function(r){if(r.app===e&&r.inspectorId===If){var i=r.nodeId,o=r.path;i!=="root"&&(o=i.split("/").filter(Boolean).concat(o)),t._withCommit(function(){r.set(t._state.data,o,r.state.value)})}}),t.subscribe(function(r,i){var o={};r.payload&&(o.payload=r.payload),o.state=i,n.notifyComponentUpdate(),n.sendInspectorTree(If),n.sendInspectorState(If),n.addTimelineEvent({layerId:w7,event:{time:Date.now(),title:r.type,data:o}})}),t.subscribeAction({before:function(r,i){var o={};r.payload&&(o.payload=r.payload),r._id=K1e++,r._time=Date.now(),o.state=i,n.addTimelineEvent({layerId:M_,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:o}})},after:function(r,i){var o={},s=Date.now()-r._time;o.duration={_custom:{type:"duration",display:s+"ms",tooltip:"Action duration",value:s}},r.payload&&(o.payload=r.payload),o.state=i,n.addTimelineEvent({layerId:M_,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:o}})}})})}var _7=8702998,Q1e=6710886,Z1e=16777215,Cz={label:"namespaced",textColor:Z1e,backgroundColor:Q1e};function Az(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function kz(e,t){return{id:t||"root",label:Az(t),tags:e.namespaced?[Cz]:[],children:Object.keys(e._children).map(function(n){return kz(e._children[n],t+n+"/")})}}function Mz(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[Cz]:[]}),Object.keys(t._children).forEach(function(i){Mz(e,t._children[i],n,r+i+"/")})}function eye(e,t,n){t=n==="root"?t:t[n];var r=Object.keys(t),i={state:Object.keys(e.state).map(function(s){return{key:s,editable:!0,value:e.state[s]}})};if(r.length){var o=tye(t);i.getters=Object.keys(o).map(function(s){return{key:s.endsWith("/")?Az(s):s,editable:!1,value:jE(function(){return o[s]})}})}return i}function tye(e){var t={};return Object.keys(e).forEach(function(n){var r=n.split("/");if(r.length>1){var i=t,o=r.pop();r.forEach(function(s){i[s]||(i[s]={_custom:{value:{},display:s,tooltip:"Module",abstract:!0}}),i=i[s]._custom.value}),i[o]=jE(function(){return e[n]})}else t[n]=jE(function(){return e[n]})}),t}function nye(e,t){var n=t.split("/").filter(function(r){return r});return n.reduce(function(r,i,o){var s=r[i];if(!s)throw new Error('Missing module "'+i+'" for path "'+t+'".');return o===n.length-1?s:s._children},t==="root"?e:e.root._children)}function jE(e){try{return e()}catch(t){return t}}var Vo=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},Tz={namespaced:{configurable:!0}};Tz.namespaced.get=function(){return!!this._rawModule.namespaced};Vo.prototype.addChild=function(t,n){this._children[t]=n};Vo.prototype.removeChild=function(t){delete this._children[t]};Vo.prototype.getChild=function(t){return this._children[t]};Vo.prototype.hasChild=function(t){return t in this._children};Vo.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};Vo.prototype.forEachChild=function(t){Dh(this._children,t)};Vo.prototype.forEachGetter=function(t){this._rawModule.getters&&Dh(this._rawModule.getters,t)};Vo.prototype.forEachAction=function(t){this._rawModule.actions&&Dh(this._rawModule.actions,t)};Vo.prototype.forEachMutation=function(t){this._rawModule.mutations&&Dh(this._rawModule.mutations,t)};Object.defineProperties(Vo.prototype,Tz);var cf=function(t){this.register([],t,!1)};cf.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)};cf.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,i){return n=n.getChild(i),r+(n.namespaced?i+"/":"")},"")};cf.prototype.update=function(t){Oz([],this.root,t)};cf.prototype.register=function(t,n,r){var i=this;r===void 0&&(r=!0);var o=new Vo(n,r);if(t.length===0)this.root=o;else{var s=this.get(t.slice(0,-1));s.addChild(t[t.length-1],o)}n.modules&&Dh(n.modules,function(a,l){i.register(t.concat(l),a,r)})};cf.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],i=n.getChild(r);i&&i.runtime&&n.removeChild(r)};cf.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function Oz(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;Oz(e.concat(r),t.getChild(r),n.modules[r])}}function rye(e){return new ai(e)}var ai=function(t){var n=this;t===void 0&&(t={});var r=t.plugins;r===void 0&&(r=[]);var i=t.strict;i===void 0&&(i=!1);var o=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new cf(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=o;var s=this,a=this,l=a.dispatch,u=a.commit;this.dispatch=function(h,p){return l.call(s,h,p)},this.commit=function(h,p,g){return u.call(s,h,p,g)},this.strict=i;var c=this._modules.root.state;O2(this,c,[],this._modules.root),p8(this,c),r.forEach(function(f){return f(n)})},m8={state:{configurable:!0}};ai.prototype.install=function(t,n){t.provide(n||B1e,this),t.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&J1e(t,this)};m8.state.get=function(){return this._state.data};m8.state.set=function(e){};ai.prototype.commit=function(t,n,r){var i=this,o=Av(t,n,r),s=o.type,a=o.payload,l={type:s,payload:a},u=this._mutations[s];u&&(this._withCommit(function(){u.forEach(function(f){f(a)})}),this._subscribers.slice().forEach(function(c){return c(l,i.state)}))};ai.prototype.dispatch=function(t,n){var r=this,i=Av(t,n),o=i.type,s=i.payload,a={type:o,payload:s},l=this._actions[o];if(l){try{this._actionSubscribers.slice().filter(function(c){return c.before}).forEach(function(c){return c.before(a,r.state)})}catch{}var u=l.length>1?Promise.all(l.map(function(c){return c(s)})):l[0](s);return new Promise(function(c,f){u.then(function(h){try{r._actionSubscribers.filter(function(p){return p.after}).forEach(function(p){return p.after(a,r.state)})}catch{}c(h)},function(h){try{r._actionSubscribers.filter(function(p){return p.error}).forEach(function(p){return p.error(a,r.state,h)})}catch{}f(h)})})}};ai.prototype.subscribe=function(t,n){return Ez(t,this._subscribers,n)};ai.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return Ez(r,this._actionSubscribers,n)};ai.prototype.watch=function(t,n,r){var i=this;return Pe(function(){return t(i.state,i.getters)},n,Object.assign({},r))};ai.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};ai.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),O2(this,this.state,t,this._modules.get(t),r.preserveState),p8(this,this.state)};ai.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=g8(n.state,t.slice(0,-1));delete r[t[t.length-1]]}),Sz(this)};ai.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};ai.prototype.hotUpdate=function(t){this._modules.update(t),Sz(this,!0)};ai.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(ai.prototype,m8);const iye={namespaced:!0,state(){return{drawData:[],vegaLiteData:[{a:"A",b:28},{a:"B",b:55},{a:"C",b:43},{a:"D",b:91},{a:"E",b:81},{a:"F",b:53},{a:"G",b:19},{a:"H",b:87},{a:"I",b:52}],carsData:[],resultData:[]}},getters:{drawData(e){return e.drawData},vegaLiteData(e){return e.vegaLiteData},carsData(e){return e.carsData},resultData(e){return e.resultData}},mutations:{setDrawData(e,t){e.drawData=t},setCarsData(e,t){e.carsData=t},setResultData(e,t){e.resultData=t}},actions:{loadData(e,t){const r="data/test_data/test_data_for_force.json";d3.json(r).then(function(i){e.commit("setDrawData",i)})},loadCarsData(e,t){const r="data/test_data/test_data_cars.json";d3.json(r).then(function(i){e.commit("setCarsData",i),console.log(i.length)})},loadResultData(e,t){const r="data/test_data/result.json";d3.json(r).then(function(i){e.commit("setResultData",i),e.commit("setDrawData",i),console.log(i)})}}},oye=rye({modules:{force:iye}});function Ut(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Fz(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Lh(e){let t,n,r;e.length!==2?(t=Ut,n=(a,l)=>Ut(e(a),l),r=(a,l)=>e(a)-l):(t=e===Ut||e===Fz?e:sye,n=e,r=e);function i(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(a,l,u=0,c=a.length){const f=i(a,l,u,c-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function sye(){return 0}function kv(e){return e===null?NaN:+e}function*aye(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const Nz=Lh(Ut),c0=Nz.right,Rz=Nz.left,lye=Lh(kv).center,gu=c0;function uye(e,t){if(!((t=+t)>=0))throw new RangeError("invalid r");let n=e.length;if(!((n=Math.floor(n))>=0))throw new RangeError("invalid length");if(!n||!t)return e;const r=y8(t),i=e.slice();return r(e,i,0,n,1),r(i,e,0,n,1),r(e,i,0,n,1),e}const Pz=Iz(y8),cye=Iz(fye);function Iz(e){return function(t,n,r=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:i,width:o,height:s}=t;if(!((o=Math.floor(o))>=0))throw new RangeError("invalid width");if(!((s=Math.floor(s!==void 0?s:i.length/o))>=0))throw new RangeError("invalid height");if(!o||!s||!n&&!r)return t;const a=n&&e(n),l=r&&e(r),u=i.slice();return a&&l?(Df(a,u,i,o,s),Df(a,i,u,o,s),Df(a,u,i,o,s),Lf(l,i,u,o,s),Lf(l,u,i,o,s),Lf(l,i,u,o,s)):a?(Df(a,i,u,o,s),Df(a,u,i,o,s),Df(a,i,u,o,s)):l&&(Lf(l,i,u,o,s),Lf(l,u,i,o,s),Lf(l,i,u,o,s)),t}}function Df(e,t,n,r,i){for(let o=0,s=r*i;o<s;)e(t,n,o,o+=r,1)}function Lf(e,t,n,r,i){for(let o=0,s=r*i;o<r;++o)e(t,n,o,o+s,r)}function fye(e){const t=y8(e);return(n,r,i,o,s)=>{i<<=2,o<<=2,s<<=2,t(n,r,i+0,o+0,s),t(n,r,i+1,o+1,s),t(n,r,i+2,o+2,s),t(n,r,i+3,o+3,s)}}function y8(e){const t=Math.floor(e);if(t===e)return dye(e);const n=e-t,r=2*e+1;return(i,o,s,a,l)=>{if(!((a-=l)>=s))return;let u=t*o[s];const c=l*t,f=c+l;for(let h=s,p=s+c;h<p;h+=l)u+=o[Math.min(a,h)];for(let h=s,p=a;h<=p;h+=l)u+=o[Math.min(a,h+c)],i[h]=(u+n*(o[Math.max(s,h-f)]+o[Math.min(a,h+f)]))/r,u-=o[Math.max(s,h-c)]}}function dye(e){const t=2*e+1;return(n,r,i,o,s)=>{if(!((o-=s)>=i))return;let a=e*r[i];const l=s*e;for(let u=i,c=i+l;u<c;u+=s)a+=r[Math.min(o,u)];for(let u=i,c=o;u<=c;u+=s)a+=r[Math.min(o,u+l)],n[u]=a/t,a-=r[Math.max(i,u-l)]}}function F2(e,t){let n=0;if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(i=+i)>=i&&++n}return n}function hye(e){return e.length|0}function pye(e){return!(e>0)}function gye(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function mye(e){return t=>e(...t)}function yye(...e){const t=typeof e[e.length-1]=="function"&&mye(e.pop());e=e.map(gye);const n=e.map(hye),r=e.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||n.some(pye))return o;for(;;){o.push(i.map((a,l)=>e[l][a]));let s=r;for(;++i[s]===n[s];){if(s===0)return t?o.map(t):o;i[s--]=0}}}function vye(e,t){var n=0,r=0;return Float64Array.from(e,t===void 0?i=>n+=+i||0:i=>n+=+t(i,r++,e)||0)}function Dz(e,t){let n=0,r,i=0,o=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,o+=r*(s-i));else{let s=-1;for(let a of e)(a=t(a,++s,e))!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i))}if(n>1)return o/(n-1)}function v8(e,t){const n=Dz(e,t);return n&&Math.sqrt(n)}function Og(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class xn{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],s=t+o,a=Math.abs(t)<Math.abs(o)?t-(s-o):o-(s-t);a&&(n[r++]=a),t=s}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,o,s=0;if(n>0){for(s=t[--n];n>0&&(r=s,i=t[--n],s=r+i,o=i-(s-r),!o););n>0&&(o<0&&t[n-1]<0||o>0&&t[n-1]>0)&&(i=o*2,r=s+i,i==r-s&&(s=r))}return s}}function bye(e,t){const n=new xn;if(t===void 0)for(let r of e)(r=+r)&&n.add(r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&n.add(i)}return+n}function xye(e,t){const n=new xn;let r=-1;return Float64Array.from(e,t===void 0?i=>n.add(+i||0):i=>n.add(+t(i,++r,e)||0))}class f0 extends Map{constructor(t,n=Bz){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(UE(this,t))}has(t){return super.has(UE(this,t))}set(t,n){return super.set(Lz(this,t),n)}delete(t){return super.delete(zz(this,t))}}class Fo extends Set{constructor(t,n=Bz){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(UE(this,t))}add(t){return super.add(Lz(this,t))}delete(t){return super.delete(zz(this,t))}}function UE({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Lz({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function zz({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Bz(e){return e!==null&&typeof e=="object"?e.valueOf():e}function qd(e){return e}function jz(e,...t){return zh(e,qd,qd,t)}function Uz(e,...t){return zh(e,Array.from,qd,t)}function qz(e,t){for(let n=1,r=t.length;n<r;++n)e=e.flatMap(i=>i.pop().map(([o,s])=>[...i,o,s]));return e}function wye(e,...t){return qz(Uz(e,...t),t)}function _ye(e,t,...n){return qz(Hz(e,t,...n),n)}function Vz(e,t,...n){return zh(e,qd,t,n)}function Hz(e,t,...n){return zh(e,Array.from,t,n)}function Eye(e,...t){return zh(e,qd,Wz,t)}function Sye(e,...t){return zh(e,Array.from,Wz,t)}function Wz(e){if(e.length!==1)throw new Error("duplicate key");return e[0]}function zh(e,t,n,r){return function i(o,s){if(s>=r.length)return n(o);const a=new f0,l=r[s++];let u=-1;for(const c of o){const f=l(c,++u,o),h=a.get(f);h?h.push(c):a.set(f,[c])}for(const[c,f]of a)a.set(c,i(f,s));return t(a)}(e,0)}function b8(e,t){return Array.from(t,n=>e[n])}function qE(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){const r=Uint32Array.from(e,(i,o)=>o);return t.length>1?(t=t.map(i=>e.map(i)),r.sort((i,o)=>{for(const s of t){const a=Vd(s[i],s[o]);if(a)return a}})):(n=e.map(n),r.sort((i,o)=>Vd(n[i],n[o]))),b8(e,r)}return e.sort(x8(n))}function x8(e=Ut){if(e===Ut)return Vd;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Vd(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function $ye(e,t,n){return(t.length!==2?qE(Vz(e,t,n),([r,i],[o,s])=>Ut(i,s)||Ut(r,o)):qE(jz(e,n),([r,i],[o,s])=>t(i,s)||Ut(r,o))).map(([r])=>r)}var Cye=Array.prototype,Aye=Cye.slice;function T_(e){return()=>e}const kye=Math.sqrt(50),Mye=Math.sqrt(10),Tye=Math.sqrt(2);function Mv(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=kye?10:o>=Mye?5:o>=Tye?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(e*u),l=Math.round(t*u),a/u<e&&++a,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(e/u),l=Math.round(t/u),a*u<e&&++a,l*u>t&&--l),l<a&&.5<=n&&n<2?Mv(e,t,n*2):[a,l,u]}function Tc(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,s]=r?Mv(t,e,n):Mv(e,t,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function Oc(e,t,n){return t=+t,e=+e,n=+n,Mv(e,t,n)[2]}function Na(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Oc(t,e,n):Oc(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function w8(e,t,n){let r;for(;;){const i=Oc(e,t,n);if(i===r||i===0||!isFinite(i))return[e,t];i>0?(e=Math.floor(e/i)*i,t=Math.ceil(t/i)*i):i<0&&(e=Math.ceil(e*i)/i,t=Math.floor(t*i)/i),r=i}}function _8(e){return Math.max(1,Math.ceil(Math.log(F2(e))/Math.LN2)+1)}function E7(){var e=qd,t=Og,n=_8;function r(i){Array.isArray(i)||(i=Array.from(i));var o,s=i.length,a,l,u=new Array(s);for(o=0;o<s;++o)u[o]=e(i[o],o,i);var c=t(u),f=c[0],h=c[1],p=n(u,f,h);if(!Array.isArray(p)){const x=h,w=+p;if(t===Og&&([f,h]=w8(f,h,w)),p=Tc(f,h,w),p[0]<=f&&(l=Oc(f,h,w)),p[p.length-1]>=h)if(x>=h&&t===Og){const _=Oc(f,h,w);isFinite(_)&&(_>0?h=(Math.floor(h/_)+1)*_:_<0&&(h=(Math.ceil(h*-_)+1)/-_))}else p.pop()}for(var g=p.length,m=0,y=g;p[m]<=f;)++m;for(;p[y-1]>h;)--y;(m||y<g)&&(p=p.slice(m,y),g=y-m);var v=new Array(g+1),b;for(o=0;o<=g;++o)b=v[o]=[],b.x0=o>0?p[o-1]:f,b.x1=o<g?p[o]:h;if(isFinite(l)){if(l>0)for(o=0;o<s;++o)(a=u[o])!=null&&f<=a&&a<=h&&v[Math.min(g,Math.floor((a-f)/l))].push(i[o]);else if(l<0){for(o=0;o<s;++o)if((a=u[o])!=null&&f<=a&&a<=h){const x=Math.floor((f-a)*l);v[Math.min(g,x+(p[x]<=a))].push(i[o])}}}else for(o=0;o<s;++o)(a=u[o])!=null&&f<=a&&a<=h&&v[gu(p,a,0,g)].push(i[o]);return v}return r.value=function(i){return arguments.length?(e=typeof i=="function"?i:T_(i),r):e},r.domain=function(i){return arguments.length?(t=typeof i=="function"?i:T_([i[0],i[1]]),r):t},r.thresholds=function(i){return arguments.length?(n=typeof i=="function"?i:T_(Array.isArray(i)?Aye.call(i):i),r):n},r}function Es(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function E8(e,t){let n,r=-1,i=-1;if(t===void 0)for(const o of e)++i,o!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of e)(o=t(o,++i,e))!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);return r}function d0(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function S8(e,t){let n,r=-1,i=-1;if(t===void 0)for(const o of e)++i,o!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of e)(o=t(o,++i,e))!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);return r}function N2(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?Vd:x8(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(t-u*f/l+h)),g=Math.min(r,Math.floor(t+(l-u)*f/l+h));N2(e,t,p,g,i)}const o=e[t];let s=n,a=r;for(vp(e,n,t),i(e[r],o)>0&&vp(e,n,r);s<a;){for(vp(e,s,a),++s,--a;i(e[s],o)<0;)++s;for(;i(e[a],o)>0;)--a}i(e[n],o)===0?vp(e,n,a):(++a,vp(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function vp(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Gz(e,t=Ut){let n,r=!1;if(t.length===1){let i;for(const o of e){const s=t(o);(r?Ut(s,i)>0:Ut(s,s)===0)&&(n=o,i=s,r=!0)}}else for(const i of e)(r?t(i,n)>0:t(i,i)===0)&&(n=i,r=!0);return n}function Fc(e,t,n){if(e=Float64Array.from(aye(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return d0(e);if(t>=1)return Es(e);var r,i=(r-1)*t,o=Math.floor(i),s=Es(N2(e,o).subarray(0,o+1)),a=d0(e.subarray(o+1));return s+(a-s)*(i-o)}}function $8(e,t,n=kv){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),s=+n(e[o],o,e),a=+n(e[o+1],o+1,e);return s+(a-s)*(i-o)}}function Yz(e,t,n=kv){if(!isNaN(t=+t)){if(r=Float64Array.from(e,(a,l)=>kv(n(e[l],l,e))),t<=0)return S8(r);if(t>=1)return E8(r);var r,i=Uint32Array.from(e,(a,l)=>l),o=r.length-1,s=Math.floor(o*t);return N2(i,s,0,o,(a,l)=>Vd(r[a],r[l])),s=Gz(i.subarray(0,s+1),a=>r[a]),s>=0?s:-1}}function Oye(e,t,n){const r=F2(e),i=Fc(e,.75)-Fc(e,.25);return r&&i?Math.ceil((n-t)/(2*i*Math.pow(r,-1/3))):1}function Fye(e,t,n){const r=F2(e),i=v8(e);return r&&i?Math.ceil((n-t)*Math.cbrt(r)/(3.49*i)):1}function Xz(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function C8(e,t){return Fc(e,.5,t)}function Nye(e,t){return Yz(e,.5,t)}function*Rye(e){for(const t of e)yield*t}function A8(e){return Array.from(Rye(e))}function Pye(e,t){const n=new f0;if(t===void 0)for(let o of e)o!=null&&o>=o&&n.set(o,(n.get(o)||0)+1);else{let o=-1;for(let s of e)(s=t(s,++o,e))!=null&&s>=s&&n.set(s,(n.get(s)||0)+1)}let r,i=0;for(const[o,s]of n)s>i&&(i=s,r=o);return r}function Iye(e,t=Dye){const n=[];let r,i=!1;for(const o of e)i&&n.push(t(r,o)),r=o,i=!0;return n}function Dye(e,t){return[e,t]}function Ar(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function Lye(e,t=Ut){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let n=Array.from(e);const r=new Float64Array(n.length);t.length!==2&&(n=n.map(t),t=Ut);const i=(a,l)=>t(n[a],n[l]);let o,s;return e=Uint32Array.from(n,(a,l)=>l),e.sort(t===Ut?(a,l)=>Vd(n[a],n[l]):x8(i)),e.forEach((a,l)=>{const u=i(a,o===void 0?a:o);u>=0?((o===void 0||u>0)&&(o=a,s=l),r[a]=s):r[a]=NaN}),r}function zye(e,t=Ut){let n,r=!1;if(t.length===1){let i;for(const o of e){const s=t(o);(r?Ut(s,i)<0:Ut(s,s)===0)&&(n=o,i=s,r=!0)}}else for(const i of e)(r?t(i,n)<0:t(i,i)===0)&&(n=i,r=!0);return n}function Kz(e,t=Ut){if(t.length===1)return S8(e,t);let n,r=-1,i=-1;for(const o of e)++i,(r<0?t(o,o)===0:t(o,n)<0)&&(n=o,r=i);return r}function Bye(e,t=Ut){if(t.length===1)return E8(e,t);let n,r=-1,i=-1;for(const o of e)++i,(r<0?t(o,o)===0:t(o,n)>0)&&(n=o,r=i);return r}function jye(e,t){const n=Kz(e,t);return n<0?void 0:n}const Uye=Jz(Math.random);function Jz(e){return function(n,r=0,i=n.length){let o=i-(r=+r);for(;o;){const s=e()*o--|0,a=n[o+r];n[o+r]=n[s+r],n[s+r]=a}return n}}function k8(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function Qz(e){if(!(o=e.length))return[];for(var t=-1,n=d0(e,qye),r=new Array(n);++t<n;)for(var i=-1,o,s=r[t]=new Array(o);++i<o;)s[i]=e[i][t];return r}function qye(e){return e.length}function Vye(){return Qz(arguments)}function Hye(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let n=-1;for(const r of e)if(!t(r,++n,e))return!1;return!0}function Wye(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let n=-1;for(const r of e)if(t(r,++n,e))return!0;return!1}function Gye(e,t){if(typeof t!="function")throw new TypeError("test is not a function");const n=[];let r=-1;for(const i of e)t(i,++r,e)&&n.push(i);return n}function Yye(e,t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof t!="function")throw new TypeError("mapper is not a function");return Array.from(e,(n,r)=>t(n,r,e))}function Xye(e,t,n){if(typeof t!="function")throw new TypeError("reducer is not a function");const r=e[Symbol.iterator]();let i,o,s=-1;if(arguments.length<3){if({done:i,value:n}=r.next(),i)return;++s}for(;{done:i,value:o}=r.next(),!i;)n=t(n,o,++s,e);return n}function Kye(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function Jye(e,...t){e=new Fo(e);for(const n of t)for(const r of n)e.delete(r);return e}function Qye(e,t){const n=t[Symbol.iterator](),r=new Fo;for(const i of e){if(r.has(i))return!1;let o,s;for(;({value:o,done:s}=n.next())&&!s;){if(Object.is(i,o))return!1;r.add(o)}}return!0}function Zye(e,...t){e=new Fo(e),t=t.map(eve);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function eve(e){return e instanceof Fo?e:new Fo(e)}function Zz(e,t){const n=e[Symbol.iterator](),r=new Set;for(const i of t){const o=S7(i);if(r.has(o))continue;let s,a;for(;{value:s,done:a}=n.next();){if(a)return!1;const l=S7(s);if(r.add(l),Object.is(o,l))break}}return!0}function S7(e){return e!==null&&typeof e=="object"?e.valueOf():e}function tve(e,t){return Zz(t,e)}function nve(...e){const t=new Fo;for(const n of e)for(const r of n)t.add(r);return t}function rve(e){return e}var Py=1,Iy=2,VE=3,Yp=4,$7=1e-6;function ive(e){return"translate("+e+",0)"}function ove(e){return"translate(0,"+e+")"}function sve(e){return t=>+e(t)}function ave(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function lve(){return!this.__axis}function R2(e,t){var n=[],r=null,i=null,o=6,s=6,a=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=e===Py||e===Yp?-1:1,c=e===Yp||e===Iy?"x":"y",f=e===Py||e===VE?ive:ove;function h(p){var g=r??(t.ticks?t.ticks.apply(t,n):t.domain()),m=i??(t.tickFormat?t.tickFormat.apply(t,n):rve),y=Math.max(o,0)+a,v=t.range(),b=+v[0]+l,x=+v[v.length-1]+l,w=(t.bandwidth?ave:sve)(t.copy(),l),_=p.selection?p.selection():p,$=_.selectAll(".domain").data([null]),S=_.selectAll(".tick").data(g,t).order(),C=S.exit(),T=S.enter().append("g").attr("class","tick"),M=S.select("line"),E=S.select("text");$=$.merge($.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),S=S.merge(T),M=M.merge(T.append("line").attr("stroke","currentColor").attr(c+"2",u*o)),E=E.merge(T.append("text").attr("fill","currentColor").attr(c,u*y).attr("dy",e===Py?"0em":e===VE?"0.71em":"0.32em")),p!==_&&($=$.transition(p),S=S.transition(p),M=M.transition(p),E=E.transition(p),C=C.transition(p).attr("opacity",$7).attr("transform",function(N){return isFinite(N=w(N))?f(N+l):this.getAttribute("transform")}),T.attr("opacity",$7).attr("transform",function(N){var k=this.parentNode.__axis;return f((k&&isFinite(k=k(N))?k:w(N))+l)})),C.remove(),$.attr("d",e===Yp||e===Iy?s?"M"+u*s+","+b+"H"+l+"V"+x+"H"+u*s:"M"+l+","+b+"V"+x:s?"M"+b+","+u*s+"V"+l+"H"+x+"V"+u*s:"M"+b+","+l+"H"+x),S.attr("opacity",1).attr("transform",function(N){return f(w(N)+l)}),M.attr(c+"2",u*o),E.attr(c,u*y).text(m),_.filter(lve).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Iy?"start":e===Yp?"end":"middle"),_.each(function(){this.__axis=w})}return h.scale=function(p){return arguments.length?(t=p,h):t},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(p){return arguments.length?(n=p==null?[]:Array.from(p),h):n.slice()},h.tickValues=function(p){return arguments.length?(r=p==null?null:Array.from(p),h):r&&r.slice()},h.tickFormat=function(p){return arguments.length?(i=p,h):i},h.tickSize=function(p){return arguments.length?(o=s=+p,h):o},h.tickSizeInner=function(p){return arguments.length?(o=+p,h):o},h.tickSizeOuter=function(p){return arguments.length?(s=+p,h):s},h.tickPadding=function(p){return arguments.length?(a=+p,h):a},h.offset=function(p){return arguments.length?(l=+p,h):l},h}function uve(e){return R2(Py,e)}function cve(e){return R2(Iy,e)}function fve(e){return R2(VE,e)}function dve(e){return R2(Yp,e)}var hve={value:()=>{}};function ff(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Dy(n)}function Dy(e){this._=e}function pve(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Dy.prototype=ff.prototype={constructor:Dy,on:function(e,t){var n=this._,r=pve(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=gve(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=C7(n[i],e.name,t);else if(t==null)for(i in n)n[i]=C7(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Dy(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function gve(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function C7(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=hve,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var HE="http://www.w3.org/1999/xhtml";const WE={svg:"http://www.w3.org/2000/svg",xhtml:HE,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function dm(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),WE.hasOwnProperty(t)?{space:WE[t],local:e}:e}function mve(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===HE&&t.documentElement.namespaceURI===HE?t.createElement(e):t.createElementNS(n,e)}}function yve(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function P2(e){var t=dm(e);return(t.local?yve:mve)(t)}function vve(){}function I2(e){return e==null?vve:function(){return this.querySelector(e)}}function bve(e){typeof e!="function"&&(e=I2(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=new Array(s),l,u,c=0;c<s;++c)(l=o[c])&&(u=e.call(l,l.__data__,c,o))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new Tr(r,this._parents)}function eB(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function xve(){return[]}function M8(e){return e==null?xve:function(){return this.querySelectorAll(e)}}function wve(e){return function(){return eB(e.apply(this,arguments))}}function _ve(e){typeof e=="function"?e=wve(e):e=M8(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&(r.push(e.call(l,l.__data__,u,s)),i.push(l));return new Tr(r,i)}function T8(e){return function(){return this.matches(e)}}function tB(e){return function(t){return t.matches(e)}}var Eve=Array.prototype.find;function Sve(e){return function(){return Eve.call(this.children,e)}}function $ve(){return this.firstElementChild}function Cve(e){return this.select(e==null?$ve:Sve(typeof e=="function"?e:tB(e)))}var Ave=Array.prototype.filter;function kve(){return Array.from(this.children)}function Mve(e){return function(){return Ave.call(this.children,e)}}function Tve(e){return this.selectAll(e==null?kve:Mve(typeof e=="function"?e:tB(e)))}function Ove(e){typeof e!="function"&&(e=T8(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&a.push(l);return new Tr(r,this._parents)}function nB(e){return new Array(e.length)}function Fve(){return new Tr(this._enter||this._groups.map(nB),this._parents)}function Tv(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Tv.prototype={constructor:Tv,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Nve(e){return function(){return e}}function Rve(e,t,n,r,i,o){for(var s=0,a,l=t.length,u=o.length;s<u;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new Tv(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function Pve(e,t,n,r,i,o,s){var a,l,u=new Map,c=t.length,f=o.length,h=new Array(c),p;for(a=0;a<c;++a)(l=t[a])&&(h[a]=p=s.call(l,l.__data__,a,t)+"",u.has(p)?i[a]=l:u.set(p,l));for(a=0;a<f;++a)p=s.call(e,o[a],a,o)+"",(l=u.get(p))?(r[a]=l,l.__data__=o[a],u.delete(p)):n[a]=new Tv(e,o[a]);for(a=0;a<c;++a)(l=t[a])&&u.get(h[a])===l&&(i[a]=l)}function Ive(e){return e.__data__}function Dve(e,t){if(!arguments.length)return Array.from(this,Ive);var n=t?Pve:Rve,r=this._parents,i=this._groups;typeof e!="function"&&(e=Nve(e));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),u=0;u<o;++u){var c=r[u],f=i[u],h=f.length,p=Lve(e.call(c,c&&c.__data__,u,r)),g=p.length,m=a[u]=new Array(g),y=s[u]=new Array(g),v=l[u]=new Array(h);n(c,f,m,y,v,p,t);for(var b=0,x=0,w,_;b<g;++b)if(w=m[b]){for(b>=x&&(x=b+1);!(_=y[x])&&++x<g;);w._next=_||null}}return s=new Tr(s,r),s._enter=a,s._exit=l,s}function Lve(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function zve(){return new Tr(this._exit||this._groups.map(nB),this._parents)}function Bve(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function jve(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var u=n[l],c=r[l],f=u.length,h=a[l]=new Array(f),p,g=0;g<f;++g)(p=u[g]||c[g])&&(h[g]=p);for(;l<i;++l)a[l]=n[l];return new Tr(a,this._parents)}function Uve(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function qve(e){e||(e=Vve);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,l=i[o]=new Array(a),u,c=0;c<a;++c)(u=s[c])&&(l[c]=u);l.sort(t)}return new Tr(i,this._parents).order()}function Vve(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Hve(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Wve(){return Array.from(this)}function Gve(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function Yve(){let e=0;for(const t of this)++e;return e}function Xve(){return!this.node()}function Kve(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function Jve(e){return function(){this.removeAttribute(e)}}function Qve(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Zve(e,t){return function(){this.setAttribute(e,t)}}function ebe(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function tbe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function nbe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function rbe(e,t){var n=dm(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Qve:Jve:typeof t=="function"?n.local?nbe:tbe:n.local?ebe:Zve)(n,t))}function O8(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function ibe(e){return function(){this.style.removeProperty(e)}}function obe(e,t,n){return function(){this.style.setProperty(e,t,n)}}function sbe(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function abe(e,t,n){return arguments.length>1?this.each((t==null?ibe:typeof t=="function"?sbe:obe)(e,t,n??"")):Nc(this.node(),e)}function Nc(e,t){return e.style.getPropertyValue(t)||O8(e).getComputedStyle(e,null).getPropertyValue(t)}function lbe(e){return function(){delete this[e]}}function ube(e,t){return function(){this[e]=t}}function cbe(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function fbe(e,t){return arguments.length>1?this.each((t==null?lbe:typeof t=="function"?cbe:ube)(e,t)):this.node()[e]}function rB(e){return e.trim().split(/^|\s+/)}function F8(e){return e.classList||new iB(e)}function iB(e){this._node=e,this._names=rB(e.getAttribute("class")||"")}iB.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function oB(e,t){for(var n=F8(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function sB(e,t){for(var n=F8(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function dbe(e){return function(){oB(this,e)}}function hbe(e){return function(){sB(this,e)}}function pbe(e,t){return function(){(t.apply(this,arguments)?oB:sB)(this,e)}}function gbe(e,t){var n=rB(e+"");if(arguments.length<2){for(var r=F8(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?pbe:t?dbe:hbe)(n,t))}function mbe(){this.textContent=""}function ybe(e){return function(){this.textContent=e}}function vbe(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function bbe(e){return arguments.length?this.each(e==null?mbe:(typeof e=="function"?vbe:ybe)(e)):this.node().textContent}function xbe(){this.innerHTML=""}function wbe(e){return function(){this.innerHTML=e}}function _be(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Ebe(e){return arguments.length?this.each(e==null?xbe:(typeof e=="function"?_be:wbe)(e)):this.node().innerHTML}function Sbe(){this.nextSibling&&this.parentNode.appendChild(this)}function $be(){return this.each(Sbe)}function Cbe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Abe(){return this.each(Cbe)}function kbe(e){var t=typeof e=="function"?e:P2(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Mbe(){return null}function Tbe(e,t){var n=typeof e=="function"?e:P2(e),r=t==null?Mbe:typeof t=="function"?t:I2(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Obe(){var e=this.parentNode;e&&e.removeChild(this)}function Fbe(){return this.each(Obe)}function Nbe(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Rbe(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Pbe(e){return this.select(e?Rbe:Nbe)}function Ibe(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Dbe(e){return function(t){e.call(this,t,this.__data__)}}function Lbe(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function zbe(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function Bbe(e,t,n){return function(){var r=this.__on,i,o=Dbe(t);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function jbe(e,t,n){var r=Lbe(e+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(a=t?Bbe:zbe,i=0;i<o;++i)this.each(a(r[i],t,n));return this}function aB(e,t,n){var r=O8(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Ube(e,t){return function(){return aB(this,e,t)}}function qbe(e,t){return function(){return aB(this,e,t.apply(this,arguments))}}function Vbe(e,t){return this.each((typeof t=="function"?qbe:Ube)(e,t))}function*Hbe(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var N8=[null];function Tr(e,t){this._groups=e,this._parents=t}function df(){return new Tr([[document.documentElement]],N8)}function Wbe(){return this}Tr.prototype=df.prototype={constructor:Tr,select:bve,selectAll:_ve,selectChild:Cve,selectChildren:Tve,filter:Ove,data:Dve,enter:Fve,exit:zve,join:Bve,merge:jve,selection:Wbe,order:Uve,sort:qve,call:Hve,nodes:Wve,node:Gve,size:Yve,empty:Xve,each:Kve,attr:rbe,style:abe,property:fbe,classed:gbe,text:bbe,html:Ebe,raise:$be,lower:Abe,append:kbe,insert:Tbe,remove:Fbe,clone:Pbe,datum:Ibe,on:jbe,dispatch:Vbe,[Symbol.iterator]:Hbe};function or(e){return typeof e=="string"?new Tr([[document.querySelector(e)]],[document.documentElement]):new Tr([[e]],N8)}function Gbe(e){return or(P2(e).call(document.documentElement))}var Ybe=0;function lB(){return new GE}function GE(){this._="@"+(++Ybe).toString(36)}GE.prototype=lB.prototype={constructor:GE,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};function uB(e){let t;for(;t=e.sourceEvent;)e=t;return e}function gi(e,t){if(e=uB(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function Xbe(e,t){return e.target&&(e=uB(e),t===void 0&&(t=e.currentTarget),e=e.touches||[e]),Array.from(e,n=>gi(n,t))}function Kbe(e){return typeof e=="string"?new Tr([document.querySelectorAll(e)],[document.documentElement]):new Tr([eB(e)],N8)}const Jbe={passive:!1},h0={capture:!0,passive:!1};function O_(e){e.stopImmediatePropagation()}function xd(e){e.preventDefault(),e.stopImmediatePropagation()}function D2(e){var t=e.document.documentElement,n=or(e).on("dragstart.drag",xd,h0);"onselectstart"in t?n.on("selectstart.drag",xd,h0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function L2(e,t){var n=e.document.documentElement,r=or(e).on("dragstart.drag",null);t&&(r.on("click.drag",xd,h0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const R1=e=>()=>e;function YE(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:s,y:a,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}YE.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Qbe(e){return!e.ctrlKey&&!e.button}function Zbe(){return this.parentNode}function e2e(e,t){return t??{x:e.x,y:e.y}}function t2e(){return navigator.maxTouchPoints||"ontouchstart"in this}function n2e(){var e=Qbe,t=Zbe,n=e2e,r=t2e,i={},o=ff("start","drag","end"),s=0,a,l,u,c,f=0;function h(w){w.on("mousedown.drag",p).filter(r).on("touchstart.drag",y).on("touchmove.drag",v,Jbe).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(w,_){if(!(c||!e.call(this,w,_))){var $=x(this,t.call(this,w,_),w,_,"mouse");$&&(or(w.view).on("mousemove.drag",g,h0).on("mouseup.drag",m,h0),D2(w.view),O_(w),u=!1,a=w.clientX,l=w.clientY,$("start",w))}}function g(w){if(xd(w),!u){var _=w.clientX-a,$=w.clientY-l;u=_*_+$*$>f}i.mouse("drag",w)}function m(w){or(w.view).on("mousemove.drag mouseup.drag",null),L2(w.view,u),xd(w),i.mouse("end",w)}function y(w,_){if(e.call(this,w,_)){var $=w.changedTouches,S=t.call(this,w,_),C=$.length,T,M;for(T=0;T<C;++T)(M=x(this,S,w,_,$[T].identifier,$[T]))&&(O_(w),M("start",w,$[T]))}}function v(w){var _=w.changedTouches,$=_.length,S,C;for(S=0;S<$;++S)(C=i[_[S].identifier])&&(xd(w),C("drag",w,_[S]))}function b(w){var _=w.changedTouches,$=_.length,S,C;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),S=0;S<$;++S)(C=i[_[S].identifier])&&(O_(w),C("end",w,_[S]))}function x(w,_,$,S,C,T){var M=o.copy(),E=gi(T||$,_),N,k,A;if((A=n.call(w,new YE("beforestart",{sourceEvent:$,target:h,identifier:C,active:s,x:E[0],y:E[1],dx:0,dy:0,dispatch:M}),S))!=null)return N=A.x-E[0]||0,k=A.y-E[1]||0,function O(F,R,D){var z=E,U;switch(F){case"start":i[C]=O,U=s++;break;case"end":delete i[C],--s;case"drag":E=gi(D||R,_),U=s;break}M.call(F,w,new YE(F,{sourceEvent:R,subject:A,target:h,identifier:C,active:U,x:E[0]+N,y:E[1]+k,dx:E[0]-z[0],dy:E[1]-z[1],dispatch:M}),S)}}return h.filter=function(w){return arguments.length?(e=typeof w=="function"?w:R1(!!w),h):e},h.container=function(w){return arguments.length?(t=typeof w=="function"?w:R1(w),h):t},h.subject=function(w){return arguments.length?(n=typeof w=="function"?w:R1(w),h):n},h.touchable=function(w){return arguments.length?(r=typeof w=="function"?w:R1(!!w),h):r},h.on=function(){var w=o.on.apply(o,arguments);return w===o?h:w},h.clickDistance=function(w){return arguments.length?(f=(w=+w)*w,h):Math.sqrt(f)},h}function Bh(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function hm(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function mu(){}var Rc=.7,Hd=1/Rc,wd="\\s*([+-]?\\d+)\\s*",p0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ss="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",r2e=/^#([0-9a-f]{3,8})$/,i2e=new RegExp(`^rgb\\(${wd},${wd},${wd}\\)$`),o2e=new RegExp(`^rgb\\(${Ss},${Ss},${Ss}\\)$`),s2e=new RegExp(`^rgba\\(${wd},${wd},${wd},${p0}\\)$`),a2e=new RegExp(`^rgba\\(${Ss},${Ss},${Ss},${p0}\\)$`),l2e=new RegExp(`^hsl\\(${p0},${Ss},${Ss}\\)$`),u2e=new RegExp(`^hsla\\(${p0},${Ss},${Ss},${p0}\\)$`),A7={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Bh(mu,Wl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:k7,formatHex:k7,formatHex8:c2e,formatHsl:f2e,formatRgb:M7,toString:M7});function k7(){return this.rgb().formatHex()}function c2e(){return this.rgb().formatHex8()}function f2e(){return cB(this).formatHsl()}function M7(){return this.rgb().formatRgb()}function Wl(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=r2e.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?T7(t):n===3?new An(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?P1(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?P1(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=i2e.exec(e))?new An(t[1],t[2],t[3],1):(t=o2e.exec(e))?new An(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=s2e.exec(e))?P1(t[1],t[2],t[3],t[4]):(t=a2e.exec(e))?P1(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=l2e.exec(e))?N7(t[1],t[2]/100,t[3]/100,1):(t=u2e.exec(e))?N7(t[1],t[2]/100,t[3]/100,t[4]):A7.hasOwnProperty(e)?T7(A7[e]):e==="transparent"?new An(NaN,NaN,NaN,0):null}function T7(e){return new An(e>>16&255,e>>8&255,e&255,1)}function P1(e,t,n,r){return r<=0&&(e=t=n=NaN),new An(e,t,n,r)}function R8(e){return e instanceof mu||(e=Wl(e)),e?(e=e.rgb(),new An(e.r,e.g,e.b,e.opacity)):new An}function Ns(e,t,n,r){return arguments.length===1?R8(e):new An(e,t,n,r??1)}function An(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Bh(An,Ns,hm(mu,{brighter(e){return e=e==null?Hd:Math.pow(Hd,e),new An(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Rc:Math.pow(Rc,e),new An(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new An(yc(this.r),yc(this.g),yc(this.b),Ov(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:O7,formatHex:O7,formatHex8:d2e,formatRgb:F7,toString:F7}));function O7(){return`#${uc(this.r)}${uc(this.g)}${uc(this.b)}`}function d2e(){return`#${uc(this.r)}${uc(this.g)}${uc(this.b)}${uc((isNaN(this.opacity)?1:this.opacity)*255)}`}function F7(){const e=Ov(this.opacity);return`${e===1?"rgb(":"rgba("}${yc(this.r)}, ${yc(this.g)}, ${yc(this.b)}${e===1?")":`, ${e})`}`}function Ov(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function yc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function uc(e){return e=yc(e),(e<16?"0":"")+e.toString(16)}function N7(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new fo(e,t,n,r)}function cB(e){if(e instanceof fo)return new fo(e.h,e.s,e.l,e.opacity);if(e instanceof mu||(e=Wl(e)),!e)return new fo;if(e instanceof fo)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new fo(s,a,l,e.opacity)}function g0(e,t,n,r){return arguments.length===1?cB(e):new fo(e,t,n,r??1)}function fo(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Bh(fo,g0,hm(mu,{brighter(e){return e=e==null?Hd:Math.pow(Hd,e),new fo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Rc:Math.pow(Rc,e),new fo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new An(F_(e>=240?e-240:e+120,i,r),F_(e,i,r),F_(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new fo(R7(this.h),I1(this.s),I1(this.l),Ov(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ov(this.opacity);return`${e===1?"hsl(":"hsla("}${R7(this.h)}, ${I1(this.s)*100}%, ${I1(this.l)*100}%${e===1?")":`, ${e})`}`}}));function R7(e){return e=(e||0)%360,e<0?e+360:e}function I1(e){return Math.max(0,Math.min(1,e||0))}function F_(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const fB=Math.PI/180,dB=180/Math.PI,Fv=18,hB=.96422,pB=1,gB=.82521,mB=4/29,_d=6/29,yB=3*_d*_d,h2e=_d*_d*_d;function vB(e){if(e instanceof $o)return new $o(e.l,e.a,e.b,e.opacity);if(e instanceof ms)return xB(e);e instanceof An||(e=R8(e));var t=I_(e.r),n=I_(e.g),r=I_(e.b),i=N_((.2225045*t+.7168786*n+.0606169*r)/pB),o,s;return t===n&&n===r?o=s=i:(o=N_((.4360747*t+.3850649*n+.1430804*r)/hB),s=N_((.0139322*t+.0971045*n+.7141733*r)/gB)),new $o(116*i-16,500*(o-i),200*(i-s),e.opacity)}function p2e(e,t){return new $o(e,0,0,t??1)}function m0(e,t,n,r){return arguments.length===1?vB(e):new $o(e,t,n,r??1)}function $o(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}Bh($o,m0,hm(mu,{brighter(e){return new $o(this.l+Fv*(e??1),this.a,this.b,this.opacity)},darker(e){return new $o(this.l-Fv*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=hB*R_(t),e=pB*R_(e),n=gB*R_(n),new An(P_(3.1338561*t-1.6168667*e-.4906146*n),P_(-.9787684*t+1.9161415*e+.033454*n),P_(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function N_(e){return e>h2e?Math.pow(e,1/3):e/yB+mB}function R_(e){return e>_d?e*e*e:yB*(e-mB)}function P_(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function I_(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function bB(e){if(e instanceof ms)return new ms(e.h,e.c,e.l,e.opacity);if(e instanceof $o||(e=vB(e)),e.a===0&&e.b===0)return new ms(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*dB;return new ms(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function g2e(e,t,n,r){return arguments.length===1?bB(e):new ms(n,t,e,r??1)}function y0(e,t,n,r){return arguments.length===1?bB(e):new ms(e,t,n,r??1)}function ms(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function xB(e){if(isNaN(e.h))return new $o(e.l,0,0,e.opacity);var t=e.h*fB;return new $o(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Bh(ms,y0,hm(mu,{brighter(e){return new ms(this.h,this.c,this.l+Fv*(e??1),this.opacity)},darker(e){return new ms(this.h,this.c,this.l-Fv*(e??1),this.opacity)},rgb(){return xB(this).rgb()}}));var wB=-.14861,P8=1.78277,I8=-.29227,z2=-.90649,v0=1.97294,P7=v0*z2,I7=v0*P8,D7=P8*I8-z2*wB;function m2e(e){if(e instanceof vc)return new vc(e.h,e.s,e.l,e.opacity);e instanceof An||(e=R8(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(D7*r+P7*t-I7*n)/(D7+P7-I7),o=r-i,s=(v0*(n-i)-I8*o)/z2,a=Math.sqrt(s*s+o*o)/(v0*i*(1-i)),l=a?Math.atan2(s,o)*dB-120:NaN;return new vc(l<0?l+360:l,a,i,e.opacity)}function No(e,t,n,r){return arguments.length===1?m2e(e):new vc(e,t,n,r??1)}function vc(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Bh(vc,No,hm(mu,{brighter(e){return e=e==null?Hd:Math.pow(Hd,e),new vc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Rc:Math.pow(Rc,e),new vc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*fB,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new An(255*(t+n*(wB*r+P8*i)),255*(t+n*(I8*r+z2*i)),255*(t+n*(v0*r)),this.opacity)}}));function _B(e,t,n,r,i){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*n+(1+3*e+3*o-3*s)*r+s*i)/6}function D8(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],s=r>0?e[r-1]:2*i-o,a=r<t-1?e[r+2]:2*o-i;return _B((n-r/t)*t,s,i,o,a)}}function L8(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],s=e[(r+1)%t],a=e[(r+2)%t];return _B((n-r/t)*t,i,o,s,a)}}const B2=e=>()=>e;function EB(e,t){return function(n){return e+n*t}}function y2e(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function j2(e,t){var n=t-e;return n?EB(e,n>180||n<-180?n-360*Math.round(n/360):n):B2(isNaN(e)?t:e)}function v2e(e){return(e=+e)==1?kn:function(t,n){return n-t?y2e(t,n,e):B2(isNaN(t)?n:t)}}function kn(e,t){var n=t-e;return n?EB(e,n):B2(isNaN(e)?t:e)}const Wd=function e(t){var n=v2e(t);function r(i,o){var s=n((i=Ns(i)).r,(o=Ns(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=kn(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function SB(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),o=new Array(n),s,a;for(s=0;s<n;++s)a=Ns(t[s]),r[s]=a.r||0,i[s]=a.g||0,o[s]=a.b||0;return r=e(r),i=e(i),o=e(o),a.opacity=1,function(l){return a.r=r(l),a.g=i(l),a.b=o(l),a+""}}}var z8=SB(D8),$B=SB(L8);function U2(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function CB(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function AB(e,t){return(CB(t)?U2:kB)(e,t)}function kB(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Us(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function B8(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function mi(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function j8(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Us(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var XE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,D_=new RegExp(XE.source,"g");function b2e(e){return function(){return e}}function x2e(e){return function(t){return e(t)+""}}function q2(e,t){var n=XE.lastIndex=D_.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(r=XE.exec(e))&&(i=D_.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:mi(r,i)})),n=D_.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?x2e(l[0].x):b2e(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}function Us(e,t){var n=typeof t,r;return t==null||n==="boolean"?B2(t):(n==="number"?mi:n==="string"?(r=Wl(t))?(t=r,Wd):q2:t instanceof Wl?Wd:t instanceof Date?B8:CB(t)?U2:Array.isArray(t)?kB:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?j8:mi)(e,t)}function MB(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function TB(e,t){var n=j2(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function jh(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var L7=180/Math.PI,KE={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function OB(e,t,n,r,i,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*L7,skewX:Math.atan(l)*L7,scaleX:s,scaleY:a}}var D1;function w2e(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?KE:OB(t.a,t.b,t.c,t.d,t.e,t.f)}function _2e(e){return e==null||(D1||(D1=document.createElementNS("http://www.w3.org/2000/svg","g")),D1.setAttribute("transform",e),!(e=D1.transform.baseVal.consolidate()))?KE:(e=e.matrix,OB(e.a,e.b,e.c,e.d,e.e,e.f))}function FB(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,f,h,p,g){if(u!==f||c!==h){var m=p.push("translate(",null,t,null,n);g.push({i:m-4,x:mi(u,f)},{i:m-2,x:mi(c,h)})}else(f||h)&&p.push("translate("+f+t+h+n)}function s(u,c,f,h){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:mi(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function a(u,c,f,h){u!==c?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:mi(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(u,c,f,h,p,g){if(u!==f||c!==h){var m=p.push(i(p)+"scale(",null,",",null,")");g.push({i:m-4,x:mi(u,f)},{i:m-2,x:mi(c,h)})}else(f!==1||h!==1)&&p.push(i(p)+"scale("+f+","+h+")")}return function(u,c){var f=[],h=[];return u=e(u),c=e(c),o(u.translateX,u.translateY,c.translateX,c.translateY,f,h),s(u.rotate,c.rotate,f,h),a(u.skewX,c.skewX,f,h),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,h),u=c=null,function(p){for(var g=-1,m=h.length,y;++g<m;)f[(y=h[g]).i]=y.x(p);return f.join("")}}}var U8=FB(w2e,"px, ","px)","deg)"),q8=FB(_2e,", ",")",")"),E2e=1e-12;function z7(e){return((e=Math.exp(e))+1/e)/2}function S2e(e){return((e=Math.exp(e))-1/e)/2}function $2e(e){return((e=Math.exp(2*e))-1)/(e+1)}const V8=function e(t,n,r){function i(o,s){var a=o[0],l=o[1],u=o[2],c=s[0],f=s[1],h=s[2],p=c-a,g=f-l,m=p*p+g*g,y,v;if(m<E2e)v=Math.log(h/u)/t,y=function(S){return[a+S*p,l+S*g,u*Math.exp(t*S*v)]};else{var b=Math.sqrt(m),x=(h*h-u*u+r*m)/(2*u*n*b),w=(h*h-u*u-r*m)/(2*h*n*b),_=Math.log(Math.sqrt(x*x+1)-x),$=Math.log(Math.sqrt(w*w+1)-w);v=($-_)/t,y=function(S){var C=S*v,T=z7(_),M=u/(n*b)*(T*$2e(t*C+_)-S2e(_));return[a+M*p,l+M*g,u*T/z7(t*C+_)]}}return y.duration=v*1e3*t/Math.SQRT2,y}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,l=a*a;return e(s,a,l)},i}(Math.SQRT2,2,4);function NB(e){return function(t,n){var r=e((t=g0(t)).h,(n=g0(n)).h),i=kn(t.s,n.s),o=kn(t.l,n.l),s=kn(t.opacity,n.opacity);return function(a){return t.h=r(a),t.s=i(a),t.l=o(a),t.opacity=s(a),t+""}}}const RB=NB(j2);var PB=NB(kn);function IB(e,t){var n=kn((e=m0(e)).l,(t=m0(t)).l),r=kn(e.a,t.a),i=kn(e.b,t.b),o=kn(e.opacity,t.opacity);return function(s){return e.l=n(s),e.a=r(s),e.b=i(s),e.opacity=o(s),e+""}}function DB(e){return function(t,n){var r=e((t=y0(t)).h,(n=y0(n)).h),i=kn(t.c,n.c),o=kn(t.l,n.l),s=kn(t.opacity,n.opacity);return function(a){return t.h=r(a),t.c=i(a),t.l=o(a),t.opacity=s(a),t+""}}}const LB=DB(j2);var zB=DB(kn);function BB(e){return function t(n){n=+n;function r(i,o){var s=e((i=No(i)).h,(o=No(o)).h),a=kn(i.s,o.s),l=kn(i.l,o.l),u=kn(i.opacity,o.opacity);return function(c){return i.h=s(c),i.s=a(c),i.l=l(Math.pow(c,n)),i.opacity=u(c),i+""}}return r.gamma=t,r}(1)}const jB=BB(j2);var pm=BB(kn);function V2(e,t){t===void 0&&(t=e,e=Us);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function UB(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const C2e=Object.freeze(Object.defineProperty({__proto__:null,interpolate:Us,interpolateArray:AB,interpolateBasis:D8,interpolateBasisClosed:L8,interpolateCubehelix:jB,interpolateCubehelixLong:pm,interpolateDate:B8,interpolateDiscrete:MB,interpolateHcl:LB,interpolateHclLong:zB,interpolateHsl:RB,interpolateHslLong:PB,interpolateHue:TB,interpolateLab:IB,interpolateNumber:mi,interpolateNumberArray:U2,interpolateObject:j8,interpolateRgb:Wd,interpolateRgbBasis:z8,interpolateRgbBasisClosed:$B,interpolateRound:jh,interpolateString:q2,interpolateTransformCss:U8,interpolateTransformSvg:q8,interpolateZoom:V8,piecewise:V2,quantize:UB},Symbol.toStringTag,{value:"Module"}));var Gd=0,Xp=0,bp=0,qB=1e3,Nv,Kp,Rv=0,Pc=0,H2=0,b0=typeof performance=="object"&&performance.now?performance:Date,VB=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function gm(){return Pc||(VB(A2e),Pc=b0.now()+H2)}function A2e(){Pc=0}function x0(){this._call=this._time=this._next=null}x0.prototype=W2.prototype={constructor:x0,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?gm():+n)+(t==null?0:+t),!this._next&&Kp!==this&&(Kp?Kp._next=this:Nv=this,Kp=this),this._call=e,this._time=n,JE()},stop:function(){this._call&&(this._call=null,this._time=1/0,JE())}};function W2(e,t,n){var r=new x0;return r.restart(e,t,n),r}function HB(){gm(),++Gd;for(var e=Nv,t;e;)(t=Pc-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Gd}function B7(){Pc=(Rv=b0.now())+H2,Gd=Xp=0;try{HB()}finally{Gd=0,M2e(),Pc=0}}function k2e(){var e=b0.now(),t=e-Rv;t>qB&&(H2-=t,Rv=e)}function M2e(){for(var e,t=Nv,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Nv=n);Kp=e,JE(r)}function JE(e){if(!Gd){Xp&&(Xp=clearTimeout(Xp));var t=e-Pc;t>24?(e<1/0&&(Xp=setTimeout(B7,e-b0.now()-H2)),bp&&(bp=clearInterval(bp))):(bp||(Rv=b0.now(),bp=setInterval(k2e,qB)),Gd=1,VB(B7))}}function QE(e,t,n){var r=new x0;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}function WB(e,t,n){var r=new x0,i=t;return t==null?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(o,s,a){s=+s,a=a==null?gm():+a,r._restart(function l(u){u+=i,r._restart(l,i+=s,a),o(u)},s,a)},r.restart(e,t,n),r)}var T2e=ff("start","end","cancel","interrupt"),O2e=[],GB=0,ZE=1,eS=2,Ly=3,j7=4,tS=5,zy=6;function G2(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;F2e(e,n,{name:t,index:r,group:i,on:T2e,tween:O2e,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:GB})}function H8(e,t){var n=Ho(e,t);if(n.state>GB)throw new Error("too late; already scheduled");return n}function qs(e,t){var n=Ho(e,t);if(n.state>Ly)throw new Error("too late; already running");return n}function Ho(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function F2e(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=W2(o,0,n.time);function o(u){n.state=ZE,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var c,f,h,p;if(n.state!==ZE)return l();for(c in r)if(p=r[c],p.name===n.name){if(p.state===Ly)return QE(s);p.state===j7?(p.state=zy,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete r[c]):+c<t&&(p.state=zy,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete r[c])}if(QE(function(){n.state===Ly&&(n.state=j7,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=eS,n.on.call("start",e,e.__data__,n.index,n.group),n.state===eS){for(n.state=Ly,i=new Array(h=n.tween.length),c=0,f=-1;c<h;++c)(p=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=p);i.length=f+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=tS,1),f=-1,h=i.length;++f<h;)i[f].call(e,c);n.state===tS&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=zy,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function bc(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>eS&&r.state<tS,r.state=zy,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function N2e(e){return this.each(function(){bc(this,e)})}function R2e(e,t){var n,r;return function(){var i=qs(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function P2e(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=qs(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=a;break}l===u&&i.push(a)}o.tween=i}}function I2e(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Ho(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?R2e:P2e)(n,e,t))}function W8(e,t,n){var r=e._id;return e.each(function(){var i=qs(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Ho(i,r).value[t]}}function YB(e,t){var n;return(typeof t=="number"?mi:t instanceof Wl?Wd:(n=Wl(t))?(t=n,Wd):q2)(e,t)}function D2e(e){return function(){this.removeAttribute(e)}}function L2e(e){return function(){this.removeAttributeNS(e.space,e.local)}}function z2e(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function B2e(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function j2e(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function U2e(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function q2e(e,t){var n=dm(e),r=n==="transform"?q8:YB;return this.attrTween(e,typeof t=="function"?(n.local?U2e:j2e)(n,r,W8(this,"attr."+e,t)):t==null?(n.local?L2e:D2e)(n):(n.local?B2e:z2e)(n,r,t))}function V2e(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function H2e(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function W2e(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&H2e(e,o)),n}return i._value=t,i}function G2e(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&V2e(e,o)),n}return i._value=t,i}function Y2e(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=dm(e);return this.tween(n,(r.local?W2e:G2e)(r,t))}function X2e(e,t){return function(){H8(this,e).delay=+t.apply(this,arguments)}}function K2e(e,t){return t=+t,function(){H8(this,e).delay=t}}function J2e(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?X2e:K2e)(t,e)):Ho(this.node(),t).delay}function Q2e(e,t){return function(){qs(this,e).duration=+t.apply(this,arguments)}}function Z2e(e,t){return t=+t,function(){qs(this,e).duration=t}}function exe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Q2e:Z2e)(t,e)):Ho(this.node(),t).duration}function txe(e,t){if(typeof t!="function")throw new Error;return function(){qs(this,e).ease=t}}function nxe(e){var t=this._id;return arguments.length?this.each(txe(t,e)):Ho(this.node(),t).ease}function rxe(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;qs(this,e).ease=n}}function ixe(e){if(typeof e!="function")throw new Error;return this.each(rxe(this._id,e))}function oxe(e){typeof e!="function"&&(e=T8(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&a.push(l);return new Rs(r,this._parents,this._name,this._id)}function sxe(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l=t[a],u=n[a],c=l.length,f=s[a]=new Array(c),h,p=0;p<c;++p)(h=l[p]||u[p])&&(f[p]=h);for(;a<r;++a)s[a]=t[a];return new Rs(s,this._parents,this._name,this._id)}function axe(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function lxe(e,t,n){var r,i,o=axe(t)?H8:qs;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}function uxe(e,t){var n=this._id;return arguments.length<2?Ho(this.node(),n).on.on(e):this.each(lxe(n,e,t))}function cxe(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function fxe(){return this.on("end.remove",cxe(this._id))}function dxe(e){var t=this._name,n=this._id;typeof e!="function"&&(e=I2(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],l=a.length,u=o[s]=new Array(l),c,f,h=0;h<l;++h)(c=a[h])&&(f=e.call(c,c.__data__,h,a))&&("__data__"in c&&(f.__data__=c.__data__),u[h]=f,G2(u[h],t,n,h,u,Ho(c,n)));return new Rs(o,this._parents,t,n)}function hxe(e){var t=this._name,n=this._id;typeof e!="function"&&(e=M8(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l=r[a],u=l.length,c,f=0;f<u;++f)if(c=l[f]){for(var h=e.call(c,c.__data__,f,l),p,g=Ho(c,n),m=0,y=h.length;m<y;++m)(p=h[m])&&G2(p,t,n,m,h,g);o.push(h),s.push(c)}return new Rs(o,s,t,n)}var pxe=df.prototype.constructor;function gxe(){return new pxe(this._groups,this._parents)}function mxe(e,t){var n,r,i;return function(){var o=Nc(this,e),s=(this.style.removeProperty(e),Nc(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function XB(e){return function(){this.style.removeProperty(e)}}function yxe(e,t,n){var r,i=n+"",o;return function(){var s=Nc(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function vxe(e,t,n){var r,i,o;return function(){var s=Nc(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),Nc(this,e))),s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a))}}function bxe(e,t){var n,r,i,o="style."+t,s="end."+o,a;return function(){var l=qs(this,e),u=l.on,c=l.value[o]==null?a||(a=XB(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(s,i=c),l.on=r}}function xxe(e,t,n){var r=(e+="")=="transform"?U8:YB;return t==null?this.styleTween(e,mxe(e,r)).on("end.style."+e,XB(e)):typeof t=="function"?this.styleTween(e,vxe(e,r,W8(this,"style."+e,t))).each(bxe(this._id,e)):this.styleTween(e,yxe(e,r,t),n).on("end.style."+e,null)}function wxe(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function _xe(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&wxe(e,s,n)),r}return o._value=t,o}function Exe(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,_xe(e,t,n??""))}function Sxe(e){return function(){this.textContent=e}}function $xe(e){return function(){var t=e(this);this.textContent=t??""}}function Cxe(e){return this.tween("text",typeof e=="function"?$xe(W8(this,"text",e)):Sxe(e==null?"":e+""))}function Axe(e){return function(t){this.textContent=e.call(this,t)}}function kxe(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Axe(i)),t}return r._value=e,r}function Mxe(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,kxe(e))}function Txe(){for(var e=this._name,t=this._id,n=JB(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)if(l=s[u]){var c=Ho(l,t);G2(l,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Rs(r,this._parents,e,n)}function Oxe(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--i===0&&o()}};n.each(function(){var u=qs(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),u.on=t}),i===0&&o()})}var Fxe=0;function Rs(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function KB(e){return df().transition(e)}function JB(){return++Fxe}var na=df.prototype;Rs.prototype=KB.prototype={constructor:Rs,select:dxe,selectAll:hxe,selectChild:na.selectChild,selectChildren:na.selectChildren,filter:oxe,merge:sxe,selection:gxe,transition:Txe,call:na.call,nodes:na.nodes,node:na.node,size:na.size,empty:na.empty,each:na.each,on:uxe,attr:q2e,attrTween:Y2e,style:xxe,styleTween:Exe,text:Cxe,textTween:Mxe,remove:fxe,tween:I2e,delay:J2e,duration:exe,ease:nxe,easeVarying:ixe,end:Oxe,[Symbol.iterator]:na[Symbol.iterator]};const Nxe=e=>+e;function Rxe(e){return e*e}function Pxe(e){return e*(2-e)}function U7(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function Ixe(e){return e*e*e}function Dxe(e){return--e*e*e+1}function nS(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var G8=3,Lxe=function e(t){t=+t;function n(r){return Math.pow(r,t)}return n.exponent=e,n}(G8),zxe=function e(t){t=+t;function n(r){return 1-Math.pow(1-r,t)}return n.exponent=e,n}(G8),q7=function e(t){t=+t;function n(r){return((r*=2)<=1?Math.pow(r,t):2-Math.pow(2-r,t))/2}return n.exponent=e,n}(G8),QB=Math.PI,ZB=QB/2;function Bxe(e){return+e==1?1:1-Math.cos(e*ZB)}function jxe(e){return Math.sin(e*ZB)}function V7(e){return(1-Math.cos(QB*e))/2}function Gl(e){return(Math.pow(2,-10*e)-.0009765625)*1.0009775171065494}function Uxe(e){return Gl(1-+e)}function qxe(e){return 1-Gl(e)}function H7(e){return((e*=2)<=1?Gl(1-e):2-Gl(e-1))/2}function Vxe(e){return 1-Math.sqrt(1-e*e)}function Hxe(e){return Math.sqrt(1- --e*e)}function W7(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var rS=4/11,Wxe=6/11,Gxe=8/11,Yxe=3/4,Xxe=9/11,Kxe=10/11,Jxe=15/16,Qxe=21/22,Zxe=63/64,L1=1/rS/rS;function ewe(e){return 1-w0(1-e)}function w0(e){return(e=+e)<rS?L1*e*e:e<Gxe?L1*(e-=Wxe)*e+Yxe:e<Kxe?L1*(e-=Xxe)*e+Jxe:L1*(e-=Qxe)*e+Zxe}function twe(e){return((e*=2)<=1?1-w0(1-e):w0(e-1)+1)/2}var Y8=1.70158,nwe=function e(t){t=+t;function n(r){return(r=+r)*r*(t*(r-1)+r)}return n.overshoot=e,n}(Y8),rwe=function e(t){t=+t;function n(r){return--r*r*((r+1)*t+r)+1}return n.overshoot=e,n}(Y8),G7=function e(t){t=+t;function n(r){return((r*=2)<1?r*r*((t+1)*r-t):(r-=2)*r*((t+1)*r+t)+2)/2}return n.overshoot=e,n}(Y8),Yd=2*Math.PI,X8=1,K8=.3,iwe=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Yd);function i(o){return t*Gl(- --o)*Math.sin((r-o)/n)}return i.amplitude=function(o){return e(o,n*Yd)},i.period=function(o){return e(t,o)},i}(X8,K8),Y7=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Yd);function i(o){return 1-t*Gl(o=+o)*Math.sin((o+r)/n)}return i.amplitude=function(o){return e(o,n*Yd)},i.period=function(o){return e(t,o)},i}(X8,K8),owe=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Yd);function i(o){return((o=o*2-1)<0?t*Gl(-o)*Math.sin((r-o)/n):2-t*Gl(o)*Math.sin((r+o)/n))/2}return i.amplitude=function(o){return e(o,n*Yd)},i.period=function(o){return e(t,o)},i}(X8,K8),swe={time:null,delay:0,duration:250,ease:nS};function awe(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function lwe(e){var t,n;e instanceof Rs?(t=e._id,e=e._name):(t=JB(),(n=swe).time=gm(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&G2(l,e,t,u,s,n||awe(l,t));return new Rs(r,this._parents,e,t)}df.prototype.interrupt=N2e;df.prototype.transition=lwe;var uwe=[null];function cwe(e,t){var n=e.__transition,r,i;if(n){t=t==null?null:t+"";for(i in n)if((r=n[i]).state>ZE&&r.name===t)return new Rs([[e]],uwe,t,+i)}return null}const L_=e=>()=>e;function fwe(e,{sourceEvent:t,target:n,selection:r,mode:i,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function dwe(e){e.stopImmediatePropagation()}function z_(e){e.preventDefault(),e.stopImmediatePropagation()}var X7={name:"drag"},B_={name:"space"},zf={name:"handle"},Bf={name:"center"};const{abs:K7,max:Xn,min:Kn}=Math;function J7(e){return[+e[0],+e[1]]}function iS(e){return[J7(e[0]),J7(e[1])]}var By={name:"x",handles:["w","e"].map(_0),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},jy={name:"y",handles:["n","s"].map(_0),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},hwe={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(_0),input:function(e){return e==null?null:iS(e)},output:function(e){return e}},ra={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Q7={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Z7={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},pwe={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},gwe={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function _0(e){return{type:e}}function mwe(e){return!e.ctrlKey&&!e.button}function ywe(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function vwe(){return navigator.maxTouchPoints||"ontouchstart"in this}function j_(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function bwe(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function xwe(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function wwe(){return J8(By)}function _we(){return J8(jy)}function Ewe(){return J8(hwe)}function J8(e){var t=ywe,n=mwe,r=vwe,i=!0,o=ff("start","brush","end"),s=6,a;function l(y){var v=y.property("__brush",m).selectAll(".overlay").data([_0("overlay")]);v.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",ra.overlay).merge(v).each(function(){var x=j_(this).extent;or(this).attr("x",x[0][0]).attr("y",x[0][1]).attr("width",x[1][0]-x[0][0]).attr("height",x[1][1]-x[0][1])}),y.selectAll(".selection").data([_0("selection")]).enter().append("rect").attr("class","selection").attr("cursor",ra.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var b=y.selectAll(".handle").data(e.handles,function(x){return x.type});b.exit().remove(),b.enter().append("rect").attr("class",function(x){return"handle handle--"+x.type}).attr("cursor",function(x){return ra[x.type]}),y.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(r).on("touchstart.brush",h).on("touchmove.brush",p).on("touchend.brush touchcancel.brush",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(y,v,b){y.tween?y.on("start.brush",function(x){c(this,arguments).beforestart().start(x)}).on("interrupt.brush end.brush",function(x){c(this,arguments).end(x)}).tween("brush",function(){var x=this,w=x.__brush,_=c(x,arguments),$=w.selection,S=e.input(typeof v=="function"?v.apply(this,arguments):v,w.extent),C=Us($,S);function T(M){w.selection=M===1&&S===null?null:C(M),u.call(x),_.brush()}return $!==null&&S!==null?T:T(1)}):y.each(function(){var x=this,w=arguments,_=x.__brush,$=e.input(typeof v=="function"?v.apply(x,w):v,_.extent),S=c(x,w).beforestart();bc(x),_.selection=$===null?null:$,u.call(x),S.start(b).brush(b).end(b)})},l.clear=function(y,v){l.move(y,null,v)};function u(){var y=or(this),v=j_(this).selection;v?(y.selectAll(".selection").style("display",null).attr("x",v[0][0]).attr("y",v[0][1]).attr("width",v[1][0]-v[0][0]).attr("height",v[1][1]-v[0][1]),y.selectAll(".handle").style("display",null).attr("x",function(b){return b.type[b.type.length-1]==="e"?v[1][0]-s/2:v[0][0]-s/2}).attr("y",function(b){return b.type[0]==="s"?v[1][1]-s/2:v[0][1]-s/2}).attr("width",function(b){return b.type==="n"||b.type==="s"?v[1][0]-v[0][0]+s:s}).attr("height",function(b){return b.type==="e"||b.type==="w"?v[1][1]-v[0][1]+s:s})):y.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(y,v,b){var x=y.__brush.emitter;return x&&(!b||!x.clean)?x:new f(y,v,b)}function f(y,v,b){this.that=y,this.args=v,this.state=y.__brush,this.active=0,this.clean=b}f.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(y,v){return this.starting?(this.starting=!1,this.emit("start",y,v)):this.emit("brush",y),this},brush:function(y,v){return this.emit("brush",y,v),this},end:function(y,v){return--this.active===0&&(delete this.state.emitter,this.emit("end",y,v)),this},emit:function(y,v,b){var x=or(this.that).datum();o.call(y,this.that,new fwe(y,{sourceEvent:v,target:l,selection:e.output(this.state.selection),mode:b,dispatch:o}),x)}};function h(y){if(a&&!y.touches||!n.apply(this,arguments))return;var v=this,b=y.target.__data__.type,x=(i&&y.metaKey?b="overlay":b)==="selection"?X7:i&&y.altKey?Bf:zf,w=e===jy?null:pwe[b],_=e===By?null:gwe[b],$=j_(v),S=$.extent,C=$.selection,T=S[0][0],M,E,N=S[0][1],k,A,O=S[1][0],F,R,D=S[1][1],z,U,H=0,W=0,he,ae=w&&_&&i&&y.shiftKey,Ce,xe,B=Array.from(y.touches||[y],Y=>{const ue=Y.identifier;return Y=gi(Y,v),Y.point0=Y.slice(),Y.identifier=ue,Y});bc(v);var Q=c(v,arguments,!0).beforestart();if(b==="overlay"){C&&(he=!0);const Y=[B[0],B[1]||B[0]];$.selection=C=[[M=e===jy?T:Kn(Y[0][0],Y[1][0]),k=e===By?N:Kn(Y[0][1],Y[1][1])],[F=e===jy?O:Xn(Y[0][0],Y[1][0]),z=e===By?D:Xn(Y[0][1],Y[1][1])]],B.length>1&&L(y)}else M=C[0][0],k=C[0][1],F=C[1][0],z=C[1][1];E=M,A=k,R=F,U=z;var q=or(v).attr("pointer-events","none"),K=q.selectAll(".overlay").attr("cursor",ra[b]);if(y.touches)Q.moved=I,Q.ended=j;else{var ce=or(y.view).on("mousemove.brush",I,!0).on("mouseup.brush",j,!0);i&&ce.on("keydown.brush",X,!0).on("keyup.brush",ee,!0),D2(y.view)}u.call(v),Q.start(y,x.name);function I(Y){for(const ue of Y.changedTouches||[Y])for(const pe of B)pe.identifier===ue.identifier&&(pe.cur=gi(ue,v));if(ae&&!Ce&&!xe&&B.length===1){const ue=B[0];K7(ue.cur[0]-ue[0])>K7(ue.cur[1]-ue[1])?xe=!0:Ce=!0}for(const ue of B)ue.cur&&(ue[0]=ue.cur[0],ue[1]=ue.cur[1]);he=!0,z_(Y),L(Y)}function L(Y){const ue=B[0],pe=ue.point0;var fe;switch(H=ue[0]-pe[0],W=ue[1]-pe[1],x){case B_:case X7:{w&&(H=Xn(T-M,Kn(O-F,H)),E=M+H,R=F+H),_&&(W=Xn(N-k,Kn(D-z,W)),A=k+W,U=z+W);break}case zf:{B[1]?(w&&(E=Xn(T,Kn(O,B[0][0])),R=Xn(T,Kn(O,B[1][0])),w=1),_&&(A=Xn(N,Kn(D,B[0][1])),U=Xn(N,Kn(D,B[1][1])),_=1)):(w<0?(H=Xn(T-M,Kn(O-M,H)),E=M+H,R=F):w>0&&(H=Xn(T-F,Kn(O-F,H)),E=M,R=F+H),_<0?(W=Xn(N-k,Kn(D-k,W)),A=k+W,U=z):_>0&&(W=Xn(N-z,Kn(D-z,W)),A=k,U=z+W));break}case Bf:{w&&(E=Xn(T,Kn(O,M-H*w)),R=Xn(T,Kn(O,F+H*w))),_&&(A=Xn(N,Kn(D,k-W*_)),U=Xn(N,Kn(D,z+W*_)));break}}R<E&&(w*=-1,fe=M,M=F,F=fe,fe=E,E=R,R=fe,b in Q7&&K.attr("cursor",ra[b=Q7[b]])),U<A&&(_*=-1,fe=k,k=z,z=fe,fe=A,A=U,U=fe,b in Z7&&K.attr("cursor",ra[b=Z7[b]])),$.selection&&(C=$.selection),Ce&&(E=C[0][0],R=C[1][0]),xe&&(A=C[0][1],U=C[1][1]),(C[0][0]!==E||C[0][1]!==A||C[1][0]!==R||C[1][1]!==U)&&($.selection=[[E,A],[R,U]],u.call(v),Q.brush(Y,x.name))}function j(Y){if(dwe(Y),Y.touches){if(Y.touches.length)return;a&&clearTimeout(a),a=setTimeout(function(){a=null},500)}else L2(Y.view,he),ce.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);q.attr("pointer-events","all"),K.attr("cursor",ra.overlay),$.selection&&(C=$.selection),bwe(C)&&($.selection=null,u.call(v)),Q.end(Y,x.name)}function X(Y){switch(Y.keyCode){case 16:{ae=w&&_;break}case 18:{x===zf&&(w&&(F=R-H*w,M=E+H*w),_&&(z=U-W*_,k=A+W*_),x=Bf,L(Y));break}case 32:{(x===zf||x===Bf)&&(w<0?F=R-H:w>0&&(M=E-H),_<0?z=U-W:_>0&&(k=A-W),x=B_,K.attr("cursor",ra.selection),L(Y));break}default:return}z_(Y)}function ee(Y){switch(Y.keyCode){case 16:{ae&&(Ce=xe=ae=!1,L(Y));break}case 18:{x===Bf&&(w<0?F=R:w>0&&(M=E),_<0?z=U:_>0&&(k=A),x=zf,L(Y));break}case 32:{x===B_&&(Y.altKey?(w&&(F=R-H*w,M=E+H*w),_&&(z=U-W*_,k=A+W*_),x=Bf):(w<0?F=R:w>0&&(M=E),_<0?z=U:_>0&&(k=A),x=zf),K.attr("cursor",ra[b]),L(Y));break}default:return}z_(Y)}}function p(y){c(this,arguments).moved(y)}function g(y){c(this,arguments).ended(y)}function m(){var y=this.__brush||{selection:null};return y.extent=iS(t.apply(this,arguments)),y.dim=e,y}return l.extent=function(y){return arguments.length?(t=typeof y=="function"?y:L_(iS(y)),l):t},l.filter=function(y){return arguments.length?(n=typeof y=="function"?y:L_(!!y),l):n},l.touchable=function(y){return arguments.length?(r=typeof y=="function"?y:L_(!!y),l):r},l.handleSize=function(y){return arguments.length?(s=+y,l):s},l.keyModifiers=function(y){return arguments.length?(i=!!y,l):i},l.on=function(){var y=o.on.apply(o,arguments);return y===o?l:y},l}var eO=Math.abs,jf=Math.cos,Uf=Math.sin,ej=Math.PI,z1=ej/2,tO=ej*2,nO=Math.max,U_=1e-12;function q_(e,t){return Array.from({length:t-e},(n,r)=>e+r)}function Swe(e){return function(t,n){return e(t.source.value+t.target.value,n.source.value+n.target.value)}}function $we(){return Q8(!1,!1)}function Cwe(){return Q8(!1,!0)}function Awe(){return Q8(!0,!1)}function Q8(e,t){var n=0,r=null,i=null,o=null;function s(a){var l=a.length,u=new Array(l),c=q_(0,l),f=new Array(l*l),h=new Array(l),p=0,g;a=Float64Array.from({length:l*l},t?(m,y)=>a[y%l][y/l|0]:(m,y)=>a[y/l|0][y%l]);for(let m=0;m<l;++m){let y=0;for(let v=0;v<l;++v)y+=a[m*l+v]+e*a[v*l+m];p+=u[m]=y}p=nO(0,tO-n*l)/p,g=p?n:tO/l;{let m=0;r&&c.sort((y,v)=>r(u[y],u[v]));for(const y of c){const v=m;if(e){const b=q_(~l+1,l).filter(x=>x<0?a[~x*l+y]:a[y*l+x]);i&&b.sort((x,w)=>i(x<0?-a[~x*l+y]:a[y*l+x],w<0?-a[~w*l+y]:a[y*l+w]));for(const x of b)if(x<0){const w=f[~x*l+y]||(f[~x*l+y]={source:null,target:null});w.target={index:y,startAngle:m,endAngle:m+=a[~x*l+y]*p,value:a[~x*l+y]}}else{const w=f[y*l+x]||(f[y*l+x]={source:null,target:null});w.source={index:y,startAngle:m,endAngle:m+=a[y*l+x]*p,value:a[y*l+x]}}h[y]={index:y,startAngle:v,endAngle:m,value:u[y]}}else{const b=q_(0,l).filter(x=>a[y*l+x]||a[x*l+y]);i&&b.sort((x,w)=>i(a[y*l+x],a[y*l+w]));for(const x of b){let w;if(y<x?(w=f[y*l+x]||(f[y*l+x]={source:null,target:null}),w.source={index:y,startAngle:m,endAngle:m+=a[y*l+x]*p,value:a[y*l+x]}):(w=f[x*l+y]||(f[x*l+y]={source:null,target:null}),w.target={index:y,startAngle:m,endAngle:m+=a[y*l+x]*p,value:a[y*l+x]},y===x&&(w.source=w.target)),w.source&&w.target&&w.source.value<w.target.value){const _=w.source;w.source=w.target,w.target=_}}h[y]={index:y,startAngle:v,endAngle:m,value:u[y]}}m+=g}}return f=Object.values(f),f.groups=h,o?f.sort(o):f}return s.padAngle=function(a){return arguments.length?(n=nO(0,a),s):n},s.sortGroups=function(a){return arguments.length?(r=a,s):r},s.sortSubgroups=function(a){return arguments.length?(i=a,s):i},s.sortChords=function(a){return arguments.length?(a==null?o=null:(o=Swe(a))._=a,s):o&&o._},s}const oS=Math.PI,sS=2*oS,Gu=1e-6,kwe=sS-Gu;function tj(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Mwe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return tj;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let mm=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?tj:Mwe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-t,u=i-n,c=s-t,f=a-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>Gu)if(!(Math.abs(f*l-u*c)>Gu)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-s,g=i-a,m=l*l+u*u,y=p*p+g*g,v=Math.sqrt(m),b=Math.sqrt(h),x=o*Math.tan((oS-Math.acos((m+h-y)/(2*v*b)))/2),w=x/b,_=x/v;Math.abs(w-1)>Gu&&this._append`L${t+w*c},${n+w*f}`,this._append`A${o},${o},0,0,${+(f*p>c*g)},${this._x1=t+_*l},${this._y1=n+_*u}`}}arc(t,n,r,i,o,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=t+a,c=n+l,f=1^s,h=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Gu||Math.abs(this._y1-c)>Gu)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%sS+sS),h>kwe?this._append`A${r},${r},0,1,${f},${t-a},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>Gu&&this._append`A${r},${r},0,${+(h>=oS)},${f},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function Uh(){return new mm}Uh.prototype=mm.prototype;function Twe(e=3){return new mm(+e)}var Owe=Array.prototype.slice;function Ru(e){return function(){return e}}function Fwe(e){return e.source}function Nwe(e){return e.target}function rO(e){return e.radius}function Rwe(e){return e.startAngle}function Pwe(e){return e.endAngle}function Iwe(){return 0}function Dwe(){return 10}function nj(e){var t=Fwe,n=Nwe,r=rO,i=rO,o=Rwe,s=Pwe,a=Iwe,l=null;function u(){var c,f=t.apply(this,arguments),h=n.apply(this,arguments),p=a.apply(this,arguments)/2,g=Owe.call(arguments),m=+r.apply(this,(g[0]=f,g)),y=o.apply(this,g)-z1,v=s.apply(this,g)-z1,b=+i.apply(this,(g[0]=h,g)),x=o.apply(this,g)-z1,w=s.apply(this,g)-z1;if(l||(l=c=Uh()),p>U_&&(eO(v-y)>p*2+U_?v>y?(y+=p,v-=p):(y-=p,v+=p):y=v=(y+v)/2,eO(w-x)>p*2+U_?w>x?(x+=p,w-=p):(x-=p,w+=p):x=w=(x+w)/2),l.moveTo(m*jf(y),m*Uf(y)),l.arc(0,0,m,y,v),y!==x||v!==w)if(e){var _=+e.apply(this,arguments),$=b-_,S=(x+w)/2;l.quadraticCurveTo(0,0,$*jf(x),$*Uf(x)),l.lineTo(b*jf(S),b*Uf(S)),l.lineTo($*jf(w),$*Uf(w))}else l.quadraticCurveTo(0,0,b*jf(x),b*Uf(x)),l.arc(0,0,b,x,w);if(l.quadraticCurveTo(0,0,m*jf(y),m*Uf(y)),l.closePath(),c)return l=null,c+""||null}return e&&(u.headRadius=function(c){return arguments.length?(e=typeof c=="function"?c:Ru(+c),u):e}),u.radius=function(c){return arguments.length?(r=i=typeof c=="function"?c:Ru(+c),u):r},u.sourceRadius=function(c){return arguments.length?(r=typeof c=="function"?c:Ru(+c),u):r},u.targetRadius=function(c){return arguments.length?(i=typeof c=="function"?c:Ru(+c),u):i},u.startAngle=function(c){return arguments.length?(o=typeof c=="function"?c:Ru(+c),u):o},u.endAngle=function(c){return arguments.length?(s=typeof c=="function"?c:Ru(+c),u):s},u.padAngle=function(c){return arguments.length?(a=typeof c=="function"?c:Ru(+c),u):a},u.source=function(c){return arguments.length?(t=c,u):t},u.target=function(c){return arguments.length?(n=c,u):n},u.context=function(c){return arguments.length?(l=c??null,u):l},u}function Lwe(){return nj()}function zwe(){return nj(Dwe)}var Bwe=Array.prototype,rj=Bwe.slice;function jwe(e,t){return e-t}function Uwe(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}const ul=e=>()=>e;function qwe(e,t){for(var n=-1,r=t.length,i;++n<r;)if(i=Vwe(e,t[n]))return i;return 0}function Vwe(e,t){for(var n=t[0],r=t[1],i=-1,o=0,s=e.length,a=s-1;o<s;a=o++){var l=e[o],u=l[0],c=l[1],f=e[a],h=f[0],p=f[1];if(Hwe(l,f,t))return 0;c>r!=p>r&&n<(h-u)*(r-c)/(p-c)+u&&(i=-i)}return i}function Hwe(e,t,n){var r;return Wwe(e,t,n)&&Gwe(e[r=+(e[0]===t[0])],n[r],t[r])}function Wwe(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function Gwe(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function Ywe(){}var ia=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function aS(){var e=1,t=1,n=_8,r=l;function i(u){var c=n(u);if(Array.isArray(c))c=c.slice().sort(jwe);else{const f=Og(u,Xwe);for(c=Tc(...w8(f[0],f[1],c),c);c[c.length-1]>=f[1];)c.pop();for(;c[1]<f[0];)c.shift()}return c.map(f=>o(u,f))}function o(u,c){const f=c==null?NaN:+c;if(isNaN(f))throw new Error(`invalid value: ${c}`);var h=[],p=[];return s(u,f,function(g){r(g,u,f),Uwe(g)>0?h.push([g]):p.push(g)}),p.forEach(function(g){for(var m=0,y=h.length,v;m<y;++m)if(qwe((v=h[m])[0],g)!==-1){v.push(g);return}}),{type:"MultiPolygon",value:c,coordinates:h}}function s(u,c,f){var h=new Array,p=new Array,g,m,y,v,b,x;for(g=m=-1,v=Pu(u[0],c),ia[v<<1].forEach(w);++g<e-1;)y=v,v=Pu(u[g+1],c),ia[y|v<<1].forEach(w);for(ia[v<<0].forEach(w);++m<t-1;){for(g=-1,v=Pu(u[m*e+e],c),b=Pu(u[m*e],c),ia[v<<1|b<<2].forEach(w);++g<e-1;)y=v,v=Pu(u[m*e+e+g+1],c),x=b,b=Pu(u[m*e+g+1],c),ia[y|v<<1|b<<2|x<<3].forEach(w);ia[v|b<<3].forEach(w)}for(g=-1,b=u[m*e]>=c,ia[b<<2].forEach(w);++g<e-1;)x=b,b=Pu(u[m*e+g+1],c),ia[b<<2|x<<3].forEach(w);ia[b<<3].forEach(w);function w(_){var $=[_[0][0]+g,_[0][1]+m],S=[_[1][0]+g,_[1][1]+m],C=a($),T=a(S),M,E;(M=p[C])?(E=h[T])?(delete p[M.end],delete h[E.start],M===E?(M.ring.push(S),f(M.ring)):h[M.start]=p[E.end]={start:M.start,end:E.end,ring:M.ring.concat(E.ring)}):(delete p[M.end],M.ring.push(S),p[M.end=T]=M):(M=h[T])?(E=p[C])?(delete h[M.start],delete p[E.end],M===E?(M.ring.push(S),f(M.ring)):h[E.start]=p[M.end]={start:E.start,end:M.end,ring:E.ring.concat(M.ring)}):(delete h[M.start],M.ring.unshift($),h[M.start=C]=M):h[C]=p[T]={start:C,end:T,ring:[$,S]}}}function a(u){return u[0]*2+u[1]*(e+1)*4}function l(u,c,f){u.forEach(function(h){var p=h[0],g=h[1],m=p|0,y=g|0,v=V_(c[y*e+m]);p>0&&p<e&&m===p&&(h[0]=iO(p,V_(c[y*e+m-1]),v,f)),g>0&&g<t&&y===g&&(h[1]=iO(g,V_(c[(y-1)*e+m]),v,f))})}return i.contour=o,i.size=function(u){if(!arguments.length)return[e,t];var c=Math.floor(u[0]),f=Math.floor(u[1]);if(!(c>=0&&f>=0))throw new Error("invalid size");return e=c,t=f,i},i.thresholds=function(u){return arguments.length?(n=typeof u=="function"?u:Array.isArray(u)?ul(rj.call(u)):ul(u),i):n},i.smooth=function(u){return arguments.length?(r=u?l:Ywe,i):r===l},i}function Xwe(e){return isFinite(e)?e:NaN}function Pu(e,t){return e==null?!1:+e>=t}function V_(e){return e==null||isNaN(e=+e)?-1/0:e}function iO(e,t,n,r){const i=r-t,o=n-t,s=isFinite(i)||isFinite(o)?i/o:Math.sign(i)/Math.sign(o);return isNaN(s)?e:e+s-.5}function Kwe(e){return e[0]}function Jwe(e){return e[1]}function Qwe(){return 1}function Zwe(){var e=Kwe,t=Jwe,n=Qwe,r=960,i=500,o=20,s=2,a=o*3,l=r+a*2>>s,u=i+a*2>>s,c=ul(20);function f(b){var x=new Float32Array(l*u),w=Math.pow(2,-s),_=-1;for(const k of b){var $=(e(k,++_,b)+a)*w,S=(t(k,_,b)+a)*w,C=+n(k,_,b);if(C&&$>=0&&$<l&&S>=0&&S<u){var T=Math.floor($),M=Math.floor(S),E=$-T-.5,N=S-M-.5;x[T+M*l]+=(1-E)*(1-N)*C,x[T+1+M*l]+=E*(1-N)*C,x[T+1+(M+1)*l]+=E*N*C,x[T+(M+1)*l]+=(1-E)*N*C}}return Pz({data:x,width:l,height:u},o*w),x}function h(b){var x=f(b),w=c(x),_=Math.pow(2,2*s);return Array.isArray(w)||(w=Tc(Number.MIN_VALUE,Es(x)/_,w)),aS().size([l,u]).thresholds(w.map($=>$*_))(x).map(($,S)=>($.value=+w[S],p($)))}h.contours=function(b){var x=f(b),w=aS().size([l,u]),_=Math.pow(2,2*s),$=S=>{S=+S;var C=p(w.contour(x,S*_));return C.value=S,C};return Object.defineProperty($,"max",{get:()=>Es(x)/_}),$};function p(b){return b.coordinates.forEach(g),b}function g(b){b.forEach(m)}function m(b){b.forEach(y)}function y(b){b[0]=b[0]*Math.pow(2,s)-a,b[1]=b[1]*Math.pow(2,s)-a}function v(){return a=o*3,l=r+a*2>>s,u=i+a*2>>s,h}return h.x=function(b){return arguments.length?(e=typeof b=="function"?b:ul(+b),h):e},h.y=function(b){return arguments.length?(t=typeof b=="function"?b:ul(+b),h):t},h.weight=function(b){return arguments.length?(n=typeof b=="function"?b:ul(+b),h):n},h.size=function(b){if(!arguments.length)return[r,i];var x=+b[0],w=+b[1];if(!(x>=0&&w>=0))throw new Error("invalid size");return r=x,i=w,v()},h.cellSize=function(b){if(!arguments.length)return 1<<s;if(!((b=+b)>=1))throw new Error("invalid cell size");return s=Math.floor(Math.log(b)/Math.LN2),v()},h.thresholds=function(b){return arguments.length?(c=typeof b=="function"?b:Array.isArray(b)?ul(rj.call(b)):ul(b),h):c},h.bandwidth=function(b){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((b=+b)>=0))throw new Error("invalid bandwidth");return o=(Math.sqrt(4*b*b+1)-1)/2,v()},h}const Ea=11102230246251565e-32,Jn=134217729,e_e=(3+8*Ea)*Ea;function H_(e,t,n,r,i){let o,s,a,l,u=t[0],c=r[0],f=0,h=0;c>u==c>-u?(o=u,u=t[++f]):(o=c,c=r[++h]);let p=0;if(f<e&&h<n)for(c>u==c>-u?(s=u+o,a=o-(s-u),u=t[++f]):(s=c+o,a=o-(s-c),c=r[++h]),o=s,a!==0&&(i[p++]=a);f<e&&h<n;)c>u==c>-u?(s=o+u,l=s-o,a=o-(s-l)+(u-l),u=t[++f]):(s=o+c,l=s-o,a=o-(s-l)+(c-l),c=r[++h]),o=s,a!==0&&(i[p++]=a);for(;f<e;)s=o+u,l=s-o,a=o-(s-l)+(u-l),u=t[++f],o=s,a!==0&&(i[p++]=a);for(;h<n;)s=o+c,l=s-o,a=o-(s-l)+(c-l),c=r[++h],o=s,a!==0&&(i[p++]=a);return(o!==0||p===0)&&(i[p++]=o),p}function t_e(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function ym(e){return new Float64Array(e)}const n_e=(3+16*Ea)*Ea,r_e=(2+12*Ea)*Ea,i_e=(9+64*Ea)*Ea*Ea,qf=ym(4),oO=ym(8),sO=ym(12),aO=ym(16),vr=ym(4);function o_e(e,t,n,r,i,o,s){let a,l,u,c,f,h,p,g,m,y,v,b,x,w,_,$,S,C;const T=e-i,M=n-i,E=t-o,N=r-o;w=T*N,h=Jn*T,p=h-(h-T),g=T-p,h=Jn*N,m=h-(h-N),y=N-m,_=g*y-(w-p*m-g*m-p*y),$=E*M,h=Jn*E,p=h-(h-E),g=E-p,h=Jn*M,m=h-(h-M),y=M-m,S=g*y-($-p*m-g*m-p*y),v=_-S,f=_-v,qf[0]=_-(v+f)+(f-S),b=w+v,f=b-w,x=w-(b-f)+(v-f),v=x-$,f=x-v,qf[1]=x-(v+f)+(f-$),C=b+v,f=C-b,qf[2]=b-(C-f)+(v-f),qf[3]=C;let k=t_e(4,qf),A=r_e*s;if(k>=A||-k>=A||(f=e-T,a=e-(T+f)+(f-i),f=n-M,u=n-(M+f)+(f-i),f=t-E,l=t-(E+f)+(f-o),f=r-N,c=r-(N+f)+(f-o),a===0&&l===0&&u===0&&c===0)||(A=i_e*s+e_e*Math.abs(k),k+=T*c+N*a-(E*u+M*l),k>=A||-k>=A))return k;w=a*N,h=Jn*a,p=h-(h-a),g=a-p,h=Jn*N,m=h-(h-N),y=N-m,_=g*y-(w-p*m-g*m-p*y),$=l*M,h=Jn*l,p=h-(h-l),g=l-p,h=Jn*M,m=h-(h-M),y=M-m,S=g*y-($-p*m-g*m-p*y),v=_-S,f=_-v,vr[0]=_-(v+f)+(f-S),b=w+v,f=b-w,x=w-(b-f)+(v-f),v=x-$,f=x-v,vr[1]=x-(v+f)+(f-$),C=b+v,f=C-b,vr[2]=b-(C-f)+(v-f),vr[3]=C;const O=H_(4,qf,4,vr,oO);w=T*c,h=Jn*T,p=h-(h-T),g=T-p,h=Jn*c,m=h-(h-c),y=c-m,_=g*y-(w-p*m-g*m-p*y),$=E*u,h=Jn*E,p=h-(h-E),g=E-p,h=Jn*u,m=h-(h-u),y=u-m,S=g*y-($-p*m-g*m-p*y),v=_-S,f=_-v,vr[0]=_-(v+f)+(f-S),b=w+v,f=b-w,x=w-(b-f)+(v-f),v=x-$,f=x-v,vr[1]=x-(v+f)+(f-$),C=b+v,f=C-b,vr[2]=b-(C-f)+(v-f),vr[3]=C;const F=H_(O,oO,4,vr,sO);w=a*c,h=Jn*a,p=h-(h-a),g=a-p,h=Jn*c,m=h-(h-c),y=c-m,_=g*y-(w-p*m-g*m-p*y),$=l*u,h=Jn*l,p=h-(h-l),g=l-p,h=Jn*u,m=h-(h-u),y=u-m,S=g*y-($-p*m-g*m-p*y),v=_-S,f=_-v,vr[0]=_-(v+f)+(f-S),b=w+v,f=b-w,x=w-(b-f)+(v-f),v=x-$,f=x-v,vr[1]=x-(v+f)+(f-$),C=b+v,f=C-b,vr[2]=b-(C-f)+(v-f),vr[3]=C;const R=H_(F,sO,4,vr,aO);return aO[R-1]}function B1(e,t,n,r,i,o){const s=(t-o)*(n-i),a=(e-i)*(r-o),l=s-a,u=Math.abs(s+a);return Math.abs(l)>=n_e*u?l:-o_e(e,t,n,r,i,o,u)}const lO=Math.pow(2,-52),j1=new Uint32Array(512);class Pv{static from(t,n=c_e,r=f_e){const i=t.length,o=new Float64Array(i*2);for(let s=0;s<i;s++){const a=t[s];o[2*s]=n(a),o[2*s+1]=r(a)}return new Pv(o)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:o}=this,s=t.length>>1;let a=1/0,l=1/0,u=-1/0,c=-1/0;for(let M=0;M<s;M++){const E=t[2*M],N=t[2*M+1];E<a&&(a=E),N<l&&(l=N),E>u&&(u=E),N>c&&(c=N),this._ids[M]=M}const f=(a+u)/2,h=(l+c)/2;let p=1/0,g,m,y;for(let M=0;M<s;M++){const E=W_(f,h,t[2*M],t[2*M+1]);E<p&&(g=M,p=E)}const v=t[2*g],b=t[2*g+1];p=1/0;for(let M=0;M<s;M++){if(M===g)continue;const E=W_(v,b,t[2*M],t[2*M+1]);E<p&&E>0&&(m=M,p=E)}let x=t[2*m],w=t[2*m+1],_=1/0;for(let M=0;M<s;M++){if(M===g||M===m)continue;const E=l_e(v,b,x,w,t[2*M],t[2*M+1]);E<_&&(y=M,_=E)}let $=t[2*y],S=t[2*y+1];if(_===1/0){for(let N=0;N<s;N++)this._dists[N]=t[2*N]-t[0]||t[2*N+1]-t[1];ud(this._ids,this._dists,0,s-1);const M=new Uint32Array(s);let E=0;for(let N=0,k=-1/0;N<s;N++){const A=this._ids[N];this._dists[A]>k&&(M[E++]=A,k=this._dists[A])}this.hull=M.subarray(0,E),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(B1(v,b,x,w,$,S)<0){const M=m,E=x,N=w;m=y,x=$,w=S,y=M,$=E,S=N}const C=u_e(v,b,x,w,$,S);this._cx=C.x,this._cy=C.y;for(let M=0;M<s;M++)this._dists[M]=W_(t[2*M],t[2*M+1],C.x,C.y);ud(this._ids,this._dists,0,s-1),this._hullStart=g;let T=3;r[g]=n[y]=m,r[m]=n[g]=y,r[y]=n[m]=g,i[g]=0,i[m]=1,i[y]=2,o.fill(-1),o[this._hashKey(v,b)]=g,o[this._hashKey(x,w)]=m,o[this._hashKey($,S)]=y,this.trianglesLen=0,this._addTriangle(g,m,y,-1,-1,-1);for(let M=0,E,N;M<this._ids.length;M++){const k=this._ids[M],A=t[2*k],O=t[2*k+1];if(M>0&&Math.abs(A-E)<=lO&&Math.abs(O-N)<=lO||(E=A,N=O,k===g||k===m||k===y))continue;let F=0;for(let H=0,W=this._hashKey(A,O);H<this._hashSize&&(F=o[(W+H)%this._hashSize],!(F!==-1&&F!==r[F]));H++);F=n[F];let R=F,D;for(;D=r[R],B1(A,O,t[2*R],t[2*R+1],t[2*D],t[2*D+1])>=0;)if(R=D,R===F){R=-1;break}if(R===-1)continue;let z=this._addTriangle(R,k,r[R],-1,-1,i[R]);i[k]=this._legalize(z+2),i[R]=z,T++;let U=r[R];for(;D=r[U],B1(A,O,t[2*U],t[2*U+1],t[2*D],t[2*D+1])<0;)z=this._addTriangle(U,k,D,i[k],-1,i[U]),i[k]=this._legalize(z+2),r[U]=U,T--,U=D;if(R===F)for(;D=n[R],B1(A,O,t[2*D],t[2*D+1],t[2*R],t[2*R+1])<0;)z=this._addTriangle(D,k,R,-1,i[R],i[D]),this._legalize(z+2),i[D]=z,r[R]=R,T--,R=D;this._hullStart=n[k]=R,r[R]=n[U]=k,r[k]=U,o[this._hashKey(A,O)]=k,o[this._hashKey(t[2*R],t[2*R+1])]=R}this.hull=new Uint32Array(T);for(let M=0,E=this._hullStart;M<T;M++)this.hull[M]=E,E=r[E];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(s_e(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:i}=this;let o=0,s=0;for(;;){const a=r[t],l=t-t%3;if(s=l+(t+2)%3,a===-1){if(o===0)break;t=j1[--o];continue}const u=a-a%3,c=l+(t+1)%3,f=u+(a+2)%3,h=n[s],p=n[t],g=n[c],m=n[f];if(a_e(i[2*h],i[2*h+1],i[2*p],i[2*p+1],i[2*g],i[2*g+1],i[2*m],i[2*m+1])){n[t]=m,n[a]=h;const v=r[f];if(v===-1){let x=this._hullStart;do{if(this._hullTri[x]===f){this._hullTri[x]=t;break}x=this._hullPrev[x]}while(x!==this._hullStart)}this._link(t,v),this._link(a,r[s]),this._link(s,f);const b=u+(a+1)%3;o<j1.length&&(j1[o++]=b)}else{if(o===0)break;t=j1[--o]}}return s}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,i,o,s){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=n,this._triangles[a+2]=r,this._link(a,i),this._link(a+1,o),this._link(a+2,s),this.trianglesLen+=3,a}}function s_e(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function W_(e,t,n,r){const i=e-n,o=t-r;return i*i+o*o}function a_e(e,t,n,r,i,o,s,a){const l=e-s,u=t-a,c=n-s,f=r-a,h=i-s,p=o-a,g=l*l+u*u,m=c*c+f*f,y=h*h+p*p;return l*(f*y-m*p)-u*(c*y-m*h)+g*(c*p-f*h)<0}function l_e(e,t,n,r,i,o){const s=n-e,a=r-t,l=i-e,u=o-t,c=s*s+a*a,f=l*l+u*u,h=.5/(s*u-a*l),p=(u*c-a*f)*h,g=(s*f-l*c)*h;return p*p+g*g}function u_e(e,t,n,r,i,o){const s=n-e,a=r-t,l=i-e,u=o-t,c=s*s+a*a,f=l*l+u*u,h=.5/(s*u-a*l),p=e+(u*c-a*f)*h,g=t+(s*f-l*c)*h;return{x:p,y:g}}function ud(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const o=e[i],s=t[o];let a=i-1;for(;a>=n&&t[e[a]]>s;)e[a+1]=e[a--];e[a+1]=o}else{const i=n+r>>1;let o=n+1,s=r;xp(e,i,o),t[e[n]]>t[e[r]]&&xp(e,n,r),t[e[o]]>t[e[r]]&&xp(e,o,r),t[e[n]]>t[e[o]]&&xp(e,n,o);const a=e[o],l=t[a];for(;;){do o++;while(t[e[o]]<l);do s--;while(t[e[s]]>l);if(s<o)break;xp(e,o,s)}e[n+1]=e[s],e[s]=a,r-o+1>=s-n?(ud(e,t,o,r),ud(e,t,n,s-1)):(ud(e,t,n,s-1),ud(e,t,o,r))}}function xp(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function c_e(e){return e[0]}function f_e(e){return e[1]}const uO=1e-6;class cc{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;const i=t+r,o=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${o}`:(Math.abs(this._x1-i)>uO||Math.abs(this._y1-o)>uO)&&(this._+="L"+i+","+o),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=o}`)}rect(t,n,r,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class lS{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}let ij=class{constructor(t,[n,r,i,o]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((o=+o)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=n,this.ymax=o,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:i}=this;let o,s;const a=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let m=0,y=0,v=r.length,b,x;m<v;m+=3,y+=2){const w=r[m]*2,_=r[m+1]*2,$=r[m+2]*2,S=t[w],C=t[w+1],T=t[_],M=t[_+1],E=t[$],N=t[$+1],k=T-S,A=M-C,O=E-S,F=N-C,R=(k*F-A*O)*2;if(Math.abs(R)<1e-9){if(o===void 0){o=s=0;for(const z of n)o+=t[z*2],s+=t[z*2+1];o/=n.length,s/=n.length}const D=1e9*Math.sign((o-S)*F-(s-C)*O);b=(S+E)/2-D*F,x=(C+N)/2+D*O}else{const D=1/R,z=k*k+A*A,U=O*O+F*F;b=S+(F*z-A*U)*D,x=C+(k*U-O*z)*D}a[y]=b,a[y+1]=x}let l=n[n.length-1],u,c=l*4,f,h=t[2*l],p,g=t[2*l+1];i.fill(0);for(let m=0;m<n.length;++m)l=n[m],u=c,f=h,p=g,c=l*4,h=t[2*l],g=t[2*l+1],i[u+2]=i[c]=p-g,i[u+3]=i[c+1]=h-f}render(t){const n=t==null?t=new cc:void 0,{delaunay:{halfedges:r,inedges:i,hull:o},circumcenters:s,vectors:a}=this;if(o.length<=1)return null;for(let c=0,f=r.length;c<f;++c){const h=r[c];if(h<c)continue;const p=Math.floor(c/3)*2,g=Math.floor(h/3)*2,m=s[p],y=s[p+1],v=s[g],b=s[g+1];this._renderSegment(m,y,v,b,t)}let l,u=o[o.length-1];for(let c=0;c<o.length;++c){l=u,u=o[c];const f=Math.floor(i[u]/3)*2,h=s[f],p=s[f+1],g=l*4,m=this._project(h,p,a[g+2],a[g+3]);m&&this._renderSegment(h,p,m[0],m[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new cc:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new cc:void 0,i=this._clip(t);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let o=i.length;for(;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(let s=2;s<o;s+=2)(i[s]!==i[s-2]||i[s+1]!==i[s-1])&&n.lineTo(i[s],i[s+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(t){const n=new lS;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,i,o){let s;const a=this._regioncode(t,n),l=this._regioncode(r,i);a===0&&l===0?(o.moveTo(t,n),o.lineTo(r,i)):(s=this._clipSegment(t,n,r,i,a,l))&&(o.moveTo(s[0],s[1]),o.lineTo(s[2],s[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const i=this._clip(r);if(i){e:for(let o=0,s=n.length;o<s;o+=2)for(let a=0,l=i.length;a<l;a+=2)if(n[o]===i[a]&&n[o+1]===i[a+1]&&n[(o+2)%s]===i[(a+l-2)%l]&&n[(o+3)%s]===i[(a+l-1)%l]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:o}}=this,s=r[t];if(s===-1)return null;const a=[];let l=s;do{const u=Math.floor(l/3);if(a.push(n[u*2],n[u*2+1]),l=l%3===2?l-2:l+1,o[l]!==t)break;l=i[l]}while(l!==s&&l!==-1);return a}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,i=t*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(t,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(t,n))}_clipFinite(t,n){const r=n.length;let i=null,o,s,a=n[r-2],l=n[r-1],u,c=this._regioncode(a,l),f,h=0;for(let p=0;p<r;p+=2)if(o=a,s=l,a=n[p],l=n[p+1],u=c,c=this._regioncode(a,l),u===0&&c===0)f=h,h=0,i?i.push(a,l):i=[a,l];else{let g,m,y,v,b;if(u===0){if((g=this._clipSegment(o,s,a,l,u,c))===null)continue;[m,y,v,b]=g}else{if((g=this._clipSegment(a,l,o,s,c,u))===null)continue;[v,b,m,y]=g,f=h,h=this._edgecode(m,y),f&&h&&this._edge(t,f,h,i,i.length),i?i.push(m,y):i=[m,y]}f=h,h=this._edgecode(v,b),f&&h&&this._edge(t,f,h,i,i.length),i?i.push(v,b):i=[v,b]}if(i)f=h,h=this._edgecode(i[0],i[1]),f&&h&&this._edge(t,f,h,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,n,r,i,o,s){const a=o<s;for(a&&([t,n,r,i,o,s]=[r,i,t,n,s,o]);;){if(o===0&&s===0)return a?[r,i,t,n]:[t,n,r,i];if(o&s)return null;let l,u,c=o||s;c&8?(l=t+(r-t)*(this.ymax-n)/(i-n),u=this.ymax):c&4?(l=t+(r-t)*(this.ymin-n)/(i-n),u=this.ymin):c&2?(u=n+(i-n)*(this.xmax-t)/(r-t),l=this.xmax):(u=n+(i-n)*(this.xmin-t)/(r-t),l=this.xmin),o?(t=l,n=u,o=this._regioncode(t,n)):(r=l,i=u,s=this._regioncode(r,i))}}_clipInfinite(t,n,r,i,o,s){let a=Array.from(n),l;if((l=this._project(a[0],a[1],r,i))&&a.unshift(l[0],l[1]),(l=this._project(a[a.length-2],a[a.length-1],o,s))&&a.push(l[0],l[1]),a=this._clipFinite(t,a))for(let u=0,c=a.length,f,h=this._edgecode(a[c-2],a[c-1]);u<c;u+=2)f=h,h=this._edgecode(a[u],a[u+1]),f&&h&&(u=this._edge(t,f,h,a,u),c=a.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(t,n,r,i,o){for(;n!==r;){let s,a;switch(n){case 5:n=4;continue;case 4:n=6,s=this.xmax,a=this.ymin;break;case 6:n=2;continue;case 2:n=10,s=this.xmax,a=this.ymax;break;case 10:n=8;continue;case 8:n=9,s=this.xmin,a=this.ymax;break;case 9:n=1;continue;case 1:n=5,s=this.xmin,a=this.ymin;break}(i[o]!==s||i[o+1]!==a)&&this.contains(t,s,a)&&(i.splice(o,0,s,a),o+=2)}return o}_project(t,n,r,i){let o=1/0,s,a,l;if(i<0){if(n<=this.ymin)return null;(s=(this.ymin-n)/i)<o&&(l=this.ymin,a=t+(o=s)*r)}else if(i>0){if(n>=this.ymax)return null;(s=(this.ymax-n)/i)<o&&(l=this.ymax,a=t+(o=s)*r)}if(r>0){if(t>=this.xmax)return null;(s=(this.xmax-t)/r)<o&&(a=this.xmax,l=n+(o=s)*i)}else if(r<0){if(t<=this.xmin)return null;(s=(this.xmin-t)/r)<o&&(a=this.xmin,l=n+(o=s)*i)}return[a,l]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let n=0;n<t.length;n+=2){const r=(n+2)%t.length,i=(n+4)%t.length;(t[n]===t[r]&&t[r]===t[i]||t[n+1]===t[r+1]&&t[r+1]===t[i+1])&&(t.splice(r,2),n-=2)}t.length||(t=null)}return t}};const d_e=2*Math.PI,Vf=Math.pow;function h_e(e){return e[0]}function p_e(e){return e[1]}function g_e(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const i=2*t[r],o=2*t[r+1],s=2*t[r+2];if((n[s]-n[i])*(n[o+1]-n[i+1])-(n[o]-n[i])*(n[s+1]-n[i+1])>1e-10)return!1}return!0}function m_e(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class Y2{static from(t,n=h_e,r=p_e,i){return new Y2("length"in t?y_e(t,n,r,i):Float64Array.from(v_e(t,n,r,i)))}constructor(t){this._delaunator=new Pv(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&g_e(t)){this.collinear=Int32Array.from({length:n.length/2},(h,p)=>p).sort((h,p)=>n[2*h]-n[2*p]||n[2*h+1]-n[2*p+1]);const l=this.collinear[0],u=this.collinear[this.collinear.length-1],c=[n[2*l],n[2*l+1],n[2*u],n[2*u+1]],f=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let h=0,p=n.length/2;h<p;++h){const g=m_e(n[2*h],n[2*h+1],f);n[2*h]=g[0],n[2*h+1]=g[1]}this._delaunator=new Pv(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let l=0,u=r.length;l<u;++l){const c=o[l%3===2?l-2:l+1];(r[l]===-1||s[c]===-1)&&(s[c]=l)}for(let l=0,u=i.length;l<u;++l)a[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],s[i[0]]=1,i.length===2&&(s[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(t){return new ij(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:i,halfedges:o,triangles:s,collinear:a}=this;if(a){const f=a.indexOf(t);f>0&&(yield a[f-1]),f<a.length-1&&(yield a[f+1]);return}const l=n[t];if(l===-1)return;let u=l,c=-1;do{if(yield c=s[u],u=u%3===2?u-2:u+1,s[u]!==t)return;if(u=o[u],u===-1){const f=r[(i[t]+1)%r.length];f!==c&&(yield f);return}}while(u!==l)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const i=r;let o;for(;(o=this._step(r,t,n))>=0&&o!==r&&o!==i;)r=o;return o}_step(t,n,r){const{inedges:i,hull:o,_hullIndex:s,halfedges:a,triangles:l,points:u}=this;if(i[t]===-1||!u.length)return(t+1)%(u.length>>1);let c=t,f=Vf(n-u[t*2],2)+Vf(r-u[t*2+1],2);const h=i[t];let p=h;do{let g=l[p];const m=Vf(n-u[g*2],2)+Vf(r-u[g*2+1],2);if(m<f&&(f=m,c=g),p=p%3===2?p-2:p+1,l[p]!==t)break;if(p=a[p],p===-1){if(p=o[(s[t]+1)%o.length],p!==g&&Vf(n-u[p*2],2)+Vf(r-u[p*2+1],2)<f)return p;break}}while(p!==h);return c}render(t){const n=t==null?t=new cc:void 0,{points:r,halfedges:i,triangles:o}=this;for(let s=0,a=i.length;s<a;++s){const l=i[s];if(l<s)continue;const u=o[s]*2,c=o[l]*2;t.moveTo(r[u],r[u+1]),t.lineTo(r[c],r[c+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n===void 0&&(!t||typeof t.moveTo!="function")&&(n=t,t=null),n=n==null?2:+n;const r=t==null?t=new cc:void 0,{points:i}=this;for(let o=0,s=i.length;o<s;o+=2){const a=i[o],l=i[o+1];t.moveTo(a+n,l),t.arc(a,l,n,0,d_e)}return r&&r.value()}renderHull(t){const n=t==null?t=new cc:void 0,{hull:r,points:i}=this,o=r[0]*2,s=r.length;t.moveTo(i[o],i[o+1]);for(let a=1;a<s;++a){const l=2*r[a];t.lineTo(i[l],i[l+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new lS;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new cc:void 0,{points:i,triangles:o}=this,s=o[t*=3]*2,a=o[t+1]*2,l=o[t+2]*2;return n.moveTo(i[s],i[s+1]),n.lineTo(i[a],i[a+1]),n.lineTo(i[l],i[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new lS;return this.renderTriangle(t,n),n.value()}}function y_e(e,t,n,r){const i=e.length,o=new Float64Array(i*2);for(let s=0;s<i;++s){const a=e[s];o[s*2]=t.call(r,a,s,e),o[s*2+1]=n.call(r,a,s,e)}return o}function*v_e(e,t,n,r){let i=0;for(const o of e)yield t.call(r,o,i,e),yield n.call(r,o,i,e),++i}var cO={},G_={},Y_=34,wp=10,X_=13;function oj(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function b_e(e,t){var n=oj(e);return function(r,i){return t(n(r),i,e)}}function fO(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function Lr(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function x_e(e){return e<0?"-"+Lr(-e,6):e>9999?"+"+Lr(e,6):Lr(e,4)}function w_e(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":x_e(e.getUTCFullYear())+"-"+Lr(e.getUTCMonth()+1,2)+"-"+Lr(e.getUTCDate(),2)+(i?"T"+Lr(t,2)+":"+Lr(n,2)+":"+Lr(r,2)+"."+Lr(i,3)+"Z":r?"T"+Lr(t,2)+":"+Lr(n,2)+":"+Lr(r,2)+"Z":n||t?"T"+Lr(t,2)+":"+Lr(n,2)+"Z":"")}function vm(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,h){var p,g,m=i(f,function(y,v){if(p)return p(y,v-1);g=y,p=h?b_e(y,h):oj(y)});return m.columns=g||[],m}function i(f,h){var p=[],g=f.length,m=0,y=0,v,b=g<=0,x=!1;f.charCodeAt(g-1)===wp&&--g,f.charCodeAt(g-1)===X_&&--g;function w(){if(b)return G_;if(x)return x=!1,cO;var $,S=m,C;if(f.charCodeAt(S)===Y_){for(;m++<g&&f.charCodeAt(m)!==Y_||f.charCodeAt(++m)===Y_;);return($=m)>=g?b=!0:(C=f.charCodeAt(m++))===wp?x=!0:C===X_&&(x=!0,f.charCodeAt(m)===wp&&++m),f.slice(S+1,$-1).replace(/""/g,'"')}for(;m<g;){if((C=f.charCodeAt($=m++))===wp)x=!0;else if(C===X_)x=!0,f.charCodeAt(m)===wp&&++m;else if(C!==n)continue;return f.slice(S,$)}return b=!0,f.slice(S,g)}for(;(v=w())!==G_;){for(var _=[];v!==cO&&v!==G_;)_.push(v),v=w();h&&(_=h(_,y++))==null||p.push(_)}return p}function o(f,h){return f.map(function(p){return h.map(function(g){return c(p[g])}).join(e)})}function s(f,h){return h==null&&(h=fO(f)),[h.map(c).join(e)].concat(o(f,h)).join(`
`)}function a(f,h){return h==null&&(h=fO(f)),o(f,h).join(`
`)}function l(f){return f.map(u).join(`
`)}function u(f){return f.map(c).join(e)}function c(f){return f==null?"":f instanceof Date?w_e(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:s,formatBody:a,formatRows:l,formatRow:u,formatValue:c}}var hf=vm(","),sj=hf.parse,__e=hf.parseRows,E_e=hf.format,S_e=hf.formatBody,$_e=hf.formatRows,C_e=hf.formatRow,A_e=hf.formatValue,pf=vm("	"),aj=pf.parse,k_e=pf.parseRows,M_e=pf.format,T_e=pf.formatBody,O_e=pf.formatRows,F_e=pf.formatRow,N_e=pf.formatValue;function R_e(e){for(var t in e){var n=e[t].trim(),r,i;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(r=+n))n=r;else if(i=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))P_e&&i[4]&&!i[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;e[t]=n}return e}const P_e=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function I_e(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.blob()}function D_e(e,t){return fetch(e,t).then(I_e)}function L_e(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.arrayBuffer()}function z_e(e,t){return fetch(e,t).then(L_e)}function B_e(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function X2(e,t){return fetch(e,t).then(B_e)}function lj(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),X2(t,n).then(function(i){return e(i,r)})}}function j_e(e,t,n,r){arguments.length===3&&typeof n=="function"&&(r=n,n=void 0);var i=vm(e);return X2(t,n).then(function(o){return i.parse(o,r)})}var U_e=lj(sj),q_e=lj(aj);function V_e(e,t){return new Promise(function(n,r){var i=new Image;for(var o in t)i[o]=t[o];i.onerror=r,i.onload=function(){n(i)},i.src=e})}function H_e(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(!(e.status===204||e.status===205))return e.json()}function W_e(e,t){return fetch(e,t).then(H_e)}function Z8(e){return(t,n)=>X2(t,n).then(r=>new DOMParser().parseFromString(r,e))}const G_e=Z8("application/xml");var Y_e=Z8("text/html"),X_e=Z8("image/svg+xml");function uj(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function i(){var o,s=n.length,a,l=0,u=0;for(o=0;o<s;++o)a=n[o],l+=a.x,u+=a.y;for(l=(l/s-e)*r,u=(u/s-t)*r,o=0;o<s;++o)a=n[o],a.x-=l,a.y-=u}return i.initialize=function(o){n=o},i.x=function(o){return arguments.length?(e=+o,i):e},i.y=function(o){return arguments.length?(t=+o,i):t},i.strength=function(o){return arguments.length?(r=+o,i):r},i}function K_e(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return cj(this.cover(t,n),t,n,e)}function cj(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o=e._root,s={data:r},a=e._x0,l=e._y0,u=e._x1,c=e._y1,f,h,p,g,m,y,v,b;if(!o)return e._root=s,e;for(;o.length;)if((m=t>=(f=(a+u)/2))?a=f:u=f,(y=n>=(h=(l+c)/2))?l=h:c=h,i=o,!(o=o[v=y<<1|m]))return i[v]=s,e;if(p=+e._x.call(null,o.data),g=+e._y.call(null,o.data),t===p&&n===g)return s.next=o,i?i[v]=s:e._root=s,e;do i=i?i[v]=new Array(4):e._root=new Array(4),(m=t>=(f=(a+u)/2))?a=f:u=f,(y=n>=(h=(l+c)/2))?l=h:c=h;while((v=y<<1|m)===(b=(g>=h)<<1|p>=f));return i[b]=o,i[v]=s,e}function J_e(e){var t,n,r=e.length,i,o,s=new Array(r),a=new Array(r),l=1/0,u=1/0,c=-1/0,f=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(s[n]=i,a[n]=o,i<l&&(l=i),i>c&&(c=i),o<u&&(u=o),o>f&&(f=o));if(l>c||u>f)return this;for(this.cover(l,u).cover(c,f),n=0;n<r;++n)cj(this,s[n],a[n],e[n]);return this}function Q_e(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var s=i-n||1,a=this._root,l,u;n>e||e>=i||r>t||t>=o;)switch(u=(t<r)<<1|e<n,l=new Array(4),l[u]=a,a=l,s*=2,u){case 0:i=n+s,o=r+s;break;case 1:n=i-s,o=r+s;break;case 2:i=n+s,r=o-s;break;case 3:n=i-s,r=o-s;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function Z_e(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function e3e(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Cr(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function t3e(e,t,n){var r,i=this._x0,o=this._y0,s,a,l,u,c=this._x1,f=this._y1,h=[],p=this._root,g,m;for(p&&h.push(new Cr(p,i,o,c,f)),n==null?n=1/0:(i=e-n,o=t-n,c=e+n,f=t+n,n*=n);g=h.pop();)if(!(!(p=g.node)||(s=g.x0)>c||(a=g.y0)>f||(l=g.x1)<i||(u=g.y1)<o))if(p.length){var y=(s+l)/2,v=(a+u)/2;h.push(new Cr(p[3],y,v,l,u),new Cr(p[2],s,v,y,u),new Cr(p[1],y,a,l,v),new Cr(p[0],s,a,y,v)),(m=(t>=v)<<1|e>=y)&&(g=h[h.length-1],h[h.length-1]=h[h.length-1-m],h[h.length-1-m]=g)}else{var b=e-+this._x.call(null,p.data),x=t-+this._y.call(null,p.data),w=b*b+x*x;if(w<n){var _=Math.sqrt(n=w);i=e-_,o=t-_,c=e+_,f=t+_,r=p.data}}return r}function n3e(e){if(isNaN(c=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var t,n=this._root,r,i,o,s=this._x0,a=this._y0,l=this._x1,u=this._y1,c,f,h,p,g,m,y,v;if(!n)return this;if(n.length)for(;;){if((g=c>=(h=(s+l)/2))?s=h:l=h,(m=f>=(p=(a+u)/2))?a=p:u=p,t=n,!(n=n[y=m<<1|g]))return this;if(!n.length)break;(t[y+1&3]||t[y+2&3]||t[y+3&3])&&(r=t,v=y)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):t?(o?t[y]=o:delete t[y],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[v]=n:this._root=n),this):(this._root=o,this)}function r3e(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function i3e(){return this._root}function o3e(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function s3e(e){var t=[],n,r=this._root,i,o,s,a,l;for(r&&t.push(new Cr(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,o=n.x0,s=n.y0,a=n.x1,l=n.y1)&&r.length){var u=(o+a)/2,c=(s+l)/2;(i=r[3])&&t.push(new Cr(i,u,c,a,l)),(i=r[2])&&t.push(new Cr(i,o,c,u,l)),(i=r[1])&&t.push(new Cr(i,u,s,a,c)),(i=r[0])&&t.push(new Cr(i,o,s,u,c))}return this}function a3e(e){var t=[],n=[],r;for(this._root&&t.push(new Cr(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var o,s=r.x0,a=r.y0,l=r.x1,u=r.y1,c=(s+l)/2,f=(a+u)/2;(o=i[0])&&t.push(new Cr(o,s,a,c,f)),(o=i[1])&&t.push(new Cr(o,c,a,l,f)),(o=i[2])&&t.push(new Cr(o,s,f,c,u)),(o=i[3])&&t.push(new Cr(o,c,f,l,u))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function l3e(e){return e[0]}function u3e(e){return arguments.length?(this._x=e,this):this._x}function c3e(e){return e[1]}function f3e(e){return arguments.length?(this._y=e,this):this._y}function K2(e,t,n){var r=new e5(t??l3e,n??c3e,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function e5(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function dO(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Pr=K2.prototype=e5.prototype;Pr.copy=function(){var e=new e5(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=dO(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=dO(r));return e};Pr.add=K_e;Pr.addAll=J_e;Pr.cover=Q_e;Pr.data=Z_e;Pr.extent=e3e;Pr.find=t3e;Pr.remove=n3e;Pr.removeAll=r3e;Pr.root=i3e;Pr.size=o3e;Pr.visit=s3e;Pr.visitAfter=a3e;Pr.x=u3e;Pr.y=f3e;function yn(e){return function(){return e}}function El(e){return(e()-.5)*1e-6}function d3e(e){return e.x+e.vx}function h3e(e){return e.y+e.vy}function fj(e){var t,n,r,i=1,o=1;typeof e!="function"&&(e=yn(e==null?1:+e));function s(){for(var u,c=t.length,f,h,p,g,m,y,v=0;v<o;++v)for(f=K2(t,d3e,h3e).visitAfter(a),u=0;u<c;++u)h=t[u],m=n[h.index],y=m*m,p=h.x+h.vx,g=h.y+h.vy,f.visit(b);function b(x,w,_,$,S){var C=x.data,T=x.r,M=m+T;if(C){if(C.index>h.index){var E=p-C.x-C.vx,N=g-C.y-C.vy,k=E*E+N*N;k<M*M&&(E===0&&(E=El(r),k+=E*E),N===0&&(N=El(r),k+=N*N),k=(M-(k=Math.sqrt(k)))/k*i,h.vx+=(E*=k)*(M=(T*=T)/(y+T)),h.vy+=(N*=k)*M,C.vx-=E*(M=1-M),C.vy-=N*M)}return}return w>p+M||$<p-M||_>g+M||S<g-M}}function a(u){if(u.data)return u.r=n[u.data.index];for(var c=u.r=0;c<4;++c)u[c]&&u[c].r>u.r&&(u.r=u[c].r)}function l(){if(t){var u,c=t.length,f;for(n=new Array(c),u=0;u<c;++u)f=t[u],n[f.index]=+e(f,u,t)}}return s.initialize=function(u,c){t=u,r=c,l()},s.iterations=function(u){return arguments.length?(o=+u,s):o},s.strength=function(u){return arguments.length?(i=+u,s):i},s.radius=function(u){return arguments.length?(e=typeof u=="function"?u:yn(+u),l(),s):e},s}function p3e(e){return e.index}function hO(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function dj(e){var t=p3e,n=f,r,i=yn(30),o,s,a,l,u,c=1;e==null&&(e=[]);function f(y){return 1/Math.min(a[y.source.index],a[y.target.index])}function h(y){for(var v=0,b=e.length;v<c;++v)for(var x=0,w,_,$,S,C,T,M;x<b;++x)w=e[x],_=w.source,$=w.target,S=$.x+$.vx-_.x-_.vx||El(u),C=$.y+$.vy-_.y-_.vy||El(u),T=Math.sqrt(S*S+C*C),T=(T-o[x])/T*y*r[x],S*=T,C*=T,$.vx-=S*(M=l[x]),$.vy-=C*M,_.vx+=S*(M=1-M),_.vy+=C*M}function p(){if(s){var y,v=s.length,b=e.length,x=new Map(s.map((_,$)=>[t(_,$,s),_])),w;for(y=0,a=new Array(v);y<b;++y)w=e[y],w.index=y,typeof w.source!="object"&&(w.source=hO(x,w.source)),typeof w.target!="object"&&(w.target=hO(x,w.target)),a[w.source.index]=(a[w.source.index]||0)+1,a[w.target.index]=(a[w.target.index]||0)+1;for(y=0,l=new Array(b);y<b;++y)w=e[y],l[y]=a[w.source.index]/(a[w.source.index]+a[w.target.index]);r=new Array(b),g(),o=new Array(b),m()}}function g(){if(s)for(var y=0,v=e.length;y<v;++y)r[y]=+n(e[y],y,e)}function m(){if(s)for(var y=0,v=e.length;y<v;++y)o[y]=+i(e[y],y,e)}return h.initialize=function(y,v){s=y,u=v,p()},h.links=function(y){return arguments.length?(e=y,p(),h):e},h.id=function(y){return arguments.length?(t=y,h):t},h.iterations=function(y){return arguments.length?(c=+y,h):c},h.strength=function(y){return arguments.length?(n=typeof y=="function"?y:yn(+y),g(),h):n},h.distance=function(y){return arguments.length?(i=typeof y=="function"?y:yn(+y),m(),h):i},h}const g3e=1664525,m3e=1013904223,pO=4294967296;function y3e(){let e=1;return()=>(e=(g3e*e+m3e)%pO)/pO}function v3e(e){return e.x}function b3e(e){return e.y}var x3e=10,w3e=Math.PI*(3-Math.sqrt(5));function hj(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,s=.6,a=new Map,l=W2(f),u=ff("tick","end"),c=y3e();e==null&&(e=[]);function f(){h(),u.call("tick",t),n<r&&(l.stop(),u.call("end",t))}function h(m){var y,v=e.length,b;m===void 0&&(m=1);for(var x=0;x<m;++x)for(n+=(o-n)*i,a.forEach(function(w){w(n)}),y=0;y<v;++y)b=e[y],b.fx==null?b.x+=b.vx*=s:(b.x=b.fx,b.vx=0),b.fy==null?b.y+=b.vy*=s:(b.y=b.fy,b.vy=0);return t}function p(){for(var m=0,y=e.length,v;m<y;++m){if(v=e[m],v.index=m,v.fx!=null&&(v.x=v.fx),v.fy!=null&&(v.y=v.fy),isNaN(v.x)||isNaN(v.y)){var b=x3e*Math.sqrt(.5+m),x=m*w3e;v.x=b*Math.cos(x),v.y=b*Math.sin(x)}(isNaN(v.vx)||isNaN(v.vy))&&(v.vx=v.vy=0)}}function g(m){return m.initialize&&m.initialize(e,c),m}return p(),t={tick:h,restart:function(){return l.restart(f),t},stop:function(){return l.stop(),t},nodes:function(m){return arguments.length?(e=m,p(),a.forEach(g),t):e},alpha:function(m){return arguments.length?(n=+m,t):n},alphaMin:function(m){return arguments.length?(r=+m,t):r},alphaDecay:function(m){return arguments.length?(i=+m,t):+i},alphaTarget:function(m){return arguments.length?(o=+m,t):o},velocityDecay:function(m){return arguments.length?(s=1-m,t):1-s},randomSource:function(m){return arguments.length?(c=m,a.forEach(g),t):c},force:function(m,y){return arguments.length>1?(y==null?a.delete(m):a.set(m,g(y)),t):a.get(m)},find:function(m,y,v){var b=0,x=e.length,w,_,$,S,C;for(v==null?v=1/0:v*=v,b=0;b<x;++b)S=e[b],w=m-S.x,_=y-S.y,$=w*w+_*_,$<v&&(C=S,v=$);return C},on:function(m,y){return arguments.length>1?(u.on(m,y),t):u.on(m)}}}function pj(){var e,t,n,r,i=yn(-30),o,s=1,a=1/0,l=.81;function u(p){var g,m=e.length,y=K2(e,v3e,b3e).visitAfter(f);for(r=p,g=0;g<m;++g)t=e[g],y.visit(h)}function c(){if(e){var p,g=e.length,m;for(o=new Array(g),p=0;p<g;++p)m=e[p],o[m.index]=+i(m,p,e)}}function f(p){var g=0,m,y,v=0,b,x,w;if(p.length){for(b=x=w=0;w<4;++w)(m=p[w])&&(y=Math.abs(m.value))&&(g+=m.value,v+=y,b+=y*m.x,x+=y*m.y);p.x=b/v,p.y=x/v}else{m=p,m.x=m.data.x,m.y=m.data.y;do g+=o[m.data.index];while(m=m.next)}p.value=g}function h(p,g,m,y){if(!p.value)return!0;var v=p.x-t.x,b=p.y-t.y,x=y-g,w=v*v+b*b;if(x*x/l<w)return w<a&&(v===0&&(v=El(n),w+=v*v),b===0&&(b=El(n),w+=b*b),w<s&&(w=Math.sqrt(s*w)),t.vx+=v*p.value*r/w,t.vy+=b*p.value*r/w),!0;if(p.length||w>=a)return;(p.data!==t||p.next)&&(v===0&&(v=El(n),w+=v*v),b===0&&(b=El(n),w+=b*b),w<s&&(w=Math.sqrt(s*w)));do p.data!==t&&(x=o[p.data.index]*r/w,t.vx+=v*x,t.vy+=b*x);while(p=p.next)}return u.initialize=function(p,g){e=p,n=g,c()},u.strength=function(p){return arguments.length?(i=typeof p=="function"?p:yn(+p),c(),u):i},u.distanceMin=function(p){return arguments.length?(s=p*p,u):Math.sqrt(s)},u.distanceMax=function(p){return arguments.length?(a=p*p,u):Math.sqrt(a)},u.theta=function(p){return arguments.length?(l=p*p,u):Math.sqrt(l)},u}function _3e(e,t,n){var r,i=yn(.1),o,s;typeof e!="function"&&(e=yn(+e)),t==null&&(t=0),n==null&&(n=0);function a(u){for(var c=0,f=r.length;c<f;++c){var h=r[c],p=h.x-t||1e-6,g=h.y-n||1e-6,m=Math.sqrt(p*p+g*g),y=(s[c]-m)*o[c]*u/m;h.vx+=p*y,h.vy+=g*y}}function l(){if(r){var u,c=r.length;for(o=new Array(c),s=new Array(c),u=0;u<c;++u)s[u]=+e(r[u],u,r),o[u]=isNaN(s[u])?0:+i(r[u],u,r)}}return a.initialize=function(u){r=u,l()},a.strength=function(u){return arguments.length?(i=typeof u=="function"?u:yn(+u),l(),a):i},a.radius=function(u){return arguments.length?(e=typeof u=="function"?u:yn(+u),l(),a):e},a.x=function(u){return arguments.length?(t=+u,a):t},a.y=function(u){return arguments.length?(n=+u,a):n},a}function gj(e){var t=yn(.1),n,r,i;typeof e!="function"&&(e=yn(e==null?0:+e));function o(a){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vx+=(i[l]-c.x)*r[l]*a}function s(){if(n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return o.initialize=function(a){n=a,s()},o.strength=function(a){return arguments.length?(t=typeof a=="function"?a:yn(+a),s(),o):t},o.x=function(a){return arguments.length?(e=typeof a=="function"?a:yn(+a),s(),o):e},o}function mj(e){var t=yn(.1),n,r,i;typeof e!="function"&&(e=yn(e==null?0:+e));function o(a){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vy+=(i[l]-c.y)*r[l]*a}function s(){if(n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return o.initialize=function(a){n=a,s()},o.strength=function(a){return arguments.length?(t=typeof a=="function"?a:yn(+a),s(),o):t},o.y=function(a){return arguments.length?(e=typeof a=="function"?a:yn(+a),s(),o):e},o}function E3e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Iv(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Xd(e){return e=Iv(Math.abs(e)),e?e[1]:NaN}function S3e(e,t){return function(n,r){for(var i=n.length,o=[],s=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function $3e(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var C3e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Yl(e){if(!(t=C3e.exec(e)))throw new Error("invalid format: "+e);var t;return new J2({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Yl.prototype=J2.prototype;function J2(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}J2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function A3e(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var yj;function k3e(e,t){var n=Iv(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(yj=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Iv(e,Math.max(0,t+o-1))[0]}function gO(e,t){var n=Iv(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const mO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:E3e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>gO(e*100,t),r:gO,s:k3e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function yO(e){return e}var vO=Array.prototype.map,bO=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function t5(e){var t=e.grouping===void 0||e.thousands===void 0?yO:S3e(vO.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?yO:$3e(vO.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Yl(f);var h=f.fill,p=f.align,g=f.sign,m=f.symbol,y=f.zero,v=f.width,b=f.comma,x=f.precision,w=f.trim,_=f.type;_==="n"?(b=!0,_="g"):mO[_]||(x===void 0&&(x=12),w=!0,_="g"),(y||h==="0"&&p==="=")&&(y=!0,h="0",p="=");var $=m==="$"?n:m==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",S=m==="$"?r:/[%p]/.test(_)?s:"",C=mO[_],T=/[defgprs%]/.test(_);x=x===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function M(E){var N=$,k=S,A,O,F;if(_==="c")k=C(E)+k,E="";else{E=+E;var R=E<0||1/E<0;if(E=isNaN(E)?l:C(Math.abs(E),x),w&&(E=A3e(E)),R&&+E==0&&g!=="+"&&(R=!1),N=(R?g==="("?g:a:g==="-"||g==="("?"":g)+N,k=(_==="s"?bO[8+yj/3]:"")+k+(R&&g==="("?")":""),T){for(A=-1,O=E.length;++A<O;)if(F=E.charCodeAt(A),48>F||F>57){k=(F===46?i+E.slice(A+1):E.slice(A))+k,E=E.slice(0,A);break}}}b&&!y&&(E=t(E,1/0));var D=N.length+E.length+k.length,z=D<v?new Array(v-D+1).join(h):"";switch(b&&y&&(E=t(z+E,z.length?v-k.length:1/0),z=""),p){case"<":E=N+E+k+z;break;case"=":E=N+z+E+k;break;case"^":E=z.slice(0,D=z.length>>1)+N+E+k+z.slice(D);break;default:E=z+N+E+k;break}return o(E)}return M.toString=function(){return f+""},M}function c(f,h){var p=u((f=Yl(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Xd(h)/3)))*3,m=Math.pow(10,-g),y=bO[8+g/3];return function(v){return p(m*v)+y}}return{format:u,formatPrefix:c}}var U1,bm,Q2;vj({thousands:",",grouping:[3],currency:["$",""]});function vj(e){return U1=t5(e),bm=U1.format,Q2=U1.formatPrefix,U1}function n5(e){return Math.max(0,-Xd(Math.abs(e)))}function r5(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Xd(t)/3)))*3-Xd(Math.abs(e)))}function i5(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Xd(t)-Xd(e))+1}var Be=1e-6,E0=1e-12,nt=Math.PI,en=nt/2,Dv=nt/4,Or=nt*2,Mt=180/nt,je=nt/180,it=Math.abs,qh=Math.atan,Fr=Math.atan2,Fe=Math.cos,q1=Math.ceil,bj=Math.exp,uS=Math.hypot,Lv=Math.log,K_=Math.pow,ke=Math.sin,Ii=Math.sign||function(e){return e>0?1:e<0?-1:0},Rn=Math.sqrt,o5=Math.tan;function xj(e){return e>1?0:e<-1?nt:Math.acos(e)}function Nr(e){return e>1?en:e<-1?-en:Math.asin(e)}function xO(e){return(e=ke(e/2))*e}function Xt(){}function zv(e,t){e&&_O.hasOwnProperty(e.type)&&_O[e.type](e,t)}var wO={Feature:function(e,t){zv(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)zv(n[r].geometry,t)}},_O={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){cS(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)cS(n[r],t,0)},Polygon:function(e,t){EO(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)EO(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)zv(n[r],t)}};function cS(e,t,n){var r=-1,i=e.length-n,o;for(t.lineStart();++r<i;)o=e[r],t.point(o[0],o[1],o[2]);t.lineEnd()}function EO(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)cS(e[n],t,1);t.polygonEnd()}function ho(e,t){e&&wO.hasOwnProperty(e.type)?wO[e.type](e,t):zv(e,t)}var Bv=new xn,jv=new xn,wj,_j,fS,dS,hS,Ps={point:Xt,lineStart:Xt,lineEnd:Xt,polygonStart:function(){Bv=new xn,Ps.lineStart=M3e,Ps.lineEnd=T3e},polygonEnd:function(){var e=+Bv;jv.add(e<0?Or+e:e),this.lineStart=this.lineEnd=this.point=Xt},sphere:function(){jv.add(Or)}};function M3e(){Ps.point=O3e}function T3e(){Ej(wj,_j)}function O3e(e,t){Ps.point=Ej,wj=e,_j=t,e*=je,t*=je,fS=e,dS=Fe(t=t/2+Dv),hS=ke(t)}function Ej(e,t){e*=je,t*=je,t=t/2+Dv;var n=e-fS,r=n>=0?1:-1,i=r*n,o=Fe(t),s=ke(t),a=hS*s,l=dS*o+a*Fe(i),u=a*r*ke(i);Bv.add(Fr(u,l)),fS=e,dS=o,hS=s}function Sj(e){return jv=new xn,ho(e,Ps),jv*2}function Uv(e){return[Fr(e[1],e[0]),Nr(e[2])]}function Ic(e){var t=e[0],n=e[1],r=Fe(n);return[r*Fe(t),r*ke(t),ke(n)]}function V1(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Kd(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function J_(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function H1(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function qv(e){var t=Rn(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var Gt,jr,Kt,yi,Yu,$j,Cj,Ed,Fg,cl,Ra,ga={point:pS,lineStart:SO,lineEnd:$O,polygonStart:function(){ga.point=kj,ga.lineStart=F3e,ga.lineEnd=N3e,Fg=new xn,Ps.polygonStart()},polygonEnd:function(){Ps.polygonEnd(),ga.point=pS,ga.lineStart=SO,ga.lineEnd=$O,Bv<0?(Gt=-(Kt=180),jr=-(yi=90)):Fg>Be?yi=90:Fg<-Be&&(jr=-90),Ra[0]=Gt,Ra[1]=Kt},sphere:function(){Gt=-(Kt=180),jr=-(yi=90)}};function pS(e,t){cl.push(Ra=[Gt=e,Kt=e]),t<jr&&(jr=t),t>yi&&(yi=t)}function Aj(e,t){var n=Ic([e*je,t*je]);if(Ed){var r=Kd(Ed,n),i=[r[1],-r[0],0],o=Kd(i,r);qv(o),o=Uv(o);var s=e-Yu,a=s>0?1:-1,l=o[0]*Mt*a,u,c=it(s)>180;c^(a*Yu<l&&l<a*e)?(u=o[1]*Mt,u>yi&&(yi=u)):(l=(l+360)%360-180,c^(a*Yu<l&&l<a*e)?(u=-o[1]*Mt,u<jr&&(jr=u)):(t<jr&&(jr=t),t>yi&&(yi=t))),c?e<Yu?pi(Gt,e)>pi(Gt,Kt)&&(Kt=e):pi(e,Kt)>pi(Gt,Kt)&&(Gt=e):Kt>=Gt?(e<Gt&&(Gt=e),e>Kt&&(Kt=e)):e>Yu?pi(Gt,e)>pi(Gt,Kt)&&(Kt=e):pi(e,Kt)>pi(Gt,Kt)&&(Gt=e)}else cl.push(Ra=[Gt=e,Kt=e]);t<jr&&(jr=t),t>yi&&(yi=t),Ed=n,Yu=e}function SO(){ga.point=Aj}function $O(){Ra[0]=Gt,Ra[1]=Kt,ga.point=pS,Ed=null}function kj(e,t){if(Ed){var n=e-Yu;Fg.add(it(n)>180?n+(n>0?360:-360):n)}else $j=e,Cj=t;Ps.point(e,t),Aj(e,t)}function F3e(){Ps.lineStart()}function N3e(){kj($j,Cj),Ps.lineEnd(),it(Fg)>Be&&(Gt=-(Kt=180)),Ra[0]=Gt,Ra[1]=Kt,Ed=null}function pi(e,t){return(t-=e)<0?t+360:t}function R3e(e,t){return e[0]-t[0]}function CO(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function Mj(e){var t,n,r,i,o,s,a;if(yi=Kt=-(Gt=jr=1/0),cl=[],ho(e,ga),n=cl.length){for(cl.sort(R3e),t=1,r=cl[0],o=[r];t<n;++t)i=cl[t],CO(r,i[0])||CO(r,i[1])?(pi(r[0],i[1])>pi(r[0],r[1])&&(r[1]=i[1]),pi(i[0],r[1])>pi(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(s=-1/0,n=o.length-1,t=0,r=o[n];t<=n;r=i,++t)i=o[t],(a=pi(r[1],i[0]))>s&&(s=a,Gt=i[0],Kt=r[1])}return cl=Ra=null,Gt===1/0||jr===1/0?[[NaN,NaN],[NaN,NaN]]:[[Gt,jr],[Kt,yi]]}var Jp,Vv,Hv,Wv,Gv,Yv,Xv,Kv,gS,mS,yS,Tj,Oj,Er,Sr,$r,vo={sphere:Xt,point:s5,lineStart:AO,lineEnd:kO,polygonStart:function(){vo.lineStart=D3e,vo.lineEnd=L3e},polygonEnd:function(){vo.lineStart=AO,vo.lineEnd=kO}};function s5(e,t){e*=je,t*=je;var n=Fe(t);xm(n*Fe(e),n*ke(e),ke(t))}function xm(e,t,n){++Jp,Hv+=(e-Hv)/Jp,Wv+=(t-Wv)/Jp,Gv+=(n-Gv)/Jp}function AO(){vo.point=P3e}function P3e(e,t){e*=je,t*=je;var n=Fe(t);Er=n*Fe(e),Sr=n*ke(e),$r=ke(t),vo.point=I3e,xm(Er,Sr,$r)}function I3e(e,t){e*=je,t*=je;var n=Fe(t),r=n*Fe(e),i=n*ke(e),o=ke(t),s=Fr(Rn((s=Sr*o-$r*i)*s+(s=$r*r-Er*o)*s+(s=Er*i-Sr*r)*s),Er*r+Sr*i+$r*o);Vv+=s,Yv+=s*(Er+(Er=r)),Xv+=s*(Sr+(Sr=i)),Kv+=s*($r+($r=o)),xm(Er,Sr,$r)}function kO(){vo.point=s5}function D3e(){vo.point=z3e}function L3e(){Fj(Tj,Oj),vo.point=s5}function z3e(e,t){Tj=e,Oj=t,e*=je,t*=je,vo.point=Fj;var n=Fe(t);Er=n*Fe(e),Sr=n*ke(e),$r=ke(t),xm(Er,Sr,$r)}function Fj(e,t){e*=je,t*=je;var n=Fe(t),r=n*Fe(e),i=n*ke(e),o=ke(t),s=Sr*o-$r*i,a=$r*r-Er*o,l=Er*i-Sr*r,u=uS(s,a,l),c=Nr(u),f=u&&-c/u;gS.add(f*s),mS.add(f*a),yS.add(f*l),Vv+=c,Yv+=c*(Er+(Er=r)),Xv+=c*(Sr+(Sr=i)),Kv+=c*($r+($r=o)),xm(Er,Sr,$r)}function Nj(e){Jp=Vv=Hv=Wv=Gv=Yv=Xv=Kv=0,gS=new xn,mS=new xn,yS=new xn,ho(e,vo);var t=+gS,n=+mS,r=+yS,i=uS(t,n,r);return i<E0&&(t=Yv,n=Xv,r=Kv,Vv<Be&&(t=Hv,n=Wv,r=Gv),i=uS(t,n,r),i<E0)?[NaN,NaN]:[Fr(n,t)*Mt,Nr(r/i)*Mt]}function Hf(e){return function(){return e}}function vS(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function bS(e,t){return it(e)>nt&&(e-=Math.round(e/Or)*Or),[e,t]}bS.invert=bS;function a5(e,t,n){return(e%=Or)?t||n?vS(TO(e),OO(t,n)):TO(e):t||n?OO(t,n):bS}function MO(e){return function(t,n){return t+=e,it(t)>nt&&(t-=Math.round(t/Or)*Or),[t,n]}}function TO(e){var t=MO(e);return t.invert=MO(-e),t}function OO(e,t){var n=Fe(e),r=ke(e),i=Fe(t),o=ke(t);function s(a,l){var u=Fe(l),c=Fe(a)*u,f=ke(a)*u,h=ke(l),p=h*n+c*r;return[Fr(f*i-p*o,c*n-h*r),Nr(p*i+f*o)]}return s.invert=function(a,l){var u=Fe(l),c=Fe(a)*u,f=ke(a)*u,h=ke(l),p=h*i-f*o;return[Fr(f*i+h*o,c*n+p*r),Nr(p*n-c*r)]},s}function Rj(e){e=a5(e[0]*je,e[1]*je,e.length>2?e[2]*je:0);function t(n){return n=e(n[0]*je,n[1]*je),n[0]*=Mt,n[1]*=Mt,n}return t.invert=function(n){return n=e.invert(n[0]*je,n[1]*je),n[0]*=Mt,n[1]*=Mt,n},t}function Pj(e,t,n,r,i,o){if(n){var s=Fe(t),a=ke(t),l=r*n;i==null?(i=t+r*Or,o=t-l/2):(i=FO(s,i),o=FO(s,o),(r>0?i<o:i>o)&&(i+=r*Or));for(var u,c=i;r>0?c>o:c<o;c-=l)u=Uv([s,-a*Fe(c),-a*ke(c)]),e.point(u[0],u[1])}}function FO(e,t){t=Ic(t),t[0]-=e,qv(t);var n=xj(-t[1]);return((-t[2]<0?-n:n)+Or-Be)%Or}function B3e(){var e=Hf([0,0]),t=Hf(90),n=Hf(6),r,i,o={point:s};function s(l,u){r.push(l=i(l,u)),l[0]*=Mt,l[1]*=Mt}function a(){var l=e.apply(this,arguments),u=t.apply(this,arguments)*je,c=n.apply(this,arguments)*je;return r=[],i=a5(-l[0]*je,-l[1]*je,0).invert,Pj(o,u,c,1),l={type:"Polygon",coordinates:[r]},r=i=null,l}return a.center=function(l){return arguments.length?(e=typeof l=="function"?l:Hf([+l[0],+l[1]]),a):e},a.radius=function(l){return arguments.length?(t=typeof l=="function"?l:Hf(+l),a):t},a.precision=function(l){return arguments.length?(n=typeof l=="function"?l:Hf(+l),a):n},a}function Ij(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:Xt,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Uy(e,t){return it(e[0]-t[0])<Be&&it(e[1]-t[1])<Be}function W1(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Dj(e,t,n,r,i){var o=[],s=[],a,l;if(e.forEach(function(g){if(!((m=g.length-1)<=0)){var m,y=g[0],v=g[m],b;if(Uy(y,v)){if(!y[2]&&!v[2]){for(i.lineStart(),a=0;a<m;++a)i.point((y=g[a])[0],y[1]);i.lineEnd();return}v[0]+=2*Be}o.push(b=new W1(y,g,null,!0)),s.push(b.o=new W1(y,null,b,!1)),o.push(b=new W1(v,g,null,!1)),s.push(b.o=new W1(v,null,b,!0))}}),!!o.length){for(s.sort(t),NO(o),NO(s),a=0,l=s.length;a<l;++a)s[a].e=n=!n;for(var u=o[0],c,f;;){for(var h=u,p=!0;h.v;)if((h=h.n)===u)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(a=0,l=c.length;a<l;++a)i.point((f=c[a])[0],f[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(c=h.p.z,a=c.length-1;a>=0;--a)i.point((f=c[a])[0],f[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,c=h.z,p=!p}while(!h.v);i.lineEnd()}}}function NO(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function Q_(e){return it(e[0])<=nt?e[0]:Ii(e[0])*((it(e[0])+nt)%Or-nt)}function Lj(e,t){var n=Q_(t),r=t[1],i=ke(r),o=[ke(n),-Fe(n),0],s=0,a=0,l=new xn;i===1?r=en+Be:i===-1&&(r=-en-Be);for(var u=0,c=e.length;u<c;++u)if(h=(f=e[u]).length)for(var f,h,p=f[h-1],g=Q_(p),m=p[1]/2+Dv,y=ke(m),v=Fe(m),b=0;b<h;++b,g=w,y=$,v=S,p=x){var x=f[b],w=Q_(x),_=x[1]/2+Dv,$=ke(_),S=Fe(_),C=w-g,T=C>=0?1:-1,M=T*C,E=M>nt,N=y*$;if(l.add(Fr(N*T*ke(M),v*S+N*Fe(M))),s+=E?C+T*Or:C,E^g>=n^w>=n){var k=Kd(Ic(p),Ic(x));qv(k);var A=Kd(o,k);qv(A);var O=(E^C>=0?-1:1)*Nr(A[2]);(r>O||r===O&&(k[0]||k[1]))&&(a+=E^C>=0?1:-1)}}return(s<-Be||s<Be&&l<-E0)^a&1}function zj(e,t,n,r){return function(i){var o=t(i),s=Ij(),a=t(s),l=!1,u,c,f,h={point:p,lineStart:m,lineEnd:y,polygonStart:function(){h.point=v,h.lineStart=b,h.lineEnd=x,c=[],u=[]},polygonEnd:function(){h.point=p,h.lineStart=m,h.lineEnd=y,c=A8(c);var w=Lj(u,r);c.length?(l||(i.polygonStart(),l=!0),Dj(c,U3e,w,n,i)):w&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),c=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(w,_){e(w,_)&&i.point(w,_)}function g(w,_){o.point(w,_)}function m(){h.point=g,o.lineStart()}function y(){h.point=p,o.lineEnd()}function v(w,_){f.push([w,_]),a.point(w,_)}function b(){a.lineStart(),f=[]}function x(){v(f[0][0],f[0][1]),a.lineEnd();var w=a.clean(),_=s.result(),$,S=_.length,C,T,M;if(f.pop(),u.push(f),f=null,!!S){if(w&1){if(T=_[0],(C=T.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),$=0;$<C;++$)i.point((M=T[$])[0],M[1]);i.lineEnd()}return}S>1&&w&2&&_.push(_.pop().concat(_.shift())),c.push(_.filter(j3e))}}return h}}function j3e(e){return e.length>1}function U3e(e,t){return((e=e.x)[0]<0?e[1]-en-Be:en-e[1])-((t=t.x)[0]<0?t[1]-en-Be:en-t[1])}const xS=zj(function(){return!0},q3e,H3e,[-nt,-en]);function q3e(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(o,s){var a=o>0?nt:-nt,l=it(o-t);it(l-nt)<Be?(e.point(t,n=(n+s)/2>0?en:-en),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),e.point(o,n),i=0):r!==a&&l>=nt&&(it(t-r)<Be&&(t-=r*Be),it(o-a)<Be&&(o-=a*Be),n=V3e(t,n,o,s),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),i=0),e.point(t=o,n=s),r=a},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function V3e(e,t,n,r){var i,o,s=ke(e-n);return it(s)>Be?qh((ke(t)*(o=Fe(r))*ke(n)-ke(r)*(i=Fe(t))*ke(e))/(i*o*s)):(t+r)/2}function H3e(e,t,n,r){var i;if(e==null)i=n*en,r.point(-nt,i),r.point(0,i),r.point(nt,i),r.point(nt,0),r.point(nt,-i),r.point(0,-i),r.point(-nt,-i),r.point(-nt,0),r.point(-nt,i);else if(it(e[0]-t[0])>Be){var o=e[0]<t[0]?nt:-nt;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function Bj(e){var t=Fe(e),n=6*je,r=t>0,i=it(t)>Be;function o(c,f,h,p){Pj(p,e,n,h,c,f)}function s(c,f){return Fe(c)*Fe(f)>t}function a(c){var f,h,p,g,m;return{lineStart:function(){g=p=!1,m=1},point:function(y,v){var b=[y,v],x,w=s(y,v),_=r?w?0:u(y,v):w?u(y+(y<0?nt:-nt),v):0;if(!f&&(g=p=w)&&c.lineStart(),w!==p&&(x=l(f,b),(!x||Uy(f,x)||Uy(b,x))&&(b[2]=1)),w!==p)m=0,w?(c.lineStart(),x=l(b,f),c.point(x[0],x[1])):(x=l(f,b),c.point(x[0],x[1],2),c.lineEnd()),f=x;else if(i&&f&&r^w){var $;!(_&h)&&($=l(b,f,!0))&&(m=0,r?(c.lineStart(),c.point($[0][0],$[0][1]),c.point($[1][0],$[1][1]),c.lineEnd()):(c.point($[1][0],$[1][1]),c.lineEnd(),c.lineStart(),c.point($[0][0],$[0][1],3)))}w&&(!f||!Uy(f,b))&&c.point(b[0],b[1]),f=b,p=w,h=_},lineEnd:function(){p&&c.lineEnd(),f=null},clean:function(){return m|(g&&p)<<1}}}function l(c,f,h){var p=Ic(c),g=Ic(f),m=[1,0,0],y=Kd(p,g),v=V1(y,y),b=y[0],x=v-b*b;if(!x)return!h&&c;var w=t*v/x,_=-t*b/x,$=Kd(m,y),S=H1(m,w),C=H1(y,_);J_(S,C);var T=$,M=V1(S,T),E=V1(T,T),N=M*M-E*(V1(S,S)-1);if(!(N<0)){var k=Rn(N),A=H1(T,(-M-k)/E);if(J_(A,S),A=Uv(A),!h)return A;var O=c[0],F=f[0],R=c[1],D=f[1],z;F<O&&(z=O,O=F,F=z);var U=F-O,H=it(U-nt)<Be,W=H||U<Be;if(!H&&D<R&&(z=R,R=D,D=z),W?H?R+D>0^A[1]<(it(A[0]-O)<Be?R:D):R<=A[1]&&A[1]<=D:U>nt^(O<=A[0]&&A[0]<=F)){var he=H1(T,(-M+k)/E);return J_(he,S),[A,Uv(he)]}}}function u(c,f){var h=r?e:nt-e,p=0;return c<-h?p|=1:c>h&&(p|=2),f<-h?p|=4:f>h&&(p|=8),p}return zj(s,a,o,r?[0,-e]:[-nt,e-nt])}function W3e(e,t,n,r,i,o){var s=e[0],a=e[1],l=t[0],u=t[1],c=0,f=1,h=l-s,p=u-a,g;if(g=n-s,!(!h&&g>0)){if(g/=h,h<0){if(g<c)return;g<f&&(f=g)}else if(h>0){if(g>f)return;g>c&&(c=g)}if(g=i-s,!(!h&&g<0)){if(g/=h,h<0){if(g>f)return;g>c&&(c=g)}else if(h>0){if(g<c)return;g<f&&(f=g)}if(g=r-a,!(!p&&g>0)){if(g/=p,p<0){if(g<c)return;g<f&&(f=g)}else if(p>0){if(g>f)return;g>c&&(c=g)}if(g=o-a,!(!p&&g<0)){if(g/=p,p<0){if(g>f)return;g>c&&(c=g)}else if(p>0){if(g<c)return;g<f&&(f=g)}return c>0&&(e[0]=s+c*h,e[1]=a+c*p),f<1&&(t[0]=s+f*h,t[1]=a+f*p),!0}}}}}var Qp=1e9,G1=-Qp;function Z2(e,t,n,r){function i(u,c){return e<=u&&u<=n&&t<=c&&c<=r}function o(u,c,f,h){var p=0,g=0;if(u==null||(p=s(u,f))!==(g=s(c,f))||l(u,c)<0^f>0)do h.point(p===0||p===3?e:n,p>1?r:t);while((p=(p+f+4)%4)!==g);else h.point(c[0],c[1])}function s(u,c){return it(u[0]-e)<Be?c>0?0:3:it(u[0]-n)<Be?c>0?2:1:it(u[1]-t)<Be?c>0?1:0:c>0?3:2}function a(u,c){return l(u.x,c.x)}function l(u,c){var f=s(u,1),h=s(c,1);return f!==h?f-h:f===0?c[1]-u[1]:f===1?u[0]-c[0]:f===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,f=Ij(),h,p,g,m,y,v,b,x,w,_,$,S={point:C,lineStart:N,lineEnd:k,polygonStart:M,polygonEnd:E};function C(O,F){i(O,F)&&c.point(O,F)}function T(){for(var O=0,F=0,R=p.length;F<R;++F)for(var D=p[F],z=1,U=D.length,H=D[0],W,he,ae=H[0],Ce=H[1];z<U;++z)W=ae,he=Ce,H=D[z],ae=H[0],Ce=H[1],he<=r?Ce>r&&(ae-W)*(r-he)>(Ce-he)*(e-W)&&++O:Ce<=r&&(ae-W)*(r-he)<(Ce-he)*(e-W)&&--O;return O}function M(){c=f,h=[],p=[],$=!0}function E(){var O=T(),F=$&&O,R=(h=A8(h)).length;(F||R)&&(u.polygonStart(),F&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),R&&Dj(h,a,O,o,u),u.polygonEnd()),c=u,h=p=g=null}function N(){S.point=A,p&&p.push(g=[]),_=!0,w=!1,b=x=NaN}function k(){h&&(A(m,y),v&&w&&f.rejoin(),h.push(f.result())),S.point=C,w&&c.lineEnd()}function A(O,F){var R=i(O,F);if(p&&g.push([O,F]),_)m=O,y=F,v=R,_=!1,R&&(c.lineStart(),c.point(O,F));else if(R&&w)c.point(O,F);else{var D=[b=Math.max(G1,Math.min(Qp,b)),x=Math.max(G1,Math.min(Qp,x))],z=[O=Math.max(G1,Math.min(Qp,O)),F=Math.max(G1,Math.min(Qp,F))];W3e(D,z,e,t,n,r)?(w||(c.lineStart(),c.point(D[0],D[1])),c.point(z[0],z[1]),R||c.lineEnd(),$=!1):R&&(c.lineStart(),c.point(O,F),$=!1)}b=O,x=F,w=R}return S}}function G3e(){var e=0,t=0,n=960,r=500,i,o,s;return s={stream:function(a){return i&&o===a?i:i=Z2(e,t,n,r)(o=a)},extent:function(a){return arguments.length?(e=+a[0][0],t=+a[0][1],n=+a[1][0],r=+a[1][1],i=o=null,s):[[e,t],[n,r]]}}}var wS,_S,qy,Vy,Jd={sphere:Xt,point:Xt,lineStart:Y3e,lineEnd:Xt,polygonStart:Xt,polygonEnd:Xt};function Y3e(){Jd.point=K3e,Jd.lineEnd=X3e}function X3e(){Jd.point=Jd.lineEnd=Xt}function K3e(e,t){e*=je,t*=je,_S=e,qy=ke(t),Vy=Fe(t),Jd.point=J3e}function J3e(e,t){e*=je,t*=je;var n=ke(t),r=Fe(t),i=it(e-_S),o=Fe(i),s=ke(i),a=r*s,l=Vy*n-qy*r*o,u=qy*n+Vy*r*o;wS.add(Fr(Rn(a*a+l*l),u)),_S=e,qy=n,Vy=r}function jj(e){return wS=new xn,ho(e,Jd),+wS}var ES=[null,null],Q3e={type:"LineString",coordinates:ES};function Jv(e,t){return ES[0]=e,ES[1]=t,jj(Q3e)}var RO={Feature:function(e,t){return Qv(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)if(Qv(n[r].geometry,t))return!0;return!1}},PO={Sphere:function(){return!0},Point:function(e,t){return IO(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(IO(n[r],t))return!0;return!1},LineString:function(e,t){return DO(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(DO(n[r],t))return!0;return!1},Polygon:function(e,t){return LO(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(LO(n[r],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)if(Qv(n[r],t))return!0;return!1}};function Qv(e,t){return e&&PO.hasOwnProperty(e.type)?PO[e.type](e,t):!1}function IO(e,t){return Jv(e,t)===0}function DO(e,t){for(var n,r,i,o=0,s=e.length;o<s;o++){if(r=Jv(e[o],t),r===0||o>0&&(i=Jv(e[o],e[o-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<E0*i))return!0;n=r}return!1}function LO(e,t){return!!Lj(e.map(Z3e),Uj(t))}function Z3e(e){return e=e.map(Uj),e.pop(),e}function Uj(e){return[e[0]*je,e[1]*je]}function eEe(e,t){return(e&&RO.hasOwnProperty(e.type)?RO[e.type]:Qv)(e,t)}function zO(e,t,n){var r=Ar(e,t-Be,n).concat(t);return function(i){return r.map(function(o){return[i,o]})}}function BO(e,t,n){var r=Ar(e,t-Be,n).concat(t);return function(i){return r.map(function(o){return[o,i]})}}function l5(){var e,t,n,r,i,o,s,a,l=10,u=l,c=90,f=360,h,p,g,m,y=2.5;function v(){return{type:"MultiLineString",coordinates:b()}}function b(){return Ar(q1(r/c)*c,n,c).map(g).concat(Ar(q1(a/f)*f,s,f).map(m)).concat(Ar(q1(t/l)*l,e,l).filter(function(x){return it(x%c)>Be}).map(h)).concat(Ar(q1(o/u)*u,i,u).filter(function(x){return it(x%f)>Be}).map(p))}return v.lines=function(){return b().map(function(x){return{type:"LineString",coordinates:x}})},v.outline=function(){return{type:"Polygon",coordinates:[g(r).concat(m(s).slice(1),g(n).reverse().slice(1),m(a).reverse().slice(1))]}},v.extent=function(x){return arguments.length?v.extentMajor(x).extentMinor(x):v.extentMinor()},v.extentMajor=function(x){return arguments.length?(r=+x[0][0],n=+x[1][0],a=+x[0][1],s=+x[1][1],r>n&&(x=r,r=n,n=x),a>s&&(x=a,a=s,s=x),v.precision(y)):[[r,a],[n,s]]},v.extentMinor=function(x){return arguments.length?(t=+x[0][0],e=+x[1][0],o=+x[0][1],i=+x[1][1],t>e&&(x=t,t=e,e=x),o>i&&(x=o,o=i,i=x),v.precision(y)):[[t,o],[e,i]]},v.step=function(x){return arguments.length?v.stepMajor(x).stepMinor(x):v.stepMinor()},v.stepMajor=function(x){return arguments.length?(c=+x[0],f=+x[1],v):[c,f]},v.stepMinor=function(x){return arguments.length?(l=+x[0],u=+x[1],v):[l,u]},v.precision=function(x){return arguments.length?(y=+x,h=zO(o,i,90),p=BO(t,e,y),g=zO(a,s,90),m=BO(r,n,y),v):y},v.extentMajor([[-180,-90+Be],[180,90-Be]]).extentMinor([[-180,-80-Be],[180,80+Be]])}function tEe(){return l5()()}function nEe(e,t){var n=e[0]*je,r=e[1]*je,i=t[0]*je,o=t[1]*je,s=Fe(r),a=ke(r),l=Fe(o),u=ke(o),c=s*Fe(n),f=s*ke(n),h=l*Fe(i),p=l*ke(i),g=2*Nr(Rn(xO(o-r)+s*l*xO(i-n))),m=ke(g),y=g?function(v){var b=ke(v*=g)/m,x=ke(g-v)/m,w=x*c+b*h,_=x*f+b*p,$=x*a+b*u;return[Fr(_,w)*Mt,Fr($,Rn(w*w+_*_))*Mt]}:function(){return[n*Mt,r*Mt]};return y.distance=g,y}const S0=e=>e;var Z_=new xn,SS=new xn,qj,Vj,$S,CS,ml={point:Xt,lineStart:Xt,lineEnd:Xt,polygonStart:function(){ml.lineStart=rEe,ml.lineEnd=oEe},polygonEnd:function(){ml.lineStart=ml.lineEnd=ml.point=Xt,Z_.add(it(SS)),SS=new xn},result:function(){var e=Z_/2;return Z_=new xn,e}};function rEe(){ml.point=iEe}function iEe(e,t){ml.point=Hj,qj=$S=e,Vj=CS=t}function Hj(e,t){SS.add(CS*e-$S*t),$S=e,CS=t}function oEe(){Hj(qj,Vj)}const jO=ml;var Qd=1/0,Zv=Qd,$0=-Qd,eb=$0,sEe={point:aEe,lineStart:Xt,lineEnd:Xt,polygonStart:Xt,polygonEnd:Xt,result:function(){var e=[[Qd,Zv],[$0,eb]];return $0=eb=-(Zv=Qd=1/0),e}};function aEe(e,t){e<Qd&&(Qd=e),e>$0&&($0=e),t<Zv&&(Zv=t),t>eb&&(eb=t)}const tb=sEe;var AS=0,kS=0,Zp=0,nb=0,rb=0,cd=0,MS=0,TS=0,eg=0,Wj,Gj,hs,ps,po={point:Dc,lineStart:UO,lineEnd:qO,polygonStart:function(){po.lineStart=cEe,po.lineEnd=fEe},polygonEnd:function(){po.point=Dc,po.lineStart=UO,po.lineEnd=qO},result:function(){var e=eg?[MS/eg,TS/eg]:cd?[nb/cd,rb/cd]:Zp?[AS/Zp,kS/Zp]:[NaN,NaN];return AS=kS=Zp=nb=rb=cd=MS=TS=eg=0,e}};function Dc(e,t){AS+=e,kS+=t,++Zp}function UO(){po.point=lEe}function lEe(e,t){po.point=uEe,Dc(hs=e,ps=t)}function uEe(e,t){var n=e-hs,r=t-ps,i=Rn(n*n+r*r);nb+=i*(hs+e)/2,rb+=i*(ps+t)/2,cd+=i,Dc(hs=e,ps=t)}function qO(){po.point=Dc}function cEe(){po.point=dEe}function fEe(){Yj(Wj,Gj)}function dEe(e,t){po.point=Yj,Dc(Wj=hs=e,Gj=ps=t)}function Yj(e,t){var n=e-hs,r=t-ps,i=Rn(n*n+r*r);nb+=i*(hs+e)/2,rb+=i*(ps+t)/2,cd+=i,i=ps*e-hs*t,MS+=i*(hs+e),TS+=i*(ps+t),eg+=i*3,Dc(hs=e,ps=t)}const VO=po;function Xj(e){this._context=e}Xj.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Or);break}}},result:Xt};var OS=new xn,e3,Kj,Jj,tg,ng,ib={point:Xt,lineStart:function(){ib.point=hEe},lineEnd:function(){e3&&Qj(Kj,Jj),ib.point=Xt},polygonStart:function(){e3=!0},polygonEnd:function(){e3=null},result:function(){var e=+OS;return OS=new xn,e}};function hEe(e,t){ib.point=Qj,Kj=tg=e,Jj=ng=t}function Qj(e,t){tg-=e,ng-=t,OS.add(Rn(tg*tg+ng*ng)),tg=e,ng=t}const HO=ib;let WO,ob,GO,YO;class XO{constructor(t){this._append=t==null?Zj:pEe(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==GO||this._append!==ob){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,GO=r,ob=this._append,YO=this._,this._=i}this._+=YO;break}}}result(){const t=this._;return this._="",t.length?t:null}}function Zj(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function pEe(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return Zj;if(t!==WO){const n=10**t;WO=t,ob=function(i){let o=1;this._+=i[0];for(const s=i.length;o<s;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return ob}function u5(e,t){let n=3,r=4.5,i,o;function s(a){return a&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),ho(a,i(o))),o.result()}return s.area=function(a){return ho(a,i(jO)),jO.result()},s.measure=function(a){return ho(a,i(HO)),HO.result()},s.bounds=function(a){return ho(a,i(tb)),tb.result()},s.centroid=function(a){return ho(a,i(VO)),VO.result()},s.projection=function(a){return arguments.length?(i=a==null?(e=null,S0):(e=a).stream,s):e},s.context=function(a){return arguments.length?(o=a==null?(t=null,new XO(n)):new Xj(t=a),typeof r!="function"&&o.pointRadius(r),s):t},s.pointRadius=function(a){return arguments.length?(r=typeof a=="function"?a:(o.pointRadius(+a),+a),s):r},s.digits=function(a){if(!arguments.length)return n;if(a==null)n=null;else{const l=Math.floor(a);if(!(l>=0))throw new RangeError(`invalid digits: ${a}`);n=l}return t===null&&(o=new XO(n)),s},s.projection(e).digits(n).context(t)}function gEe(e){return{stream:wm(e)}}function wm(e){return function(t){var n=new FS;for(var r in e)n[r]=e[r];return n.stream=t,n}}function FS(){}FS.prototype={constructor:FS,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function c5(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),ho(n,e.stream(tb)),t(tb.result()),r!=null&&e.clipExtent(r),e}function ex(e,t,n){return c5(e,function(r){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],s=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),a=+t[0][0]+(i-s*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(o-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([a,l])},n)}function f5(e,t,n){return ex(e,[[0,0],t],n)}function d5(e,t,n){return c5(e,function(r){var i=+t,o=i/(r[1][0]-r[0][0]),s=(i-o*(r[1][0]+r[0][0]))/2,a=-o*r[0][1];e.scale(150*o).translate([s,a])},n)}function h5(e,t,n){return c5(e,function(r){var i=+t,o=i/(r[1][1]-r[0][1]),s=-o*r[0][0],a=(i-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([s,a])},n)}var KO=16,mEe=Fe(30*je);function JO(e,t){return+t?vEe(e,t):yEe(e)}function yEe(e){return wm({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function vEe(e,t){function n(r,i,o,s,a,l,u,c,f,h,p,g,m,y){var v=u-r,b=c-i,x=v*v+b*b;if(x>4*t&&m--){var w=s+h,_=a+p,$=l+g,S=Rn(w*w+_*_+$*$),C=Nr($/=S),T=it(it($)-1)<Be||it(o-f)<Be?(o+f)/2:Fr(_,w),M=e(T,C),E=M[0],N=M[1],k=E-r,A=N-i,O=b*k-v*A;(O*O/x>t||it((v*k+b*A)/x-.5)>.3||s*h+a*p+l*g<mEe)&&(n(r,i,o,s,a,l,E,N,T,w/=S,_/=S,$,m,y),y.point(E,N),n(E,N,T,w,_,$,u,c,f,h,p,g,m,y))}}return function(r){var i,o,s,a,l,u,c,f,h,p,g,m,y={point:v,lineStart:b,lineEnd:w,polygonStart:function(){r.polygonStart(),y.lineStart=_},polygonEnd:function(){r.polygonEnd(),y.lineStart=b}};function v(C,T){C=e(C,T),r.point(C[0],C[1])}function b(){f=NaN,y.point=x,r.lineStart()}function x(C,T){var M=Ic([C,T]),E=e(C,T);n(f,h,c,p,g,m,f=E[0],h=E[1],c=C,p=M[0],g=M[1],m=M[2],KO,r),r.point(f,h)}function w(){y.point=v,r.lineEnd()}function _(){b(),y.point=$,y.lineEnd=S}function $(C,T){x(i=C,T),o=f,s=h,a=p,l=g,u=m,y.point=x}function S(){n(f,h,c,p,g,m,o,s,i,a,l,u,KO,r),y.lineEnd=w,w()}return y}}var bEe=wm({point:function(e,t){this.stream.point(e*je,t*je)}});function xEe(e){return wm({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function wEe(e,t,n,r,i){function o(s,a){return s*=r,a*=i,[t+e*s,n-e*a]}return o.invert=function(s,a){return[(s-t)/e*r,(n-a)/e*i]},o}function QO(e,t,n,r,i,o){if(!o)return wEe(e,t,n,r,i);var s=Fe(o),a=ke(o),l=s*e,u=a*e,c=s/e,f=a/e,h=(a*n-s*t)/e,p=(a*t+s*n)/e;function g(m,y){return m*=r,y*=i,[l*m-u*y+t,n-u*m-l*y]}return g.invert=function(m,y){return[r*(c*m-f*y+h),i*(p-f*m-c*y)]},g}function Wo(e){return p5(function(){return e})()}function p5(e){var t,n=150,r=480,i=250,o=0,s=0,a=0,l=0,u=0,c,f=0,h=1,p=1,g=null,m=xS,y=null,v,b,x,w=S0,_=.5,$,S,C,T,M;function E(O){return C(O[0]*je,O[1]*je)}function N(O){return O=C.invert(O[0],O[1]),O&&[O[0]*Mt,O[1]*Mt]}E.stream=function(O){return T&&M===O?T:T=bEe(xEe(c)(m($(w(M=O)))))},E.preclip=function(O){return arguments.length?(m=O,g=void 0,A()):m},E.postclip=function(O){return arguments.length?(w=O,y=v=b=x=null,A()):w},E.clipAngle=function(O){return arguments.length?(m=+O?Bj(g=O*je):(g=null,xS),A()):g*Mt},E.clipExtent=function(O){return arguments.length?(w=O==null?(y=v=b=x=null,S0):Z2(y=+O[0][0],v=+O[0][1],b=+O[1][0],x=+O[1][1]),A()):y==null?null:[[y,v],[b,x]]},E.scale=function(O){return arguments.length?(n=+O,k()):n},E.translate=function(O){return arguments.length?(r=+O[0],i=+O[1],k()):[r,i]},E.center=function(O){return arguments.length?(o=O[0]%360*je,s=O[1]%360*je,k()):[o*Mt,s*Mt]},E.rotate=function(O){return arguments.length?(a=O[0]%360*je,l=O[1]%360*je,u=O.length>2?O[2]%360*je:0,k()):[a*Mt,l*Mt,u*Mt]},E.angle=function(O){return arguments.length?(f=O%360*je,k()):f*Mt},E.reflectX=function(O){return arguments.length?(h=O?-1:1,k()):h<0},E.reflectY=function(O){return arguments.length?(p=O?-1:1,k()):p<0},E.precision=function(O){return arguments.length?($=JO(S,_=O*O),A()):Rn(_)},E.fitExtent=function(O,F){return ex(E,O,F)},E.fitSize=function(O,F){return f5(E,O,F)},E.fitWidth=function(O,F){return d5(E,O,F)},E.fitHeight=function(O,F){return h5(E,O,F)};function k(){var O=QO(n,0,0,h,p,f).apply(null,t(o,s)),F=QO(n,r-O[0],i-O[1],h,p,f);return c=a5(a,l,u),S=vS(t,F),C=vS(c,S),$=JO(S,_),A()}function A(){return T=M=null,E}return function(){return t=e.apply(this,arguments),E.invert=t.invert&&N,k()}}function g5(e){var t=0,n=nt/3,r=p5(e),i=r(t,n);return i.parallels=function(o){return arguments.length?r(t=o[0]*je,n=o[1]*je):[t*Mt,n*Mt]},i}function _Ee(e){var t=Fe(e);function n(r,i){return[r*t,ke(i)/t]}return n.invert=function(r,i){return[r/t,Nr(i*t)]},n}function eU(e,t){var n=ke(e),r=(n+ke(t))/2;if(it(r)<Be)return _Ee(e);var i=1+n*(2*r-n),o=Rn(i)/r;function s(a,l){var u=Rn(i-2*r*ke(l))/r;return[u*ke(a*=r),o-u*Fe(a)]}return s.invert=function(a,l){var u=o-l,c=Fr(a,it(u))*Ii(u);return u*r<0&&(c-=nt*Ii(a)*Ii(u)),[c/r,Nr((i-(a*a+u*u)*r*r)/(2*r))]},s}function C0(){return g5(eU).scale(155.424).center([0,33.6442])}function m5(){return C0().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function EEe(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function tU(){var e,t,n=m5(),r,i=C0().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,s=C0().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a,l,u={point:function(h,p){l=[h,p]}};function c(h){var p=h[0],g=h[1];return l=null,r.point(p,g),l||(o.point(p,g),l)||(a.point(p,g),l)}c.invert=function(h){var p=n.scale(),g=n.translate(),m=(h[0]-g[0])/p,y=(h[1]-g[1])/p;return(y>=.12&&y<.234&&m>=-.425&&m<-.214?i:y>=.166&&y<.234&&m>=-.214&&m<-.115?s:n).invert(h)},c.stream=function(h){return e&&t===h?e:e=EEe([n.stream(t=h),i.stream(h),s.stream(h)])},c.precision=function(h){return arguments.length?(n.precision(h),i.precision(h),s.precision(h),f()):n.precision()},c.scale=function(h){return arguments.length?(n.scale(h),i.scale(h*.35),s.scale(h),c.translate(n.translate())):n.scale()},c.translate=function(h){if(!arguments.length)return n.translate();var p=n.scale(),g=+h[0],m=+h[1];return r=n.translate(h).clipExtent([[g-.455*p,m-.238*p],[g+.455*p,m+.238*p]]).stream(u),o=i.translate([g-.307*p,m+.201*p]).clipExtent([[g-.425*p+Be,m+.12*p+Be],[g-.214*p-Be,m+.234*p-Be]]).stream(u),a=s.translate([g-.205*p,m+.212*p]).clipExtent([[g-.214*p+Be,m+.166*p+Be],[g-.115*p-Be,m+.234*p-Be]]).stream(u),f()},c.fitExtent=function(h,p){return ex(c,h,p)},c.fitSize=function(h,p){return f5(c,h,p)},c.fitWidth=function(h,p){return d5(c,h,p)},c.fitHeight=function(h,p){return h5(c,h,p)};function f(){return e=t=null,c}return c.scale(1070)}function nU(e){return function(t,n){var r=Fe(t),i=Fe(n),o=e(r*i);return o===1/0?[2,0]:[o*i*ke(t),o*ke(n)]}}function _m(e){return function(t,n){var r=Rn(t*t+n*n),i=e(r),o=ke(i),s=Fe(i);return[Fr(t*o,r*s),Nr(r&&n*o/r)]}}var y5=nU(function(e){return Rn(2/(1+e))});y5.invert=_m(function(e){return 2*Nr(e/2)});function rU(){return Wo(y5).scale(124.75).clipAngle(180-.001)}var v5=nU(function(e){return(e=xj(e))&&e/ke(e)});v5.invert=_m(function(e){return e});function iU(){return Wo(v5).scale(79.4188).clipAngle(180-.001)}function Em(e,t){return[e,Lv(o5((en+t)/2))]}Em.invert=function(e,t){return[e,2*qh(bj(t))-en]};function oU(){return sU(Em).scale(961/Or)}function sU(e){var t=Wo(e),n=t.center,r=t.scale,i=t.translate,o=t.clipExtent,s=null,a,l,u;t.scale=function(f){return arguments.length?(r(f),c()):r()},t.translate=function(f){return arguments.length?(i(f),c()):i()},t.center=function(f){return arguments.length?(n(f),c()):n()},t.clipExtent=function(f){return arguments.length?(f==null?s=a=l=u=null:(s=+f[0][0],a=+f[0][1],l=+f[1][0],u=+f[1][1]),c()):s==null?null:[[s,a],[l,u]]};function c(){var f=nt*r(),h=t(Rj(t.rotate()).invert([0,0]));return o(s==null?[[h[0]-f,h[1]-f],[h[0]+f,h[1]+f]]:e===Em?[[Math.max(h[0]-f,s),a],[Math.min(h[0]+f,l),u]]:[[s,Math.max(h[1]-f,a)],[l,Math.min(h[1]+f,u)]])}return c()}function Y1(e){return o5((en+e)/2)}function aU(e,t){var n=Fe(e),r=e===t?ke(e):Lv(n/Fe(t))/Lv(Y1(t)/Y1(e)),i=n*K_(Y1(e),r)/r;if(!r)return Em;function o(s,a){i>0?a<-en+Be&&(a=-en+Be):a>en-Be&&(a=en-Be);var l=i/K_(Y1(a),r);return[l*ke(r*s),i-l*Fe(r*s)]}return o.invert=function(s,a){var l=i-a,u=Ii(r)*Rn(s*s+l*l),c=Fr(s,it(l))*Ii(l);return l*r<0&&(c-=nt*Ii(s)*Ii(l)),[c/r,2*qh(K_(i/u,1/r))-en]},o}function lU(){return g5(aU).scale(109.5).parallels([30,30])}function A0(e,t){return[e,t]}A0.invert=A0;function uU(){return Wo(A0).scale(152.63)}function cU(e,t){var n=Fe(e),r=e===t?ke(e):(n-Fe(t))/(t-e),i=n/r+e;if(it(r)<Be)return A0;function o(s,a){var l=i-a,u=r*s;return[l*ke(u),i-l*Fe(u)]}return o.invert=function(s,a){var l=i-a,u=Fr(s,it(l))*Ii(l);return l*r<0&&(u-=nt*Ii(s)*Ii(l)),[u/r,i-Ii(r)*Rn(s*s+l*l)]},o}function fU(){return g5(cU).scale(131.154).center([0,13.9389])}var Ng=1.340264,Rg=-.081106,Pg=893e-6,Ig=.003796,sb=Rn(3)/2,SEe=12;function b5(e,t){var n=Nr(sb*ke(t)),r=n*n,i=r*r*r;return[e*Fe(n)/(sb*(Ng+3*Rg*r+i*(7*Pg+9*Ig*r))),n*(Ng+Rg*r+i*(Pg+Ig*r))]}b5.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,o=0,s,a,l;o<SEe&&(a=n*(Ng+Rg*r+i*(Pg+Ig*r))-t,l=Ng+3*Rg*r+i*(7*Pg+9*Ig*r),n-=s=a/l,r=n*n,i=r*r*r,!(it(s)<E0));++o);return[sb*e*(Ng+3*Rg*r+i*(7*Pg+9*Ig*r))/Fe(n),Nr(ke(n)/sb)]};function dU(){return Wo(b5).scale(177.158)}function x5(e,t){var n=Fe(t),r=Fe(e)*n;return[n*ke(e)/r,ke(t)/r]}x5.invert=_m(qh);function hU(){return Wo(x5).scale(144.049).clipAngle(60)}function pU(){var e=1,t=0,n=0,r=1,i=1,o=0,s,a,l=null,u,c,f,h=1,p=1,g=wm({point:function(w,_){var $=x([w,_]);this.stream.point($[0],$[1])}}),m=S0,y,v;function b(){return h=e*r,p=e*i,y=v=null,x}function x(w){var _=w[0]*h,$=w[1]*p;if(o){var S=$*s-_*a;_=_*s+$*a,$=S}return[_+t,$+n]}return x.invert=function(w){var _=w[0]-t,$=w[1]-n;if(o){var S=$*s+_*a;_=_*s-$*a,$=S}return[_/h,$/p]},x.stream=function(w){return y&&v===w?y:y=g(m(v=w))},x.postclip=function(w){return arguments.length?(m=w,l=u=c=f=null,b()):m},x.clipExtent=function(w){return arguments.length?(m=w==null?(l=u=c=f=null,S0):Z2(l=+w[0][0],u=+w[0][1],c=+w[1][0],f=+w[1][1]),b()):l==null?null:[[l,u],[c,f]]},x.scale=function(w){return arguments.length?(e=+w,b()):e},x.translate=function(w){return arguments.length?(t=+w[0],n=+w[1],b()):[t,n]},x.angle=function(w){return arguments.length?(o=w%360*je,a=ke(o),s=Fe(o),b()):o*Mt},x.reflectX=function(w){return arguments.length?(r=w?-1:1,b()):r<0},x.reflectY=function(w){return arguments.length?(i=w?-1:1,b()):i<0},x.fitExtent=function(w,_){return ex(x,w,_)},x.fitSize=function(w,_){return f5(x,w,_)},x.fitWidth=function(w,_){return d5(x,w,_)},x.fitHeight=function(w,_){return h5(x,w,_)},x}function w5(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}w5.invert=function(e,t){var n=t,r=25,i;do{var o=n*n,s=o*o;n-=i=(n*(1.007226+o*(.015085+s*(-.044475+.028874*o-.005916*s)))-t)/(1.007226+o*(.015085*3+s*(-.044475*7+.028874*9*o-.005916*11*s)))}while(it(i)>Be&&--r>0);return[e/(.8707+(o=n*n)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),n]};function gU(){return Wo(w5).scale(175.295)}function _5(e,t){return[Fe(t)*ke(e),ke(t)]}_5.invert=_m(Nr);function mU(){return Wo(_5).scale(249.5).clipAngle(90+Be)}function E5(e,t){var n=Fe(t),r=1+Fe(e)*n;return[n*ke(e)/r,ke(t)/r]}E5.invert=_m(function(e){return 2*qh(e)});function yU(){return Wo(E5).scale(250).clipAngle(142)}function S5(e,t){return[Lv(o5((en+t)/2)),-e]}S5.invert=function(e,t){return[-t,2*qh(bj(e))-en]};function vU(){var e=sU(S5),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function $Ee(e,t){return e.parent===t.parent?1:2}function CEe(e){return e.reduce(AEe,0)/e.length}function AEe(e,t){return e+t.x}function kEe(e){return 1+e.reduce(MEe,0)}function MEe(e,t){return Math.max(e,t.y)}function TEe(e){for(var t;t=e.children;)e=t[0];return e}function OEe(e){for(var t;t=e.children;)e=t[t.length-1];return e}function bU(){var e=$Ee,t=1,n=1,r=!1;function i(o){var s,a=0;o.eachAfter(function(h){var p=h.children;p?(h.x=CEe(p),h.y=kEe(p)):(h.x=s?a+=e(h,s):0,h.y=0,s=h)});var l=TEe(o),u=OEe(o),c=l.x-e(l,u)/2,f=u.x+e(u,l)/2;return o.eachAfter(r?function(h){h.x=(h.x-o.x)*t,h.y=(o.y-h.y)*n}:function(h){h.x=(h.x-c)/(f-c)*t,h.y=(1-(o.y?h.y/o.y:1))*n})}return i.separation=function(o){return arguments.length?(e=o,i):e},i.size=function(o){return arguments.length?(r=!1,t=+o[0],n=+o[1],i):r?null:[t,n]},i.nodeSize=function(o){return arguments.length?(r=!0,t=+o[0],n=+o[1],i):r?[t,n]:null},i}function FEe(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function NEe(){return this.eachAfter(FEe)}function REe(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function PEe(e,t){for(var n=this,r=[n],i,o,s=-1;n=r.pop();)if(e.call(t,n,++s,this),i=n.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function IEe(e,t){for(var n=this,r=[n],i=[],o,s,a,l=-1;n=r.pop();)if(i.push(n),o=n.children)for(s=0,a=o.length;s<a;++s)r.push(o[s]);for(;n=i.pop();)e.call(t,n,++l,this);return this}function DEe(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function LEe(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function zEe(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function BEe(e){for(var t=this,n=jEe(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function jEe(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function UEe(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function qEe(){return Array.from(this)}function VEe(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function HEe(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*WEe(){var e=this,t,n=[e],r,i,o;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);while(n.length)}function tx(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=XEe)):t===void 0&&(t=YEe);for(var n=new Lc(e),r,i=[n],o,s,a,l;r=i.pop();)if((s=t(r.data))&&(l=(s=Array.from(s)).length))for(r.children=s,a=l-1;a>=0;--a)i.push(o=s[a]=new Lc(s[a])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(xU)}function GEe(){return tx(this).eachBefore(KEe)}function YEe(e){return e.children}function XEe(e){return Array.isArray(e)?e[1]:null}function KEe(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function xU(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Lc(e){this.data=e,this.depth=this.height=0,this.parent=null}Lc.prototype=tx.prototype={constructor:Lc,count:NEe,each:REe,eachAfter:IEe,eachBefore:PEe,find:DEe,sum:LEe,sort:zEe,path:BEe,ancestors:UEe,descendants:qEe,leaves:VEe,links:HEe,copy:GEe,[Symbol.iterator]:WEe};function Hy(e){return e==null?null:wU(e)}function wU(e){if(typeof e!="function")throw new Error;return e}function Zu(){return 0}function sd(e){return function(){return e}}const JEe=1664525,QEe=1013904223,ZO=4294967296;function $5(){let e=1;return()=>(e=(JEe*e+QEe)%ZO)/ZO}function ZEe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function eSe(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function tSe(e){return _U(e,$5())}function _U(e,t){for(var n=0,r=(e=eSe(Array.from(e),t)).length,i=[],o,s;n<r;)o=e[n],s&&EU(s,o)?++n:(s=rSe(i=nSe(i,o)),n=0);return s}function nSe(e,t){var n,r;if(t3(t,e))return[t];for(n=0;n<e.length;++n)if(X1(t,e[n])&&t3(rg(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(X1(rg(e[n],e[r]),t)&&X1(rg(e[n],t),e[r])&&X1(rg(e[r],t),e[n])&&t3(SU(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function X1(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function EU(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function t3(e,t){for(var n=0;n<t.length;++n)if(!EU(e,t[n]))return!1;return!0}function rSe(e){switch(e.length){case 1:return iSe(e[0]);case 2:return rg(e[0],e[1]);case 3:return SU(e[0],e[1],e[2])}}function iSe(e){return{x:e.x,y:e.y,r:e.r}}function rg(e,t){var n=e.x,r=e.y,i=e.r,o=t.x,s=t.y,a=t.r,l=o-n,u=s-r,c=a-i,f=Math.sqrt(l*l+u*u);return{x:(n+o+l/f*c)/2,y:(r+s+u/f*c)/2,r:(f+i+a)/2}}function SU(e,t,n){var r=e.x,i=e.y,o=e.r,s=t.x,a=t.y,l=t.r,u=n.x,c=n.y,f=n.r,h=r-s,p=r-u,g=i-a,m=i-c,y=l-o,v=f-o,b=r*r+i*i-o*o,x=b-s*s-a*a+l*l,w=b-u*u-c*c+f*f,_=p*g-h*m,$=(g*w-m*x)/(_*2)-r,S=(m*y-g*v)/_,C=(p*x-h*w)/(_*2)-i,T=(h*v-p*y)/_,M=S*S+T*T-1,E=2*(o+$*S+C*T),N=$*$+C*C-o*o,k=-(Math.abs(M)>1e-6?(E+Math.sqrt(E*E-4*M*N))/(2*M):N/E);return{x:r+$+S*k,y:i+C+T*k,r:k}}function eF(e,t,n){var r=e.x-t.x,i,o,s=e.y-t.y,a,l,u=r*r+s*s;u?(o=t.r+n.r,o*=o,l=e.r+n.r,l*=l,o>l?(i=(u+l-o)/(2*u),a=Math.sqrt(Math.max(0,l/u-i*i)),n.x=e.x-i*r-a*s,n.y=e.y-i*s+a*r):(i=(u+o-l)/(2*u),a=Math.sqrt(Math.max(0,o/u-i*i)),n.x=t.x+i*r-a*s,n.y=t.y+i*s+a*r)):(n.x=t.x+n.r,n.y=t.y)}function tF(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function nF(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,o=(t.y*n.r+n.y*t.r)/r;return i*i+o*o}function K1(e){this._=e,this.next=null,this.previous=null}function $U(e,t){if(!(o=(e=ZEe(e)).length))return 0;var n,r,i,o,s,a,l,u,c,f,h;if(n=e[0],n.x=0,n.y=0,!(o>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(o>2))return n.r+r.r;eF(r,n,i=e[2]),n=new K1(n),r=new K1(r),i=new K1(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(l=3;l<o;++l){eF(n._,r._,i=e[l]),i=new K1(i),u=r.next,c=n.previous,f=r._.r,h=n._.r;do if(f<=h){if(tF(u._,i._)){r=u,n.next=r,r.previous=n,--l;continue e}f+=u._.r,u=u.next}else{if(tF(c._,i._)){n=c,n.next=r,r.previous=n,--l;continue e}h+=c._.r,c=c.previous}while(u!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,s=nF(n);(i=i.next)!==r;)(a=nF(i))<s&&(n=i,s=a);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=_U(n,t),l=0;l<o;++l)n=e[l],n.x-=i.x,n.y-=i.y;return i.r}function oSe(e){return $U(e,$5()),e}function sSe(e){return Math.sqrt(e.value)}function CU(){var e=null,t=1,n=1,r=Zu;function i(o){const s=$5();return o.x=t/2,o.y=n/2,e?o.eachBefore(rF(e)).eachAfter(n3(r,.5,s)).eachBefore(iF(1)):o.eachBefore(rF(sSe)).eachAfter(n3(Zu,1,s)).eachAfter(n3(r,o.r/Math.min(t,n),s)).eachBefore(iF(Math.min(t,n)/(2*o.r))),o}return i.radius=function(o){return arguments.length?(e=Hy(o),i):e},i.size=function(o){return arguments.length?(t=+o[0],n=+o[1],i):[t,n]},i.padding=function(o){return arguments.length?(r=typeof o=="function"?o:sd(+o),i):r},i}function rF(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function n3(e,t,n){return function(r){if(i=r.children){var i,o,s=i.length,a=e(r)*t||0,l;if(a)for(o=0;o<s;++o)i[o].r+=a;if(l=$U(i,n),a)for(o=0;o<s;++o)i[o].r-=a;r.r=l+a}}}function iF(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function AU(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function Vh(e,t,n,r,i){for(var o=e.children,s,a=-1,l=o.length,u=e.value&&(r-t)/e.value;++a<l;)s=o[a],s.y0=n,s.y1=i,s.x0=t,s.x1=t+=s.value*u}function kU(){var e=1,t=1,n=0,r=!1;function i(s){var a=s.height+1;return s.x0=s.y0=n,s.x1=e,s.y1=t/a,s.eachBefore(o(t,a)),r&&s.eachBefore(AU),s}function o(s,a){return function(l){l.children&&Vh(l,l.x0,s*(l.depth+1)/a,l.x1,s*(l.depth+2)/a);var u=l.x0,c=l.y0,f=l.x1-n,h=l.y1-n;f<u&&(u=f=(u+f)/2),h<c&&(c=h=(c+h)/2),l.x0=u,l.y0=c,l.x1=f,l.y1=h}}return i.round=function(s){return arguments.length?(r=!!s,i):r},i.size=function(s){return arguments.length?(e=+s[0],t=+s[1],i):[e,t]},i.padding=function(s){return arguments.length?(n=+s,i):n},i}var aSe={depth:-1},oF={},r3={};function lSe(e){return e.id}function uSe(e){return e.parentId}function NS(){var e=lSe,t=uSe,n;function r(i){var o=Array.from(i),s=e,a=t,l,u,c,f,h,p,g,m,y=new Map;if(n!=null){const v=o.map((w,_)=>cSe(n(w,_,i))),b=v.map(sF),x=new Set(v).add("");for(const w of b)x.has(w)||(x.add(w),v.push(w),b.push(sF(w)),o.push(r3));s=(w,_)=>v[_],a=(w,_)=>b[_]}for(c=0,l=o.length;c<l;++c)u=o[c],p=o[c]=new Lc(u),(g=s(u,c,i))!=null&&(g+="")&&(m=p.id=g,y.set(m,y.has(m)?oF:p)),(g=a(u,c,i))!=null&&(g+="")&&(p.parent=g);for(c=0;c<l;++c)if(p=o[c],g=p.parent){if(h=y.get(g),!h)throw new Error("missing: "+g);if(h===oF)throw new Error("ambiguous: "+g);h.children?h.children.push(p):h.children=[p],p.parent=h}else{if(f)throw new Error("multiple roots");f=p}if(!f)throw new Error("no root");if(n!=null){for(;f.data===r3&&f.children.length===1;)f=f.children[0],--l;for(let v=o.length-1;v>=0&&(p=o[v],p.data===r3);--v)p.data=null}if(f.parent=aSe,f.eachBefore(function(v){v.depth=v.parent.depth+1,--l}).eachBefore(xU),f.parent=null,l>0)throw new Error("cycle");return f}return r.id=function(i){return arguments.length?(e=Hy(i),r):e},r.parentId=function(i){return arguments.length?(t=Hy(i),r):t},r.path=function(i){return arguments.length?(n=Hy(i),r):n},r}function cSe(e){e=`${e}`;let t=e.length;return RS(e,t-1)&&!RS(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function sF(e){let t=e.length;if(t<2)return"";for(;--t>1&&!RS(e,t););return e.slice(0,t)}function RS(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if(!(n&1))return!0}return!1}function fSe(e,t){return e.parent===t.parent?1:2}function i3(e){var t=e.children;return t?t[0]:e.t}function o3(e){var t=e.children;return t?t[t.length-1]:e.t}function dSe(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function hSe(e){for(var t=0,n=0,r=e.children,i=r.length,o;--i>=0;)o=r[i],o.z+=t,o.m+=t,t+=o.s+(n+=o.c)}function pSe(e,t,n){return e.a.parent===t.parent?e.a:n}function Wy(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}Wy.prototype=Object.create(Lc.prototype);function gSe(e){for(var t=new Wy(e,0),n,r=[t],i,o,s,a;n=r.pop();)if(o=n._.children)for(n.children=new Array(a=o.length),s=a-1;s>=0;--s)r.push(i=n.children[s]=new Wy(o[s],s)),i.parent=n;return(t.parent=new Wy(null,0)).children=[t],t}function MU(){var e=fSe,t=1,n=1,r=null;function i(u){var c=gSe(u);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(s),r)u.eachBefore(l);else{var f=u,h=u,p=u;u.eachBefore(function(b){b.x<f.x&&(f=b),b.x>h.x&&(h=b),b.depth>p.depth&&(p=b)});var g=f===h?1:e(f,h)/2,m=g-f.x,y=t/(h.x+g+m),v=n/(p.depth||1);u.eachBefore(function(b){b.x=(b.x+m)*y,b.y=b.depth*v})}return u}function o(u){var c=u.children,f=u.parent.children,h=u.i?f[u.i-1]:null;if(c){hSe(u);var p=(c[0].z+c[c.length-1].z)/2;h?(u.z=h.z+e(u._,h._),u.m=u.z-p):u.z=p}else h&&(u.z=h.z+e(u._,h._));u.parent.A=a(u,h,u.parent.A||f[0])}function s(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function a(u,c,f){if(c){for(var h=u,p=u,g=c,m=h.parent.children[0],y=h.m,v=p.m,b=g.m,x=m.m,w;g=o3(g),h=i3(h),g&&h;)m=i3(m),p=o3(p),p.a=u,w=g.z+b-h.z-y+e(g._,h._),w>0&&(dSe(pSe(g,u,f),u,w),y+=w,v+=w),b+=g.m,y+=h.m,x+=m.m,v+=p.m;g&&!o3(p)&&(p.t=g,p.m+=b-v),h&&!i3(m)&&(m.t=h,m.m+=y-x,f=u)}return f}function l(u){u.x*=t,u.y=u.depth*n}return i.separation=function(u){return arguments.length?(e=u,i):e},i.size=function(u){return arguments.length?(r=!1,t=+u[0],n=+u[1],i):r?null:[t,n]},i.nodeSize=function(u){return arguments.length?(r=!0,t=+u[0],n=+u[1],i):r?[t,n]:null},i}function Sm(e,t,n,r,i){for(var o=e.children,s,a=-1,l=o.length,u=e.value&&(i-n)/e.value;++a<l;)s=o[a],s.x0=t,s.x1=r,s.y0=n,s.y1=n+=s.value*u}var TU=(1+Math.sqrt(5))/2;function OU(e,t,n,r,i,o){for(var s=[],a=t.children,l,u,c=0,f=0,h=a.length,p,g,m=t.value,y,v,b,x,w,_,$;c<h;){p=i-n,g=o-r;do y=a[f++].value;while(!y&&f<h);for(v=b=y,_=Math.max(g/p,p/g)/(m*e),$=y*y*_,w=Math.max(b/$,$/v);f<h;++f){if(y+=u=a[f].value,u<v&&(v=u),u>b&&(b=u),$=y*y*_,x=Math.max(b/$,$/v),x>w){y-=u;break}w=x}s.push(l={value:y,dice:p<g,children:a.slice(c,f)}),l.dice?Vh(l,n,r,i,m?r+=g*y/m:o):Sm(l,n,r,m?n+=p*y/m:i,o),m-=y,c=f}return s}const C5=function e(t){function n(r,i,o,s,a){OU(t,r,i,o,s,a)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(TU);function FU(){var e=C5,t=!1,n=1,r=1,i=[0],o=Zu,s=Zu,a=Zu,l=Zu,u=Zu;function c(h){return h.x0=h.y0=0,h.x1=n,h.y1=r,h.eachBefore(f),i=[0],t&&h.eachBefore(AU),h}function f(h){var p=i[h.depth],g=h.x0+p,m=h.y0+p,y=h.x1-p,v=h.y1-p;y<g&&(g=y=(g+y)/2),v<m&&(m=v=(m+v)/2),h.x0=g,h.y0=m,h.x1=y,h.y1=v,h.children&&(p=i[h.depth+1]=o(h)/2,g+=u(h)-p,m+=s(h)-p,y-=a(h)-p,v-=l(h)-p,y<g&&(g=y=(g+y)/2),v<m&&(m=v=(m+v)/2),e(h,g,m,y,v))}return c.round=function(h){return arguments.length?(t=!!h,c):t},c.size=function(h){return arguments.length?(n=+h[0],r=+h[1],c):[n,r]},c.tile=function(h){return arguments.length?(e=wU(h),c):e},c.padding=function(h){return arguments.length?c.paddingInner(h).paddingOuter(h):c.paddingInner()},c.paddingInner=function(h){return arguments.length?(o=typeof h=="function"?h:sd(+h),c):o},c.paddingOuter=function(h){return arguments.length?c.paddingTop(h).paddingRight(h).paddingBottom(h).paddingLeft(h):c.paddingTop()},c.paddingTop=function(h){return arguments.length?(s=typeof h=="function"?h:sd(+h),c):s},c.paddingRight=function(h){return arguments.length?(a=typeof h=="function"?h:sd(+h),c):a},c.paddingBottom=function(h){return arguments.length?(l=typeof h=="function"?h:sd(+h),c):l},c.paddingLeft=function(h){return arguments.length?(u=typeof h=="function"?h:sd(+h),c):u},c}function NU(e,t,n,r,i){var o=e.children,s,a=o.length,l,u=new Array(a+1);for(u[0]=l=s=0;s<a;++s)u[s+1]=l+=o[s].value;c(0,a,e.value,t,n,r,i);function c(f,h,p,g,m,y,v){if(f>=h-1){var b=o[f];b.x0=g,b.y0=m,b.x1=y,b.y1=v;return}for(var x=u[f],w=p/2+x,_=f+1,$=h-1;_<$;){var S=_+$>>>1;u[S]<w?_=S+1:$=S}w-u[_-1]<u[_]-w&&f+1<_&&--_;var C=u[_]-x,T=p-C;if(y-g>v-m){var M=p?(g*T+y*C)/p:y;c(f,_,C,g,m,M,v),c(_,h,T,M,m,y,v)}else{var E=p?(m*T+v*C)/p:v;c(f,_,C,g,m,y,E),c(_,h,T,g,E,y,v)}}}function RU(e,t,n,r,i){(e.depth&1?Sm:Vh)(e,t,n,r,i)}const PU=function e(t){function n(r,i,o,s,a){if((l=r._squarify)&&l.ratio===t)for(var l,u,c,f,h=-1,p,g=l.length,m=r.value;++h<g;){for(u=l[h],c=u.children,f=u.value=0,p=c.length;f<p;++f)u.value+=c[f].value;u.dice?Vh(u,i,o,s,m?o+=(a-o)*u.value/m:a):Sm(u,i,o,m?i+=(s-i)*u.value/m:s,a),m-=u.value}else r._squarify=l=OU(t,r,i,o,s,a),l.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(TU);function mSe(e){for(var t=-1,n=e.length,r,i=e[n-1],o=0;++t<n;)r=i,i=e[t],o+=r[1]*i[0]-r[0]*i[1];return o/2}function ySe(e){for(var t=-1,n=e.length,r=0,i=0,o,s=e[n-1],a,l=0;++t<n;)o=s,s=e[t],l+=a=o[0]*s[1]-s[0]*o[1],r+=(o[0]+s[0])*a,i+=(o[1]+s[1])*a;return l*=3,[r/l,i/l]}function vSe(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function bSe(e,t){return e[0]-t[0]||e[1]-t[1]}function aF(e){const t=e.length,n=[0,1];let r=2,i;for(i=2;i<t;++i){for(;r>1&&vSe(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function xSe(e){if((n=e.length)<3)return null;var t,n,r=new Array(n),i=new Array(n);for(t=0;t<n;++t)r[t]=[+e[t][0],+e[t][1],t];for(r.sort(bSe),t=0;t<n;++t)i[t]=[r[t][0],-r[t][1]];var o=aF(r),s=aF(i),a=s[0]===o[0],l=s[s.length-1]===o[o.length-1],u=[];for(t=o.length-1;t>=0;--t)u.push(e[r[o[t]][2]]);for(t=+a;t<s.length-l;++t)u.push(e[r[s[t]][2]]);return u}function wSe(e,t){for(var n=e.length,r=e[n-1],i=t[0],o=t[1],s=r[0],a=r[1],l,u,c=!1,f=0;f<n;++f)r=e[f],l=r[0],u=r[1],u>o!=a>o&&i<(s-l)*(o-u)/(a-u)+l&&(c=!c),s=l,a=u;return c}function _Se(e){for(var t=-1,n=e.length,r=e[n-1],i,o,s=r[0],a=r[1],l=0;++t<n;)i=s,o=a,r=e[t],s=r[0],a=r[1],i-=s,o-=a,l+=Math.hypot(i,o);return l}const Gn=Math.random,ESe=function e(t){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,arguments.length===1?(i=r,r=0):i-=r,function(){return t()*i+r}}return n.source=e,n}(Gn),SSe=function e(t){function n(r,i){return arguments.length<2&&(i=r,r=0),r=Math.floor(r),i=Math.floor(i)-r,function(){return Math.floor(t()*i+r)}}return n.source=e,n}(Gn),A5=function e(t){function n(r,i){var o,s;return r=r==null?0:+r,i=i==null?1:+i,function(){var a;if(o!=null)a=o,o=null;else do o=t()*2-1,a=t()*2-1,s=o*o+a*a;while(!s||s>1);return r+i*a*Math.sqrt(-2*Math.log(s)/s)}}return n.source=e,n}(Gn),$Se=function e(t){var n=A5.source(t);function r(){var i=n.apply(this,arguments);return function(){return Math.exp(i())}}return r.source=e,r}(Gn),IU=function e(t){function n(r){return(r=+r)<=0?()=>0:function(){for(var i=0,o=r;o>1;--o)i+=t();return i+o*t()}}return n.source=e,n}(Gn),CSe=function e(t){var n=IU.source(t);function r(i){if((i=+i)==0)return t;var o=n(i);return function(){return o()/i}}return r.source=e,r}(Gn),ASe=function e(t){function n(r){return function(){return-Math.log1p(-t())/r}}return n.source=e,n}(Gn),kSe=function e(t){function n(r){if((r=+r)<0)throw new RangeError("invalid alpha");return r=1/-r,function(){return Math.pow(1-t(),r)}}return n.source=e,n}(Gn),MSe=function e(t){function n(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return function(){return Math.floor(t()+r)}}return n.source=e,n}(Gn),DU=function e(t){function n(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return r===0?()=>1/0:r===1?()=>1:(r=Math.log1p(-r),function(){return 1+Math.floor(Math.log1p(-t())/r)})}return n.source=e,n}(Gn),k5=function e(t){var n=A5.source(t)();function r(i,o){if((i=+i)<0)throw new RangeError("invalid k");if(i===0)return()=>0;if(o=o==null?1:+o,i===1)return()=>-Math.log1p(-t())*o;var s=(i<1?i+1:i)-1/3,a=1/(3*Math.sqrt(s)),l=i<1?()=>Math.pow(t(),1/i):()=>1;return function(){do{do var u=n(),c=1+a*u;while(c<=0);c*=c*c;var f=1-t()}while(f>=1-.0331*u*u*u*u&&Math.log(f)>=.5*u*u+s*(1-c+Math.log(c)));return s*c*l()*o}}return r.source=e,r}(Gn),LU=function e(t){var n=k5.source(t);function r(i,o){var s=n(i),a=n(o);return function(){var l=s();return l===0?0:l/(l+a())}}return r.source=e,r}(Gn),zU=function e(t){var n=DU.source(t),r=LU.source(t);function i(o,s){return o=+o,(s=+s)>=1?()=>o:s<=0?()=>0:function(){for(var a=0,l=o,u=s;l*u>16&&l*(1-u)>16;){var c=Math.floor((l+1)*u),f=r(c,l-c+1)();f<=u?(a+=c,l-=c,u=(u-f)/(1-f)):(l=c-1,u/=f)}for(var h=u<.5,p=h?u:1-u,g=n(p),m=g(),y=0;m<=l;++y)m+=g();return a+(h?y:l-y)}}return i.source=e,i}(Gn),TSe=function e(t){function n(r,i,o){var s;return(r=+r)==0?s=a=>-Math.log(a):(r=1/r,s=a=>Math.pow(a,r)),i=i==null?0:+i,o=o==null?1:+o,function(){return i+o*s(-Math.log1p(-t()))}}return n.source=e,n}(Gn),OSe=function e(t){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,function(){return r+i*Math.tan(Math.PI*t())}}return n.source=e,n}(Gn),FSe=function e(t){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,function(){var o=t();return r+i*Math.log(o/(1-o))}}return n.source=e,n}(Gn),NSe=function e(t){var n=k5.source(t),r=zU.source(t);function i(o){return function(){for(var s=0,a=o;a>16;){var l=Math.floor(.875*a),u=n(l)();if(u>a)return s+r(l-1,a/u)();s+=l,a-=u}for(var c=-Math.log1p(-t()),f=0;c<=a;++f)c-=Math.log1p(-t());return s+f}}return i.source=e,i}(Gn),RSe=1664525,PSe=1013904223,lF=1/4294967296;function ISe(e=Math.random()){let t=(0<=e&&e<1?e/lF:Math.abs(e))|0;return()=>(t=RSe*t+PSe|0,lF*(t>>>0))}function Ji(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ja(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ab=Symbol("implicit");function $m(){var e=new f0,t=[],n=[],r=ab;function i(o){let s=e.get(o);if(s===void 0){if(r!==ab)return r;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new f0;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return $m(t,n).unknown(r)},Ji.apply(i,arguments),i}function M5(){var e=$m().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,s,a=!1,l=0,u=0,c=.5;delete e.unknown;function f(){var h=t().length,p=i<r,g=p?i:r,m=p?r:i;o=(m-g)/Math.max(1,h-l+u*2),a&&(o=Math.floor(o)),g+=(m-g-o*(h-l))*c,s=o*(1-l),a&&(g=Math.round(g),s=Math.round(s));var y=Ar(h).map(function(v){return g+o*v});return n(p?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,f()},e.bandwidth=function(){return s},e.step=function(){return o},e.round=function(h){return arguments.length?(a=!!h,f()):a},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},e.copy=function(){return M5(t(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},Ji.apply(f(),arguments)}function BU(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return BU(t())},e}function DSe(){return BU(M5.apply(null,arguments).paddingInner(1))}function LSe(e){return function(){return e}}function lb(e){return+e}var uF=[0,1];function kr(e){return e}function PS(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:LSe(isNaN(t)?NaN:.5)}function zSe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function BSe(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=PS(i,r),o=n(s,o)):(r=PS(r,i),o=n(o,s)),function(a){return o(r(a))}}function jSe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=PS(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(a){var l=gu(e,a,1,r)-1;return o[l](i[l](a))}}function Cm(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function nx(){var e=uF,t=uF,n=Us,r,i,o,s=kr,a,l,u;function c(){var h=Math.min(e.length,t.length);return s!==kr&&(s=zSe(e[0],e[h-1])),a=h>2?jSe:BSe,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=a(e.map(r),t,n)))(r(s(h)))}return f.invert=function(h){return s(i((u||(u=a(t,e.map(r),mi)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,lb),c()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),c()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=jh,c()},f.clamp=function(h){return arguments.length?(s=h?!0:kr,c()):s!==kr},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,p){return r=h,i=p,c()}}function T5(){return nx()(kr,kr)}function O5(e,t,n,r){var i=Na(e,t,n),o;switch(r=Yl(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=r5(i,s))&&(r.precision=o),Q2(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=i5(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=n5(i))&&(r.precision=o-(r.type==="%")*2);break}}return bm(r)}function yu(e){var t=e.domain;return e.ticks=function(n){var r=t();return Tc(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return O5(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=Oc(s,a,n),u===l)return r[i]=s,r[o]=a,t(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return e},e}function F5(){var e=T5();return e.copy=function(){return Cm(e,F5())},Ji.apply(e,arguments),yu(e)}function N5(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,lb),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return N5(e).unknown(t)},e=arguments.length?Array.from(e,lb):[0,1],yu(n)}function jU(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),e[n]=t.floor(i),e[r]=t.ceil(o),e}function cF(e){return Math.log(e)}function fF(e){return Math.exp(e)}function USe(e){return-Math.log(-e)}function qSe(e){return-Math.exp(-e)}function VSe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function HSe(e){return e===10?VSe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function WSe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function dF(e){return(t,n)=>-e(-t,n)}function R5(e){const t=e(cF,fF),n=t.domain;let r=10,i,o;function s(){return i=WSe(r),o=HSe(r),n()[0]<0?(i=dF(i),o=dF(o),e(USe,qSe)):e(cF,fF),t}return t.base=function(a){return arguments.length?(r=+a,s()):r},t.domain=function(a){return arguments.length?(n(a),s()):n()},t.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),p=i(c),g,m;const y=a==null?10:+a;let v=[];if(!(r%1)&&p-h<y){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<r;++g)if(m=h<0?g/o(-h):g*o(h),!(m<u)){if(m>c)break;v.push(m)}}else for(;h<=p;++h)for(g=r-1;g>=1;--g)if(m=h>0?g/o(-h):g*o(h),!(m<u)){if(m>c)break;v.push(m)}v.length*2<y&&(v=Tc(u,c,y))}else v=Tc(h,p,Math.min(p-h,y)).map(o);return f?v.reverse():v},t.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Yl(l)).precision==null&&(l.trim=!0),l=bm(l)),a===1/0)return l;const u=Math.max(1,r*a/t.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},t.nice=()=>n(jU(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),t}function P5(){const e=R5(nx()).domain([1,10]);return e.copy=()=>Cm(e,P5()).base(e.base()),Ji.apply(e,arguments),e}function hF(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function pF(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function I5(e){var t=1,n=e(hF(t),pF(t));return n.constant=function(r){return arguments.length?e(hF(t=+r),pF(t)):t},yu(n)}function D5(){var e=I5(nx());return e.copy=function(){return Cm(e,D5()).constant(e.constant())},Ji.apply(e,arguments)}function gF(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function GSe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function YSe(e){return e<0?-e*e:e*e}function L5(e){var t=e(kr,kr),n=1;function r(){return n===1?e(kr,kr):n===.5?e(GSe,YSe):e(gF(n),gF(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},yu(t)}function rx(){var e=L5(nx());return e.copy=function(){return Cm(e,rx()).exponent(e.exponent())},Ji.apply(e,arguments),e}function UU(){return rx.apply(null,arguments).exponent(.5)}function mF(e){return Math.sign(e)*e*e}function XSe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function qU(){var e=T5(),t=[0,1],n=!1,r;function i(o){var s=XSe(e(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return e.invert(mF(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,lb)).map(mF)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return qU(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Ji.apply(i,arguments),yu(i)}function z5(){var e=[],t=[],n=[],r;function i(){var s=0,a=Math.max(1,t.length);for(n=new Array(a-1);++s<a;)n[s-1]=$8(e,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:t[gu(n,s)]}return o.invertExtent=function(s){var a=t.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ut),i()},o.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return z5().domain(e).range(t).unknown(r)},Ji.apply(o,arguments)}function B5(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[gu(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,a()):[e,t]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return B5().domain([e,t]).range(i).unknown(o)},Ji.apply(yu(s),arguments)}function j5(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[gu(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return j5().domain(e).range(t).unknown(n)},Ji.apply(i,arguments)}const s3=new Date,a3=new Date;function fn(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),t(o,a),e(o);while(u<o&&o<s);return l},i.filter=o=>fn(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;t(s,-1),!o(s););else for(;--a>=0;)for(;t(s,1),!o(s););}),n&&(i.count=(o,s)=>(s3.setTime(+o),a3.setTime(+s),e(s3),e(a3),Math.floor(n(s3,a3))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Xl=fn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Xl.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?fn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Xl);const yF=Xl.range,ba=1e3,Di=ba*60,xa=Di*60,Pa=xa*24,U5=Pa*7,vF=Pa*30,l3=Pa*365,bo=fn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ba)},(e,t)=>(t-e)/ba,e=>e.getUTCSeconds()),bF=bo.range,Am=fn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ba)},(e,t)=>{e.setTime(+e+t*Di)},(e,t)=>(t-e)/Di,e=>e.getMinutes()),KSe=Am.range,km=fn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Di)},(e,t)=>(t-e)/Di,e=>e.getUTCMinutes()),JSe=km.range,Mm=fn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ba-e.getMinutes()*Di)},(e,t)=>{e.setTime(+e+t*xa)},(e,t)=>(t-e)/xa,e=>e.getHours()),QSe=Mm.range,Tm=fn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*xa)},(e,t)=>(t-e)/xa,e=>e.getUTCHours()),ZSe=Tm.range,$s=fn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Di)/Pa,e=>e.getDate()-1),e6e=$s.range,Sa=fn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Pa,e=>e.getUTCDate()-1),t6e=Sa.range,q5=fn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Pa,e=>Math.floor(e/Pa)),n6e=q5.range;function gf(e){return fn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Di)/U5)}const Kl=gf(0),k0=gf(1),VU=gf(2),HU=gf(3),zc=gf(4),WU=gf(5),GU=gf(6),xF=Kl.range,r6e=k0.range,i6e=VU.range,o6e=HU.range,s6e=zc.range,a6e=WU.range,l6e=GU.range;function mf(e){return fn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/U5)}const Jl=mf(0),M0=mf(1),YU=mf(2),XU=mf(3),Bc=mf(4),KU=mf(5),JU=mf(6),wF=Jl.range,u6e=M0.range,c6e=YU.range,f6e=XU.range,d6e=Bc.range,h6e=KU.range,p6e=JU.range,Zd=fn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth()),g6e=Zd.range,eh=fn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth()),m6e=eh.range,Ro=fn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ro.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:fn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});const y6e=Ro.range,Po=fn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Po.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:fn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});const v6e=Po.range;function QU(e,t,n,r,i,o){const s=[[bo,1,ba],[bo,5,5*ba],[bo,15,15*ba],[bo,30,30*ba],[o,1,Di],[o,5,5*Di],[o,15,15*Di],[o,30,30*Di],[i,1,xa],[i,3,3*xa],[i,6,6*xa],[i,12,12*xa],[r,1,Pa],[r,2,2*Pa],[n,1,U5],[t,1,vF],[t,3,3*vF],[e,1,l3]];function a(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const p=f&&typeof f.range=="function"?f:l(u,c,f),g=p?p.range(u,+c+1):[];return h?g.reverse():g}function l(u,c,f){const h=Math.abs(c-u)/f,p=Lh(([,,y])=>y).right(s,h);if(p===s.length)return e.every(Na(u/l3,c/l3,f));if(p===0)return Xl.every(Math.max(Na(u,c,f),1));const[g,m]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return g.every(m)}return[a,l]}const[ZU,eq]=QU(Po,eh,Jl,q5,Tm,km),[tq,nq]=QU(Ro,Zd,Kl,$s,Mm,Am);function u3(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function c3(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function _p(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function V5(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,a=e.months,l=e.shortMonths,u=Ep(i),c=Sp(i),f=Ep(o),h=Sp(o),p=Ep(s),g=Sp(s),m=Ep(a),y=Sp(a),v=Ep(l),b=Sp(l),x={a:R,A:D,b:z,B:U,c:null,d:AF,e:AF,f:j6e,g:J6e,G:Z6e,H:L6e,I:z6e,j:B6e,L:rq,m:U6e,M:q6e,p:H,q:W,Q:TF,s:OF,S:V6e,u:H6e,U:W6e,V:G6e,w:Y6e,W:X6e,x:null,X:null,y:K6e,Y:Q6e,Z:e4e,"%":MF},w={a:he,A:ae,b:Ce,B:xe,c:null,d:kF,e:kF,f:i4e,g:p4e,G:m4e,H:t4e,I:n4e,j:r4e,L:oq,m:o4e,M:s4e,p:B,q:Q,Q:TF,s:OF,S:a4e,u:l4e,U:u4e,V:c4e,w:f4e,W:d4e,x:null,X:null,y:h4e,Y:g4e,Z:y4e,"%":MF},_={a:M,A:E,b:N,B:k,c:A,d:$F,e:$F,f:R6e,g:SF,G:EF,H:CF,I:CF,j:T6e,L:N6e,m:M6e,M:O6e,p:T,q:k6e,Q:I6e,s:D6e,S:F6e,u:E6e,U:S6e,V:$6e,w:_6e,W:C6e,x:O,X:F,y:SF,Y:EF,Z:A6e,"%":P6e};x.x=$(n,x),x.X=$(r,x),x.c=$(t,x),w.x=$(n,w),w.X=$(r,w),w.c=$(t,w);function $(q,K){return function(ce){var I=[],L=-1,j=0,X=q.length,ee,Y,ue;for(ce instanceof Date||(ce=new Date(+ce));++L<X;)q.charCodeAt(L)===37&&(I.push(q.slice(j,L)),(Y=_F[ee=q.charAt(++L)])!=null?ee=q.charAt(++L):Y=ee==="e"?" ":"0",(ue=K[ee])&&(ee=ue(ce,Y)),I.push(ee),j=L+1);return I.push(q.slice(j,L)),I.join("")}}function S(q,K){return function(ce){var I=_p(1900,void 0,1),L=C(I,q,ce+="",0),j,X;if(L!=ce.length)return null;if("Q"in I)return new Date(I.Q);if("s"in I)return new Date(I.s*1e3+("L"in I?I.L:0));if(K&&!("Z"in I)&&(I.Z=0),"p"in I&&(I.H=I.H%12+I.p*12),I.m===void 0&&(I.m="q"in I?I.q:0),"V"in I){if(I.V<1||I.V>53)return null;"w"in I||(I.w=1),"Z"in I?(j=c3(_p(I.y,0,1)),X=j.getUTCDay(),j=X>4||X===0?M0.ceil(j):M0(j),j=Sa.offset(j,(I.V-1)*7),I.y=j.getUTCFullYear(),I.m=j.getUTCMonth(),I.d=j.getUTCDate()+(I.w+6)%7):(j=u3(_p(I.y,0,1)),X=j.getDay(),j=X>4||X===0?k0.ceil(j):k0(j),j=$s.offset(j,(I.V-1)*7),I.y=j.getFullYear(),I.m=j.getMonth(),I.d=j.getDate()+(I.w+6)%7)}else("W"in I||"U"in I)&&("w"in I||(I.w="u"in I?I.u%7:"W"in I?1:0),X="Z"in I?c3(_p(I.y,0,1)).getUTCDay():u3(_p(I.y,0,1)).getDay(),I.m=0,I.d="W"in I?(I.w+6)%7+I.W*7-(X+5)%7:I.w+I.U*7-(X+6)%7);return"Z"in I?(I.H+=I.Z/100|0,I.M+=I.Z%100,c3(I)):u3(I)}}function C(q,K,ce,I){for(var L=0,j=K.length,X=ce.length,ee,Y;L<j;){if(I>=X)return-1;if(ee=K.charCodeAt(L++),ee===37){if(ee=K.charAt(L++),Y=_[ee in _F?K.charAt(L++):ee],!Y||(I=Y(q,ce,I))<0)return-1}else if(ee!=ce.charCodeAt(I++))return-1}return I}function T(q,K,ce){var I=u.exec(K.slice(ce));return I?(q.p=c.get(I[0].toLowerCase()),ce+I[0].length):-1}function M(q,K,ce){var I=p.exec(K.slice(ce));return I?(q.w=g.get(I[0].toLowerCase()),ce+I[0].length):-1}function E(q,K,ce){var I=f.exec(K.slice(ce));return I?(q.w=h.get(I[0].toLowerCase()),ce+I[0].length):-1}function N(q,K,ce){var I=v.exec(K.slice(ce));return I?(q.m=b.get(I[0].toLowerCase()),ce+I[0].length):-1}function k(q,K,ce){var I=m.exec(K.slice(ce));return I?(q.m=y.get(I[0].toLowerCase()),ce+I[0].length):-1}function A(q,K,ce){return C(q,t,K,ce)}function O(q,K,ce){return C(q,n,K,ce)}function F(q,K,ce){return C(q,r,K,ce)}function R(q){return s[q.getDay()]}function D(q){return o[q.getDay()]}function z(q){return l[q.getMonth()]}function U(q){return a[q.getMonth()]}function H(q){return i[+(q.getHours()>=12)]}function W(q){return 1+~~(q.getMonth()/3)}function he(q){return s[q.getUTCDay()]}function ae(q){return o[q.getUTCDay()]}function Ce(q){return l[q.getUTCMonth()]}function xe(q){return a[q.getUTCMonth()]}function B(q){return i[+(q.getUTCHours()>=12)]}function Q(q){return 1+~~(q.getUTCMonth()/3)}return{format:function(q){var K=$(q+="",x);return K.toString=function(){return q},K},parse:function(q){var K=S(q+="",!1);return K.toString=function(){return q},K},utcFormat:function(q){var K=$(q+="",w);return K.toString=function(){return q},K},utcParse:function(q){var K=S(q+="",!0);return K.toString=function(){return q},K}}}var _F={"-":"",_:" ",0:"0"},Ln=/^\s*\d+/,b6e=/^%/,x6e=/[\\^$*+?|[\]().{}]/g;function yt(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function w6e(e){return e.replace(x6e,"\\$&")}function Ep(e){return new RegExp("^(?:"+e.map(w6e).join("|")+")","i")}function Sp(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function _6e(e,t,n){var r=Ln.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function E6e(e,t,n){var r=Ln.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function S6e(e,t,n){var r=Ln.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function $6e(e,t,n){var r=Ln.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function C6e(e,t,n){var r=Ln.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function EF(e,t,n){var r=Ln.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function SF(e,t,n){var r=Ln.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function A6e(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function k6e(e,t,n){var r=Ln.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function M6e(e,t,n){var r=Ln.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function $F(e,t,n){var r=Ln.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function T6e(e,t,n){var r=Ln.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function CF(e,t,n){var r=Ln.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function O6e(e,t,n){var r=Ln.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function F6e(e,t,n){var r=Ln.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function N6e(e,t,n){var r=Ln.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function R6e(e,t,n){var r=Ln.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function P6e(e,t,n){var r=b6e.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function I6e(e,t,n){var r=Ln.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function D6e(e,t,n){var r=Ln.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function AF(e,t){return yt(e.getDate(),t,2)}function L6e(e,t){return yt(e.getHours(),t,2)}function z6e(e,t){return yt(e.getHours()%12||12,t,2)}function B6e(e,t){return yt(1+$s.count(Ro(e),e),t,3)}function rq(e,t){return yt(e.getMilliseconds(),t,3)}function j6e(e,t){return rq(e,t)+"000"}function U6e(e,t){return yt(e.getMonth()+1,t,2)}function q6e(e,t){return yt(e.getMinutes(),t,2)}function V6e(e,t){return yt(e.getSeconds(),t,2)}function H6e(e){var t=e.getDay();return t===0?7:t}function W6e(e,t){return yt(Kl.count(Ro(e)-1,e),t,2)}function iq(e){var t=e.getDay();return t>=4||t===0?zc(e):zc.ceil(e)}function G6e(e,t){return e=iq(e),yt(zc.count(Ro(e),e)+(Ro(e).getDay()===4),t,2)}function Y6e(e){return e.getDay()}function X6e(e,t){return yt(k0.count(Ro(e)-1,e),t,2)}function K6e(e,t){return yt(e.getFullYear()%100,t,2)}function J6e(e,t){return e=iq(e),yt(e.getFullYear()%100,t,2)}function Q6e(e,t){return yt(e.getFullYear()%1e4,t,4)}function Z6e(e,t){var n=e.getDay();return e=n>=4||n===0?zc(e):zc.ceil(e),yt(e.getFullYear()%1e4,t,4)}function e4e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+yt(t/60|0,"0",2)+yt(t%60,"0",2)}function kF(e,t){return yt(e.getUTCDate(),t,2)}function t4e(e,t){return yt(e.getUTCHours(),t,2)}function n4e(e,t){return yt(e.getUTCHours()%12||12,t,2)}function r4e(e,t){return yt(1+Sa.count(Po(e),e),t,3)}function oq(e,t){return yt(e.getUTCMilliseconds(),t,3)}function i4e(e,t){return oq(e,t)+"000"}function o4e(e,t){return yt(e.getUTCMonth()+1,t,2)}function s4e(e,t){return yt(e.getUTCMinutes(),t,2)}function a4e(e,t){return yt(e.getUTCSeconds(),t,2)}function l4e(e){var t=e.getUTCDay();return t===0?7:t}function u4e(e,t){return yt(Jl.count(Po(e)-1,e),t,2)}function sq(e){var t=e.getUTCDay();return t>=4||t===0?Bc(e):Bc.ceil(e)}function c4e(e,t){return e=sq(e),yt(Bc.count(Po(e),e)+(Po(e).getUTCDay()===4),t,2)}function f4e(e){return e.getUTCDay()}function d4e(e,t){return yt(M0.count(Po(e)-1,e),t,2)}function h4e(e,t){return yt(e.getUTCFullYear()%100,t,2)}function p4e(e,t){return e=sq(e),yt(e.getUTCFullYear()%100,t,2)}function g4e(e,t){return yt(e.getUTCFullYear()%1e4,t,4)}function m4e(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Bc(e):Bc.ceil(e),yt(e.getUTCFullYear()%1e4,t,4)}function y4e(){return"+0000"}function MF(){return"%"}function TF(e){return+e}function OF(e){return Math.floor(+e/1e3)}var Wf,ix,H5,Om,ox;aq({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function aq(e){return Wf=V5(e),ix=Wf.format,H5=Wf.parse,Om=Wf.utcFormat,ox=Wf.utcParse,Wf}var lq="%Y-%m-%dT%H:%M:%S.%LZ";function v4e(e){return e.toISOString()}var b4e=Date.prototype.toISOString?v4e:Om(lq);const x4e=b4e;function w4e(e){var t=new Date(e);return isNaN(t)?null:t}var _4e=+new Date("2000-01-01T00:00:00.000Z")?w4e:ox(lq);const E4e=_4e;function S4e(e){return new Date(e)}function $4e(e){return e instanceof Date?+e:+new Date(+e)}function W5(e,t,n,r,i,o,s,a,l,u){var c=T5(),f=c.invert,h=c.domain,p=u(".%L"),g=u(":%S"),m=u("%I:%M"),y=u("%I %p"),v=u("%a %d"),b=u("%b %d"),x=u("%B"),w=u("%Y");function _($){return(l($)<$?p:a($)<$?g:s($)<$?m:o($)<$?y:r($)<$?i($)<$?v:b:n($)<$?x:w)($)}return c.invert=function($){return new Date(f($))},c.domain=function($){return arguments.length?h(Array.from($,$4e)):h().map(S4e)},c.ticks=function($){var S=h();return e(S[0],S[S.length-1],$??10)},c.tickFormat=function($,S){return S==null?_:u(S)},c.nice=function($){var S=h();return(!$||typeof $.range!="function")&&($=t(S[0],S[S.length-1],$??10)),$?h(jU(S,$)):c},c.copy=function(){return Cm(c,W5(e,t,n,r,i,o,s,a,l,u))},c}function uq(){return Ji.apply(W5(tq,nq,Ro,Zd,Kl,$s,Mm,Am,bo,ix).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function cq(){return Ji.apply(W5(ZU,eq,Po,eh,Jl,Sa,Tm,km,bo,Om).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function sx(){var e=0,t=1,n,r,i,o,s=kr,a=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(a=!!f,u):a},u.interpolator=function(f){return arguments.length?(s=f,u):s};function c(f){return function(h){var p,g;return arguments.length?([p,g]=h,s=f(p,g),u):[s(0),s(1)]}}return u.range=c(Us),u.rangeRound=c(jh),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),u}}function vu(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ax(){var e=yu(sx()(kr));return e.copy=function(){return vu(e,ax())},ja.apply(e,arguments)}function G5(){var e=R5(sx()).domain([1,10]);return e.copy=function(){return vu(e,G5()).base(e.base())},ja.apply(e,arguments)}function Y5(){var e=I5(sx());return e.copy=function(){return vu(e,Y5()).constant(e.constant())},ja.apply(e,arguments)}function lx(){var e=L5(sx());return e.copy=function(){return vu(e,lx()).exponent(e.exponent())},ja.apply(e,arguments)}function fq(){return lx.apply(null,arguments).exponent(.5)}function dq(){var e=[],t=kr;function n(r){if(r!=null&&!isNaN(r=+r))return t((gu(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ut),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Fc(e,o/r))},n.copy=function(){return dq(t).domain(e)},ja.apply(n,arguments)}function ux(){var e=0,t=.5,n=1,r=1,i,o,s,a,l,u=kr,c,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+c(m))-o)*(r*m<r*o?a:l),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,n]=m,i=c(e=+e),o=c(t=+t),s=c(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,p):[e,t,n]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function g(m){return function(y){var v,b,x;return arguments.length?([v,b,x]=y,u=V2(m,[v,b,x]),p):[u(0),u(.5),u(1)]}}return p.range=g(Us),p.rangeRound=g(jh),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return c=m,i=m(e),o=m(t),s=m(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,p}}function X5(){var e=yu(ux()(kr));return e.copy=function(){return vu(e,X5())},ja.apply(e,arguments)}function K5(){var e=R5(ux()).domain([.1,1,10]);return e.copy=function(){return vu(e,K5()).base(e.base())},ja.apply(e,arguments)}function J5(){var e=I5(ux());return e.copy=function(){return vu(e,J5()).constant(e.constant())},ja.apply(e,arguments)}function cx(){var e=L5(ux());return e.copy=function(){return vu(e,cx()).exponent(e.exponent())},ja.apply(e,arguments)}function hq(){return cx.apply(null,arguments).exponent(.5)}function Ze(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const C4e=Ze("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),A4e=Ze("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),k4e=Ze("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),M4e=Ze("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),T4e=Ze("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),O4e=Ze("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),F4e=Ze("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),N4e=Ze("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),R4e=Ze("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),P4e=Ze("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Ot=e=>z8(e[e.length-1]);var pq=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Ze);const I4e=Ot(pq);var gq=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Ze);const D4e=Ot(gq);var mq=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Ze);const L4e=Ot(mq);var yq=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Ze);const z4e=Ot(yq);var vq=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Ze);const B4e=Ot(vq);var bq=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Ze);const j4e=Ot(bq);var xq=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Ze);const U4e=Ot(xq);var wq=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Ze);const q4e=Ot(wq);var _q=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Ze);const V4e=Ot(_q);var Eq=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Ze);const H4e=Ot(Eq);var Sq=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Ze);const W4e=Ot(Sq);var $q=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Ze);const G4e=Ot($q);var Cq=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Ze);const Y4e=Ot(Cq);var Aq=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Ze);const X4e=Ot(Aq);var kq=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Ze);const K4e=Ot(kq);var Mq=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Ze);const J4e=Ot(Mq);var Tq=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Ze);const Q4e=Ot(Tq);var Oq=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Ze);const Z4e=Ot(Oq);var Fq=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Ze);const e8e=Ot(Fq);var Nq=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Ze);const t8e=Ot(Nq);var Rq=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Ze);const n8e=Ot(Rq);var Pq=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Ze);const r8e=Ot(Pq);var Iq=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Ze);const i8e=Ot(Iq);var Dq=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Ze);const o8e=Ot(Dq);var Lq=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Ze);const s8e=Ot(Lq);var zq=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Ze);const a8e=Ot(zq);var Bq=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Ze);const l8e=Ot(Bq);function u8e(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const c8e=pm(No(300,.5,0),No(-240,.5,1));var f8e=pm(No(-100,.75,.35),No(80,1.5,.8)),d8e=pm(No(260,.75,.35),No(80,1.5,.8)),J1=No();function h8e(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return J1.h=360*e-100,J1.s=1.5-1.5*t,J1.l=.8-.9*t,J1+""}var Q1=Ns(),p8e=Math.PI/3,g8e=Math.PI*2/3;function m8e(e){var t;return e=(.5-e)*Math.PI,Q1.r=255*(t=Math.sin(e))*t,Q1.g=255*(t=Math.sin(e+p8e))*t,Q1.b=255*(t=Math.sin(e+g8e))*t,Q1+""}function y8e(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function fx(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const v8e=fx(Ze("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var b8e=fx(Ze("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),x8e=fx(Ze("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),w8e=fx(Ze("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Xe(e){return function(){return e}}const FF=Math.abs,Qn=Math.atan2,da=Math.cos,_8e=Math.max,Sd=Math.min,zr=Math.sin,jt=Math.sqrt,Zn=1e-12,Ql=Math.PI,ub=Ql/2,Il=2*Ql;function E8e(e){return e>1?0:e<-1?Ql:Math.acos(e)}function NF(e){return e>=1?ub:e<=-1?-ub:Math.asin(e)}function Fm(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new mm(t)}function S8e(e){return e.innerRadius}function $8e(e){return e.outerRadius}function C8e(e){return e.startAngle}function A8e(e){return e.endAngle}function k8e(e){return e&&e.padAngle}function M8e(e,t,n,r,i,o,s,a){var l=n-e,u=r-t,c=s-i,f=a-o,h=f*l-c*u;if(!(h*h<Zn))return h=(c*(t-o)-f*(e-i))/h,[e+h*l,t+h*u]}function Z1(e,t,n,r,i,o,s){var a=e-n,l=t-r,u=(s?o:-o)/jt(a*a+l*l),c=u*l,f=-u*a,h=e+c,p=t+f,g=n+c,m=r+f,y=(h+g)/2,v=(p+m)/2,b=g-h,x=m-p,w=b*b+x*x,_=i-o,$=h*m-g*p,S=(x<0?-1:1)*jt(_8e(0,_*_*w-$*$)),C=($*x-b*S)/w,T=(-$*b-x*S)/w,M=($*x+b*S)/w,E=(-$*b+x*S)/w,N=C-y,k=T-v,A=M-y,O=E-v;return N*N+k*k>A*A+O*O&&(C=M,T=E),{cx:C,cy:T,x01:-c,y01:-f,x11:C*(i/_-1),y11:T*(i/_-1)}}function jq(){var e=S8e,t=$8e,n=Xe(0),r=null,i=C8e,o=A8e,s=k8e,a=null,l=Fm(u);function u(){var c,f,h=+e.apply(this,arguments),p=+t.apply(this,arguments),g=i.apply(this,arguments)-ub,m=o.apply(this,arguments)-ub,y=FF(m-g),v=m>g;if(a||(a=c=l()),p<h&&(f=p,p=h,h=f),!(p>Zn))a.moveTo(0,0);else if(y>Il-Zn)a.moveTo(p*da(g),p*zr(g)),a.arc(0,0,p,g,m,!v),h>Zn&&(a.moveTo(h*da(m),h*zr(m)),a.arc(0,0,h,m,g,v));else{var b=g,x=m,w=g,_=m,$=y,S=y,C=s.apply(this,arguments)/2,T=C>Zn&&(r?+r.apply(this,arguments):jt(h*h+p*p)),M=Sd(FF(p-h)/2,+n.apply(this,arguments)),E=M,N=M,k,A;if(T>Zn){var O=NF(T/h*zr(C)),F=NF(T/p*zr(C));($-=O*2)>Zn?(O*=v?1:-1,w+=O,_-=O):($=0,w=_=(g+m)/2),(S-=F*2)>Zn?(F*=v?1:-1,b+=F,x-=F):(S=0,b=x=(g+m)/2)}var R=p*da(b),D=p*zr(b),z=h*da(_),U=h*zr(_);if(M>Zn){var H=p*da(x),W=p*zr(x),he=h*da(w),ae=h*zr(w),Ce;if(y<Ql)if(Ce=M8e(R,D,he,ae,H,W,z,U)){var xe=R-Ce[0],B=D-Ce[1],Q=H-Ce[0],q=W-Ce[1],K=1/zr(E8e((xe*Q+B*q)/(jt(xe*xe+B*B)*jt(Q*Q+q*q)))/2),ce=jt(Ce[0]*Ce[0]+Ce[1]*Ce[1]);E=Sd(M,(h-ce)/(K-1)),N=Sd(M,(p-ce)/(K+1))}else E=N=0}S>Zn?N>Zn?(k=Z1(he,ae,R,D,p,N,v),A=Z1(H,W,z,U,p,N,v),a.moveTo(k.cx+k.x01,k.cy+k.y01),N<M?a.arc(k.cx,k.cy,N,Qn(k.y01,k.x01),Qn(A.y01,A.x01),!v):(a.arc(k.cx,k.cy,N,Qn(k.y01,k.x01),Qn(k.y11,k.x11),!v),a.arc(0,0,p,Qn(k.cy+k.y11,k.cx+k.x11),Qn(A.cy+A.y11,A.cx+A.x11),!v),a.arc(A.cx,A.cy,N,Qn(A.y11,A.x11),Qn(A.y01,A.x01),!v))):(a.moveTo(R,D),a.arc(0,0,p,b,x,!v)):a.moveTo(R,D),!(h>Zn)||!($>Zn)?a.lineTo(z,U):E>Zn?(k=Z1(z,U,H,W,h,-E,v),A=Z1(R,D,he,ae,h,-E,v),a.lineTo(k.cx+k.x01,k.cy+k.y01),E<M?a.arc(k.cx,k.cy,E,Qn(k.y01,k.x01),Qn(A.y01,A.x01),!v):(a.arc(k.cx,k.cy,E,Qn(k.y01,k.x01),Qn(k.y11,k.x11),!v),a.arc(0,0,h,Qn(k.cy+k.y11,k.cx+k.x11),Qn(A.cy+A.y11,A.cx+A.x11),v),a.arc(A.cx,A.cy,E,Qn(A.y11,A.x11),Qn(A.y01,A.x01),!v))):a.arc(0,0,h,_,w,v)}if(a.closePath(),c)return a=null,c+""||null}return u.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Ql/2;return[da(f)*c,zr(f)*c]},u.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:Xe(+c),u):e},u.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:Xe(+c),u):t},u.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:Xe(+c),u):n},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:Xe(+c),u):r},u.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:Xe(+c),u):i},u.endAngle=function(c){return arguments.length?(o=typeof c=="function"?c:Xe(+c),u):o},u.padAngle=function(c){return arguments.length?(s=typeof c=="function"?c:Xe(+c),u):s},u.context=function(c){return arguments.length?(a=c??null,u):a},u}var T8e=Array.prototype.slice;function dx(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Uq(e){this._context=e}Uq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Nm(e){return new Uq(e)}function Q5(e){return e[0]}function Z5(e){return e[1]}function hx(e,t){var n=Xe(!0),r=null,i=Nm,o=null,s=Fm(a);e=typeof e=="function"?e:e===void 0?Q5:Xe(e),t=typeof t=="function"?t:t===void 0?Z5:Xe(t);function a(l){var u,c=(l=dx(l)).length,f,h=!1,p;for(r==null&&(o=i(p=s())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(f,u,l),+t(f,u,l));if(p)return o=null,p+""||null}return a.x=function(l){return arguments.length?(e=typeof l=="function"?l:Xe(+l),a):e},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:Xe(+l),a):t},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Xe(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function px(e,t,n){var r=null,i=Xe(!0),o=null,s=Nm,a=null,l=Fm(u);e=typeof e=="function"?e:e===void 0?Q5:Xe(+e),t=typeof t=="function"?t:Xe(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Z5:Xe(+n);function u(f){var h,p,g,m=(f=dx(f)).length,y,v=!1,b,x=new Array(m),w=new Array(m);for(o==null&&(a=s(b=l())),h=0;h<=m;++h){if(!(h<m&&i(y=f[h],h,f))===v)if(v=!v)p=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),g=h-1;g>=p;--g)a.point(x[g],w[g]);a.lineEnd(),a.areaEnd()}v&&(x[h]=+e(y,h,f),w[h]=+t(y,h,f),a.point(r?+r(y,h,f):x[h],n?+n(y,h,f):w[h]))}if(b)return a=null,b+""||null}function c(){return hx().defined(i).curve(s).context(o)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Xe(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Xe(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Xe(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Xe(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Xe(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Xe(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Xe(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),u):s},u.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),u):o},u}function O8e(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function F8e(e){return e}function N8e(){var e=F8e,t=O8e,n=null,r=Xe(0),i=Xe(Il),o=Xe(0);function s(a){var l,u=(a=dx(a)).length,c,f,h=0,p=new Array(u),g=new Array(u),m=+r.apply(this,arguments),y=Math.min(Il,Math.max(-Il,i.apply(this,arguments)-m)),v,b=Math.min(Math.abs(y)/u,o.apply(this,arguments)),x=b*(y<0?-1:1),w;for(l=0;l<u;++l)(w=g[p[l]=l]=+e(a[l],l,a))>0&&(h+=w);for(t!=null?p.sort(function(_,$){return t(g[_],g[$])}):n!=null&&p.sort(function(_,$){return n(a[_],a[$])}),l=0,f=h?(y-u*x)/h:0;l<u;++l,m=v)c=p[l],w=g[c],v=m+(w>0?w*f:0)+x,g[c]={data:a[c],index:l,value:w,startAngle:m,endAngle:v,padAngle:b};return g}return s.value=function(a){return arguments.length?(e=typeof a=="function"?a:Xe(+a),s):e},s.sortValues=function(a){return arguments.length?(t=a,n=null,s):t},s.sort=function(a){return arguments.length?(n=a,t=null,s):n},s.startAngle=function(a){return arguments.length?(r=typeof a=="function"?a:Xe(+a),s):r},s.endAngle=function(a){return arguments.length?(i=typeof a=="function"?a:Xe(+a),s):i},s.padAngle=function(a){return arguments.length?(o=typeof a=="function"?a:Xe(+a),s):o},s}var qq=e$(Nm);function Vq(e){this._curve=e}Vq.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};function e$(e){function t(n){return new Vq(e(n))}return t._curve=e,t}function ig(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(n){return arguments.length?t(e$(n)):t()._curve},e}function RF(){return ig(hx().curve(qq))}function PF(){var e=px().curve(qq),t=e.curve,n=e.lineX0,r=e.lineX1,i=e.lineY0,o=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return ig(n())},delete e.lineX0,e.lineEndAngle=function(){return ig(r())},delete e.lineX1,e.lineInnerRadius=function(){return ig(i())},delete e.lineY0,e.lineOuterRadius=function(){return ig(o())},delete e.lineY1,e.curve=function(s){return arguments.length?t(e$(s)):t()._curve},e}function og(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}class Hq{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}class R8e{constructor(t){this._context=t}lineStart(){this._point=0}lineEnd(){}point(t,n){if(t=+t,n=+n,this._point===0)this._point=1;else{const r=og(this._x0,this._y0),i=og(this._x0,this._y0=(this._y0+n)/2),o=og(t,this._y0),s=og(t,n);this._context.moveTo(...r),this._context.bezierCurveTo(...i,...o,...s)}this._x0=t,this._y0=n}}function Wq(e){return new Hq(e,!0)}function Gq(e){return new Hq(e,!1)}function P8e(e){return new R8e(e)}function I8e(e){return e.source}function D8e(e){return e.target}function gx(e){let t=I8e,n=D8e,r=Q5,i=Z5,o=null,s=null,a=Fm(l);function l(){let u;const c=T8e.call(arguments),f=t.apply(this,c),h=n.apply(this,c);if(o==null&&(s=e(u=a())),s.lineStart(),c[0]=f,s.point(+r.apply(this,c),+i.apply(this,c)),c[0]=h,s.point(+r.apply(this,c),+i.apply(this,c)),s.lineEnd(),u)return s=null,u+""||null}return l.source=function(u){return arguments.length?(t=u,l):t},l.target=function(u){return arguments.length?(n=u,l):n},l.x=function(u){return arguments.length?(r=typeof u=="function"?u:Xe(+u),l):r},l.y=function(u){return arguments.length?(i=typeof u=="function"?u:Xe(+u),l):i},l.context=function(u){return arguments.length?(u==null?o=s=null:s=e(o=u),l):o},l}function L8e(){return gx(Wq)}function z8e(){return gx(Gq)}function B8e(){const e=gx(P8e);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}const j8e=jt(3),Yq={draw(e,t){const n=jt(t+Sd(t/28,.75))*.59436,r=n/2,i=r*j8e;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},mx={draw(e,t){const n=jt(t/Ql);e.moveTo(n,0),e.arc(0,0,n,0,Il)}},Xq={draw(e,t){const n=jt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Kq=jt(1/3),U8e=Kq*2,Jq={draw(e,t){const n=jt(t/U8e),r=n*Kq;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Qq={draw(e,t){const n=jt(t)*.62625;e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},Zq={draw(e,t){const n=jt(t-Sd(t/7,2))*.87559;e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},eV={draw(e,t){const n=jt(t),r=-n/2;e.rect(r,r,n,n)}},tV={draw(e,t){const n=jt(t)*.4431;e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},q8e=.8908130915292852,nV=zr(Ql/10)/zr(7*Ql/10),V8e=zr(Il/10)*nV,H8e=-da(Il/10)*nV,rV={draw(e,t){const n=jt(t*q8e),r=V8e*n,i=H8e*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const s=Il*o/5,a=da(s),l=zr(s);e.lineTo(l*n,-a*n),e.lineTo(a*r-l*i,l*r+a*i)}e.closePath()}},f3=jt(3),iV={draw(e,t){const n=-jt(t/(f3*3));e.moveTo(0,n*2),e.lineTo(-f3*n,-n),e.lineTo(f3*n,-n),e.closePath()}},W8e=jt(3),oV={draw(e,t){const n=jt(t)*.6824,r=n/2,i=n*W8e/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},Fi=-.5,Ni=jt(3)/2,IS=1/jt(12),G8e=(IS/2+1)*3,sV={draw(e,t){const n=jt(t/G8e),r=n/2,i=n*IS,o=r,s=n*IS+n,a=-o,l=s;e.moveTo(r,i),e.lineTo(o,s),e.lineTo(a,l),e.lineTo(Fi*r-Ni*i,Ni*r+Fi*i),e.lineTo(Fi*o-Ni*s,Ni*o+Fi*s),e.lineTo(Fi*a-Ni*l,Ni*a+Fi*l),e.lineTo(Fi*r+Ni*i,Fi*i-Ni*r),e.lineTo(Fi*o+Ni*s,Fi*s-Ni*o),e.lineTo(Fi*a+Ni*l,Fi*l-Ni*a),e.closePath()}},DS={draw(e,t){const n=jt(t-Sd(t/6,1.7))*.6189;e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},IF=[mx,Xq,Jq,eV,rV,iV,sV],Y8e=[mx,Zq,DS,oV,Yq,tV,Qq];function aV(e,t){let n=null,r=Fm(i);e=typeof e=="function"?e:Xe(e||mx),t=typeof t=="function"?t:Xe(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:Xe(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:Xe(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Zl(){}function cb(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function yx(e){this._context=e}yx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:cb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:cb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function lV(e){return new yx(e)}function uV(e){this._context=e}uV.prototype={areaStart:Zl,areaEnd:Zl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:cb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function cV(e){return new uV(e)}function fV(e){this._context=e}fV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:cb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function dV(e){return new fV(e)}function hV(e,t){this._basis=new yx(e),this._beta=t}hV.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],o=e[n]-r,s=t[n]-i,a=-1,l;++a<=n;)l=a/n,this._basis.point(this._beta*e[a]+(1-this._beta)*(r+l*o),this._beta*t[a]+(1-this._beta)*(i+l*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const pV=function e(t){function n(r){return t===1?new yx(r):new hV(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function fb(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function t$(e,t){this._context=e,this._k=(1-t)/6}t$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:fb(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:fb(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const gV=function e(t){function n(r){return new t$(r,t)}return n.tension=function(r){return e(+r)},n}(0);function n$(e,t){this._context=e,this._k=(1-t)/6}n$.prototype={areaStart:Zl,areaEnd:Zl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:fb(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const mV=function e(t){function n(r){return new n$(r,t)}return n.tension=function(r){return e(+r)},n}(0);function r$(e,t){this._context=e,this._k=(1-t)/6}r$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:fb(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const yV=function e(t){function n(r){return new r$(r,t)}return n.tension=function(r){return e(+r)},n}(0);function i$(e,t,n){var r=e._x1,i=e._y1,o=e._x2,s=e._y2;if(e._l01_a>Zn){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>Zn){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*u+e._x1*e._l23_2a-t*e._l12_2a)/c,s=(s*u+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,o,s,e._x2,e._y2)}function vV(e,t){this._context=e,this._alpha=t}vV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:i$(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const bV=function e(t){function n(r){return t?new vV(r,t):new t$(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function xV(e,t){this._context=e,this._alpha=t}xV.prototype={areaStart:Zl,areaEnd:Zl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:i$(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const wV=function e(t){function n(r){return t?new xV(r,t):new n$(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function _V(e,t){this._context=e,this._alpha=t}_V.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:i$(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const EV=function e(t){function n(r){return t?new _V(r,t):new r$(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function SV(e){this._context=e}SV.prototype={areaStart:Zl,areaEnd:Zl,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function $V(e){return new SV(e)}function DF(e){return e<0?-1:1}function LF(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(DF(o)+DF(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function zF(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function h3(e,t,n){var r=e._x0,i=e._y0,o=e._x1,s=e._y1,a=(o-r)/3;e._context.bezierCurveTo(r+a,i+a*t,o-a,s-a*n,o,s)}function db(e){this._context=e}db.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:h3(this,this._t0,zF(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,h3(this,zF(this,n=LF(this,e,t)),n);break;default:h3(this,this._t0,n=LF(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function CV(e){this._context=new AV(e)}(CV.prototype=Object.create(db.prototype)).point=function(e,t){db.prototype.point.call(this,t,e)};function AV(e){this._context=e}AV.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function kV(e){return new db(e)}function MV(e){return new CV(e)}function TV(e){this._context=e}TV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=BF(e),i=BF(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function BF(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function OV(e){return new TV(e)}function vx(e,t){this._context=e,this._t=t}vx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function FV(e){return new vx(e,.5)}function NV(e){return new vx(e,0)}function RV(e){return new vx(e,1)}function th(e,t){if((s=e.length)>1)for(var n=1,r,i,o=e[t[0]],s,a=o.length;n<s;++n)for(i=o,o=e[t[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function nh(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function X8e(e,t){return e[t]}function K8e(e){const t=[];return t.key=e,t}function J8e(){var e=Xe([]),t=nh,n=th,r=X8e;function i(o){var s=Array.from(e.apply(this,arguments),K8e),a,l=s.length,u=-1,c;for(const f of o)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(f,s[a].key,u,o)]).data=f;for(a=0,c=dx(t(s));a<l;++a)s[c[a]].index=a;return n(s,c),s}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Xe(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Xe(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?nh:typeof o=="function"?o:Xe(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??th,i):n},i}function Q8e(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}th(e,t)}}function Z8e(e,t){if((l=e.length)>0)for(var n,r=0,i,o,s,a,l,u=e[t[0]].length;r<u;++r)for(s=a=0,n=0;n<l;++n)(o=(i=e[t[n]][r])[1]-i[0])>0?(i[0]=s,i[1]=s+=o):o<0?(i[1]=a,i[0]=a+=o):(i[0]=0,i[1]=o)}function e5e(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=e[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}th(e,t)}}function t5e(e,t){if(!(!((s=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,u=0;a<s;++a){for(var c=e[t[a]],f=c[r][1]||0,h=c[r-1][1]||0,p=(f-h)/2,g=0;g<a;++g){var m=e[t[g]],y=m[r][1]||0,v=m[r-1][1]||0;p+=y-v}l+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,th(e,t)}}function PV(e){var t=e.map(n5e);return nh(e).sort(function(n,r){return t[n]-t[r]})}function n5e(e){for(var t=-1,n=0,r=e.length,i,o=-1/0;++t<r;)(i=+e[t][1])>o&&(o=i,n=t);return n}function IV(e){var t=e.map(DV);return nh(e).sort(function(n,r){return t[n]-t[r]})}function DV(e){for(var t=0,n=-1,r=e.length,i;++n<r;)(i=+e[n][1])&&(t+=i);return t}function r5e(e){return IV(e).reverse()}function i5e(e){var t=e.length,n,r,i=e.map(DV),o=PV(e),s=0,a=0,l=[],u=[];for(n=0;n<t;++n)r=o[n],s<a?(s+=i[r],l.push(r)):(a+=i[r],u.push(r));return u.reverse().concat(l)}function o5e(e){return nh(e).reverse()}const ey=e=>()=>e;function s5e(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function ys(e,t,n){this.k=e,this.x=t,this.y=n}ys.prototype={constructor:ys,scale:function(e){return e===1?this:new ys(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ys(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var bx=new ys(1,0,0);LV.prototype=ys.prototype;function LV(e){for(;!e.__zoom;)if(!(e=e.parentNode))return bx;return e.__zoom}function p3(e){e.stopImmediatePropagation()}function $p(e){e.preventDefault(),e.stopImmediatePropagation()}function a5e(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function l5e(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function jF(){return this.__zoom||bx}function u5e(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function c5e(){return navigator.maxTouchPoints||"ontouchstart"in this}function f5e(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function d5e(){var e=a5e,t=l5e,n=f5e,r=u5e,i=c5e,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,l=V8,u=ff("start","zoom","end"),c,f,h,p=500,g=150,m=0,y=10;function v(A){A.property("__zoom",jF).on("wheel.zoom",C,{passive:!1}).on("mousedown.zoom",T).on("dblclick.zoom",M).filter(i).on("touchstart.zoom",E).on("touchmove.zoom",N).on("touchend.zoom touchcancel.zoom",k).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function(A,O,F,R){var D=A.selection?A.selection():A;D.property("__zoom",jF),A!==D?_(A,O,F,R):D.interrupt().each(function(){$(this,arguments).event(R).start().zoom(null,typeof O=="function"?O.apply(this,arguments):O).end()})},v.scaleBy=function(A,O,F,R){v.scaleTo(A,function(){var D=this.__zoom.k,z=typeof O=="function"?O.apply(this,arguments):O;return D*z},F,R)},v.scaleTo=function(A,O,F,R){v.transform(A,function(){var D=t.apply(this,arguments),z=this.__zoom,U=F==null?w(D):typeof F=="function"?F.apply(this,arguments):F,H=z.invert(U),W=typeof O=="function"?O.apply(this,arguments):O;return n(x(b(z,W),U,H),D,s)},F,R)},v.translateBy=function(A,O,F,R){v.transform(A,function(){return n(this.__zoom.translate(typeof O=="function"?O.apply(this,arguments):O,typeof F=="function"?F.apply(this,arguments):F),t.apply(this,arguments),s)},null,R)},v.translateTo=function(A,O,F,R,D){v.transform(A,function(){var z=t.apply(this,arguments),U=this.__zoom,H=R==null?w(z):typeof R=="function"?R.apply(this,arguments):R;return n(bx.translate(H[0],H[1]).scale(U.k).translate(typeof O=="function"?-O.apply(this,arguments):-O,typeof F=="function"?-F.apply(this,arguments):-F),z,s)},R,D)};function b(A,O){return O=Math.max(o[0],Math.min(o[1],O)),O===A.k?A:new ys(O,A.x,A.y)}function x(A,O,F){var R=O[0]-F[0]*A.k,D=O[1]-F[1]*A.k;return R===A.x&&D===A.y?A:new ys(A.k,R,D)}function w(A){return[(+A[0][0]+ +A[1][0])/2,(+A[0][1]+ +A[1][1])/2]}function _(A,O,F,R){A.on("start.zoom",function(){$(this,arguments).event(R).start()}).on("interrupt.zoom end.zoom",function(){$(this,arguments).event(R).end()}).tween("zoom",function(){var D=this,z=arguments,U=$(D,z).event(R),H=t.apply(D,z),W=F==null?w(H):typeof F=="function"?F.apply(D,z):F,he=Math.max(H[1][0]-H[0][0],H[1][1]-H[0][1]),ae=D.__zoom,Ce=typeof O=="function"?O.apply(D,z):O,xe=l(ae.invert(W).concat(he/ae.k),Ce.invert(W).concat(he/Ce.k));return function(B){if(B===1)B=Ce;else{var Q=xe(B),q=he/Q[2];B=new ys(q,W[0]-Q[0]*q,W[1]-Q[1]*q)}U.zoom(null,B)}})}function $(A,O,F){return!F&&A.__zooming||new S(A,O)}function S(A,O){this.that=A,this.args=O,this.active=0,this.sourceEvent=null,this.extent=t.apply(A,O),this.taps=0}S.prototype={event:function(A){return A&&(this.sourceEvent=A),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(A,O){return this.mouse&&A!=="mouse"&&(this.mouse[1]=O.invert(this.mouse[0])),this.touch0&&A!=="touch"&&(this.touch0[1]=O.invert(this.touch0[0])),this.touch1&&A!=="touch"&&(this.touch1[1]=O.invert(this.touch1[0])),this.that.__zoom=O,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(A){var O=or(this.that).datum();u.call(A,this.that,new s5e(A,{sourceEvent:this.sourceEvent,target:v,type:A,transform:this.that.__zoom,dispatch:u}),O)}};function C(A,...O){if(!e.apply(this,arguments))return;var F=$(this,O).event(A),R=this.__zoom,D=Math.max(o[0],Math.min(o[1],R.k*Math.pow(2,r.apply(this,arguments)))),z=gi(A);if(F.wheel)(F.mouse[0][0]!==z[0]||F.mouse[0][1]!==z[1])&&(F.mouse[1]=R.invert(F.mouse[0]=z)),clearTimeout(F.wheel);else{if(R.k===D)return;F.mouse=[z,R.invert(z)],bc(this),F.start()}$p(A),F.wheel=setTimeout(U,g),F.zoom("mouse",n(x(b(R,D),F.mouse[0],F.mouse[1]),F.extent,s));function U(){F.wheel=null,F.end()}}function T(A,...O){if(h||!e.apply(this,arguments))return;var F=A.currentTarget,R=$(this,O,!0).event(A),D=or(A.view).on("mousemove.zoom",W,!0).on("mouseup.zoom",he,!0),z=gi(A,F),U=A.clientX,H=A.clientY;D2(A.view),p3(A),R.mouse=[z,this.__zoom.invert(z)],bc(this),R.start();function W(ae){if($p(ae),!R.moved){var Ce=ae.clientX-U,xe=ae.clientY-H;R.moved=Ce*Ce+xe*xe>m}R.event(ae).zoom("mouse",n(x(R.that.__zoom,R.mouse[0]=gi(ae,F),R.mouse[1]),R.extent,s))}function he(ae){D.on("mousemove.zoom mouseup.zoom",null),L2(ae.view,R.moved),$p(ae),R.event(ae).end()}}function M(A,...O){if(e.apply(this,arguments)){var F=this.__zoom,R=gi(A.changedTouches?A.changedTouches[0]:A,this),D=F.invert(R),z=F.k*(A.shiftKey?.5:2),U=n(x(b(F,z),R,D),t.apply(this,O),s);$p(A),a>0?or(this).transition().duration(a).call(_,U,R,A):or(this).call(v.transform,U,R,A)}}function E(A,...O){if(e.apply(this,arguments)){var F=A.touches,R=F.length,D=$(this,O,A.changedTouches.length===R).event(A),z,U,H,W;for(p3(A),U=0;U<R;++U)H=F[U],W=gi(H,this),W=[W,this.__zoom.invert(W),H.identifier],D.touch0?!D.touch1&&D.touch0[2]!==W[2]&&(D.touch1=W,D.taps=0):(D.touch0=W,z=!0,D.taps=1+!!c);c&&(c=clearTimeout(c)),z&&(D.taps<2&&(f=W[0],c=setTimeout(function(){c=null},p)),bc(this),D.start())}}function N(A,...O){if(this.__zooming){var F=$(this,O).event(A),R=A.changedTouches,D=R.length,z,U,H,W;for($p(A),z=0;z<D;++z)U=R[z],H=gi(U,this),F.touch0&&F.touch0[2]===U.identifier?F.touch0[0]=H:F.touch1&&F.touch1[2]===U.identifier&&(F.touch1[0]=H);if(U=F.that.__zoom,F.touch1){var he=F.touch0[0],ae=F.touch0[1],Ce=F.touch1[0],xe=F.touch1[1],B=(B=Ce[0]-he[0])*B+(B=Ce[1]-he[1])*B,Q=(Q=xe[0]-ae[0])*Q+(Q=xe[1]-ae[1])*Q;U=b(U,Math.sqrt(B/Q)),H=[(he[0]+Ce[0])/2,(he[1]+Ce[1])/2],W=[(ae[0]+xe[0])/2,(ae[1]+xe[1])/2]}else if(F.touch0)H=F.touch0[0],W=F.touch0[1];else return;F.zoom("touch",n(x(U,H,W),F.extent,s))}}function k(A,...O){if(this.__zooming){var F=$(this,O).event(A),R=A.changedTouches,D=R.length,z,U;for(p3(A),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),z=0;z<D;++z)U=R[z],F.touch0&&F.touch0[2]===U.identifier?delete F.touch0:F.touch1&&F.touch1[2]===U.identifier&&delete F.touch1;if(F.touch1&&!F.touch0&&(F.touch0=F.touch1,delete F.touch1),F.touch0)F.touch0[1]=this.__zoom.invert(F.touch0[0]);else if(F.end(),F.taps===2&&(U=gi(U,this),Math.hypot(f[0]-U[0],f[1]-U[1])<y)){var H=or(this).on("dblclick.zoom");H&&H.apply(this,arguments)}}}return v.wheelDelta=function(A){return arguments.length?(r=typeof A=="function"?A:ey(+A),v):r},v.filter=function(A){return arguments.length?(e=typeof A=="function"?A:ey(!!A),v):e},v.touchable=function(A){return arguments.length?(i=typeof A=="function"?A:ey(!!A),v):i},v.extent=function(A){return arguments.length?(t=typeof A=="function"?A:ey([[+A[0][0],+A[0][1]],[+A[1][0],+A[1][1]]]),v):t},v.scaleExtent=function(A){return arguments.length?(o[0]=+A[0],o[1]=+A[1],v):[o[0],o[1]]},v.translateExtent=function(A){return arguments.length?(s[0][0]=+A[0][0],s[1][0]=+A[1][0],s[0][1]=+A[0][1],s[1][1]=+A[1][1],v):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},v.constrain=function(A){return arguments.length?(n=A,v):n},v.duration=function(A){return arguments.length?(a=+A,v):a},v.interpolate=function(A){return arguments.length?(l=A,v):l},v.on=function(){var A=u.on.apply(u,arguments);return A===u?v:A},v.clickDistance=function(A){return arguments.length?(m=(A=+A)*A,v):Math.sqrt(m)},v.tapDistance=function(A){return arguments.length?(y=+A,v):y},v}const h5e=Object.freeze(Object.defineProperty({__proto__:null,Adder:xn,Delaunay:Y2,FormatSpecifier:J2,InternMap:f0,InternSet:Fo,Node:Lc,Path:mm,Voronoi:ij,ZoomTransform:ys,active:cwe,arc:jq,area:px,areaRadial:PF,ascending:Ut,autoType:R_e,axisBottom:fve,axisLeft:dve,axisRight:cve,axisTop:uve,bin:E7,bisect:gu,bisectCenter:lye,bisectLeft:Rz,bisectRight:c0,bisector:Lh,blob:D_e,blur:uye,blur2:Pz,blurImage:cye,brush:Ewe,brushSelection:xwe,brushX:wwe,brushY:_we,buffer:z_e,chord:$we,chordDirected:Awe,chordTranspose:Cwe,cluster:bU,color:Wl,contourDensity:Zwe,contours:aS,count:F2,create:Gbe,creator:P2,cross:yye,csv:U_e,csvFormat:E_e,csvFormatBody:S_e,csvFormatRow:C_e,csvFormatRows:$_e,csvFormatValue:A_e,csvParse:sj,csvParseRows:__e,cubehelix:No,cumsum:vye,curveBasis:lV,curveBasisClosed:cV,curveBasisOpen:dV,curveBumpX:Wq,curveBumpY:Gq,curveBundle:pV,curveCardinal:gV,curveCardinalClosed:mV,curveCardinalOpen:yV,curveCatmullRom:bV,curveCatmullRomClosed:wV,curveCatmullRomOpen:EV,curveLinear:Nm,curveLinearClosed:$V,curveMonotoneX:kV,curveMonotoneY:MV,curveNatural:OV,curveStep:FV,curveStepAfter:RV,curveStepBefore:NV,descending:Fz,deviation:v8,difference:Jye,disjoint:Qye,dispatch:ff,drag:n2e,dragDisable:D2,dragEnable:L2,dsv:j_e,dsvFormat:vm,easeBack:G7,easeBackIn:nwe,easeBackInOut:G7,easeBackOut:rwe,easeBounce:w0,easeBounceIn:ewe,easeBounceInOut:twe,easeBounceOut:w0,easeCircle:W7,easeCircleIn:Vxe,easeCircleInOut:W7,easeCircleOut:Hxe,easeCubic:nS,easeCubicIn:Ixe,easeCubicInOut:nS,easeCubicOut:Dxe,easeElastic:Y7,easeElasticIn:iwe,easeElasticInOut:owe,easeElasticOut:Y7,easeExp:H7,easeExpIn:Uxe,easeExpInOut:H7,easeExpOut:qxe,easeLinear:Nxe,easePoly:q7,easePolyIn:Lxe,easePolyInOut:q7,easePolyOut:zxe,easeQuad:U7,easeQuadIn:Rxe,easeQuadInOut:U7,easeQuadOut:Pxe,easeSin:V7,easeSinIn:Bxe,easeSinInOut:V7,easeSinOut:jxe,every:Hye,extent:Og,fcumsum:xye,filter:Gye,flatGroup:wye,flatRollup:_ye,forceCenter:uj,forceCollide:fj,forceLink:dj,forceManyBody:pj,forceRadial:_3e,forceSimulation:hj,forceX:gj,forceY:mj,get format(){return bm},formatDefaultLocale:vj,formatLocale:t5,get formatPrefix(){return Q2},formatSpecifier:Yl,fsum:bye,geoAlbers:m5,geoAlbersUsa:tU,geoArea:Sj,geoAzimuthalEqualArea:rU,geoAzimuthalEqualAreaRaw:y5,geoAzimuthalEquidistant:iU,geoAzimuthalEquidistantRaw:v5,geoBounds:Mj,geoCentroid:Nj,geoCircle:B3e,geoClipAntimeridian:xS,geoClipCircle:Bj,geoClipExtent:G3e,geoClipRectangle:Z2,geoConicConformal:lU,geoConicConformalRaw:aU,geoConicEqualArea:C0,geoConicEqualAreaRaw:eU,geoConicEquidistant:fU,geoConicEquidistantRaw:cU,geoContains:eEe,geoDistance:Jv,geoEqualEarth:dU,geoEqualEarthRaw:b5,geoEquirectangular:uU,geoEquirectangularRaw:A0,geoGnomonic:hU,geoGnomonicRaw:x5,geoGraticule:l5,geoGraticule10:tEe,geoIdentity:pU,geoInterpolate:nEe,geoLength:jj,geoMercator:oU,geoMercatorRaw:Em,geoNaturalEarth1:gU,geoNaturalEarth1Raw:w5,geoOrthographic:mU,geoOrthographicRaw:_5,geoPath:u5,geoProjection:Wo,geoProjectionMutator:p5,geoRotation:Rj,geoStereographic:yU,geoStereographicRaw:E5,geoStream:ho,geoTransform:gEe,geoTransverseMercator:vU,geoTransverseMercatorRaw:S5,gray:p2e,greatest:Gz,greatestIndex:Bye,group:jz,groupSort:$ye,groups:Uz,hcl:y0,hierarchy:tx,histogram:E7,hsl:g0,html:Y_e,image:V_e,index:Eye,indexes:Sye,interpolate:Us,interpolateArray:AB,interpolateBasis:D8,interpolateBasisClosed:L8,interpolateBlues:r8e,interpolateBrBG:I4e,interpolateBuGn:H4e,interpolateBuPu:W4e,interpolateCividis:u8e,interpolateCool:d8e,interpolateCubehelix:jB,interpolateCubehelixDefault:c8e,interpolateCubehelixLong:pm,interpolateDate:B8,interpolateDiscrete:MB,interpolateGnBu:G4e,interpolateGreens:i8e,interpolateGreys:o8e,interpolateHcl:LB,interpolateHclLong:zB,interpolateHsl:RB,interpolateHslLong:PB,interpolateHue:TB,interpolateInferno:x8e,interpolateLab:IB,interpolateMagma:b8e,interpolateNumber:mi,interpolateNumberArray:U2,interpolateObject:j8,interpolateOrRd:Y4e,interpolateOranges:l8e,interpolatePRGn:D4e,interpolatePiYG:L4e,interpolatePlasma:w8e,interpolatePuBu:K4e,interpolatePuBuGn:X4e,interpolatePuOr:z4e,interpolatePuRd:J4e,interpolatePurples:s8e,interpolateRainbow:h8e,interpolateRdBu:B4e,interpolateRdGy:j4e,interpolateRdPu:Q4e,interpolateRdYlBu:U4e,interpolateRdYlGn:q4e,interpolateReds:a8e,interpolateRgb:Wd,interpolateRgbBasis:z8,interpolateRgbBasisClosed:$B,interpolateRound:jh,interpolateSinebow:m8e,interpolateSpectral:V4e,interpolateString:q2,interpolateTransformCss:U8,interpolateTransformSvg:q8,interpolateTurbo:y8e,interpolateViridis:v8e,interpolateWarm:f8e,interpolateYlGn:e8e,interpolateYlGnBu:Z4e,interpolateYlOrBr:t8e,interpolateYlOrRd:n8e,interpolateZoom:V8,interrupt:bc,intersection:Zye,interval:WB,isoFormat:x4e,isoParse:E4e,json:W_e,lab:m0,lch:g2e,least:zye,leastIndex:Kz,line:hx,lineRadial:RF,link:gx,linkHorizontal:L8e,linkRadial:B8e,linkVertical:z8e,local:lB,map:Yye,matcher:T8,max:Es,maxIndex:E8,mean:Xz,median:C8,medianIndex:Nye,merge:A8,min:d0,minIndex:S8,mode:Pye,namespace:dm,namespaces:WE,nice:w8,now:gm,pack:CU,packEnclose:tSe,packSiblings:oSe,pairs:Iye,partition:kU,path:Uh,pathRound:Twe,permute:b8,pie:N8e,piecewise:V2,pointRadial:og,pointer:gi,pointers:Xbe,polygonArea:mSe,polygonCentroid:ySe,polygonContains:wSe,polygonHull:xSe,polygonLength:_Se,precisionFixed:n5,precisionPrefix:r5,precisionRound:i5,quadtree:K2,quantile:Fc,quantileIndex:Yz,quantileSorted:$8,quantize:UB,quickselect:N2,radialArea:PF,radialLine:RF,randomBates:CSe,randomBernoulli:MSe,randomBeta:LU,randomBinomial:zU,randomCauchy:OSe,randomExponential:ASe,randomGamma:k5,randomGeometric:DU,randomInt:SSe,randomIrwinHall:IU,randomLcg:ISe,randomLogNormal:$Se,randomLogistic:FSe,randomNormal:A5,randomPareto:kSe,randomPoisson:NSe,randomUniform:ESe,randomWeibull:TSe,range:Ar,rank:Lye,reduce:Xye,reverse:Kye,rgb:Ns,ribbon:Lwe,ribbonArrow:zwe,rollup:Vz,rollups:Hz,scaleBand:M5,scaleDiverging:X5,scaleDivergingLog:K5,scaleDivergingPow:cx,scaleDivergingSqrt:hq,scaleDivergingSymlog:J5,scaleIdentity:N5,scaleImplicit:ab,scaleLinear:F5,scaleLog:P5,scaleOrdinal:$m,scalePoint:DSe,scalePow:rx,scaleQuantile:z5,scaleQuantize:B5,scaleRadial:qU,scaleSequential:ax,scaleSequentialLog:G5,scaleSequentialPow:lx,scaleSequentialQuantile:dq,scaleSequentialSqrt:fq,scaleSequentialSymlog:Y5,scaleSqrt:UU,scaleSymlog:D5,scaleThreshold:j5,scaleTime:uq,scaleUtc:cq,scan:jye,schemeAccent:A4e,schemeBlues:Pq,schemeBrBG:pq,schemeBuGn:Eq,schemeBuPu:Sq,schemeCategory10:C4e,schemeDark2:k4e,schemeGnBu:$q,schemeGreens:Iq,schemeGreys:Dq,schemeOrRd:Cq,schemeOranges:Bq,schemePRGn:gq,schemePaired:M4e,schemePastel1:T4e,schemePastel2:O4e,schemePiYG:mq,schemePuBu:kq,schemePuBuGn:Aq,schemePuOr:yq,schemePuRd:Mq,schemePurples:Lq,schemeRdBu:vq,schemeRdGy:bq,schemeRdPu:Tq,schemeRdYlBu:xq,schemeRdYlGn:wq,schemeReds:zq,schemeSet1:F4e,schemeSet2:N4e,schemeSet3:R4e,schemeSpectral:_q,schemeTableau10:P4e,schemeYlGn:Fq,schemeYlGnBu:Oq,schemeYlOrBr:Nq,schemeYlOrRd:Rq,select:or,selectAll:Kbe,selection:df,selector:I2,selectorAll:M8,shuffle:Uye,shuffler:Jz,some:Wye,sort:qE,stack:J8e,stackOffsetDiverging:Z8e,stackOffsetExpand:Q8e,stackOffsetNone:th,stackOffsetSilhouette:e5e,stackOffsetWiggle:t5e,stackOrderAppearance:PV,stackOrderAscending:IV,stackOrderDescending:r5e,stackOrderInsideOut:i5e,stackOrderNone:nh,stackOrderReverse:o5e,stratify:NS,style:Nc,subset:tve,sum:k8,superset:Zz,svg:X_e,symbol:aV,symbolAsterisk:Yq,symbolCircle:mx,symbolCross:Xq,symbolDiamond:Jq,symbolDiamond2:Qq,symbolPlus:Zq,symbolSquare:eV,symbolSquare2:tV,symbolStar:rV,symbolTimes:DS,symbolTriangle:iV,symbolTriangle2:oV,symbolWye:sV,symbolX:DS,symbols:IF,symbolsFill:IF,symbolsStroke:Y8e,text:X2,thresholdFreedmanDiaconis:Oye,thresholdScott:Fye,thresholdSturges:_8,tickFormat:O5,tickIncrement:Oc,tickStep:Na,ticks:Tc,timeDay:$s,timeDays:e6e,get timeFormat(){return ix},timeFormatDefaultLocale:aq,timeFormatLocale:V5,timeFriday:WU,timeFridays:a6e,timeHour:Mm,timeHours:QSe,timeInterval:fn,timeMillisecond:Xl,timeMilliseconds:yF,timeMinute:Am,timeMinutes:KSe,timeMonday:k0,timeMondays:r6e,timeMonth:Zd,timeMonths:g6e,get timeParse(){return H5},timeSaturday:GU,timeSaturdays:l6e,timeSecond:bo,timeSeconds:bF,timeSunday:Kl,timeSundays:xF,timeThursday:zc,timeThursdays:s6e,timeTickInterval:nq,timeTicks:tq,timeTuesday:VU,timeTuesdays:i6e,timeWednesday:HU,timeWednesdays:o6e,timeWeek:Kl,timeWeeks:xF,timeYear:Ro,timeYears:y6e,timeout:QE,timer:W2,timerFlush:HB,transition:KB,transpose:Qz,tree:MU,treemap:FU,treemapBinary:NU,treemapDice:Vh,treemapResquarify:PU,treemapSlice:Sm,treemapSliceDice:RU,treemapSquarify:C5,tsv:q_e,tsvFormat:M_e,tsvFormatBody:T_e,tsvFormatRow:F_e,tsvFormatRows:O_e,tsvFormatValue:N_e,tsvParse:aj,tsvParseRows:k_e,union:nve,unixDay:q5,unixDays:n6e,utcDay:Sa,utcDays:t6e,get utcFormat(){return Om},utcFriday:KU,utcFridays:h6e,utcHour:Tm,utcHours:ZSe,utcMillisecond:Xl,utcMilliseconds:yF,utcMinute:km,utcMinutes:JSe,utcMonday:M0,utcMondays:u6e,utcMonth:eh,utcMonths:m6e,get utcParse(){return ox},utcSaturday:JU,utcSaturdays:p6e,utcSecond:bo,utcSeconds:bF,utcSunday:Jl,utcSundays:wF,utcThursday:Bc,utcThursdays:d6e,utcTickInterval:eq,utcTicks:ZU,utcTuesday:YU,utcTuesdays:c6e,utcWednesday:XU,utcWednesdays:f6e,utcWeek:Jl,utcWeeks:wF,utcYear:Po,utcYears:v6e,variance:Dz,window:O8,xml:G_e,zip:Vye,zoom:d5e,zoomIdentity:bx,zoomTransform:LV},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var p5e=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),g5e=Object.prototype.hasOwnProperty;function LS(e,t){return g5e.call(e,t)}function zS(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)LS(e,i)&&r.push(i);return r}function xi(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function BS(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function Xu(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function zV(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function jS(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(jS(e[t]))return!0}else if(typeof e=="object"){for(var r=zS(e),i=r.length,o=0;o<i;o++)if(jS(e[r[o]]))return!0}}return!1}function UF(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var BV=function(e){p5e(t,e);function t(n,r,i,o,s){var a=this.constructor,l=e.call(this,UF(n,{name:r,index:i,operation:o,tree:s}))||this;return l.name=r,l.index=i,l.operation=o,l.tree=s,Object.setPrototypeOf(l,a.prototype),l.message=UF(n,{name:r,index:i,operation:o,tree:s}),l}return t}(Error),Jt=BV,m5e=xi,fd={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=hb(n,this.path);r&&(r=xi(r));var i=xc(n,{op:"remove",path:this.from}).removed;return xc(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=hb(n,this.from);return xc(n,{op:"add",path:this.path,value:xi(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:T0(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},y5e={add:function(e,t,n){return BS(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:fd.move,copy:fd.copy,test:fd.test,_get:fd._get};function hb(e,t){if(t=="")return e;var n={op:"_get",path:t};return xc(e,n),n.value}function xc(e,t,n,r,i,o){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),o===void 0&&(o=0),n&&(typeof n=="function"?n(t,0,e,t.path):pb(t,0)),t.path===""){var s={newDocument:e};if(t.op==="add")return s.newDocument=t.value,s;if(t.op==="replace")return s.newDocument=t.value,s.removed=e,s;if(t.op==="move"||t.op==="copy")return s.newDocument=hb(e,t.from),t.op==="move"&&(s.removed=e),s;if(t.op==="test"){if(s.test=T0(e,t.value),s.test===!1)throw new Jt("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s.newDocument=e,s}else{if(t.op==="remove")return s.removed=e,s.newDocument=null,s;if(t.op==="_get")return t.value=e,s;if(n)throw new Jt("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return s}}else{r||(e=xi(e));var a=t.path||"",l=a.split("/"),u=e,c=1,f=l.length,h=void 0,p=void 0,g=void 0;for(typeof n=="function"?g=n:g=pb;;){if(p=l[c],p&&p.indexOf("~")!=-1&&(p=zV(p)),i&&(p=="__proto__"||p=="prototype"&&c>0&&l[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&h===void 0&&(u[p]===void 0?h=l.slice(0,c).join("/"):c==f-1&&(h=t.path),h!==void 0&&g(t,0,e,h)),c++,Array.isArray(u)){if(p==="-")p=u.length;else{if(n&&!BS(p))throw new Jt("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);BS(p)&&(p=~~p)}if(c>=f){if(n&&t.op==="add"&&p>u.length)throw new Jt("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);var s=y5e[t.op].call(t,u,p,e);if(s.test===!1)throw new Jt("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}}else if(c>=f){var s=fd[t.op].call(t,u,p,e);if(s.test===!1)throw new Jt("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}if(u=u[p],n&&c<f&&(!u||typeof u!="object"))throw new Jt("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,t,e)}}}function xx(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new Jt("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=xi(e));for(var o=new Array(t.length),s=0,a=t.length;s<a;s++)o[s]=xc(e,t[s],n,!0,i,s),e=o[s].newDocument;return o.newDocument=e,o}function v5e(e,t,n){var r=xc(e,t);if(r.test===!1)throw new Jt("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function pb(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new Jt("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(fd[e.op]){if(typeof e.path!="string")throw new Jt("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new Jt('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new Jt("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new Jt("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&jS(e.value))throw new Jt("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,o=r.split("/").length;if(i!==o+1&&i!==o)throw new Jt("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new Jt("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var s={op:"_get",path:e.from,value:void 0},a=jV([s],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new Jt("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new Jt("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function jV(e,t,n){try{if(!Array.isArray(e))throw new Jt("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)xx(xi(t),xi(e),n||!0);else{n=n||pb;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof Jt)return i;throw i}}function T0(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,o,s;if(n&&r){if(o=e.length,o!=t.length)return!1;for(i=o;i--!==0;)if(!T0(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(o=a.length,o!==Object.keys(t).length)return!1;for(i=o;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=o;i--!==0;)if(s=a[i],!T0(e[s],t[s]))return!1;return!0}return e!==e&&t!==t}const b5e=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:Jt,_areEquals:T0,applyOperation:xc,applyPatch:xx,applyReducer:v5e,deepClone:m5e,getValueByPointer:hb,validate:jV,validator:pb},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var o$=new WeakMap,x5e=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),w5e=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function _5e(e){return o$.get(e)}function E5e(e,t){return e.observers.get(t)}function S5e(e,t){e.observers.delete(t.callback)}function $5e(e,t){t.unobserve()}function C5e(e,t){var n=[],r,i=_5e(e);if(!i)i=new x5e(e),o$.set(e,i);else{var o=E5e(i,t);r=o&&o.observer}if(r)return r;if(r={},i.value=xi(e),t){r.callback=t,r.next=null;var s=function(){US(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(s)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){US(r),clearTimeout(r.next),S5e(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new w5e(t,r)),r}function US(e,t){t===void 0&&(t=!1);var n=o$.get(e.object);s$(n.value,e.object,e.patches,"",t),e.patches.length&&xx(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function s$(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var o=zS(t),s=zS(e),a=!1,l=s.length-1;l>=0;l--){var u=s[l],c=e[u];if(LS(t,u)&&!(t[u]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var f=t[u];typeof c=="object"&&c!=null&&typeof f=="object"&&f!=null&&Array.isArray(c)===Array.isArray(f)?s$(c,f,n,r+"/"+Xu(u),i):c!==f&&(i&&n.push({op:"test",path:r+"/"+Xu(u),value:xi(c)}),n.push({op:"replace",path:r+"/"+Xu(u),value:xi(f)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+Xu(u),value:xi(c)}),n.push({op:"remove",path:r+"/"+Xu(u)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&o.length==s.length))for(var l=0;l<o.length;l++){var u=o[l];!LS(e,u)&&t[u]!==void 0&&n.push({op:"add",path:r+"/"+Xu(u),value:xi(t[u])})}}}function A5e(e,t,n){n===void 0&&(n=!1);var r=[];return s$(e,t,r,"",n),r}const k5e=Object.freeze(Object.defineProperty({__proto__:null,compare:A5e,generate:US,observe:C5e,unobserve:$5e},Symbol.toStringTag,{value:"Module"}));Object.assign({},b5e,k5e,{JsonPatchError:BV,deepClone:xi,escapePathComponent:Xu,unescapePathComponent:zV});var M5e=/("(?:[^\\"]|\\.)*")|[:,]/g,T5e=function(t,n){var r,i,o;return n=n||{},r=JSON.stringify([1],void 0,n.indent===void 0?2:n.indent).slice(2,-3),i=r===""?1/0:n.maxLength===void 0?80:n.maxLength,o=n.replacer,function s(a,l,u){var c,f,h,p,g,m,y,v,b,x,w,_;if(a&&typeof a.toJSON=="function"&&(a=a.toJSON()),w=JSON.stringify(a,o),w===void 0)return w;if(y=i-l.length-u,w.length<=y&&(b=w.replace(M5e,function($,S){return S||$+" "}),b.length<=y))return b;if(o!=null&&(a=JSON.parse(w),o=void 0),typeof a=="object"&&a!==null){if(v=l+r,h=[],f=0,Array.isArray(a))for(x="[",c="]",y=a.length;f<y;f++)h.push(s(a[f],v,f===y-1?0:1)||"null");else for(x="{",c="}",m=Object.keys(a),y=m.length;f<y;f++)p=m[f],g=JSON.stringify(p)+": ",_=s(a[p],v,g.length+(f===y-1?0:1)),_!==void 0&&h.push(g+_);if(h.length>0)return[x,r+h.join(`,
`+v),c].join(`
`+l)}return w}(t,"",0)};const g3=M2(T5e);function li(e,t,n){return e.fields=t||[],e.fname=n,e}function tn(e){return e==null?null:e.fname}function fr(e){return e==null?null:e.fields}function UV(e){return e.length===1?O5e(e[0]):F5e(e)}const O5e=e=>function(t){return t[e]},F5e=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function ne(e){throw Error(e)}function Vs(e){const t=[],n=e.length;let r=null,i=0,o="",s,a,l;e=e+"";function u(){t.push(o+e.substring(s,a)),o="",s=a+1}for(s=a=0;a<n;++a)if(l=e[a],l==="\\")o+=e.substring(s,a++),s=a;else if(l===r)u(),r=null,i=-1;else{if(r)continue;s===i&&l==='"'||s===i&&l==="'"?(s=a+1,r=l):l==="."&&!i?a>s?u():s=a+1:l==="["?(a>s&&u(),i=s=a+1):l==="]"&&(i||ne("Access path missing open bracket: "+e),i>0&&u(),i=0,s=a+1)}return i&&ne("Access path missing closing bracket: "+e),r&&ne("Access path missing closing quote: "+e),a>s&&(a++,u()),t}function Zr(e,t,n){const r=Vs(e);return e=r.length===1?r[0]:e,li((n&&n.get||UV)(r),[e],t||e)}const Rm=Zr("id"),gr=li(e=>e,[],"identity"),yl=li(()=>0,[],"zero"),Hh=li(()=>1,[],"one"),Wi=li(()=>!0,[],"true"),il=li(()=>!1,[],"false");function N5e(e,t,n){const r=[t].concat([].slice.call(n));console[e].apply(console,r)}const qV=0,a$=1,l$=2,VV=3,HV=4;function u$(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:N5e,r=e||qV;return{level(i){return arguments.length?(r=+i,this):r},error(){return r>=a$&&n(t||"error","ERROR",arguments),this},warn(){return r>=l$&&n(t||"warn","WARN",arguments),this},info(){return r>=VV&&n(t||"log","INFO",arguments),this},debug(){return r>=HV&&n(t||"log","DEBUG",arguments),this}}}var ie=Array.isArray;function Ae(e){return e===Object(e)}const qF=e=>e!=="__proto__";function Wh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,i)=>{for(const o in i)if(o==="signals")r.signals=R5e(r.signals,i.signals);else{const s=o==="legend"?{layout:1}:o==="style"?!0:null;Gh(r,o,i[o],s)}return r},{})}function Gh(e,t,n,r){if(!qF(t))return;let i,o;if(Ae(n)&&!ie(n)){o=Ae(e[t])?e[t]:e[t]={};for(i in n)r&&(r===!0||r[i])?Gh(o,i,n[i]):qF(i)&&(o[i]=n[i])}else e[t]=n}function R5e(e,t){if(e==null)return t;const n={},r=[];function i(o){n[o.name]||(n[o.name]=1,r.push(o))}return t.forEach(i),e.forEach(i),r}function lt(e){return e[e.length-1]}function ar(e){return e==null||e===""?null:+e}const WV=e=>t=>e*Math.exp(t),GV=e=>t=>Math.log(e*t),YV=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),XV=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,gb=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function wx(e,t,n,r){const i=n(e[0]),o=n(lt(e)),s=(o-i)*t;return[r(i-s),r(o-s)]}function KV(e,t){return wx(e,t,ar,gr)}function JV(e,t){var n=Math.sign(e[0]);return wx(e,t,GV(n),WV(n))}function QV(e,t,n){return wx(e,t,gb(n),gb(1/n))}function ZV(e,t,n){return wx(e,t,YV(n),XV(n))}function _x(e,t,n,r,i){const o=r(e[0]),s=r(lt(e)),a=t!=null?r(t):(o+s)/2;return[i(a+(o-a)*n),i(a+(s-a)*n)]}function c$(e,t,n){return _x(e,t,n,ar,gr)}function f$(e,t,n){const r=Math.sign(e[0]);return _x(e,t,n,GV(r),WV(r))}function mb(e,t,n,r){return _x(e,t,n,gb(r),gb(1/r))}function d$(e,t,n,r){return _x(e,t,n,YV(r),XV(r))}function eH(e){return 1+~~(new Date(e).getMonth()/3)}function tH(e){return 1+~~(new Date(e).getUTCMonth()/3)}function $e(e){return e!=null?ie(e)?e:[e]:[]}function nH(e,t,n){let r=e[0],i=e[1],o;return i<r&&(o=i,i=r,r=o),o=i-r,o>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-o),r+o]}function Je(e){return typeof e=="function"}const P5e="descending";function h$(e,t,n){n=n||{},t=$e(t)||[];const r=[],i=[],o={},s=n.comparator||I5e;return $e(e).forEach((a,l)=>{a!=null&&(r.push(t[l]===P5e?-1:1),i.push(a=Je(a)?a:Zr(a,null,n)),(fr(a)||[]).forEach(u=>o[u]=1))}),i.length===0?null:li(s(i,r),Object.keys(o))}const Ex=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0),I5e=(e,t)=>e.length===1?D5e(e[0],t[0]):L5e(e,t,e.length),D5e=(e,t)=>function(n,r){return Ex(e(n),e(r))*t},L5e=(e,t,n)=>(t.push(0),function(r,i){let o,s=0,a=-1;for(;s===0&&++a<n;)o=e[a],s=Ex(o(r),o(i));return s*t[a]});function mr(e){return Je(e)?e:()=>e}function p$(e,t){let n;return r=>{n&&clearTimeout(n),n=setTimeout(()=>(t(r),n=null),e)}}function Ke(e){for(let t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function Is(e,t){let n=0,r,i,o,s;if(e&&(r=e.length))if(t==null){for(i=e[n];n<r&&(i==null||i!==i);i=e[++n]);for(o=s=i;n<r;++n)i=e[n],i!=null&&(i<o&&(o=i),i>s&&(s=i))}else{for(i=t(e[n]);n<r&&(i==null||i!==i);i=t(e[++n]));for(o=s=i;n<r;++n)i=t(e[n]),i!=null&&(i<o&&(o=i),i>s&&(s=i))}return[o,s]}function rH(e,t){const n=e.length;let r=-1,i,o,s,a,l;if(t==null){for(;++r<n;)if(o=e[r],o!=null&&o>=o){i=s=o;break}if(r===n)return[-1,-1];for(a=l=r;++r<n;)o=e[r],o!=null&&(i>o&&(i=o,a=r),s<o&&(s=o,l=r))}else{for(;++r<n;)if(o=t(e[r],r,e),o!=null&&o>=o){i=s=o;break}if(r===n)return[-1,-1];for(a=l=r;++r<n;)o=t(e[r],r,e),o!=null&&(i>o&&(i=o,a=r),s<o&&(s=o,l=r))}return[a,l]}const z5e=Object.prototype.hasOwnProperty;function Le(e,t){return z5e.call(e,t)}const ty={};function Yh(e){let t={},n;function r(o){return Le(t,o)&&t[o]!==ty}const i={size:0,empty:0,object:t,has:r,get(o){return r(o)?t[o]:void 0},set(o,s){return r(o)||(++i.size,t[o]===ty&&--i.empty),t[o]=s,this},delete(o){return r(o)&&(--i.size,++i.empty,t[o]=ty),this},clear(){i.size=i.empty=0,i.object=t={}},test(o){return arguments.length?(n=o,i):n},clean(){const o={};let s=0;for(const a in t){const l=t[a];l!==ty&&(!n||!n(l))&&(o[a]=l,++s)}i.size=s,i.empty=0,i.object=t=o}};return e&&Object.keys(e).forEach(o=>{i.set(o,e[o])}),i}function iH(e,t,n,r,i,o){if(!n&&n!==0)return o;const s=+n;let a=e[0],l=lt(e),u;l<a&&(u=a,a=l,l=u),u=Math.abs(t-a);const c=Math.abs(l-t);return u<c&&u<=s?r:c<=s?i:o}function ve(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),Ke(r,n)}function dd(e,t,n,r){let i=t[0],o=t[t.length-1],s;return i>o&&(s=i,i=o,o=s),n=n===void 0||n,r=r===void 0||r,(n?i<=e:i<e)&&(r?e<=o:e<o)}function bu(e){return typeof e=="boolean"}function Dl(e){return Object.prototype.toString.call(e)==="[object Date]"}function oH(e){return e&&Je(e[Symbol.iterator])}function St(e){return typeof e=="number"}function sH(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function Ee(e){return typeof e=="string"}function g$(e,t,n){e&&(e=t?$e(e).map(a=>a.replace(/\\(.)/g,"$1")):$e(e));const r=e&&e.length,i=n&&n.get||UV,o=a=>i(t?[a]:Vs(a));let s;if(!r)s=function(){return""};else if(r===1){const a=o(e[0]);s=function(l){return""+a(l)}}else{const a=e.map(o);s=function(l){let u=""+a[0](l),c=0;for(;++c<r;)u+="|"+a[c](l);return u}}return li(s,e,"key")}function aH(e,t){const n=e[0],r=lt(e),i=+t;return i?i===1?r:n+i*(r-n):n}const B5e=1e4;function lH(e){e=+e||B5e;let t,n,r;const i=()=>{t={},n={},r=0},o=(s,a)=>(++r>e&&(n=t,t={},r=1),t[s]=a);return i(),{clear:i,has:s=>Le(t,s)||Le(n,s),get:s=>Le(t,s)?t[s]:Le(n,s)?o(s,n[s]):void 0,set:(s,a)=>Le(t,s)?t[s]=a:o(s,a)}}function uH(e,t,n,r){const i=t.length,o=n.length;if(!o)return t;if(!i)return n;const s=r||new t.constructor(i+o);let a=0,l=0,u=0;for(;a<i&&l<o;++u)s[u]=e(t[a],n[l])>0?n[l++]:t[a++];for(;a<i;++a,++u)s[u]=t[a];for(;l<o;++l,++u)s[u]=n[l];return s}function sg(e,t){let n="";for(;--t>=0;)n+=e;return n}function cH(e,t,n,r){const i=n||" ",o=e+"",s=t-o.length;return s<=0?o:r==="left"?sg(i,s)+o:r==="center"?sg(i,~~(s/2))+o+sg(i,Math.ceil(s/2)):o+sg(i,s)}function Pm(e){return e&&lt(e)-e[0]||0}function ye(e){return ie(e)?"["+e.map(ye)+"]":Ae(e)||Ee(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function m$(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const j5e=e=>St(e)||Dl(e)?e:Date.parse(e);function y$(e,t){return t=t||j5e,e==null||e===""?null:t(e)}function v$(e){return e==null||e===""?null:e+""}function Io(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function fH(e,t,n,r){const i=r??"…",o=e+"",s=o.length,a=Math.max(0,t-i.length);return s<=t?o:n==="left"?i+o.slice(s-a):n==="center"?o.slice(0,Math.ceil(a/2))+i+o.slice(s-~~(a/2)):o.slice(0,a)+i}function fl(e,t,n){if(e)if(t){const r=e.length;for(let i=0;i<r;++i){const o=t(e[i]);o&&n(o,i,e)}}else e.forEach(n)}function U5e(e){return e}function q5e(e){if(e==null)return U5e;var t,n,r=e.scale[0],i=e.scale[1],o=e.translate[0],s=e.translate[1];return function(a,l){l||(t=n=0);var u=2,c=a.length,f=new Array(c);for(f[0]=(t+=a[0])*r+o,f[1]=(n+=a[1])*i+s;u<c;)f[u]=a[u],++u;return f}}function V5e(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function H5e(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return VF(e,n)})}:VF(e,t)}function VF(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,o=dH(e,t);return n==null&&r==null?{type:"Feature",properties:i,geometry:o}:r==null?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function dH(e,t){var n=q5e(e.transform),r=e.arcs;function i(c,f){f.length&&f.pop();for(var h=r[c<0?~c:c],p=0,g=h.length;p<g;++p)f.push(n(h[p],p));c<0&&V5e(f,g)}function o(c){return n(c)}function s(c){for(var f=[],h=0,p=c.length;h<p;++h)i(c[h],f);return f.length<2&&f.push(f[0]),f}function a(c){for(var f=s(c);f.length<4;)f.push(f[0]);return f}function l(c){return c.map(a)}function u(c){var f=c.type,h;switch(f){case"GeometryCollection":return{type:f,geometries:c.geometries.map(u)};case"Point":h=o(c.coordinates);break;case"MultiPoint":h=c.coordinates.map(o);break;case"LineString":h=s(c.arcs);break;case"MultiLineString":h=c.arcs.map(s);break;case"Polygon":h=l(c.arcs);break;case"MultiPolygon":h=c.arcs.map(l);break;default:return null}return{type:f,coordinates:h}}return u(t)}function W5e(e,t){var n={},r={},i={},o=[],s=-1;t.forEach(function(u,c){var f=e.arcs[u<0?~u:u],h;f.length<3&&!f[1][0]&&!f[1][1]&&(h=t[++s],t[s]=u,t[c]=h)}),t.forEach(function(u){var c=a(u),f=c[0],h=c[1],p,g;if(p=i[f])if(delete i[p.end],p.push(u),p.end=h,g=r[h]){delete r[g.start];var m=g===p?p:p.concat(g);r[m.start=p.start]=i[m.end=g.end]=m}else r[p.start]=i[p.end]=p;else if(p=r[h])if(delete r[p.start],p.unshift(u),p.start=f,g=i[f]){delete i[g.end];var y=g===p?p:g.concat(p);r[y.start=g.start]=i[y.end=p.end]=y}else r[p.start]=i[p.end]=p;else p=[u],r[p.start=f]=i[p.end=h]=p});function a(u){var c=e.arcs[u<0?~u:u],f=c[0],h;return e.transform?(h=[0,0],c.forEach(function(p){h[0]+=p[0],h[1]+=p[1]})):h=c[c.length-1],u<0?[h,f]:[f,h]}function l(u,c){for(var f in u){var h=u[f];delete c[h.start],delete h.start,delete h.end,h.forEach(function(p){n[p<0?~p:p]=1}),o.push(h)}}return l(i,r),l(r,i),t.forEach(function(u){n[u<0?~u:u]||o.push([u])}),o}function G5e(e){return dH(e,Y5e.apply(this,arguments))}function Y5e(e,t,n){var r,i,o;if(arguments.length>1)r=X5e(e,t,n);else for(i=0,r=new Array(o=e.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:W5e(e,r)}}function X5e(e,t,n){var r=[],i=[],o;function s(f){var h=f<0?~f:f;(i[h]||(i[h]=[])).push({i:f,g:o})}function a(f){f.forEach(s)}function l(f){f.forEach(a)}function u(f){f.forEach(l)}function c(f){switch(o=f,f.type){case"GeometryCollection":f.geometries.forEach(c);break;case"LineString":a(f.arcs);break;case"MultiLineString":case"Polygon":l(f.arcs);break;case"MultiPolygon":u(f.arcs);break}}return c(t),i.forEach(n==null?function(f){r.push(f[0].i)}:function(f){n(f[0].g,f[f.length-1].g)&&r.push(f[0].i)}),r}const qn="year",ei="quarter",dr="month",vn="week",ti="date",sr="day",Ds="dayofyear",Ci="hours",Ai="minutes",Gi="seconds",Do="milliseconds",b$=[qn,ei,dr,vn,ti,sr,Ds,Ci,Ai,Gi,Do],m3=b$.reduce((e,t,n)=>(e[t]=1+n,e),{});function x$(e){const t=$e(e).slice(),n={};return t.length||ne("Missing time unit."),t.forEach(i=>{Le(m3,i)?n[i]=1:ne(`Invalid time unit: ${i}.`)}),(n[vn]||n[sr]?1:0)+(n[ei]||n[dr]||n[ti]?1:0)+(n[Ds]?1:0)>1&&ne(`Incompatible time units: ${e}`),t.sort((i,o)=>m3[i]-m3[o]),t}const K5e={[qn]:"%Y ",[ei]:"Q%q ",[dr]:"%b ",[ti]:"%d ",[vn]:"W%U ",[sr]:"%a ",[Ds]:"%j ",[Ci]:"%H:00",[Ai]:"00:%M",[Gi]:":%S",[Do]:".%L",[`${qn}-${dr}`]:"%Y-%m ",[`${qn}-${dr}-${ti}`]:"%Y-%m-%d ",[`${Ci}-${Ai}`]:"%H:%M"};function hH(e,t){const n=Ke({},K5e,t),r=x$(e),i=r.length;let o="",s=0,a,l;for(s=0;s<i;)for(a=r.length;a>s;--a)if(l=r.slice(s,a).join("-"),n[l]!=null){o+=n[l],s=a;break}return o.trim()}const ec=new Date;function w$(e){return ec.setFullYear(e),ec.setMonth(0),ec.setDate(1),ec.setHours(0,0,0,0),ec}function pH(e){return mH(new Date(e))}function gH(e){return qS(new Date(e))}function mH(e){return $s.count(w$(e.getFullYear())-1,e)}function qS(e){return Kl.count(w$(e.getFullYear())-1,e)}function VS(e){return w$(e).getDay()}function J5e(e,t,n,r,i,o,s){if(0<=e&&e<100){const a=new Date(-1,t,n,r,i,o,s);return a.setFullYear(e),a}return new Date(e,t,n,r,i,o,s)}function yH(e){return bH(new Date(e))}function vH(e){return HS(new Date(e))}function bH(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return Sa.count(t-1,e)}function HS(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return Jl.count(t-1,e)}function WS(e){return ec.setTime(Date.UTC(e,0,1)),ec.getUTCDay()}function Q5e(e,t,n,r,i,o,s){if(0<=e&&e<100){const a=new Date(Date.UTC(-1,t,n,r,i,o,s));return a.setUTCFullYear(n.y),a}return new Date(Date.UTC(e,t,n,r,i,o,s))}function xH(e,t,n,r,i){const o=t||1,s=lt(e),a=(v,b,x)=>(x=x||v,Z5e(n[x],r[x],v===s&&o,b)),l=new Date,u=Io(e),c=u[qn]?a(qn):mr(2012),f=u[dr]?a(dr):u[ei]?a(ei):yl,h=u[vn]&&u[sr]?a(sr,1,vn+sr):u[vn]?a(vn,1):u[sr]?a(sr,1):u[ti]?a(ti,1):u[Ds]?a(Ds,1):Hh,p=u[Ci]?a(Ci):yl,g=u[Ai]?a(Ai):yl,m=u[Gi]?a(Gi):yl,y=u[Do]?a(Do):yl;return function(v){l.setTime(+v);const b=c(l);return i(b,f(l),h(l,b),p(l),g(l),m(l),y(l))}}function Z5e(e,t,n,r){const i=n<=1?e:r?(o,s)=>r+n*Math.floor((e(o,s)-r)/n):(o,s)=>n*Math.floor(e(o,s)/n);return t?(o,s)=>t(i(o,s),s):i}function rh(e,t,n){return t+e*7-(n+6)%7}const e$e={[qn]:e=>e.getFullYear(),[ei]:e=>Math.floor(e.getMonth()/3),[dr]:e=>e.getMonth(),[ti]:e=>e.getDate(),[Ci]:e=>e.getHours(),[Ai]:e=>e.getMinutes(),[Gi]:e=>e.getSeconds(),[Do]:e=>e.getMilliseconds(),[Ds]:e=>mH(e),[vn]:e=>qS(e),[vn+sr]:(e,t)=>rh(qS(e),e.getDay(),VS(t)),[sr]:(e,t)=>rh(1,e.getDay(),VS(t))},t$e={[ei]:e=>3*e,[vn]:(e,t)=>rh(e,0,VS(t))};function wH(e,t){return xH(e,t||1,e$e,t$e,J5e)}const n$e={[qn]:e=>e.getUTCFullYear(),[ei]:e=>Math.floor(e.getUTCMonth()/3),[dr]:e=>e.getUTCMonth(),[ti]:e=>e.getUTCDate(),[Ci]:e=>e.getUTCHours(),[Ai]:e=>e.getUTCMinutes(),[Gi]:e=>e.getUTCSeconds(),[Do]:e=>e.getUTCMilliseconds(),[Ds]:e=>bH(e),[vn]:e=>HS(e),[sr]:(e,t)=>rh(1,e.getUTCDay(),WS(t)),[vn+sr]:(e,t)=>rh(HS(e),e.getUTCDay(),WS(t))},r$e={[ei]:e=>3*e,[vn]:(e,t)=>rh(e,0,WS(t))};function _H(e,t){return xH(e,t||1,n$e,r$e,Q5e)}const i$e={[qn]:Ro,[ei]:Zd.every(3),[dr]:Zd,[vn]:Kl,[ti]:$s,[sr]:$s,[Ds]:$s,[Ci]:Mm,[Ai]:Am,[Gi]:bo,[Do]:Xl},o$e={[qn]:Po,[ei]:eh.every(3),[dr]:eh,[vn]:Jl,[ti]:Sa,[sr]:Sa,[Ds]:Sa,[Ci]:Tm,[Ai]:km,[Gi]:bo,[Do]:Xl};function Xh(e){return i$e[e]}function Kh(e){return o$e[e]}function EH(e,t,n){return e?e.offset(t,n):void 0}function SH(e,t,n){return EH(Xh(e),t,n)}function $H(e,t,n){return EH(Kh(e),t,n)}function CH(e,t,n,r){return e?e.range(t,n,r):void 0}function AH(e,t,n,r){return CH(Xh(e),t,n,r)}function kH(e,t,n,r){return CH(Kh(e),t,n,r)}const ag=1e3,lg=ag*60,ug=lg*60,Sx=ug*24,s$e=Sx*7,HF=Sx*30,GS=Sx*365,MH=[qn,dr,ti,Ci,Ai,Gi,Do],cg=MH.slice(0,-1),fg=cg.slice(0,-1),dg=fg.slice(0,-1),a$e=dg.slice(0,-1),l$e=[qn,vn],WF=[qn,dr],TH=[qn],Cp=[[cg,1,ag],[cg,5,5*ag],[cg,15,15*ag],[cg,30,30*ag],[fg,1,lg],[fg,5,5*lg],[fg,15,15*lg],[fg,30,30*lg],[dg,1,ug],[dg,3,3*ug],[dg,6,6*ug],[dg,12,12*ug],[a$e,1,Sx],[l$e,1,s$e],[WF,1,HF],[WF,3,3*HF],[TH,1,GS]];function OH(e){const t=e.extent,n=e.maxbins||40,r=Math.abs(Pm(t))/n;let i=Lh(a=>a[2]).right(Cp,r),o,s;return i===Cp.length?(o=TH,s=Na(t[0]/GS,t[1]/GS,n)):i?(i=Cp[r/Cp[i-1][2]<Cp[i][2]/r?i-1:i],o=i[0],s=i[1]):(o=MH,s=Math.max(Na(t[0],t[1],n),1)),{units:o,step:s}}function hg(e){const t={};return n=>t[n]||(t[n]=e(n))}function u$e(e,t){return n=>{const r=e(n),i=r.indexOf(t);if(i<0)return r;let o=c$e(r,i);const s=o<r.length?r.slice(o):"";for(;--o>i;)if(r[o]!=="0"){++o;break}return r.slice(0,o)+s}}function c$e(e,t){let n=e.lastIndexOf("e"),r;if(n>0)return n;for(n=e.length;--n>t;)if(r=e.charCodeAt(n),r>=48&&r<=57)return n+1}function FH(e){const t=hg(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(r){const i=Yl(r||",");if(i.precision==null){switch(i.precision=12,i.type){case"%":i.precision-=2;break;case"e":i.precision-=1;break}return u$e(t(i),t(".1f")(1)[1])}else return t(i)},formatSpan(r,i,o,s){s=Yl(s??",f");const a=Na(r,i,o),l=Math.max(Math.abs(r),Math.abs(i));let u;if(s.precision==null)switch(s.type){case"s":return isNaN(u=r5(a,l))||(s.precision=u),n(s,l);case"":case"e":case"g":case"p":case"r":{isNaN(u=i5(a,l))||(s.precision=u-(s.type==="e"));break}case"f":case"%":{isNaN(u=n5(a))||(s.precision=u-(s.type==="%")*2);break}}return t(s)}}}let YS;NH();function NH(){return YS=FH({format:bm,formatPrefix:Q2})}function RH(e){return FH(t5(e))}function yb(e){return arguments.length?YS=RH(e):YS}function GF(e,t,n){n=n||{},Ae(n)||ne(`Invalid time multi-format specifier: ${n}`);const r=t(Gi),i=t(Ai),o=t(Ci),s=t(ti),a=t(vn),l=t(dr),u=t(ei),c=t(qn),f=e(n[Do]||".%L"),h=e(n[Gi]||":%S"),p=e(n[Ai]||"%I:%M"),g=e(n[Ci]||"%I %p"),m=e(n[ti]||n[sr]||"%a %d"),y=e(n[vn]||"%b %d"),v=e(n[dr]||"%B"),b=e(n[ei]||"%B"),x=e(n[qn]||"%Y");return w=>(r(w)<w?f:i(w)<w?h:o(w)<w?p:s(w)<w?g:l(w)<w?a(w)<w?m:y:c(w)<w?u(w)<w?v:b:x)(w)}function PH(e){const t=hg(e.format),n=hg(e.utcFormat);return{timeFormat:r=>Ee(r)?t(r):GF(t,Xh,r),utcFormat:r=>Ee(r)?n(r):GF(n,Kh,r),timeParse:hg(e.parse),utcParse:hg(e.utcParse)}}let XS;IH();function IH(){return XS=PH({format:ix,parse:H5,utcFormat:Om,utcParse:ox})}function DH(e){return PH(V5(e))}function O0(e){return arguments.length?XS=DH(e):XS}const KS=(e,t)=>Ke({},e,t);function LH(e,t){const n=e?RH(e):yb(),r=t?DH(t):O0();return KS(n,r)}function _$(e,t){const n=arguments.length;return n&&n!==2&&ne("defaultLocale expects either zero or two arguments."),n?KS(yb(e),O0(t)):KS(yb(),O0())}function f$e(){return NH(),IH(),_$()}const d$e=/^(data:|([A-Za-z]+:)?\/\/)/,h$e=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,p$e=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,YF="file://";function g$e(e,t){return n=>({options:n||{},sanitize:y$e,load:m$e,fileAccess:!!t,file:v$e(t),http:x$e(e)})}async function m$e(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t)}async function y$e(e,t){t=Ke({},this.options,t);const n=this.fileAccess,r={href:null};let i,o,s;const a=h$e.test(e.replace(p$e,""));(e==null||typeof e!="string"||!a)&&ne("Sanitize failure, invalid URI: "+ye(e));const l=d$e.test(e);return(s=t.baseURL)&&!l&&(!e.startsWith("/")&&!s.endsWith("/")&&(e="/"+e),e=s+e),o=(i=e.startsWith(YF))||t.mode==="file"||t.mode!=="http"&&!l&&n,i?e=e.slice(YF.length):e.startsWith("//")&&(t.defaultProtocol==="file"?(e=e.slice(2),o=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!o}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),t.context==="image"&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function v$e(e){return e?t=>new Promise((n,r)=>{e.readFile(t,(i,o)=>{i?r(i):n(o)})}):b$e}async function b$e(){ne("No file system access.")}function x$e(e){return e?async function(t,n){const r=Ke({},this.options.http,n),i=n&&n.response,o=await e(t,r);return o.ok?Je(o[i])?o[i]():o.text():ne(o.status+""+o.statusText)}:w$e}async function w$e(){ne("No HTTP fetch method available.")}const _$e=e=>e!=null&&e===e,E$e=e=>e==="true"||e==="false"||e===!0||e===!1,S$e=e=>!Number.isNaN(Date.parse(e)),zH=e=>!Number.isNaN(+e)&&!(e instanceof Date),$$e=e=>zH(e)&&Number.isInteger(+e),JS={boolean:m$,integer:ar,number:ar,date:y$,string:v$,unknown:gr},ny=[E$e,$$e,zH,S$e],C$e=["boolean","integer","number","date"];function BH(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=ny.length,i=ny.map((o,s)=>s+1);for(let o=0,s=0,a,l;o<n;++o)for(l=t?e[o][t]:e[o],a=0;a<r;++a)if(i[a]&&_$e(l)&&!ny[a](l)&&(i[a]=0,++s,s===ny.length))return"string";return C$e[i.reduce((o,s)=>o===0?s:o,0)-1]}function jH(e,t){return t.reduce((n,r)=>(n[r]=BH(e,r),n),{})}function XF(e){const t=function(n,r){const i={delimiter:e};return E$(n,r?Ke(r,i):i)};return t.responseType="text",t}function E$(e,t){return t.header&&(e=t.header.map(ye).join(t.delimiter)+`
`+e),vm(t.delimiter).parse(e+"")}E$.responseType="text";function A$e(e){return typeof Buffer=="function"&&Je(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function S$(e,t){const n=t&&t.property?Zr(t.property):gr;return Ae(e)&&!A$e(e)?k$e(n(e),t):n(JSON.parse(e))}S$.responseType="json";function k$e(e,t){return!ie(e)&&oH(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}const M$e={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function UH(e,t){let n,r,i,o;return e=S$(e,t),t&&t.feature?(n=H5e,i=t.feature):t&&t.mesh?(n=G5e,i=t.mesh,o=M$e[t.filter]):ne("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[i])?n(e,r,o):ne("Invalid TopoJSON object: "+i),r&&r.features||[r]}UH.responseType="json";const Gy={dsv:E$,csv:XF(","),tsv:XF("	"),json:S$,topojson:UH};function $$(e,t){return arguments.length>1?(Gy[e]=t,this):Le(Gy,e)?Gy[e]:null}function qH(e){const t=$$(e);return t&&t.responseType||"text"}function VH(e,t,n,r){t=t||{};const i=$$(t.type||"json");return i||ne("Unknown data format type: "+t.type),e=i(e,t),t.parse&&T$e(e,t.parse,n,r),Le(e,"columns")&&delete e.columns,e}function T$e(e,t,n,r){if(!e.length)return;const i=O0();n=n||i.timeParse,r=r||i.utcParse;let o=e.columns||Object.keys(e[0]),s,a,l,u,c,f;t==="auto"&&(t=jH(e,o)),o=Object.keys(t);const h=o.map(p=>{const g=t[p];let m,y;if(g&&(g.startsWith("date:")||g.startsWith("utc:")))return m=g.split(/:(.+)?/,2),y=m[1],(y[0]==="'"&&y[y.length-1]==="'"||y[0]==='"'&&y[y.length-1]==='"')&&(y=y.slice(1,-1)),(m[0]==="utc"?r:n)(y);if(!JS[g])throw Error("Illegal format pattern: "+p+":"+g);return JS[g]});for(l=0,c=e.length,f=o.length;l<c;++l)for(s=e[l],u=0;u<f;++u)a=o[u],s[a]=h[u](s[a])}const $x=g$e(typeof fetch<"u"&&fetch,null);function Cx(e){const t=e||gr,n=[],r={};return n.add=i=>{const o=t(i);return r[o]||(r[o]=1,n.push(i)),n},n.remove=i=>{const o=t(i);if(r[o]){r[o]=0;const s=n.indexOf(i);s>=0&&n.splice(s,1)}return n},n}async function Yy(e,t){try{await t(e)}catch(n){e.error(n)}}const HH=Symbol("vega_id");let O$e=1;function Ax(e){return!!(e&&De(e))}function De(e){return e[HH]}function WH(e,t){return e[HH]=t,e}function xt(e){const t=e===Object(e)?e:{data:e};return De(t)?t:WH(t,O$e++)}function C$(e){return kx(e,xt({}))}function kx(e,t){for(const n in e)t[n]=e[n];return t}function GH(e,t){return WH(t,De(e))}function yf(e,t){return e?t?(n,r)=>e(n,r)||De(t(n))-De(t(r)):(n,r)=>e(n,r)||De(n)-De(r):null}function YH(e){return e&&e.constructor===vf}function vf(){const e=[],t=[],n=[],r=[],i=[];let o=null,s=!1;return{constructor:vf,insert(a){const l=$e(a),u=l.length;for(let c=0;c<u;++c)e.push(l[c]);return this},remove(a){const l=Je(a)?r:t,u=$e(a),c=u.length;for(let f=0;f<c;++f)l.push(u[f]);return this},modify(a,l,u){const c={field:l,value:mr(u)};return Je(a)?(c.filter=a,i.push(c)):(c.tuple=a,n.push(c)),this},encode(a,l){return Je(a)?i.push({filter:a,field:l}):n.push({tuple:a,field:l}),this},clean(a){return o=a,this},reflow(){return s=!0,this},pulse(a,l){const u={},c={};let f,h,p,g,m,y;for(f=0,h=l.length;f<h;++f)u[De(l[f])]=1;for(f=0,h=t.length;f<h;++f)m=t[f],u[De(m)]=-1;for(f=0,h=r.length;f<h;++f)g=r[f],l.forEach(b=>{g(b)&&(u[De(b)]=-1)});for(f=0,h=e.length;f<h;++f)m=e[f],y=De(m),u[y]?u[y]=1:a.add.push(xt(e[f]));for(f=0,h=l.length;f<h;++f)m=l[f],u[De(m)]<0&&a.rem.push(m);function v(b,x,w){w?b[x]=w(b):a.encode=x,s||(c[De(b)]=b)}for(f=0,h=n.length;f<h;++f)p=n[f],m=p.tuple,g=p.field,y=u[De(m)],y>0&&(v(m,g,p.value),a.modifies(g));for(f=0,h=i.length;f<h;++f)p=i[f],g=p.filter,l.forEach(b=>{g(b)&&u[De(b)]>0&&v(b,p.field,p.value)}),a.modifies(p.field);if(s)a.mod=t.length||r.length?l.filter(b=>u[De(b)]>0):l.slice();else for(y in c)a.mod.push(c[y]);return(o||o==null&&(t.length||r.length))&&a.clean(!0),a}}}const Xy="_:mod:_";function Mx(){Object.defineProperty(this,Xy,{writable:!0,value:{}})}Mx.prototype={set(e,t,n,r){const i=this,o=i[e],s=i[Xy];return t!=null&&t>=0?(o[t]!==n||r)&&(o[t]=n,s[t+":"+e]=-1,s[e]=-1):(o!==n||r)&&(i[e]=n,s[e]=ie(n)?1+n.length:-1),i},modified(e,t){const n=this[Xy];if(arguments.length){if(ie(e)){for(let r=0;r<e.length;++r)if(n[e[r]])return!0;return!1}}else{for(const r in n)if(n[r])return!0;return!1}return t!=null&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[Xy]={},this}};let F$e=0;const N$e="pulse",R$e=new Mx,P$e=1,I$e=2;function Tt(e,t,n,r){this.id=++F$e,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function KF(e){return function(t){const n=this.flags;return arguments.length===0?!!(n&e):(this.flags=t?n|e:n&~e,this)}}Tt.prototype={targets(){return this._targets||(this._targets=Cx(Rm))},set(e){return this.value!==e?(this.value=e,1):0},skip:KF(P$e),modified:KF(I$e),parameters(e,t,n){t=t!==!1;const r=this._argval=this._argval||new Mx,i=this._argops=this._argops||[],o=[];let s,a,l,u;const c=(f,h,p)=>{p instanceof Tt?(p!==this&&(t&&p.targets().add(this),o.push(p)),i.push({op:p,name:f,index:h})):r.set(f,h,p)};for(s in e)if(a=e[s],s===N$e)$e(a).forEach(f=>{f instanceof Tt?f!==this&&(f.targets().add(this),o.push(f)):ne("Pulse parameters must be operator instances.")}),this.source=a;else if(ie(a))for(r.set(s,-1,Array(l=a.length)),u=0;u<l;++u)c(s,u,a[u]);else c(s,-1,a);return this.marshall().clear(),n&&(i.initonly=!0),o},marshall(e){const t=this._argval||R$e,n=this._argops;let r,i,o,s;if(n){const a=n.length;for(i=0;i<a;++i)r=n[i],o=r.op,s=o.modified()&&o.stamp===e,t.set(r.name,r.index,o.value,s);if(n.initonly){for(i=0;i<a;++i)r=n[i],r.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,r,i;if(e)for(t=0,n=e.length;t<n;++t)r=e[t],i=r.op,i._targets&&i._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};function D$e(e,t,n,r){let i=1,o;return e instanceof Tt?o=e:e&&e.prototype instanceof Tt?o=new e:Je(e)?o=new Tt(null,e):(i=0,o=new Tt(e,t)),this.rank(o),i&&(r=n,n=t),n&&this.connect(o,o.parameters(n,r)),this.touch(o),o}function L$e(e,t){const n=e.rank,r=t.length;for(let i=0;i<r;++i)if(n<t[i].rank){this.rerank(e);return}}let z$e=0;function Tx(e,t,n){this.id=++z$e,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function ol(e,t,n){return new Tx(e,t,n)}Tx.prototype={_filter:Wi,_apply:gr,targets(){return this._targets||(this._targets=Cx(Rm))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,r=n?n.length:0;for(let i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=ol(e);return this.targets().add(t),t},apply(e){const t=ol(null,e);return this.targets().add(t),t},merge(){const e=ol();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{const n=Date.now();return n-t>e?(t=n,1):0})},debounce(e){const t=ol();return this.targets().add(ol(null,null,p$(e,n=>{const r=n.dataflow;t.receive(n),r&&r.run&&r.run()}))),t},between(e,t){let n=!1;return e.targets().add(ol(null,null,()=>n=!0)),t.targets().add(ol(null,null,()=>n=!1)),this.filter(()=>n)},detach(){this._filter=Wi,this._targets=null}};function B$e(e,t,n,r){const i=this,o=ol(n,r),s=function(u){u.dataflow=i;try{o.receive(u)}catch(c){i.error(c)}finally{i.run()}};let a;typeof e=="string"&&typeof document<"u"?a=document.querySelectorAll(e):a=$e(e);const l=a.length;for(let u=0;u<l;++u)a[u].addEventListener(t,s);return o}function j$e(e,t){const n=this.locale();return VH(e,t,n.timeParse,n.utcParse)}function U$e(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))}async function q$e(e,t){const n=this;let r=0,i;try{i=await n.loader().load(e,{context:"dataflow",response:qH(t&&t.type)});try{i=n.parse(i,t)}catch(o){r=-2,n.warn("Data ingestion failed",e,o)}}catch(o){r=-1,n.warn("Loading failed",e,o)}return{data:i,status:r}}async function V$e(e,t,n){const r=this,i=r._pending||H$e(r);i.requests+=1;const o=await r.request(t,n);return r.pulse(e,r.changeset().remove(Wi).insert(o.data||[])),i.done(),o}function H$e(e){let t;const n=new Promise(r=>t=r);return n.requests=0,n.done=()=>{--n.requests===0&&(e._pending=null,t(e))},e._pending=n}const W$e={skip:!0};function G$e(e,t,n,r,i){return(e instanceof Tt?X$e:Y$e)(this,e,t,n,r,i),this}function Y$e(e,t,n,r,i,o){const s=Ke({},o,W$e);let a,l;Je(n)||(n=mr(n)),r===void 0?a=u=>e.touch(n(u)):Je(r)?(l=new Tt(null,r,i,!1),a=u=>{l.evaluate(u);const c=n(u),f=l.value;YH(f)?e.pulse(c,f,o):e.update(c,f,s)}):a=u=>e.update(n(u),r,s),t.apply(a)}function X$e(e,t,n,r,i,o){if(r===void 0)t.targets().add(n);else{const s=o||{},a=new Tt(null,K$e(n,r),i,!1);a.modified(s.force),a.rank=t.rank,t.targets().add(a),n&&(a.skip(!0),a.value=n.value,a.targets().add(n),e.connect(n,[a]))}}function K$e(e,t){return t=Je(t)?t:mr(t),e?function(n,r){const i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}function J$e(e){e.rank=++this._rank}function Q$e(e){const t=[e];let n,r,i;for(;t.length;)if(this.rank(n=t.pop()),r=n._targets)for(i=r.length;--i>=0;)t.push(n=r[i]),n===e&&ne("Cycle detected in dataflow graph.")}const vb={},ls=1,dl=2,ha=4,Z$e=ls|dl,JF=ls|ha,Gf=ls|dl|ha,QF=8,Ap=16,ZF=32,eN=64;function Ll(e,t,n){this.dataflow=e,this.stamp=t??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function y3(e,t){const n=[];return fl(e,t,r=>n.push(r)),n}function tN(e,t){const n={};return e.visit(t,r=>{n[De(r)]=1}),r=>n[De(r)]?null:r}function ry(e,t){return e?(n,r)=>e(n,r)&&t(n,r):t}Ll.prototype={StopPropagation:vb,ADD:ls,REM:dl,MOD:ha,ADD_REM:Z$e,ADD_MOD:JF,ALL:Gf,REFLOW:QF,SOURCE:Ap,NO_SOURCE:ZF,NO_FIELDS:eN,fork(e){return new Ll(this.dataflow).init(this,e)},clone(){const e=this.fork(Gf);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(Gf|Ap)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new Ll(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,e.fields&&!(t&eN)&&(n.fields=e.fields),t&ls?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),t&dl?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),t&ha?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),t&ZF?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||Gf;return t&ls&&this.add.length||t&dl&&this.rem.length||t&ha&&this.mod.length},reflow(e){if(e)return this.fork(Gf).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(ha,tN(this,ls))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return ie(e)?e.forEach(n=>t[n]=!0):t[e]=!0,this},modified(e,t){const n=this.fields;return(t||this.mod.length)&&n?arguments.length?ie(e)?e.some(r=>n[r]):n[e]:!!n:!1},filter(e,t){const n=this;return e&ls&&(n.addF=ry(n.addF,t)),e&dl&&(n.remF=ry(n.remF,t)),e&ha&&(n.modF=ry(n.modF,t)),e&Ap&&(n.srcF=ry(n.srcF,t)),n},materialize(e){e=e||Gf;const t=this;return e&ls&&t.addF&&(t.add=y3(t.add,t.addF),t.addF=null),e&dl&&t.remF&&(t.rem=y3(t.rem,t.remF),t.remF=null),e&ha&&t.modF&&(t.mod=y3(t.mod,t.modF),t.modF=null),e&Ap&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,r=t;if(e&Ap)return fl(n.source,n.srcF,r),n;e&ls&&fl(n.add,n.addF,r),e&dl&&fl(n.rem,n.remF,r),e&ha&&fl(n.mod,n.modF,r);const i=n.source;if(e&QF&&i){const o=n.add.length+n.mod.length;o===i.length||(o?fl(i,tN(n,JF),r):fl(i,n.srcF,r))}return n}};function A$(e,t,n,r){const i=this;let o=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n;for(const s of n)if(s.stamp===t){if(s.fields){const a=i.fields||(i.fields={});for(const l in s.fields)a[l]=1}s.changed(i.ADD)&&(o|=i.ADD),s.changed(i.REM)&&(o|=i.REM),s.changed(i.MOD)&&(o|=i.MOD)}this.changes=o}ve(A$,Ll,{fork(e){const t=new Ll(this.dataflow).init(this,e&this.NO_FIELDS);return e!==void 0&&(e&t.ADD&&this.visit(t.ADD,n=>t.add.push(n)),e&t.REM&&this.visit(t.REM,n=>t.rem.push(n)),e&t.MOD&&this.visit(t.MOD,n=>t.mod.push(n))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?ie(e)?e.some(r=>n[r]):n[e]:0},filter(){ne("MultiPulse does not support filtering.")},materialize(){ne("MultiPulse does not support materialization.")},visit(e,t){const n=this,r=n.pulses,i=r.length;let o=0;if(e&n.SOURCE)for(;o<i;++o)r[o].visit(e,t);else for(;o<i;++o)r[o].stamp===n.stamp&&r[o].visit(e,t);return n}});async function eCe(e,t,n){const r=this,i=[];if(r._pulse)return XH(r);if(r._pending&&await r._pending,t&&await Yy(r,t),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const o=++r._clock;r._pulse=new Ll(r,o,e),r._touched.forEach(c=>r._enqueue(c,!0)),r._touched=Cx(Rm);let s=0,a,l,u;try{for(;r._heap.size()>0;){if(a=r._heap.pop(),a.rank!==a.qrank){r._enqueue(a,!0);continue}l=a.run(r._getPulse(a,e)),l.then?l=await l:l.async&&(i.push(l.async),l=vb),l!==vb&&a._targets&&a._targets.forEach(c=>r._enqueue(c)),++s}}catch(c){r._heap.clear(),u=c}if(r._input={},r._pulse=null,r.debug(`Pulse ${o}: ${s} operators`),u&&(r._postrun=[],r.error(u)),r._postrun.length){const c=r._postrun.sort((f,h)=>h.priority-f.priority);r._postrun=[];for(let f=0;f<c.length;++f)await Yy(r,c[f].callback)}return n&&await Yy(r,n),i.length&&Promise.all(i).then(c=>r.runAsync(null,()=>{c.forEach(f=>{try{f(r)}catch(h){r.error(h)}})})),r}async function tCe(e,t,n){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(r,r),this._running}function nCe(e,t,n){return this._pulse?XH(this):(this.evaluate(e,t,n),this)}function rCe(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}}function XH(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function iCe(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function oCe(e,t){const n=e.source,r=this._clock;return n&&ie(n)?new A$(this,r,n.map(i=>i.pulse),t):this._input[e.id]||sCe(this._pulse,n&&n.pulse)}function sCe(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==vb&&(e.source=t.source),e)}const k$={skip:!1,force:!1};function aCe(e,t){const n=t||k$;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function lCe(e,t,n){const r=n||k$;return(e.set(t)||r.force)&&this.touch(e,r),this}function uCe(e,t,n){this.touch(e,n||k$);const r=new Ll(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,i),this}function cCe(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),KH(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let r;return t.length?(r=t[0],t[0]=n,fCe(t,0,e)):r=n,r}}}function KH(e,t,n,r){let i,o;const s=e[n];for(;n>t;){if(o=n-1>>1,i=e[o],r(s,i)<0){e[n]=i,n=o;continue}break}return e[n]=s}function fCe(e,t,n){const r=t,i=e.length,o=e[t];let s=(t<<1)+1,a;for(;s<i;)a=s+1,a<i&&n(e[s],e[a])>=0&&(s=a),e[t]=e[s],t=s,s=(t<<1)+1;return e[t]=o,KH(e,r,t,n)}function $d(){this.logger(u$()),this.logLevel(a$),this._clock=0,this._rank=0,this._locale=_$();try{this._loader=$x()}catch{}this._touched=Cx(Rm),this._input={},this._pulse=null,this._heap=cCe((e,t)=>e.qrank-t.qrank),this._postrun=[]}function kp(e){return function(){return this._log[e].apply(this,arguments)}}$d.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:kp("error"),warn:kp("warn"),info:kp("info"),debug:kp("debug"),logLevel:kp("level"),cleanThreshold:1e4,add:D$e,connect:L$e,rank:J$e,rerank:Q$e,pulse:uCe,touch:aCe,update:lCe,changeset:vf,ingest:U$e,parse:j$e,preload:V$e,request:q$e,events:B$e,on:G$e,evaluate:eCe,run:nCe,runAsync:tCe,runAfter:rCe,_enqueue:iCe,_getPulse:oCe};function Z(e,t){Tt.call(this,e,null,t)}ve(Z,Tt,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(n=>this.pulse=n):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const ih={};function JH(e){const t=QH(e);return t&&t.Definition||null}function QH(e){return e=e&&e.toLowerCase(),Le(ih,e)?ih[e]:null}function*ZH(e,t){if(t==null)for(let n of e)n!=null&&n!==""&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)r=t(r,++n,e),r!=null&&r!==""&&(r=+r)>=r&&(yield r)}}function M$(e,t,n){const r=Float64Array.from(ZH(e,n));return r.sort(Ut),t.map(i=>$8(r,i))}function T$(e,t){return M$(e,[.25,.5,.75],t)}function O$(e,t){const n=e.length,r=v8(e,t),i=T$(e,t),o=(i[2]-i[0])/1.34;return 1.06*(Math.min(r,o)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)}function eW(e){const t=e.maxbins||20,n=e.base||10,r=Math.log(n),i=e.divide||[5,2];let o=e.extent[0],s=e.extent[1],a,l,u,c,f,h;const p=e.span||s-o||Math.abs(o)||1;if(e.step)a=e.step;else if(e.steps){for(c=p/t,f=0,h=e.steps.length;f<h&&e.steps[f]<c;++f);a=e.steps[Math.max(0,f-1)]}else{for(l=Math.ceil(Math.log(t)/r),u=e.minstep||0,a=Math.max(u,Math.pow(n,Math.round(Math.log(p)/r)-l));Math.ceil(p/a)>t;)a*=n;for(f=0,h=i.length;f<h;++f)c=a/i[f],c>=u&&p/c<=t&&(a=c)}c=Math.log(a);const g=c>=0?0:~~(-c/r)+1,m=Math.pow(n,-g-1);return(e.nice||e.nice===void 0)&&(c=Math.floor(o/a+m)*a,o=o<c?c-a:c,s=Math.ceil(s/a)*a),{start:o,stop:s===o?o+a:s,step:a}}var Yi=Math.random;function dCe(e){Yi=e}function tW(e,t,n,r){if(!e.length)return[void 0,void 0];const i=Float64Array.from(ZH(e,r)),o=i.length,s=t;let a,l,u,c;for(u=0,c=Array(s);u<s;++u){for(a=0,l=0;l<o;++l)a+=i[~~(Yi()*o)];c[u]=a/o}return c.sort(Ut),[Fc(c,n/2),Fc(c,1-n/2)]}function nW(e,t,n,r){r=r||(h=>h);const i=e.length,o=new Float64Array(i);let s=0,a=1,l=r(e[0]),u=l,c=l+t,f;for(;a<i;++a){if(f=r(e[a]),f>=c){for(u=(l+u)/2;s<a;++s)o[s]=u;c=f+t,l=f}u=f}for(u=(l+u)/2;s<a;++s)o[s]=u;return n?hCe(o,t+t/4):o}function hCe(e,t){const n=e.length;let r=0,i=1,o,s;for(;e[r]===e[i];)++i;for(;i<n;){for(o=i+1;e[i]===e[o];)++o;if(e[i]-e[i-1]<t){for(s=i+(r+o-i-i>>1);s<i;)e[s++]=e[i];for(;s>i;)e[s--]=e[r]}r=i,i=o}return e}function pCe(e){return function(){return e=(1103515245*e+12345)%2147483647,e/2147483647}}function gCe(e,t){t==null&&(t=e,e=0);let n,r,i;const o={min(s){return arguments.length?(n=s||0,i=r-n,o):n},max(s){return arguments.length?(r=s||0,i=r-n,o):r},sample(){return n+Math.floor(i*Yi())},pdf(s){return s===Math.floor(s)&&s>=n&&s<r?1/i:0},cdf(s){const a=Math.floor(s);return a<n?0:a>=r?1:(a-n+1)/i},icdf(s){return s>=0&&s<=1?n-1+Math.floor(s*i):NaN}};return o.min(e).max(t)}const rW=Math.sqrt(2*Math.PI),mCe=Math.SQRT2;let Mp=NaN;function Ox(e,t){e=e||0,t=t??1;let n=0,r=0,i,o;if(Mp===Mp)n=Mp,Mp=NaN;else{do n=Yi()*2-1,r=Yi()*2-1,i=n*n+r*r;while(i===0||i>1);o=Math.sqrt(-2*Math.log(i)/i),n*=o,Mp=r*o}return e+n*t}function F$(e,t,n){n=n??1;const r=(e-(t||0))/n;return Math.exp(-.5*r*r)/(n*rW)}function Fx(e,t,n){t=t||0,n=n??1;const r=(e-t)/n,i=Math.abs(r);let o;if(i>37)o=0;else{const s=Math.exp(-i*i/2);let a;i<7.07106781186547?(a=.0352624965998911*i+.700383064443688,a=a*i+6.37396220353165,a=a*i+33.912866078383,a=a*i+112.079291497871,a=a*i+221.213596169931,a=a*i+220.206867912376,o=s*a,a=.0883883476483184*i+1.75566716318264,a=a*i+16.064177579207,a=a*i+86.7807322029461,a=a*i+296.564248779674,a=a*i+637.333633378831,a=a*i+793.826512519948,a=a*i+440.413735824752,o=o/a):(a=i+.65,a=i+4/a,a=i+3/a,a=i+2/a,a=i+1/a,o=s/a/2.506628274631)}return r>0?1-o:o}function Nx(e,t,n){return e<0||e>1?NaN:(t||0)+(n??1)*mCe*yCe(2*e-1)}function yCe(e){let t=-Math.log((1-e)*(1+e)),n;return t<6.25?(t-=3.125,n=-364441206401782e-35,n=-16850591381820166e-35+n*t,n=128584807152564e-32+n*t,n=11157877678025181e-33+n*t,n=-1333171662854621e-31+n*t,n=20972767875968562e-33+n*t,n=6637638134358324e-30+n*t,n=-4054566272975207e-29+n*t,n=-8151934197605472e-29+n*t,n=26335093153082323e-28+n*t,n=-12975133253453532e-27+n*t,n=-5415412054294628e-26+n*t,n=10512122733215323e-25+n*t,n=-4112633980346984e-24+n*t,n=-29070369957882005e-24+n*t,n=42347877827932404e-23+n*t,n=-13654692000834679e-22+n*t,n=-13882523362786469e-21+n*t,n=.00018673420803405714+n*t,n=-.000740702534166267+n*t,n=-.006033670871430149+n*t,n=.24015818242558962+n*t,n=1.6536545626831027+n*t):t<16?(t=Math.sqrt(t)-3.25,n=22137376921775787e-25,n=9075656193888539e-23+n*t,n=-27517406297064545e-23+n*t,n=18239629214389228e-24+n*t,n=15027403968909828e-22+n*t,n=-4013867526981546e-21+n*t,n=29234449089955446e-22+n*t,n=12475304481671779e-21+n*t,n=-47318229009055734e-21+n*t,n=6828485145957318e-20+n*t,n=24031110387097894e-21+n*t,n=-.0003550375203628475+n*t,n=.0009532893797373805+n*t,n=-.0016882755560235047+n*t,n=.002491442096107851+n*t,n=-.003751208507569241+n*t,n=.005370914553590064+n*t,n=1.0052589676941592+n*t,n=3.0838856104922208+n*t):Number.isFinite(t)?(t=Math.sqrt(t)-5,n=-27109920616438573e-27,n=-2555641816996525e-25+n*t,n=15076572693500548e-25+n*t,n=-3789465440126737e-24+n*t,n=761570120807834e-23+n*t,n=-1496002662714924e-23+n*t,n=2914795345090108e-23+n*t,n=-6771199775845234e-23+n*t,n=22900482228026655e-23+n*t,n=-99298272942317e-20+n*t,n=4526062597223154e-21+n*t,n=-1968177810553167e-20+n*t,n=7599527703001776e-20+n*t,n=-.00021503011930044477+n*t,n=-.00013871931833623122+n*t,n=1.0103004648645344+n*t,n=4.849906401408584+n*t):n=1/0,n*e}function N$(e,t){let n,r;const i={mean(o){return arguments.length?(n=o||0,i):n},stdev(o){return arguments.length?(r=o??1,i):r},sample:()=>Ox(n,r),pdf:o=>F$(o,n,r),cdf:o=>Fx(o,n,r),icdf:o=>Nx(o,n,r)};return i.mean(e).stdev(t)}function R$(e,t){const n=N$();let r=0;const i={data(o){return arguments.length?(e=o,r=o?o.length:0,i.bandwidth(t)):e},bandwidth(o){return arguments.length?(t=o,!t&&e&&(t=O$(e)),i):t},sample(){return e[~~(Yi()*r)]+t*n.sample()},pdf(o){let s=0,a=0;for(;a<r;++a)s+=n.pdf((o-e[a])/t);return s/t/r},cdf(o){let s=0,a=0;for(;a<r;++a)s+=n.cdf((o-e[a])/t);return s/r},icdf(){throw Error("KDE icdf not supported.")}};return i.data(e)}function P$(e,t){return e=e||0,t=t??1,Math.exp(e+Ox()*t)}function I$(e,t,n){if(e<=0)return 0;t=t||0,n=n??1;const r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*rW*e)}function D$(e,t,n){return Fx(Math.log(e),t,n)}function L$(e,t,n){return Math.exp(Nx(e,t,n))}function iW(e,t){let n,r;const i={mean(o){return arguments.length?(n=o||0,i):n},stdev(o){return arguments.length?(r=o??1,i):r},sample:()=>P$(n,r),pdf:o=>I$(o,n,r),cdf:o=>D$(o,n,r),icdf:o=>L$(o,n,r)};return i.mean(e).stdev(t)}function oW(e,t){let n=0,r;function i(s){const a=[];let l=0,u;for(u=0;u<n;++u)l+=a[u]=s[u]==null?1:+s[u];for(u=0;u<n;++u)a[u]/=l;return a}const o={weights(s){return arguments.length?(r=i(t=s||[]),o):t},distributions(s){return arguments.length?(s?(n=s.length,e=s):(n=0,e=[]),o.weights(t)):e},sample(){const s=Yi();let a=e[n-1],l=r[0],u=0;for(;u<n-1;l+=r[++u])if(s<l){a=e[u];break}return a.sample()},pdf(s){let a=0,l=0;for(;l<n;++l)a+=r[l]*e[l].pdf(s);return a},cdf(s){let a=0,l=0;for(;l<n;++l)a+=r[l]*e[l].cdf(s);return a},icdf(){throw Error("Mixture icdf not supported.")}};return o.distributions(e).weights(t)}function z$(e,t){return t==null&&(t=e??1,e=0),e+(t-e)*Yi()}function B$(e,t,n){return n==null&&(n=t??1,t=0),e>=t&&e<=n?1/(n-t):0}function j$(e,t,n){return n==null&&(n=t??1,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function U$(e,t,n){return n==null&&(n=t??1,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function sW(e,t){let n,r;const i={min(o){return arguments.length?(n=o||0,i):n},max(o){return arguments.length?(r=o??1,i):r},sample:()=>z$(n,r),pdf:o=>B$(o,n,r),cdf:o=>j$(o,n,r),icdf:o=>U$(o,n,r)};return t==null&&(t=e??1,e=0),i.min(e).max(t)}function q$(e,t,n){let r=0,i=0;for(const o of e){const s=n(o);t(o)==null||s==null||isNaN(s)||(r+=(s-r)/++i)}return{coef:[r],predict:()=>r,rSquared:0}}function Im(e,t,n,r){const i=r-e*e,o=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-o*e,o]}function Rx(e,t,n,r){e=e.filter(p=>{let g=t(p),m=n(p);return g!=null&&(g=+g)>=g&&m!=null&&(m=+m)>=m}),r&&e.sort((p,g)=>t(p)-t(g));const i=e.length,o=new Float64Array(i),s=new Float64Array(i);let a=0,l=0,u=0,c,f,h;for(h of e)o[a]=c=+t(h),s[a]=f=+n(h),++a,l+=(c-l)/a,u+=(f-u)/a;for(a=0;a<i;++a)o[a]-=l,s[a]-=u;return[o,s,l,u]}function Dm(e,t,n,r){let i=-1,o,s;for(const a of e)o=t(a),s=n(a),o!=null&&(o=+o)>=o&&s!=null&&(s=+s)>=s&&r(o,s,++i)}function Jh(e,t,n,r,i){let o=0,s=0;return Dm(e,t,n,(a,l)=>{const u=l-i(a),c=l-r;o+=u*u,s+=c*c}),1-o/s}function V$(e,t,n){let r=0,i=0,o=0,s=0,a=0;Dm(e,t,n,(c,f)=>{++a,r+=(c-r)/a,i+=(f-i)/a,o+=(c*f-o)/a,s+=(c*c-s)/a});const l=Im(r,i,o,s),u=c=>l[0]+l[1]*c;return{coef:l,predict:u,rSquared:Jh(e,t,n,i,u)}}function aW(e,t,n){let r=0,i=0,o=0,s=0,a=0;Dm(e,t,n,(c,f)=>{++a,c=Math.log(c),r+=(c-r)/a,i+=(f-i)/a,o+=(c*f-o)/a,s+=(c*c-s)/a});const l=Im(r,i,o,s),u=c=>l[0]+l[1]*Math.log(c);return{coef:l,predict:u,rSquared:Jh(e,t,n,i,u)}}function lW(e,t,n){const[r,i,o,s]=Rx(e,t,n);let a=0,l=0,u=0,c=0,f=0,h,p,g;Dm(e,t,n,(b,x)=>{h=r[f++],p=Math.log(x),g=h*x,a+=(x*p-a)/f,l+=(g-l)/f,u+=(g*p-u)/f,c+=(h*g-c)/f});const[m,y]=Im(l/s,a/s,u/s,c/s),v=b=>Math.exp(m+y*(b-o));return{coef:[Math.exp(m-y*o),y],predict:v,rSquared:Jh(e,t,n,s,v)}}function uW(e,t,n){let r=0,i=0,o=0,s=0,a=0,l=0;Dm(e,t,n,(f,h)=>{const p=Math.log(f),g=Math.log(h);++l,r+=(p-r)/l,i+=(g-i)/l,o+=(p*g-o)/l,s+=(p*p-s)/l,a+=(h-a)/l});const u=Im(r,i,o,s),c=f=>u[0]*Math.pow(f,u[1]);return u[0]=Math.exp(u[0]),{coef:u,predict:c,rSquared:Jh(e,t,n,a,c)}}function H$(e,t,n){const[r,i,o,s]=Rx(e,t,n),a=r.length;let l=0,u=0,c=0,f=0,h=0,p,g,m,y;for(p=0;p<a;)g=r[p],m=i[p++],y=g*g,l+=(y-l)/p,u+=(y*g-u)/p,c+=(y*y-c)/p,f+=(g*m-f)/p,h+=(y*m-h)/p;const v=c-l*l,b=l*v-u*u,x=(h*l-f*u)/b,w=(f*v-h*u)/b,_=-x*l,$=S=>(S=S-o,x*S*S+w*S+_+s);return{coef:[_-w*o+x*o*o+s,w-2*x*o,x],predict:$,rSquared:Jh(e,t,n,s,$)}}function cW(e,t,n,r){if(r===0)return q$(e,t,n);if(r===1)return V$(e,t,n);if(r===2)return H$(e,t,n);const[i,o,s,a]=Rx(e,t,n),l=i.length,u=[],c=[],f=r+1;let h,p,g,m,y;for(h=0;h<f;++h){for(g=0,m=0;g<l;++g)m+=Math.pow(i[g],h)*o[g];for(u.push(m),y=new Float64Array(f),p=0;p<f;++p){for(g=0,m=0;g<l;++g)m+=Math.pow(i[g],h+p);y[p]=m}c.push(y)}c.push(u);const v=bCe(c),b=x=>{x-=s;let w=a+v[0]+v[1]*x+v[2]*x*x;for(h=3;h<f;++h)w+=v[h]*Math.pow(x,h);return w};return{coef:vCe(f,v,-s,a),predict:b,rSquared:Jh(e,t,n,a,b)}}function vCe(e,t,n,r){const i=Array(e);let o,s,a,l;for(o=0;o<e;++o)i[o]=0;for(o=e-1;o>=0;--o)for(a=t[o],l=1,i[o]+=a,s=1;s<=o;++s)l*=(o+1-s)/s,i[o-s]+=a*Math.pow(n,s)*l;return i[0]+=r,i}function bCe(e){const t=e.length-1,n=[];let r,i,o,s,a;for(r=0;r<t;++r){for(s=r,i=r+1;i<t;++i)Math.abs(e[r][i])>Math.abs(e[r][s])&&(s=i);for(o=r;o<t+1;++o)a=e[o][r],e[o][r]=e[o][s],e[o][s]=a;for(i=r+1;i<t;++i)for(o=t;o>=r;o--)e[o][i]-=e[o][r]*e[r][i]/e[r][r]}for(i=t-1;i>=0;--i){for(a=0,o=i+1;o<t;++o)a+=e[o][i]*n[o];n[i]=(e[t][i]-a)/e[i][i]}return n}const nN=2,rN=1e-12;function fW(e,t,n,r){const[i,o,s,a]=Rx(e,t,n,!0),l=i.length,u=Math.max(2,~~(r*l)),c=new Float64Array(l),f=new Float64Array(l),h=new Float64Array(l).fill(1);for(let p=-1;++p<=nN;){const g=[0,u-1];for(let y=0;y<l;++y){const v=i[y],b=g[0],x=g[1],w=v-i[b]>i[x]-v?b:x;let _=0,$=0,S=0,C=0,T=0;const M=1/Math.abs(i[w]-v||1);for(let k=b;k<=x;++k){const A=i[k],O=o[k],F=xCe(Math.abs(v-A)*M)*h[k],R=A*F;_+=F,$+=R,S+=O*F,C+=O*R,T+=A*R}const[E,N]=Im($/_,S/_,C/_,T/_);c[y]=E+N*v,f[y]=Math.abs(o[y]-c[y]),wCe(i,y+1,g)}if(p===nN)break;const m=C8(f);if(Math.abs(m)<rN)break;for(let y=0,v,b;y<l;++y)v=f[y]/(6*m),h[y]=v>=1?rN:(b=1-v*v)*b}return _Ce(i,c,s,a)}function xCe(e){return(e=1-e*e*e)*e*e}function wCe(e,t,n){const r=e[t];let i=n[0],o=n[1]+1;if(!(o>=e.length))for(;t>i&&e[o]-r<=r-e[i];)n[0]=++i,n[1]=o,++o}function _Ce(e,t,n,r){const i=e.length,o=[];let s=0,a=0,l=[],u;for(;s<i;++s)u=e[s]+n,l[0]===u?l[1]+=(t[s]-l[1])/++a:(a=0,l[1]+=r,l=[u,t[s]],o.push(l));return l[1]+=r,o}const ECe=.5*Math.PI/180;function Px(e,t,n,r){n=n||25,r=Math.max(n,r||200);const i=m=>[m,e(m)],o=t[0],s=t[1],a=s-o,l=a/r,u=[i(o)],c=[];if(n===r){for(let m=1;m<r;++m)u.push(i(o+m/n*a));return u.push(i(s)),u}else{c.push(i(s));for(let m=n;--m>0;)c.push(i(o+m/n*a))}let f=u[0],h=c[c.length-1];const p=1/a,g=SCe(f[1],c);for(;h;){const m=i((f[0]+h[0])/2);m[0]-f[0]>=l&&$Ce(f,m,h,p,g)>ECe?c.push(m):(f=h,u.push(h),c.pop()),h=c[c.length-1]}return u}function SCe(e,t){let n=e,r=e;const i=t.length;for(let o=0;o<i;++o){const s=t[o][1];s<n&&(n=s),s>r&&(r=s)}return 1/(r-n)}function $Ce(e,t,n,r,i){const o=Math.atan2(i*(n[1]-e[1]),r*(n[0]-e[0])),s=Math.atan2(i*(t[1]-e[1]),r*(t[0]-e[0]));return Math.abs(o-s)}function CCe(e){return t=>{const n=e.length;let r=1,i=String(e[0](t));for(;r<n;++r)i+="|"+e[r](t);return i}}function QS(e){return!e||!e.length?function(){return""}:e.length===1?e[0]:CCe(e)}function dW(e,t,n){return n||e+(t?"_"+t:"")}const v3=()=>{},ACe={init:v3,add:v3,rem:v3,idx:0},F0={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.sum,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||e.min===void 0)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||e.max===void 0)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3}},Lm=Object.keys(F0).filter(e=>e!=="__count__");function kCe(e,t){return n=>Ke({name:e,out:n||e},ACe,t)}[...Lm,"__count__"].forEach(e=>{F0[e]=kCe(e,F0[e])});function hW(e,t){return F0[e](t)}function pW(e,t){return e.idx-t.idx}function MCe(e){const t={};e.forEach(r=>t[r.name]=r);const n=r=>{r.req&&r.req.forEach(i=>{t[i]||n(t[i]=F0[i]())})};return e.forEach(n),Object.values(t).sort(pW)}function TCe(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.init(this))}function OCe(e,t){if(e==null||e===""){++this.missing;return}e===e&&(++this.valid,this._ops.forEach(n=>n.add(this,e,t)))}function FCe(e,t){if(e==null||e===""){--this.missing;return}e===e&&(--this.valid,this._ops.forEach(n=>n.rem(this,e,t)))}function NCe(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function gW(e,t){const n=t||gr,r=MCe(e),i=e.slice().sort(pW);function o(s){this._ops=r,this._out=i,this.cell=s,this.init()}return o.prototype.init=TCe,o.prototype.add=OCe,o.prototype.rem=FCe,o.prototype.set=NCe,o.prototype.get=n,o.fields=e.map(s=>s.out),o}function W$(e){this._key=e?Zr(e):De,this.reset()}const Yn=W$.prototype;Yn.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null};Yn.add=function(e){this._add.push(e)};Yn.rem=function(e){this._rem.push(e)};Yn.values=function(){if(this._get=null,this._rem.length===0)return this._add;const e=this._add,t=this._rem,n=this._key,r=e.length,i=t.length,o=Array(r-i),s={};let a,l,u;for(a=0;a<i;++a)s[n(t[a])]=1;for(a=0,l=0;a<r;++a)s[n(u=e[a])]?s[n(u)]=0:o[l++]=u;return this._rem=[],this._add=o};Yn.distinct=function(e){const t=this.values(),n={};let r=t.length,i=0,o;for(;--r>=0;)o=e(t[r])+"",Le(n,o)||(n[o]=1,++i);return i};Yn.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),n=rH(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext};Yn.argmin=function(e){return this.extent(e)[0]||{}};Yn.argmax=function(e){return this.extent(e)[1]||{}};Yn.min=function(e){const t=this.extent(e)[0];return t!=null?e(t):void 0};Yn.max=function(e){const t=this.extent(e)[1];return t!=null?e(t):void 0};Yn.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=T$(this.values(),e),this._get=e),this._q};Yn.q1=function(e){return this.quartile(e)[0]};Yn.q2=function(e){return this.quartile(e)[1]};Yn.q3=function(e){return this.quartile(e)[2]};Yn.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=tW(this.values(),1e3,.05,e),this._get=e),this._ci};Yn.ci0=function(e){return this.ci(e)[0]};Yn.ci1=function(e){return this.ci(e)[1]};function eu(e){Z.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}eu.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Lm},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};ve(eu,Z,{transform(e,t){const n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return n.stamp=r.stamp,n.value&&(i||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(e):Object.create(null),t.visit(t.SOURCE,o=>n.add(o))):(n.value=n.value||n.init(e),t.visit(t.REM,o=>n.rem(o)),t.visit(t.ADD,o=>n.add(o))),r.modifies(n._outputs),n._drop=e.drop!==!1,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&r.clean(!0).runAfter(()=>this.clean()),n.changes(r)},cross(){const e=this,t=e.value,n=e._dnames,r=n.map(()=>({})),i=n.length;function o(a){let l,u,c,f;for(l in a)for(c=a[l].tuple,u=0;u<i;++u)r[u][f=c[n[u]]]=f}o(e._prev),o(t);function s(a,l,u){const c=n[u],f=r[u++];for(const h in f){const p=a?a+"|"+h:h;l[c]=f[h],u<i?s(p,l,u):t[p]||e.cell(p,l)}}s("",{},0)},init(e){const t=this._inputs=[],n=this._outputs=[],r={};function i(y){const v=$e(fr(y)),b=v.length;let x=0,w;for(;x<b;++x)r[w=v[x]]||(r[w]=1,t.push(w))}this._dims=$e(e.groupby),this._dnames=this._dims.map(y=>{const v=tn(y);return i(y),n.push(v),v}),this.cellkey=e.key?e.key:QS(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const o=e.fields||[null],s=e.ops||["count"],a=e.as||[],l=o.length,u={};let c,f,h,p,g,m;for(l!==s.length&&ne("Unmatched number of fields and aggregate ops."),m=0;m<l;++m){if(c=o[m],f=s[m],c==null&&f!=="count"&&ne("Null aggregate field specified."),p=tn(c),g=dW(f,p,a[m]),n.push(g),f==="count"){this._counts.push(g);continue}h=u[p],h||(i(c),h=u[p]=[],h.field=c,this._measures.push(h)),f!=="count"&&(this._countOnly=!1),h.push(hW(f,g))}return this._measures=this._measures.map(y=>gW(y,y.field)),Object.create(null)},cellkey:QS(),cell(e,t){let n=this.value[e];return n?n.num===0&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){const n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const r=this._measures,i=r.length;n.agg=Array(i);for(let o=0;o<i;++o)n.agg[o]=new r[o](n)}return n.store&&(n.data=new W$),n},newtuple(e,t){const n=this._dnames,r=this._dims,i=r.length,o={};for(let s=0;s<i;++s)o[n[s]]=r[s](e);return t?GH(t.tuple,o):xt(o)},clean(){const e=this.value;for(const t in e)e[t].num===0&&delete e[t]},add(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);const r=n.agg;for(let i=0,o=r.length;i<o;++i)r[i].add(r[i].get(e),e)},rem(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);const r=n.agg;for(let i=0,o=r.length;i<o;++i)r[i].rem(r[i].get(e),e)},celltuple(e){const t=e.tuple,n=this._counts;e.store&&e.data.values();for(let r=0,i=n.length;r<i;++r)t[n[r]]=e.num;if(!this._countOnly){const r=e.agg;for(let i=0,o=r.length;i<o;++i)r[i].set(t)}return t},changes(e){const t=this._adds,n=this._mods,r=this._prev,i=this._drop,o=e.add,s=e.rem,a=e.mod;let l,u,c,f;if(r)for(u in r)l=r[u],(!i||l.num)&&s.push(l.tuple);for(c=0,f=this._alen;c<f;++c)o.push(this.celltuple(t[c])),t[c]=null;for(c=0,f=this._mlen;c<f;++c)l=n[c],(l.num===0&&i?s:a).push(this.celltuple(l)),n[c]=null;return this._alen=this._mlen=0,this._prev=null,e}});const RCe=1e-14;function G$(e){Z.call(this,null,e)}G$.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};ve(G$,Z,{transform(e,t){const n=e.interval!==!1,r=this._bins(e),i=r.start,o=r.step,s=e.as||["bin0","bin1"],a=s[0],l=s[1];let u;return e.modified()?(t=t.reflow(!0),u=t.SOURCE):u=t.modified(fr(e.field))?t.ADD_MOD:t.ADD,t.visit(u,n?c=>{const f=r(c);c[a]=f,c[l]=f==null?null:i+o*(1+(f-i)/o)}:c=>c[a]=r(c)),t.modifies(n?s:a)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,n=eW(e),r=n.step;let i=n.start,o=i+Math.ceil((n.stop-i)/r)*r,s,a;(s=e.anchor)!=null&&(a=s-(i+r*Math.floor((s-i)/r)),i+=a,o+=a);const l=function(u){let c=ar(t(u));return c==null?null:c<i?-1/0:c>o?1/0:(c=Math.max(i,Math.min(c,o-r)),i+r*Math.floor(RCe+(c-i)/r))};return l.start=i,l.stop=n.stop,l.step=r,this.value=li(l,fr(t),e.name||"bin_"+tn(t))}});function mW(e,t,n){const r=e;let i=t||[],o=n||[],s={},a=0;return{add:l=>o.push(l),remove:l=>s[r(l)]=++a,size:()=>i.length,data:(l,u)=>(a&&(i=i.filter(c=>!s[r(c)]),s={},a=0),u&&l&&i.sort(l),o.length&&(i=l?uH(l,i,o.sort(l)):i.concat(o),o=[]),i)}}function Y$(e){Z.call(this,[],e)}Y$.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};ve(Y$,Z,{transform(e,t){const n=t.fork(t.ALL),r=mW(De,this.value,n.materialize(n.ADD).add),i=e.sort,o=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(o),this.value=n.source=r.data(yf(i),o),t.source&&t.source.root&&(this.value.root=t.source.root),n}});function yW(e){Tt.call(this,null,PCe,e)}ve(yW,Tt);function PCe(e){return this.value&&!e.modified()?this.value:h$(e.fields,e.orders)}function X$(e){Z.call(this,null,e)}X$.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function ICe(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break}return e.match(n)}ve(X$,Z,{transform(e,t){const n=f=>h=>{for(var p=ICe(a(h),e.case,o)||[],g,m=0,y=p.length;m<y;++m)s.test(g=p[m])||f(g)},r=this._parameterCheck(e,t),i=this._counts,o=this._match,s=this._stop,a=e.field,l=e.as||["text","count"],u=n(f=>i[f]=1+(i[f]||0)),c=n(f=>i[f]-=1);return r?t.visit(t.SOURCE,u):(t.visit(t.ADD,u),t.visit(t.REM,c)),this._finish(t,l)},_parameterCheck(e,t){let n=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){const n=this._counts,r=this._tuples||(this._tuples={}),i=t[0],o=t[1],s=e.fork(e.NO_SOURCE|e.NO_FIELDS);let a,l,u;for(a in n)l=r[a],u=n[a]||0,!l&&u?(r[a]=l=xt({}),l[i]=a,l[o]=u,s.add.push(l)):u===0?(l&&s.rem.push(l),n[a]=null,r[a]=null):l[o]!==u&&(l[o]=u,s.mod.push(l));return s.modifies(t)}});function K$(e){Z.call(this,null,e)}K$.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};ve(K$,Z,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.as||["a","b"],i=r[0],o=r[1],s=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let a=this.value;return s?(a&&(n.rem=a),a=t.materialize(t.SOURCE).source,n.add=this.value=DCe(a,i,o,e.filter||Wi)):n.mod=a,n.source=this.value,n.modifies(r)}});function DCe(e,t,n,r){for(var i=[],o={},s=e.length,a=0,l,u;a<s;++a)for(o[t]=u=e[a],l=0;l<s;++l)o[n]=e[l],r(o)&&(i.push(xt(o)),o={},o[t]=u);return i}const iN={kde:R$,mixture:oW,normal:N$,lognormal:iW,uniform:sW},LCe="distributions",oN="function",zCe="field";function vW(e,t){const n=e[oN];Le(iN,n)||ne("Unknown distribution function: "+n);const r=iN[n]();for(const i in e)i===zCe?r.data((e.from||t()).map(e[i])):i===LCe?r[i](e[i].map(o=>vW(o,t))):typeof r[i]===oN&&r[i](e[i]);return r}function J$(e){Z.call(this,null,e)}const bW=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],BCe={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:bW},{name:"weights",type:"number",array:!0}]};J$.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:bW.concat(BCe)},{name:"as",type:"string",array:!0,default:["value","density"]}]};ve(J$,Z,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=vW(e.distribution,jCe(t)),i=e.steps||e.minsteps||25,o=e.steps||e.maxsteps||200;let s=e.method||"pdf";s!=="pdf"&&s!=="cdf"&&ne("Invalid density method: "+s),!e.extent&&!r.data&&ne("Missing density extent parameter."),s=r[s];const a=e.as||["value","density"],l=e.extent||Is(r.data()),u=Px(s,l,i,o).map(c=>{const f={};return f[a[0]]=c[0],f[a[1]]=c[1],xt(f)});this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function jCe(e){return()=>e.materialize(e.SOURCE).source}function xW(e,t){return e?e.map((n,r)=>t[r]||tn(n)):null}function Q$(e,t,n){const r=[],i=f=>f(l);let o,s,a,l,u,c;if(t==null)r.push(e.map(n));else for(o={},s=0,a=e.length;s<a;++s)l=e[s],u=t.map(i),c=o[u],c||(o[u]=c=[],c.dims=u,r.push(c)),c.push(n(l));return r}const wW="bin";function Z$(e){Z.call(this,null,e)}Z$.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:wW}]};const UCe=(e,t)=>Pm(Is(e,t))/30;ve(Z$,Z,{transform(e,t){if(this.value&&!(e.modified()||t.changed()))return t;const n=t.materialize(t.SOURCE).source,r=Q$(t.source,e.groupby,gr),i=e.smooth||!1,o=e.field,s=e.step||UCe(n,o),a=yf((g,m)=>o(g)-o(m)),l=e.as||wW,u=r.length;let c=1/0,f=-1/0,h=0,p;for(;h<u;++h){const g=r[h].sort(a);p=-1;for(const m of nW(g,s,i,o))m<c&&(c=m),m>f&&(f=m),g[++p][l]=m}return this.value={start:c,stop:f,step:s},t.reflow(!0).modifies(l)}});function _W(e){Tt.call(this,null,qCe,e),this.modified(!0)}ve(_W,Tt);function qCe(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:li(n=>t(n,e),fr(t),tn(t))}function eC(e){Z.call(this,[void 0,void 0],e)}eC.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};ve(eC,Z,{transform(e,t){const n=this.value,r=e.field,i=t.changed()||t.modified(r.fields)||e.modified("field");let o=n[0],s=n[1];if((i||o==null)&&(o=1/0,s=-1/0),t.visit(i?t.SOURCE:t.ADD,a=>{const l=ar(r(a));l!=null&&(l<o&&(o=l),l>s&&(s=l))}),!Number.isFinite(o)||!Number.isFinite(s)){let a=tn(r);a&&(a=` for field "${a}"`),t.dataflow.warn(`Infinite extent${a}: [${o}, ${s}]`),o=s=void 0}this.value=[o,s]}});function tC(e,t){Tt.call(this,e),this.parent=t,this.count=0}ve(tC,Tt,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}});function Ix(e){Z.call(this,{},e),this._keys=Yh();const t=this._targets=[];t.active=0,t.forEach=n=>{for(let r=0,i=t.active;r<i;++r)n(t[r],r,t)}}ve(Ix,Z,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,r){const i=this.value;let o=Le(i,e)&&i[e],s,a;return o?o.value.stamp<n.stamp&&(o.init(n),this.activate(o)):(a=r||(a=this._group[e])&&a.tuple,s=n.dataflow,o=new tC(n.fork(n.NO_SOURCE),this),s.add(o).connect(t(s,e,a)),i[e]=o,this.activate(o)),o},clean(){const e=this.value;let t=0;for(const n in e)if(e[n].count===0){const r=e[n].detachSubflow;r&&r(),delete e[n],++t}if(t){const n=this._targets.filter(r=>r&&r.count>0);this.initTargets(n)}},initTargets(e){const t=this._targets,n=t.length,r=e?e.length:0;let i=0;for(;i<r;++i)t[i]=e[i];for(;i<n&&t[i]!=null;++i)t[i]=null;t.active=r},transform(e,t){const n=t.dataflow,r=e.key,i=e.subflow,o=this._keys,s=e.modified("key"),a=l=>this.subflow(l,i,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,l=>{const u=De(l),c=o.get(u);c!==void 0&&(o.delete(u),a(c).rem(l))}),t.visit(t.ADD,l=>{const u=r(l);o.set(De(l),u),a(u).add(l)}),s||t.modified(r.fields)?t.visit(t.MOD,l=>{const u=De(l),c=o.get(u),f=r(l);c===f?a(f).mod(l):(o.set(u,f),a(c).rem(l),a(f).add(l))}):t.changed(t.MOD)&&t.visit(t.MOD,l=>{a(o.get(De(l))).mod(l)}),s&&t.visit(t.REFLOW,l=>{const u=De(l),c=o.get(u),f=r(l);c!==f&&(o.set(u,f),a(c).rem(l),a(f).add(l))}),t.clean()?n.runAfter(()=>{this.clean(),o.clean()}):o.empty>n.cleanThreshold&&n.runAfter(o.clean),t}});function EW(e){Tt.call(this,null,VCe,e)}ve(EW,Tt);function VCe(e){return this.value&&!e.modified()?this.value:ie(e.name)?$e(e.name).map(t=>Zr(t)):Zr(e.name,e.as)}function nC(e){Z.call(this,Yh(),e)}nC.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};ve(nC,Z,{transform(e,t){const n=t.dataflow,r=this.value,i=t.fork(),o=i.add,s=i.rem,a=i.mod,l=e.expr;let u=!0;t.visit(t.REM,f=>{const h=De(f);r.has(h)?r.delete(h):s.push(f)}),t.visit(t.ADD,f=>{l(f,e)?o.push(f):r.set(De(f),1)});function c(f){const h=De(f),p=l(f,e),g=r.get(h);p&&g?(r.delete(h),o.push(f)):!p&&!g?(r.set(h,1),s.push(f)):u&&p&&!g&&a.push(f)}return t.visit(t.MOD,c),e.modified()&&(u=!1,t.visit(t.REFLOW,c)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i}});function rC(e){Z.call(this,[],e)}rC.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};ve(rC,Z,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=xW(r,e.as||[]),o=e.index||null,s=i.length;return n.rem=this.value,t.visit(t.SOURCE,a=>{const l=r.map(g=>g(a)),u=l.reduce((g,m)=>Math.max(g,m.length),0);let c=0,f,h,p;for(;c<u;++c){for(h=C$(a),f=0;f<s;++f)h[i[f]]=(p=l[f][c])==null?null:p;o&&(h[o]=c),n.add.push(h)}}),this.value=n.source=n.add,o&&n.modifies(o),n.modifies(i)}});function iC(e){Z.call(this,[],e)}iC.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};ve(iC,Z,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=r.map(tn),o=e.as||["key","value"],s=o[0],a=o[1],l=r.length;return n.rem=this.value,t.visit(t.SOURCE,u=>{for(let c=0,f;c<l;++c)f=C$(u),f[s]=i[c],f[a]=r[c](u),n.add.push(f)}),this.value=n.source=n.add,n.modifies(o)}});function oC(e){Z.call(this,null,e)}oC.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};ve(oC,Z,{transform(e,t){const n=e.expr,r=e.as,i=e.modified(),o=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(o,s=>s[r]=n(s,e))}});function SW(e){Z.call(this,[],e)}ve(SW,Z,{transform(e,t){const n=t.fork(t.ALL),r=e.generator;let i=this.value,o=e.size-i.length,s,a,l;if(o>0){for(s=[];--o>=0;)s.push(l=xt(r(e))),i.push(l);n.add=n.add.length?n.materialize(n.ADD).add.concat(s):s}else a=i.slice(0,-o),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(a):a,i=i.slice(-o);return n.source=this.value=i,n}});const iy={value:"value",median:C8,mean:Xz,min:d0,max:Es},HCe=[];function sC(e){Z.call(this,[],e)}sC.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function WCe(e){var t=e.method||iy.value,n;if(iy[t]==null)ne("Unrecognized imputation method: "+t);else return t===iy.value?(n=e.value!==void 0?e.value:0,()=>n):iy[t]}function GCe(e){const t=e.field;return n=>n?t(n):NaN}ve(sC,Z,{transform(e,t){var n=t.fork(t.ALL),r=WCe(e),i=GCe(e),o=tn(e.field),s=tn(e.key),a=(e.groupby||[]).map(tn),l=YCe(t.source,e.groupby,e.key,e.keyvals),u=[],c=this.value,f=l.domain.length,h,p,g,m,y,v,b,x,w,_;for(y=0,x=l.length;y<x;++y)for(h=l[y],g=h.values,p=NaN,b=0;b<f;++b)if(h[b]==null){for(m=l.domain[b],_={_impute:!0},v=0,w=g.length;v<w;++v)_[a[v]]=g[v];_[s]=m,_[o]=Number.isNaN(p)?p=r(h,i):p,u.push(xt(_))}return u.length&&(n.add=n.materialize(n.ADD).add.concat(u)),c.length&&(n.rem=n.materialize(n.REM).rem.concat(c)),this.value=u,n}});function YCe(e,t,n,r){var i=v=>v(y),o=[],s=r?r.slice():[],a={},l={},u,c,f,h,p,g,m,y;for(s.forEach((v,b)=>a[v]=b+1),h=0,m=e.length;h<m;++h)y=e[h],g=n(y),p=a[g]||(a[g]=s.push(g)),c=(u=t?t.map(i):HCe)+"",(f=l[c])||(f=l[c]=[],o.push(f),f.values=u),f[p-1]=y;return o.domain=s,o}function aC(e){eu.call(this,e)}aC.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:Lm},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};ve(aC,eu,{transform(e,t){const n=this,r=e.modified();let i;return n.value&&(r||t.modified(n._inputs,!0))?(i=n.value=r?n.init(e):{},t.visit(t.SOURCE,o=>n.add(o))):(i=n.value=n.value||this.init(e),t.visit(t.REM,o=>n.rem(o)),t.visit(t.ADD,o=>n.add(o))),n.changes(),t.visit(t.SOURCE,o=>{Ke(o,i[n.cellkey(o)].tuple)}),t.reflow(r).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let n,r;for(n=0,r=this._alen;n<r;++n)this.celltuple(e[n]),e[n]=null;for(n=0,r=this._mlen;n<r;++n)this.celltuple(t[n]),t[n]=null;this._alen=this._mlen=0}});function lC(e){Z.call(this,null,e)}lC.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]};ve(lC,Z,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=Q$(r,e.groupby,e.field),o=(e.groupby||[]).map(tn),s=e.bandwidth,a=e.cumulative?"cdf":"pdf",l=e.as||["value","density"],u=[];let c=e.extent,f=e.steps||e.minsteps||25,h=e.steps||e.maxsteps||200;a!=="pdf"&&a!=="cdf"&&ne("Invalid density method: "+a),e.resolve==="shared"&&(c||(c=Is(r,e.field)),f=h=e.steps||h),i.forEach(p=>{const g=R$(p,s)[a],m=e.counts?p.length:1,y=c||Is(p);Px(g,y,f,h).forEach(v=>{const b={};for(let x=0;x<o.length;++x)b[o[x]]=p.dims[x];b[l[0]]=v[0],b[l[1]]=v[1]*m,u.push(xt(b))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function $W(e){Tt.call(this,null,XCe,e)}ve($W,Tt);function XCe(e){return this.value&&!e.modified()?this.value:g$(e.fields,e.flat)}function CW(e){Z.call(this,[],e),this._pending=null}ve(CW,Z,{transform(e,t){const n=t.dataflow;return this._pending?b3(this,t,this._pending):KCe(e)?t.StopPropagation:e.values?b3(this,t,n.parse(e.values,e.format)):e.async?{async:n.request(e.url,e.format).then(i=>(this._pending=$e(i.data),o=>o.touch(this)))}:n.request(e.url,e.format).then(r=>b3(this,t,$e(r.data)))}});function KCe(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}function b3(e,t,n){n.forEach(xt);const r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r.rem.length&&r.clean(!0),r}function uC(e){Z.call(this,{},e)}uC.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};ve(uC,Z,{transform(e,t){const n=e.fields,r=e.index,i=e.values,o=e.default==null?null:e.default,s=e.modified(),a=n.length;let l=s?t.SOURCE:t.ADD,u=t,c=e.as,f,h,p;return i?(h=i.length,a>1&&!c&&ne('Multi-field lookup requires explicit "as" parameter.'),c&&c.length!==a*h&&ne('The "as" parameter has too few output field names.'),c=c||i.map(tn),f=function(g){for(var m=0,y=0,v,b;m<a;++m)if(b=r.get(n[m](g)),b==null)for(v=0;v<h;++v,++y)g[c[y]]=o;else for(v=0;v<h;++v,++y)g[c[y]]=i[v](b)}):(c||ne("Missing output field names."),f=function(g){for(var m=0,y;m<a;++m)y=r.get(n[m](g)),g[c[m]]=y??o}),s?u=t.reflow(!0):(p=n.some(g=>t.modified(g.fields)),l|=p?t.MOD:0),t.visit(l,f),u.modifies(c)}});function AW(e){Tt.call(this,null,JCe,e)}ve(AW,Tt);function JCe(e){if(this.value&&!e.modified())return this.value;const t=e.extents,n=t.length;let r=1/0,i=-1/0,o,s;for(o=0;o<n;++o)s=t[o],s[0]<r&&(r=s[0]),s[1]>i&&(i=s[1]);return[r,i]}function kW(e){Tt.call(this,null,QCe,e)}ve(kW,Tt);function QCe(e){return this.value&&!e.modified()?this.value:e.values.reduce((t,n)=>t.concat(n),[])}function MW(e){Z.call(this,null,e)}ve(MW,Z,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function cC(e){eu.call(this,e)}cC.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:Lm,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};ve(cC,eu,{_transform:eu.prototype.transform,transform(e,t){return this._transform(ZCe(e,t),t)}});function ZCe(e,t){const n=e.field,r=e.value,i=(e.op==="count"?"__count__":e.op)||"sum",o=fr(n).concat(fr(r)),s=tAe(n,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:s.map(()=>i),fields:s.map(a=>eAe(a,n,r,o)),as:s.map(a=>a+""),modified:e.modified.bind(e)}}function eAe(e,t,n,r){return li(i=>t(i)===e?n(i):NaN,r,e+"")}function tAe(e,t,n){const r={},i=[];return n.visit(n.SOURCE,o=>{const s=e(o);r[s]||(r[s]=1,i.push(s))}),i.sort(Ex),t?i.slice(0,t):i}function TW(e){Ix.call(this,e)}ve(TW,Ix,{transform(e,t){const n=e.subflow,r=e.field,i=o=>this.subflow(De(o),n,t,o);return(e.modified("field")||r&&t.modified(fr(r)))&&ne("PreFacet does not support field modification."),this.initTargets(),r?(t.visit(t.MOD,o=>{const s=i(o);r(o).forEach(a=>s.mod(a))}),t.visit(t.ADD,o=>{const s=i(o);r(o).forEach(a=>s.add(xt(a)))}),t.visit(t.REM,o=>{const s=i(o);r(o).forEach(a=>s.rem(a))})):(t.visit(t.MOD,o=>i(o).mod(o)),t.visit(t.ADD,o=>i(o).add(o)),t.visit(t.REM,o=>i(o).rem(o))),t.clean()&&t.runAfter(()=>this.clean()),t}});function fC(e){Z.call(this,null,e)}fC.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};ve(fC,Z,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=xW(e.fields,e.as||[]),o=r?(a,l)=>nAe(a,l,r,i):kx;let s;return this.value?s=this.value:(t=t.addAll(),s=this.value={}),t.visit(t.REM,a=>{const l=De(a);n.rem.push(s[l]),s[l]=null}),t.visit(t.ADD,a=>{const l=o(a,xt({}));s[De(a)]=l,n.add.push(l)}),t.visit(t.MOD,a=>{n.mod.push(o(a,s[De(a)]))}),n}});function nAe(e,t,n,r){for(let i=0,o=n.length;i<o;++i)t[r[i]]=n[i](e);return t}function OW(e){Z.call(this,null,e)}ve(OW,Z,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function dC(e){Z.call(this,null,e)}dC.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};const rAe=1e-14;ve(dC,Z,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const i=t.materialize(t.SOURCE).source,o=Q$(i,e.groupby,e.field),s=(e.groupby||[]).map(tn),a=[],l=e.step||.01,u=e.probs||Ar(l/2,1-rAe,l),c=u.length;return o.forEach(f=>{const h=M$(f,u);for(let p=0;p<c;++p){const g={};for(let m=0;m<s.length;++m)g[s[m]]=f.dims[m];g[r[0]]=u[p],g[r[1]]=h[p],a.push(xt(g))}}),this.value&&(n.rem=this.value),this.value=n.add=n.source=a,n}});function FW(e){Z.call(this,null,e)}ve(FW,Z,{transform(e,t){let n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,i=>{const o=De(i);n.rem.push(r[o]),r[o]=null}),t.visit(t.ADD,i=>{const o=C$(i);r[De(i)]=o,n.add.push(o)}),t.visit(t.MOD,i=>{const o=r[De(i)];for(const s in i)o[s]=i[s],n.modifies(s);n.mod.push(o)})),n}});function hC(e){Z.call(this,[],e),this.count=0}hC.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};ve(hC,Z,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.modified("size"),i=e.size,o=this.value.reduce((c,f)=>(c[De(f)]=1,c),{});let s=this.value,a=this.count,l=0;function u(c){let f,h;s.length<i?s.push(c):(h=~~((a+1)*Yi()),h<s.length&&h>=l&&(f=s[h],o[De(f)]&&n.rem.push(f),s[h]=c)),++a}if(t.rem.length&&(t.visit(t.REM,c=>{const f=De(c);o[f]&&(o[f]=-1,n.rem.push(c)),--a}),s=s.filter(c=>o[De(c)]!==-1)),(t.rem.length||r)&&s.length<i&&t.source&&(l=a=s.length,t.visit(t.SOURCE,c=>{o[De(c)]||u(c)}),l=-1),r&&s.length>i){const c=s.length-i;for(let f=0;f<c;++f)o[De(s[f])]=-1,n.rem.push(s[f]);s=s.slice(c)}return t.mod.length&&t.visit(t.MOD,c=>{o[De(c)]&&n.mod.push(c)}),t.add.length&&t.visit(t.ADD,u),(t.add.length||l<0)&&(n.add=s.filter(c=>!o[De(c)])),this.count=a,this.value=n.source=s,n}});function pC(e){Z.call(this,null,e)}pC.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};ve(pC,Z,{transform(e,t){if(this.value&&!e.modified())return;const n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=Ar(e.start,e.stop,e.step||1).map(i=>{const o={};return o[r]=i,xt(o)}),n.add=t.add.concat(this.value),n}});function NW(e){Z.call(this,null,e),this.modified(!0)}ve(NW,Z,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function gC(e){Z.call(this,null,e)}const RW=["unit0","unit1"];gC.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:b$,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:RW}]};ve(gC,Z,{transform(e,t){const n=e.field,r=e.interval!==!1,i=e.timezone==="utc",o=this._floor(e,t),s=(i?Kh:Xh)(o.unit).offset,a=e.as||RW,l=a[0],u=a[1],c=o.step;let f=o.start||1/0,h=o.stop||-1/0,p=t.ADD;return(e.modified()||t.changed(t.REM)||t.modified(fr(n)))&&(t=t.reflow(!0),p=t.SOURCE,f=1/0,h=-1/0),t.visit(p,g=>{const m=n(g);let y,v;m==null?(g[l]=null,r&&(g[u]=null)):(g[l]=y=v=o(m),r&&(g[u]=v=s(y,c)),y<f&&(f=y),v>h&&(h=v))}),o.start=f,o.stop=h,t.modifies(r?a:l)},_floor(e,t){const n=e.timezone==="utc",{units:r,step:i}=e.units?{units:e.units,step:e.step||1}:OH({extent:e.extent||Is(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),o=x$(r),s=this.value||{},a=(n?_H:wH)(o,i);return a.unit=lt(o),a.units=o,a.step=i,a.start=s.start,a.stop=s.stop,this.value=a}});function PW(e){Z.call(this,Yh(),e)}ve(PW,Z,{transform(e,t){const n=t.dataflow,r=e.field,i=this.value,o=a=>i.set(r(a),a);let s=!0;return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,o)):t.changed()?(t.visit(t.REM,a=>i.delete(r(a))),t.visit(t.ADD,o)):s=!1,this.modified(s),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()}});function IW(e){Z.call(this,null,e)}ve(IW,Z,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(yf(e.sort)):t.source).map(e.field))}});function iAe(e,t,n,r){const i=N0[e](t,n);return{init:i.init||yl,update:function(o,s){s[r]=i.next(o)}}}const N0={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){const e=N0.rank(),t=e.next;return{init:e.init,next:n=>(t(n)-1)/(n.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const n=t.data,r=t.compare;let i=t.index;if(e<i){for(;i+1<n.length&&!r(n[i],n[i+1]);)++i;e=i}return(1+e)/n.length}}},ntile:function(e,t){t=+t,t>0||ne("ntile num must be greater than zero.");const n=N0.cume_dist(),r=n.next;return{init:n.init,next:i=>Math.ceil(t*r(i))}},lag:function(e,t){return t=+t||1,{next:n=>{const r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{const r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return t=+t,t>0||ne("nth_value nth must be greater than zero."),{next:n=>{const r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{const r=e(n.data[n.index]);return r!=null?t=r:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:r=>{const i=r.data;return r.index<=n?t:(n=oAe(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};function oAe(e,t,n){for(let r=t.length;n<r;++n)if(e(t[n])!=null)return n;return-1}const sAe=Object.keys(N0);function DW(e){const t=$e(e.ops),n=$e(e.fields),r=$e(e.params),i=$e(e.as),o=this.outputs=[],s=this.windows=[],a={},l={},u=[],c=[];let f=!0;function h(p){$e(fr(p)).forEach(g=>a[g]=1)}h(e.sort),t.forEach((p,g)=>{const m=n[g],y=tn(m),v=dW(p,y,i[g]);if(h(m),o.push(v),Le(N0,p))s.push(iAe(p,n[g],r[g],v));else{if(m==null&&p!=="count"&&ne("Null aggregate field specified."),p==="count"){u.push(v);return}f=!1;let b=l[y];b||(b=l[y]=[],b.field=m,c.push(b)),b.push(hW(p,v))}}),(u.length||c.length)&&(this.cell=aAe(c,u,f)),this.inputs=Object.keys(a)}const LW=DW.prototype;LW.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()};LW.update=function(e,t){const n=this.cell,r=this.windows,i=e.data,o=r&&r.length;let s;if(n){for(s=e.p0;s<e.i0;++s)n.rem(i[s]);for(s=e.p1;s<e.i1;++s)n.add(i[s]);n.set(t)}for(s=0;s<o;++s)r[s].update(e,t)};function aAe(e,t,n){e=e.map(l=>gW(l,l.field));const r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,o=r.agg=Array(i),s=0;s<i;++s)o[s]=new e[s](r);if(r.store)var a=r.data=new W$;return r.add=function(l){if(r.num+=1,!n){a&&a.add(l);for(let u=0;u<i;++u)o[u].add(o[u].get(l),l)}},r.rem=function(l){if(r.num-=1,!n){a&&a.rem(l);for(let u=0;u<i;++u)o[u].rem(o[u].get(l),l)}},r.set=function(l){let u,c;for(a&&a.values(),u=0,c=t.length;u<c;++u)l[t[u]]=r.num;if(!n)for(u=0,c=o.length;u<c;++u)o[u].set(l)},r.init=function(){r.num=0,a&&a.reset();for(let l=0;l<i;++l)o[l].init()},r}function mC(e){Z.call(this,{},e),this._mlen=0,this._mods=[]}mC.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:sAe.concat(Lm)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};ve(mC,Z,{transform(e,t){this.stamp=t.stamp;const n=e.modified(),r=yf(e.sort),i=QS(e.groupby),o=a=>this.group(i(a));let s=this.state;(!s||n)&&(s=this.state=new DW(e)),n||t.modified(s.inputs)?(this.value={},t.visit(t.SOURCE,a=>o(a).add(a))):(t.visit(t.REM,a=>o(a).remove(a)),t.visit(t.ADD,a=>o(a).add(a)));for(let a=0,l=this._mlen;a<l;++a)lAe(this._mods[a],s,r,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(s.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=mW(De),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}});function lAe(e,t,n,r){const i=r.sort,o=i&&!r.ignorePeers,s=r.frame||[null,0],a=e.data(n),l=a.length,u=o?Lh(i):null,c={i0:0,i1:0,p0:0,p1:0,index:0,data:a,compare:i||mr(-1)};t.init();for(let f=0;f<l;++f)uAe(c,s,f,l),o&&cAe(c,u),t.update(c,a[f])}function uAe(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=t[0]==null?0:Math.max(0,n-Math.abs(t[0])),e.i1=t[1]==null?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function cAe(e,t){const n=e.i0,r=e.i1-1,i=e.compare,o=e.data,s=o.length-1;n>0&&!i(o[n],o[n-1])&&(e.i0=t.left(o,o[n])),r<s&&!i(o[r],o[r+1])&&(e.i1=t.right(o,o[r]))}const fAe=Object.freeze(Object.defineProperty({__proto__:null,aggregate:eu,bin:G$,collect:Y$,compare:yW,countpattern:X$,cross:K$,density:J$,dotbin:Z$,expression:_W,extent:eC,facet:Ix,field:EW,filter:nC,flatten:rC,fold:iC,formula:oC,generate:SW,impute:sC,joinaggregate:aC,kde:lC,key:$W,load:CW,lookup:uC,multiextent:AW,multivalues:kW,params:MW,pivot:cC,prefacet:TW,project:fC,proxy:OW,quantile:dC,relay:FW,sample:hC,sequence:pC,sieve:NW,subflow:tC,timeunit:gC,tupleindex:PW,values:IW,window:mC},Symbol.toStringTag,{value:"Module"}));function zl(e,t){if(typeof document<"u"&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}const dAe=()=>typeof Image<"u"?Image:null;function yC(e,t,n){const r=e-t+n*2;return e?r>0?r:1:0}const hAe="identity",oh="linear",Ia="log",zm="pow",Bm="sqrt",Dx="symlog",jc="time",Uc="utc",Cs="sequential",Qh="diverging",sh="quantile",Lx="quantize",zx="threshold",vC="ordinal",ZS="point",zW="band",bC="bin-ordinal",En="continuous",jm="discrete",Um="discretizing",Qi="interpolating",xC="temporal";function pAe(e){return function(t){let n=t[0],r=t[1],i;return r<n&&(i=n,n=r,r=i),[e.invert(n),e.invert(r)]}}function gAe(e){return function(t){const n=e.range();let r=t[0],i=t[1],o=-1,s,a,l,u;for(i<r&&(a=r,r=i,i=a),l=0,u=n.length;l<u;++l)n[l]>=r&&n[l]<=i&&(o<0&&(o=l),s=l);if(!(o<0))return r=e.invertExtent(n[o]),i=e.invertExtent(n[s]),[r[0]===void 0?r[1]:r[0],i[1]===void 0?i[0]:i[1]]}}function wC(){const e=$m().unknown(void 0),t=e.domain,n=e.range;let r=[0,1],i,o,s=!1,a=0,l=0,u=.5;delete e.unknown;function c(){const f=t().length,h=r[1]<r[0],p=r[1-h],g=yC(f,a,l);let m=r[h-0];i=(p-m)/(g||1),s&&(i=Math.floor(i)),m+=(p-m-i*(f-a))*u,o=i*(1-a),s&&(m=Math.round(m),o=Math.round(o));const y=Ar(f).map(v=>m+i*v);return n(h?y.reverse():y)}return e.domain=function(f){return arguments.length?(t(f),c()):t()},e.range=function(f){return arguments.length?(r=[+f[0],+f[1]],c()):r.slice()},e.rangeRound=function(f){return r=[+f[0],+f[1]],s=!0,c()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(f){return arguments.length?(s=!!f,c()):s},e.padding=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),a=l,c()):a},e.paddingInner=function(f){return arguments.length?(a=Math.max(0,Math.min(1,f)),c()):a},e.paddingOuter=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),c()):l},e.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),c()):u},e.invertRange=function(f){if(f[0]==null||f[1]==null)return;const h=r[1]<r[0],p=h?n().reverse():n(),g=p.length-1;let m=+f[0],y=+f[1],v,b,x;if(!(m!==m||y!==y)&&(y<m&&(x=m,m=y,y=x),!(y<p[0]||m>r[1-h])))return v=Math.max(0,c0(p,m)-1),b=m===y?v:c0(p,y)-1,m-p[v]>o+1e-10&&++v,h&&(x=v,v=g-b,b=g-x),v>b?void 0:t().slice(v,b+1)},e.invert=function(f){const h=e.invertRange([f,f]);return h&&h[0]},e.copy=function(){return wC().domain(t()).range(r).round(s).paddingInner(a).paddingOuter(l).align(u)},c()}function BW(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return BW(t())},e}function mAe(){return BW(wC().paddingInner(1))}var yAe=Array.prototype.map;function vAe(e){return yAe.call(e,ar)}const bAe=Array.prototype.slice;function jW(){let e=[],t=[];function n(r){return r==null||r!==r?void 0:t[(gu(e,r)-1)%t.length]}return n.domain=function(r){return arguments.length?(e=vAe(r),n):e.slice()},n.range=function(r){return arguments.length?(t=bAe.call(r),n):t.slice()},n.tickFormat=function(r,i){return O5(e[0],lt(e),r??10,i)},n.copy=function(){return jW().domain(n.domain()).range(n.range())},n}const bb=new Map,UW=Symbol("vega_scale");function qW(e){return e[UW]=!0,e}function xAe(e){return e&&e[UW]===!0}function wAe(e,t,n){const r=function(){const o=t();return o.invertRange||(o.invertRange=o.invert?pAe(o):o.invertExtent?gAe(o):void 0),o.type=e,qW(o)};return r.metadata=Io($e(n)),r}function vt(e,t,n){return arguments.length>1?(bb.set(e,wAe(e,t,n)),this):VW(e)?bb.get(e):void 0}vt(hAe,N5);vt(oh,F5,En);vt(Ia,P5,[En,Ia]);vt(zm,rx,En);vt(Bm,UU,En);vt(Dx,D5,En);vt(jc,uq,[En,xC]);vt(Uc,cq,[En,xC]);vt(Cs,ax,[En,Qi]);vt(`${Cs}-${oh}`,ax,[En,Qi]);vt(`${Cs}-${Ia}`,G5,[En,Qi,Ia]);vt(`${Cs}-${zm}`,lx,[En,Qi]);vt(`${Cs}-${Bm}`,fq,[En,Qi]);vt(`${Cs}-${Dx}`,Y5,[En,Qi]);vt(`${Qh}-${oh}`,X5,[En,Qi]);vt(`${Qh}-${Ia}`,K5,[En,Qi,Ia]);vt(`${Qh}-${zm}`,cx,[En,Qi]);vt(`${Qh}-${Bm}`,hq,[En,Qi]);vt(`${Qh}-${Dx}`,J5,[En,Qi]);vt(sh,z5,[Um,sh]);vt(Lx,B5,Um);vt(zx,j5,Um);vt(bC,jW,[jm,Um]);vt(vC,$m,jm);vt(zW,wC,jm);vt(ZS,mAe,jm);function VW(e){return bb.has(e)}function bf(e,t){const n=bb.get(e);return n&&n.metadata[t]}function _C(e){return bf(e,En)}function ah(e){return bf(e,jm)}function e6(e){return bf(e,Um)}function HW(e){return bf(e,Ia)}function _Ae(e){return bf(e,xC)}function WW(e){return bf(e,Qi)}function GW(e){return bf(e,sh)}const EAe=["clamp","base","constant","exponent"];function YW(e,t){const n=t[0],r=lt(t)-n;return function(i){return e(n+i*r)}}function Bx(e,t,n){return V2(EC(t||"rgb",n),e)}function XW(e,t){const n=new Array(t),r=t+1;for(let i=0;i<t;)n[i]=e(++i/r);return n}function KW(e,t,n){const r=n-t;let i,o,s;return!r||!Number.isFinite(r)?mr(.5):(i=(o=e.type).indexOf("-"),o=i<0?o:o.slice(i+1),s=vt(o)().domain([t,n]).range([0,1]),EAe.forEach(a=>e[a]?s[a](e[a]()):0),s)}function EC(e,t){const n=C2e[SAe(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function SAe(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const $Ae={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},CAe={category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"};function JW(e){const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function QW(e,t){for(const n in e)SC(n,t(e[n]))}const sN={};QW(CAe,JW);QW($Ae,e=>Bx(JW(e)));function SC(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(sN[e]=t,this):sN[e]}const Ky="symbol",AAe="discrete",kAe="gradient",MAe=e=>ie(e)?e.map(t=>String(t)):String(e),TAe=(e,t)=>e[1]-t[1],OAe=(e,t)=>t[1]-e[1];function $C(e,t,n){let r;return St(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),n!=null&&(t=Math.min(t,Math.floor(Pm(e.domain())/n||1)))),Ae(t)&&(r=t.step,t=t.interval),Ee(t)&&(t=e.type===jc?Xh(t):e.type==Uc?Kh(t):ne("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function ZW(e,t,n){let r=e.range(),i=r[0],o=lt(r),s=TAe;if(i>o&&(r=o,o=i,i=r,s=OAe),i=Math.floor(i),o=Math.ceil(o),t=t.map(a=>[a,e(a)]).filter(a=>i<=a[1]&&a[1]<=o).sort(s).map(a=>a[0]),n>0&&t.length>1){const a=[t[0],lt(t)];for(;t.length>n&&t.length>=3;)t=t.filter((l,u)=>!(u%2));t.length<3&&(t=a)}return t}function CC(e,t){return e.bins?ZW(e,e.bins):e.ticks?e.ticks(t):e.domain()}function eG(e,t,n,r,i,o){const s=t.type;let a=MAe;if(s===jc||i===jc)a=e.timeFormat(r);else if(s===Uc||i===Uc)a=e.utcFormat(r);else if(HW(s)){const l=e.formatFloat(r);if(o||t.bins)a=l;else{const u=tG(t,n,!1);a=c=>u(c)?l(c):""}}else if(t.tickFormat){const l=t.domain();a=e.formatSpan(l[0],l[l.length-1],n,r)}else r&&(a=e.format(r));return a}function tG(e,t,n){const r=CC(e,t),i=e.base(),o=Math.log(i),s=Math.max(1,i*t/r.length),a=l=>{let u=l/Math.pow(i,Math.round(Math.log(l)/o));return u*i<i-.5&&(u*=i),u<=s};return n?r.filter(a):a}const t6={[sh]:"quantiles",[Lx]:"thresholds",[zx]:"domain"},nG={[sh]:"quantiles",[Lx]:"domain"};function rG(e,t){return e.bins?RAe(e.bins):e.type===Ia?tG(e,t,!0):t6[e.type]?NAe(e[t6[e.type]]()):CC(e,t)}function FAe(e,t,n){const r=t[nG[t.type]](),i=r.length;let o=i>1?r[1]-r[0]:r[0],s;for(s=1;s<i;++s)o=Math.min(o,r[s]-r[s-1]);return e.formatSpan(0,o,3*10,n)}function NAe(e){const t=[-1/0].concat(e);return t.max=1/0,t}function RAe(e){const t=e.slice(0,-1);return t.max=lt(e),t}const PAe=e=>t6[e.type]||e.bins;function iG(e,t,n,r,i,o,s){const a=nG[t.type]&&o!==jc&&o!==Uc?FAe(e,t,i):eG(e,t,n,i,o,s);return r===Ky&&PAe(t)?IAe(a):r===AAe?DAe(a):LAe(a)}const IAe=e=>(t,n,r)=>{const i=aN(r[n+1],aN(r.max,1/0)),o=lN(t,e),s=lN(i,e);return o&&s?o+" – "+s:s?"< "+s:"≥ "+o},aN=(e,t)=>e??t,DAe=e=>(t,n)=>n?e(t):null,LAe=e=>t=>e(t),lN=(e,t)=>Number.isFinite(e)?t(e):null;function zAe(e){const t=e.domain(),n=t.length-1;let r=+t[0],i=+lt(t),o=i-r;if(e.type===zx){const s=n?o/n:.1;r-=s,i+=s,o=i-r}return s=>(s-r)/o}function BAe(e,t,n,r){const i=r||t.type;return Ee(n)&&_Ae(i)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),!n&&i===jc?e.timeFormat("%A, %d %B %Y, %X"):!n&&i===Uc?e.utcFormat("%A, %d %B %Y, %X UTC"):iG(e,t,5,null,n,r,!0)}function oG(e,t,n){n=n||{};const r=Math.max(3,n.maxlen||7),i=BAe(e,t,n.format,n.formatType);if(e6(t.type)){const o=rG(t).slice(1).map(i),s=o.length;return`${s} boundar${s===1?"y":"ies"}: ${o.join(", ")}`}else if(ah(t.type)){const o=t.domain(),s=o.length,a=s>r?o.slice(0,r-2).map(i).join(", ")+", ending with "+o.slice(-1).map(i):o.map(i).join(", ");return`${s} value${s===1?"":"s"}: ${a}`}else{const o=t.domain();return`values from ${i(o[0])} to ${i(lt(o))}`}}let sG=0;function jAe(){sG=0}const xb="p_";function AC(e){return e&&e.gradient}function aG(e,t,n){const r=e.gradient;let i=e.id,o=r==="radial"?xb:"";return i||(i=e.id="gradient_"+sG++,r==="radial"?(e.x1=rs(e.x1,.5),e.y1=rs(e.y1,.5),e.r1=rs(e.r1,0),e.x2=rs(e.x2,.5),e.y2=rs(e.y2,.5),e.r2=rs(e.r2,.5),o=xb):(e.x1=rs(e.x1,0),e.y1=rs(e.y1,0),e.x2=rs(e.x2,1),e.y2=rs(e.y2,0))),t[i]=e,"url("+(n||"")+"#"+o+i+")"}function rs(e,t){return e??t}function lG(e,t){var n=[],r;return r={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:n,stop:function(i,o){return n.push({offset:i,color:o}),r}}}const uN={basis:{curve:lV},"basis-closed":{curve:cV},"basis-open":{curve:dV},bundle:{curve:pV,tension:"beta",value:.85},cardinal:{curve:gV,tension:"tension",value:0},"cardinal-open":{curve:yV,tension:"tension",value:0},"cardinal-closed":{curve:mV,tension:"tension",value:0},"catmull-rom":{curve:bV,tension:"alpha",value:.5},"catmull-rom-closed":{curve:wV,tension:"alpha",value:.5},"catmull-rom-open":{curve:EV,tension:"alpha",value:.5},linear:{curve:Nm},"linear-closed":{curve:$V},monotone:{horizontal:MV,vertical:kV},natural:{curve:OV},step:{curve:FV},"step-after":{curve:RV},"step-before":{curve:NV}};function kC(e,t,n){var r=Le(uN,e)&&uN[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&n!=null&&(i=i[r.tension](n))),i}const UAe={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},qAe=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,VAe=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,HAe=/^((\s+,?\s*)|(,\s*))/,WAe=/^[01]/;function lh(e){const t=[];return(e.match(qAe)||[]).forEach(r=>{let i=r[0];const o=i.toLowerCase(),s=UAe[o],a=GAe(o,s,r.slice(1).trim()),l=a.length;if(l<s||l&&l%s!==0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([i,...a.slice(0,s)]),l!==s){o==="m"&&(i=i==="M"?"L":"l");for(let u=s;u<l;u+=s)t.push([i,...a.slice(u,u+s)])}}),t}function GAe(e,t,n){const r=[];for(let i=0;t&&i<n.length;)for(let o=0;o<t;++o){const s=e==="a"&&(o===3||o===4)?WAe:VAe,a=n.slice(i).match(s);if(a===null)throw Error("Invalid SVG path, incorrect parameter type");i+=a[0].length,r.push(+a[0]);const l=n.slice(i).match(HAe);l!==null&&(i+=l[0].length)}return r}const tu=Math.PI/180,YAe=1e-14,tc=Math.PI/2,gs=Math.PI*2,Yf=Math.sqrt(3)/2;var x3={},w3={},uG=[].join;function XAe(e,t,n,r,i,o,s,a,l){const u=uG.call(arguments);if(x3[u])return x3[u];const c=s*tu,f=Math.sin(c),h=Math.cos(c);n=Math.abs(n),r=Math.abs(r);const p=h*(a-e)*.5+f*(l-t)*.5,g=h*(l-t)*.5-f*(a-e)*.5;let m=p*p/(n*n)+g*g/(r*r);m>1&&(m=Math.sqrt(m),n*=m,r*=m);const y=h/n,v=f/n,b=-f/r,x=h/r,w=y*a+v*l,_=b*a+x*l,$=y*e+v*t,S=b*e+x*t;let T=1/(($-w)*($-w)+(S-_)*(S-_))-.25;T<0&&(T=0);let M=Math.sqrt(T);o==i&&(M=-M);const E=.5*(w+$)-M*(S-_),N=.5*(_+S)+M*($-w),k=Math.atan2(_-N,w-E);let O=Math.atan2(S-N,$-E)-k;O<0&&o===1?O+=gs:O>0&&o===0&&(O-=gs);const F=Math.ceil(Math.abs(O/(tc+.001))),R=[];for(let D=0;D<F;++D){const z=k+D*O/F,U=k+(D+1)*O/F;R[D]=[E,N,z,U,n,r,f,h]}return x3[u]=R}function KAe(e){const t=uG.call(e);if(w3[t])return w3[t];var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7];const c=u*s,f=-l*a,h=l*s,p=u*a,g=Math.cos(i),m=Math.sin(i),y=Math.cos(o),v=Math.sin(o),b=.5*(o-i),x=Math.sin(b*.5),w=8/3*x*x/Math.sin(b),_=n+g-w*m,$=r+m+w*g,S=n+y,C=r+v,T=S+w*v,M=C-w*y;return w3[t]=[c*_+f*$,h*_+p*$,c*T+f*M,h*T+p*M,c*S+f*C,h*S+p*C]}const Ri=["l",0,0,0,0,0,0,0];function JAe(e,t,n){const r=Ri[0]=e[0];if(r==="a"||r==="A")Ri[1]=t*e[1],Ri[2]=n*e[2],Ri[3]=e[3],Ri[4]=e[4],Ri[5]=e[5],Ri[6]=t*e[6],Ri[7]=n*e[7];else if(r==="h"||r==="H")Ri[1]=t*e[1];else if(r==="v"||r==="V")Ri[1]=n*e[1];else for(var i=1,o=e.length;i<o;++i)Ri[i]=(i%2==1?t:n)*e[i];return Ri}function R0(e,t,n,r,i,o){var s,a=null,l=0,u=0,c=0,f=0,h,p,g,m,y=0,v=0;n==null&&(n=0),r==null&&(r=0),i==null&&(i=1),o==null&&(o=i),e.beginPath&&e.beginPath();for(var b=0,x=t.length;b<x;++b){switch(s=t[b],(i!==1||o!==1)&&(s=JAe(s,i,o)),s[0]){case"l":l+=s[1],u+=s[2],e.lineTo(l+n,u+r);break;case"L":l=s[1],u=s[2],e.lineTo(l+n,u+r);break;case"h":l+=s[1],e.lineTo(l+n,u+r);break;case"H":l=s[1],e.lineTo(l+n,u+r);break;case"v":u+=s[1],e.lineTo(l+n,u+r);break;case"V":u=s[1],e.lineTo(l+n,u+r);break;case"m":l+=s[1],u+=s[2],y=l,v=u,e.moveTo(l+n,u+r);break;case"M":l=s[1],u=s[2],y=l,v=u,e.moveTo(l+n,u+r);break;case"c":h=l+s[5],p=u+s[6],c=l+s[3],f=u+s[4],e.bezierCurveTo(l+s[1]+n,u+s[2]+r,c+n,f+r,h+n,p+r),l=h,u=p;break;case"C":l=s[5],u=s[6],c=s[3],f=s[4],e.bezierCurveTo(s[1]+n,s[2]+r,c+n,f+r,l+n,u+r);break;case"s":h=l+s[3],p=u+s[4],c=2*l-c,f=2*u-f,e.bezierCurveTo(c+n,f+r,l+s[1]+n,u+s[2]+r,h+n,p+r),c=l+s[1],f=u+s[2],l=h,u=p;break;case"S":h=s[3],p=s[4],c=2*l-c,f=2*u-f,e.bezierCurveTo(c+n,f+r,s[1]+n,s[2]+r,h+n,p+r),l=h,u=p,c=s[1],f=s[2];break;case"q":h=l+s[3],p=u+s[4],c=l+s[1],f=u+s[2],e.quadraticCurveTo(c+n,f+r,h+n,p+r),l=h,u=p;break;case"Q":h=s[3],p=s[4],e.quadraticCurveTo(s[1]+n,s[2]+r,h+n,p+r),l=h,u=p,c=s[1],f=s[2];break;case"t":h=l+s[1],p=u+s[2],a[0].match(/[QqTt]/)===null?(c=l,f=u):a[0]==="t"?(c=2*l-g,f=2*u-m):a[0]==="q"&&(c=2*l-c,f=2*u-f),g=c,m=f,e.quadraticCurveTo(c+n,f+r,h+n,p+r),l=h,u=p,c=l+s[1],f=u+s[2];break;case"T":h=s[1],p=s[2],c=2*l-c,f=2*u-f,e.quadraticCurveTo(c+n,f+r,h+n,p+r),l=h,u=p;break;case"a":cN(e,l+n,u+r,[s[1],s[2],s[3],s[4],s[5],s[6]+l+n,s[7]+u+r]),l+=s[6],u+=s[7];break;case"A":cN(e,l+n,u+r,[s[1],s[2],s[3],s[4],s[5],s[6]+n,s[7]+r]),l=s[6],u=s[7];break;case"z":case"Z":l=y,u=v,e.closePath();break}a=s}}function cN(e,t,n,r){const i=XAe(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n);for(let o=0;o<i.length;++o){const s=KAe(i[o]);e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5])}}const fN=.5773502691896257,dN={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,gs)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,o=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-o),e.lineTo(i,-o),e.lineTo(0,-n),e.lineTo(-i,-o),e.lineTo(-r,-o),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=Yf*n,i=r-n*fN,o=n/4;e.moveTo(0,-r-i),e.lineTo(-o,r-i),e.lineTo(o,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=Yf*n,i=r-n*fN;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Yf*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Yf*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Yf*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Yf*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function cG(e){return Le(dN,e)?dN[e]:QAe(e)}var _3={};function QAe(e){if(!Le(_3,e)){const t=lh(e);_3[e]={draw:function(n,r){R0(n,t,0,0,Math.sqrt(r)/2)}}}return _3[e]}const tl=.448084975506;function ZAe(e){return e.x}function eke(e){return e.y}function tke(e){return e.width}function nke(e){return e.height}function oa(e){return typeof e=="function"?e:()=>+e}function oy(e,t,n){return Math.max(t,Math.min(e,n))}function fG(){var e=ZAe,t=eke,n=tke,r=nke,i=oa(0),o=i,s=i,a=i,l=null;function u(c,f,h){var p,g=f??+e.call(this,c),m=h??+t.call(this,c),y=+n.call(this,c),v=+r.call(this,c),b=Math.min(y,v)/2,x=oy(+i.call(this,c),0,b),w=oy(+o.call(this,c),0,b),_=oy(+s.call(this,c),0,b),$=oy(+a.call(this,c),0,b);if(l||(l=p=Uh()),x<=0&&w<=0&&_<=0&&$<=0)l.rect(g,m,y,v);else{var S=g+y,C=m+v;l.moveTo(g+x,m),l.lineTo(S-w,m),l.bezierCurveTo(S-tl*w,m,S,m+tl*w,S,m+w),l.lineTo(S,C-$),l.bezierCurveTo(S,C-tl*$,S-tl*$,C,S-$,C),l.lineTo(g+_,C),l.bezierCurveTo(g+tl*_,C,g,C-tl*_,g,C-_),l.lineTo(g,m+x),l.bezierCurveTo(g,m+tl*x,g+tl*x,m,g+x,m),l.closePath()}if(p)return l=null,p+""||null}return u.x=function(c){return arguments.length?(e=oa(c),u):e},u.y=function(c){return arguments.length?(t=oa(c),u):t},u.width=function(c){return arguments.length?(n=oa(c),u):n},u.height=function(c){return arguments.length?(r=oa(c),u):r},u.cornerRadius=function(c,f,h,p){return arguments.length?(i=oa(c),o=f!=null?oa(f):i,a=h!=null?oa(h):i,s=p!=null?oa(p):o,u):i},u.context=function(c){return arguments.length?(l=c??null,u):l},u}function dG(){var e,t,n,r,i=null,o,s,a,l;function u(f,h,p){const g=p/2;if(o){var m=a-h,y=f-s;if(m||y){var v=Math.sqrt(m*m+y*y),b=(m/=v)*l,x=(y/=v)*l,w=Math.atan2(y,m);i.moveTo(s-b,a-x),i.lineTo(f-m*g,h-y*g),i.arc(f,h,g,w-Math.PI,w),i.lineTo(s+b,a+x),i.arc(s,a,l,w,w+Math.PI)}else i.arc(f,h,g,0,gs);i.closePath()}else o=1;s=f,a=h,l=g}function c(f){var h,p=f.length,g,m=!1,y;for(i==null&&(i=y=Uh()),h=0;h<=p;++h)!(h<p&&r(g=f[h],h,f))===m&&(m=!m)&&(o=0),m&&u(+e(g,h,f),+t(g,h,f),+n(g,h,f));if(y)return i=null,y+""||null}return c.x=function(f){return arguments.length?(e=f,c):e},c.y=function(f){return arguments.length?(t=f,c):t},c.size=function(f){return arguments.length?(n=f,c):n},c.defined=function(f){return arguments.length?(r=f,c):r},c.context=function(f){return arguments.length?(f==null?i=null:i=f,c):i},c}function qm(e,t){return e??t}const Vm=e=>e.x||0,Hm=e=>e.y||0,rke=e=>e.width||0,ike=e=>e.height||0,oke=e=>(e.x||0)+(e.width||0),ske=e=>(e.y||0)+(e.height||0),ake=e=>e.startAngle||0,lke=e=>e.endAngle||0,uke=e=>e.padAngle||0,cke=e=>e.innerRadius||0,fke=e=>e.outerRadius||0,dke=e=>e.cornerRadius||0,hke=e=>qm(e.cornerRadiusTopLeft,e.cornerRadius)||0,pke=e=>qm(e.cornerRadiusTopRight,e.cornerRadius)||0,gke=e=>qm(e.cornerRadiusBottomRight,e.cornerRadius)||0,mke=e=>qm(e.cornerRadiusBottomLeft,e.cornerRadius)||0,yke=e=>qm(e.size,64),vke=e=>e.size||1,jx=e=>e.defined!==!1,bke=e=>cG(e.shape||"circle"),xke=jq().startAngle(ake).endAngle(lke).padAngle(uke).innerRadius(cke).outerRadius(fke).cornerRadius(dke),wke=px().x(Vm).y1(Hm).y0(ske).defined(jx),_ke=px().y(Hm).x1(Vm).x0(oke).defined(jx),Eke=hx().x(Vm).y(Hm).defined(jx),Ske=fG().x(Vm).y(Hm).width(rke).height(ike).cornerRadius(hke,pke,gke,mke),$ke=aV().type(bke).size(yke),Cke=dG().x(Vm).y(Hm).defined(jx).size(vke);function MC(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function Ake(e,t){return xke.context(e)(t)}function kke(e,t){const n=t[0],r=n.interpolate||"linear";return(n.orient==="horizontal"?_ke:wke).curve(kC(r,n.orient,n.tension)).context(e)(t)}function Mke(e,t){const n=t[0],r=n.interpolate||"linear";return Eke.curve(kC(r,n.orient,n.tension)).context(e)(t)}function Zh(e,t,n,r){return Ske.context(e)(t,n,r)}function Tke(e,t){return(t.mark.shape||t.shape).context(e)(t)}function Oke(e,t){return $ke.context(e)(t)}function Fke(e,t){return Cke.context(e)(t)}var hG=1;function pG(){hG=1}function TC(e,t,n){var r=t.clip,i=e._defs,o=t.clip_id||(t.clip_id="clip"+hG++),s=i.clipping[o]||(i.clipping[o]={id:o});return Je(r)?s.path=r(null):MC(n)?s.path=Zh(null,n,0,0):(s.width=n.width||0,s.height=n.height||0),"url(#"+o+")"}function cn(e){this.clear(),e&&this.union(e)}cn.prototype={clone(){return new cn(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(e,t,n){var{x1:r,y1:i,x2:o,y2:s}=this,a=Math.cos(e),l=Math.sin(e),u=t-t*a+n*l,c=n-t*l-n*a;return[a*r-l*i+u,l*r+a*i+c,a*r-l*s+u,l*r+a*s+c,a*o-l*i+u,l*o+a*i+c,a*o-l*s+u,l*o+a*s+c]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function Ux(e){this.mark=e,this.bounds=this.bounds||new cn}function qx(e){Ux.call(this,e),this.items=this.items||[]}ve(qx,Ux);function OC(e){this._pending=0,this._loader=e||$x()}function hN(e){e._pending+=1}function Tp(e){e._pending-=1}OC.prototype={pending(){return this._pending},sanitizeURL(e){const t=this;return hN(t),t._loader.sanitize(e,{context:"href"}).then(n=>(Tp(t),n)).catch(()=>(Tp(t),null))},loadImage(e){const t=this,n=dAe();return hN(t),t._loader.sanitize(e,{context:"image"}).then(r=>{const i=r.href;if(!i||!n)throw{url:i};const o=new n,s=Le(r,"crossOrigin")?r.crossOrigin:"anonymous";return s!=null&&(o.crossOrigin=s),o.onload=()=>Tp(t),o.onerror=()=>Tp(t),o.src=i,o}).catch(r=>(Tp(t),{complete:!1,width:0,height:0,src:r&&r.url||""}))},ready(){const e=this;return new Promise(t=>{function n(r){e.pending()?setTimeout(()=>{n(!0)},10):t(r)}n(!1)})}};function Ua(e,t,n){if(t.stroke&&t.opacity!==0&&t.strokeOpacity!==0){const r=t.strokeWidth!=null?+t.strokeWidth:1;e.expand(r+(n?Nke(t,r):0))}return e}function Nke(e,t){return e.strokeJoin&&e.strokeJoin!=="miter"?0:t}const Rke=gs-1e-8;let Vx,Jy,Qy,fc,n6,Zy,r6,i6;const Sl=(e,t)=>Vx.add(e,t),ev=(e,t)=>Sl(Jy=e,Qy=t),pN=e=>Sl(e,Vx.y1),gN=e=>Sl(Vx.x1,e),nc=(e,t)=>n6*e+r6*t,rc=(e,t)=>Zy*e+i6*t,E3=(e,t)=>Sl(nc(e,t),rc(e,t)),S3=(e,t)=>ev(nc(e,t),rc(e,t));function Wm(e,t){return Vx=e,t?(fc=t*tu,n6=i6=Math.cos(fc),Zy=Math.sin(fc),r6=-Zy):(n6=i6=1,fc=Zy=r6=0),Pke}const Pke={beginPath(){},closePath(){},moveTo:S3,lineTo:S3,rect(e,t,n,r){fc?(E3(e+n,t),E3(e+n,t+r),E3(e,t+r),S3(e,t)):(Sl(e+n,t+r),ev(e,t))},quadraticCurveTo(e,t,n,r){const i=nc(e,t),o=rc(e,t),s=nc(n,r),a=rc(n,r);mN(Jy,i,s,pN),mN(Qy,o,a,gN),ev(s,a)},bezierCurveTo(e,t,n,r,i,o){const s=nc(e,t),a=rc(e,t),l=nc(n,r),u=rc(n,r),c=nc(i,o),f=rc(i,o);yN(Jy,s,l,c,pN),yN(Qy,a,u,f,gN),ev(c,f)},arc(e,t,n,r,i,o){if(r+=fc,i+=fc,Jy=n*Math.cos(i)+e,Qy=n*Math.sin(i)+t,Math.abs(i-r)>Rke)Sl(e-n,t-n),Sl(e+n,t+n);else{const s=u=>Sl(n*Math.cos(u)+e,n*Math.sin(u)+t);let a,l;if(s(r),s(i),i!==r)if(r=r%gs,r<0&&(r+=gs),i=i%gs,i<0&&(i+=gs),i<r&&(o=!o,a=r,r=i,i=a),o)for(i-=gs,a=r-r%tc,l=0;l<4&&a>i;++l,a-=tc)s(a);else for(a=r-r%tc+tc,l=0;l<4&&a<i;++l,a=a+tc)s(a)}}};function mN(e,t,n,r){const i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function yN(e,t,n,r,i){const o=r-e+3*t-3*n,s=e+n-2*t,a=e-t;let l=0,u=0,c;Math.abs(o)>YAe?(c=s*s+a*o,c>=0&&(c=Math.sqrt(c),l=(-s+c)/o,u=(-s-c)/o)):l=.5*a/s,0<l&&l<1&&i(vN(l,e,t,n,r)),0<u&&u<1&&i(vN(u,e,t,n,r))}function vN(e,t,n,r,i){const o=1-e,s=o*o,a=e*e;return s*o*t+3*s*e*n+3*o*a*r+a*e*i}var Bl=(Bl=zl(1,1))?Bl.getContext("2d"):null;const o6=new cn;function FC(e){return function(t,n){if(!Bl)return!0;e(Bl,t),o6.clear().union(t.bounds).intersect(n).round();const{x1:r,y1:i,x2:o,y2:s}=o6;for(let a=i;a<=s;++a)for(let l=r;l<=o;++l)if(Bl.isPointInPath(l,a))return!0;return!1}}function NC(e,t){return t.contains(e.x||0,e.y||0)}function gG(e,t){const n=e.x||0,r=e.y||0,i=e.width||0,o=e.height||0;return t.intersects(o6.set(n,r,n+i,r+o))}function mG(e,t){const n=e.x||0,r=e.y||0,i=e.x2!=null?e.x2:n,o=e.y2!=null?e.y2:r;return hd(t,n,r,i,o)}function hd(e,t,n,r,i){const{x1:o,y1:s,x2:a,y2:l}=e,u=r-t,c=i-n;let f=0,h=1,p,g,m,y;for(y=0;y<4;++y){if(y===0&&(p=-u,g=-(o-t)),y===1&&(p=u,g=a-t),y===2&&(p=-c,g=-(s-n)),y===3&&(p=c,g=l-n),Math.abs(p)<1e-10&&g<0)return!1;if(m=g/p,p<0){if(m>h)return!1;m>f&&(f=m)}else if(p>0){if(m<f)return!1;m<h&&(h=m)}}return!0}function uh(e,t){e.globalCompositeOperation=t.blend||"source-over"}function oo(e,t){return e??t}function bN(e,t){const n=t.length;for(let r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function Ike(e,t,n){const r=n.width(),i=n.height();let o;if(t.gradient==="radial")o=e.createRadialGradient(n.x1+oo(t.x1,.5)*r,n.y1+oo(t.y1,.5)*i,Math.max(r,i)*oo(t.r1,0),n.x1+oo(t.x2,.5)*r,n.y1+oo(t.y2,.5)*i,Math.max(r,i)*oo(t.r2,.5));else{const s=oo(t.x1,0),a=oo(t.y1,0),l=oo(t.x2,1),u=oo(t.y2,0);if(s===l||a===u||r===i)o=e.createLinearGradient(n.x1+s*r,n.y1+a*i,n.x1+l*r,n.y1+u*i);else{const c=zl(Math.ceil(r),Math.ceil(i)),f=c.getContext("2d");return f.scale(r,i),f.fillStyle=bN(f.createLinearGradient(s,a,l,u),t.stops),f.fillRect(0,0,r,i),e.createPattern(c,"no-repeat")}}return bN(o,t.stops)}function yG(e,t,n){return AC(n)?Ike(e,n,t.bounds):n}function wb(e,t,n){return n*=t.fillOpacity==null?1:t.fillOpacity,n>0?(e.globalAlpha=n,e.fillStyle=yG(e,t,t.fill),!0):!1}var Dke=[];function ch(e,t,n){var r=(r=t.strokeWidth)!=null?r:1;return r<=0?!1:(n*=t.strokeOpacity==null?1:t.strokeOpacity,n>0?(e.globalAlpha=n,e.strokeStyle=yG(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||Dke),e.lineDashOffset=t.strokeDashOffset||0),!0):!1)}function Lke(e,t){return e.zindex-t.zindex||e.index-t.index}function RC(e){if(!e.zdirty)return e.zitems;var t=e.items,n=[],r,i,o;for(i=0,o=t.length;i<o;++i)r=t[i],r.index=i,r.zindex&&n.push(r);return e.zdirty=!1,e.zitems=n.sort(Lke)}function Lo(e,t){var n=e.items,r,i;if(!n||!n.length)return;const o=RC(e);if(o&&o.length){for(r=0,i=n.length;r<i;++r)n[r].zindex||t(n[r]);n=o}for(r=0,i=n.length;r<i;++r)t(n[r])}function _b(e,t){var n=e.items,r,i;if(!n||!n.length)return null;const o=RC(e);for(o&&o.length&&(n=o),i=n.length;--i>=0;)if(r=t(n[i]))return r;if(n===o){for(n=e.items,i=n.length;--i>=0;)if(!n[i].zindex&&(r=t(n[i])))return r}return null}function PC(e){return function(t,n,r){Lo(n,i=>{(!r||r.intersects(i.bounds))&&vG(e,t,i,i)})}}function zke(e){return function(t,n,r){n.items.length&&(!r||r.intersects(n.bounds))&&vG(e,t,n.items[0],n.items)}}function vG(e,t,n,r){var i=n.opacity==null?1:n.opacity;i!==0&&(e(t,r)||(uh(t,n),n.fill&&wb(t,n,i)&&t.fill(),n.stroke&&ch(t,n,i)&&t.stroke()))}function Hx(e){return e=e||Wi,function(t,n,r,i,o,s){return r*=t.pixelRatio,i*=t.pixelRatio,_b(n,a=>{const l=a.bounds;if(!(l&&!l.contains(o,s)||!l)&&e(t,a,r,i,o,s))return a})}}function Gm(e,t){return function(n,r,i,o){var s=Array.isArray(r)?r[0]:r,a=t??s.fill,l=s.stroke&&n.isPointInStroke,u,c;return l&&(u=s.strokeWidth,c=s.strokeCap,n.lineWidth=u??1,n.lineCap=c??"butt"),e(n,r)?!1:a&&n.isPointInPath(i,o)||l&&n.isPointInStroke(i,o)}}function IC(e){return Hx(Gm(e))}function wc(e,t){return"translate("+e+","+t+")"}function DC(e){return"rotate("+e+")"}function Bke(e,t){return"scale("+e+","+t+")"}function bG(e){return wc(e.x||0,e.y||0)}function jke(e){return wc(e.x||0,e.y||0)+(e.angle?" "+DC(e.angle):"")}function Uke(e){return wc(e.x||0,e.y||0)+(e.angle?" "+DC(e.angle):"")+(e.scaleX||e.scaleY?" "+Bke(e.scaleX||1,e.scaleY||1):"")}function LC(e,t,n){function r(s,a){s("transform",jke(a)),s("d",t(null,a))}function i(s,a){return t(Wm(s,a.angle),a),Ua(s,a).translate(a.x||0,a.y||0)}function o(s,a){var l=a.x||0,u=a.y||0,c=a.angle||0;s.translate(l,u),c&&s.rotate(c*=tu),s.beginPath(),t(s,a),c&&s.rotate(-c),s.translate(-l,-u)}return{type:e,tag:"path",nested:!1,attr:r,bound:i,draw:PC(o),pick:IC(o),isect:n||FC(o)}}var qke=LC("arc",Ake);function Vke(e,t){for(var n=e[0].orient==="horizontal"?t[1]:t[0],r=e[0].orient==="horizontal"?"y":"x",i=e.length,o=1/0,s,a;--i>=0;)e[i].defined!==!1&&(a=Math.abs(e[i][r]-n),a<o&&(o=a,s=e[i]));return s}function Hke(e,t){for(var n=Math.pow(e[0].strokeWidth||1,2),r=e.length,i,o,s;--r>=0;)if(e[r].defined!==!1&&(i=e[r].x-t[0],o=e[r].y-t[1],s=i*i+o*o,s<n))return e[r];return null}function Wke(e,t){for(var n=e.length,r,i,o;--n>=0;)if(e[n].defined!==!1&&(r=e[n].x-t[0],i=e[n].y-t[1],o=r*r+i*i,r=e[n].size||1,o<r*r))return e[n];return null}function zC(e,t,n){function r(l,u){var c=u.mark.items;c.length&&l("d",t(null,c))}function i(l,u){var c=u.items;return c.length===0?l:(t(Wm(l),c),Ua(l,c[0]))}function o(l,u){l.beginPath(),t(l,u)}const s=Gm(o);function a(l,u,c,f,h,p){var g=u.items,m=u.bounds;return!g||!g.length||m&&!m.contains(h,p)?null:(c*=l.pixelRatio,f*=l.pixelRatio,s(l,g,c,f)?g[0]:null)}return{type:e,tag:"path",nested:!0,attr:r,bound:i,draw:zke(o),pick:a,isect:NC,tip:n}}var Gke=zC("area",kke,Vke);function Yke(e,t){var n=t.clip;e.save(),Je(n)?(e.beginPath(),n(e),e.clip()):xG(e,t.group)}function xG(e,t){e.beginPath(),MC(t)?Zh(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function wG(e){const t=oo(e.strokeWidth,1);return e.strokeOffset!=null?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function Xke(e,t){e("transform",bG(t))}function _G(e,t){const n=wG(t);e("d",Zh(null,t,n,n))}function Kke(e,t){e("class","background"),e("aria-hidden",!0),_G(e,t)}function Jke(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?_G(e,t):e("d","")}function Qke(e,t,n){const r=t.clip?TC(n,t,t):null;e("clip-path",r)}function Zke(e,t){if(!t.clip&&t.items){const n=t.items,r=n.length;for(let i=0;i<r;++i)e.union(n[i].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),Ua(e,t),e.translate(t.x||0,t.y||0)}function P0(e,t,n,r){const i=wG(t);e.beginPath(),Zh(e,t,(n||0)+i,(r||0)+i)}const eMe=Gm(P0),tMe=Gm(P0,!1),nMe=Gm(P0,!0);function rMe(e,t,n){Lo(t,r=>{const i=r.x||0,o=r.y||0,s=r.strokeForeground,a=r.opacity==null?1:r.opacity;(r.stroke||r.fill)&&a&&(P0(e,r,i,o),uh(e,r),r.fill&&wb(e,r,a)&&e.fill(),r.stroke&&!s&&ch(e,r,a)&&e.stroke()),e.save(),e.translate(i,o),r.clip&&xG(e,r),n&&n.translate(-i,-o),Lo(r,l=>{this.draw(e,l,n)}),n&&n.translate(i,o),e.restore(),s&&r.stroke&&a&&(P0(e,r,i,o),uh(e,r),ch(e,r,a)&&e.stroke())})}function iMe(e,t,n,r,i,o){if(t.bounds&&!t.bounds.contains(i,o)||!t.items)return null;const s=n*e.pixelRatio,a=r*e.pixelRatio;return _b(t,l=>{let u,c,f;const h=l.bounds;if(h&&!h.contains(i,o))return;c=l.x||0,f=l.y||0;const p=c+(l.width||0),g=f+(l.height||0),m=l.clip;if(m&&(i<c||i>p||o<f||o>g))return;if(e.save(),e.translate(c,f),c=i-c,f=o-f,m&&MC(l)&&!nMe(e,l,s,a))return e.restore(),null;const y=l.strokeForeground,v=t.interactive!==!1;return v&&y&&l.stroke&&tMe(e,l,s,a)?(e.restore(),l):(u=_b(l,b=>oMe(b,c,f)?this.pick(b,n,r,c,f):null),!u&&v&&(l.fill||!y&&l.stroke)&&eMe(e,l,s,a)&&(u=l),e.restore(),u||null)})}function oMe(e,t,n){return(e.interactive!==!1||e.marktype==="group")&&e.bounds&&e.bounds.contains(t,n)}var sMe={type:"group",tag:"g",nested:!1,attr:Xke,bound:Zke,draw:rMe,pick:iMe,isect:gG,content:Qke,background:Kke,foreground:Jke},I0={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function BC(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(r=>{e.image=r,e.image.url=e.url})),n}function jC(e,t){return e.width!=null?e.width:!t||!t.width?0:e.aspect!==!1&&e.height?e.height*t.width/t.height:t.width}function UC(e,t){return e.height!=null?e.height:!t||!t.height?0:e.aspect!==!1&&e.width?e.width*t.height/t.width:t.height}function Wx(e,t){return e==="center"?t/2:e==="right"?t:0}function Gx(e,t){return e==="middle"?t/2:e==="bottom"?t:0}function aMe(e,t,n){const r=BC(t,n),i=jC(t,r),o=UC(t,r),s=(t.x||0)-Wx(t.align,i),a=(t.y||0)-Gx(t.baseline,o),l=!r.src&&r.toDataURL?r.toDataURL():r.src||"";e("href",l,I0["xmlns:xlink"],"xlink:href"),e("transform",wc(s,a)),e("width",i),e("height",o),e("preserveAspectRatio",t.aspect===!1?"none":"xMidYMid")}function lMe(e,t){const n=t.image,r=jC(t,n),i=UC(t,n),o=(t.x||0)-Wx(t.align,r),s=(t.y||0)-Gx(t.baseline,i);return e.set(o,s,o+r,s+i)}function uMe(e,t,n){Lo(t,r=>{if(n&&!n.intersects(r.bounds))return;const i=BC(r,this);let o=jC(r,i),s=UC(r,i);if(o===0||s===0)return;let a=(r.x||0)-Wx(r.align,o),l=(r.y||0)-Gx(r.baseline,s),u,c,f,h;r.aspect!==!1&&(c=i.width/i.height,f=r.width/r.height,c===c&&f===f&&c!==f&&(f<c?(h=o/c,l+=(s-h)/2,s=h):(h=s*c,a+=(o-h)/2,o=h))),(i.complete||i.toDataURL)&&(uh(e,r),e.globalAlpha=(u=r.opacity)!=null?u:1,e.imageSmoothingEnabled=r.smooth!==!1,e.drawImage(i,a,l,o,s))})}var cMe={type:"image",tag:"image",nested:!1,attr:aMe,bound:lMe,draw:uMe,pick:Hx(),isect:Wi,get:BC,xOffset:Wx,yOffset:Gx},fMe=zC("line",Mke,Hke);function dMe(e,t){var n=t.scaleX||1,r=t.scaleY||1;(n!==1||r!==1)&&e("vector-effect","non-scaling-stroke"),e("transform",Uke(t)),e("d",t.path)}function tv(e,t){var n=t.path;if(n==null)return!0;var r=t.x||0,i=t.y||0,o=t.scaleX||1,s=t.scaleY||1,a=(t.angle||0)*tu,l=t.pathCache;(!l||l.path!==n)&&((t.pathCache=l=lh(n)).path=n),a&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(a),R0(e,l,0,0,o,s),e.rotate(-a),e.translate(-r,-i)):R0(e,l,r,i,o,s)}function hMe(e,t){return tv(Wm(e,t.angle),t)?e.set(0,0,0,0):Ua(e,t,!0)}var pMe={type:"path",tag:"path",nested:!1,attr:dMe,bound:hMe,draw:PC(tv),pick:IC(tv),isect:FC(tv)};function gMe(e,t){e("d",Zh(null,t))}function mMe(e,t){var n,r;return Ua(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)}function xN(e,t){e.beginPath(),Zh(e,t)}var yMe={type:"rect",tag:"path",nested:!1,attr:gMe,bound:mMe,draw:PC(xN),pick:IC(xN),isect:gG};function vMe(e,t){e("transform",bG(t)),e("x2",t.x2!=null?t.x2-(t.x||0):0),e("y2",t.y2!=null?t.y2-(t.y||0):0)}function bMe(e,t){var n,r;return Ua(e.set(n=t.x||0,r=t.y||0,t.x2!=null?t.x2:n,t.y2!=null?t.y2:r),t)}function EG(e,t,n){var r,i,o,s;return t.stroke&&ch(e,t,n)?(r=t.x||0,i=t.y||0,o=t.x2!=null?t.x2:r,s=t.y2!=null?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(o,s),!0):!1}function xMe(e,t,n){Lo(t,r=>{if(!(n&&!n.intersects(r.bounds))){var i=r.opacity==null?1:r.opacity;i&&EG(e,r,i)&&(uh(e,r),e.stroke())}})}function wMe(e,t,n,r){return e.isPointInStroke?EG(e,t,1)&&e.isPointInStroke(n,r):!1}var _Me={type:"rule",tag:"line",nested:!1,attr:vMe,bound:bMe,draw:xMe,pick:Hx(wMe),isect:mG},EMe=LC("shape",Tke),SMe=LC("symbol",Oke,NC);const wN=lH();var Co={height:Hs,measureWidth:qC,estimateWidth:s6,width:s6,canvas:SG};SG(!0);function SG(e){Co.width=e&&Bl?qC:s6}function s6(e,t){return $G(ru(e,t),Hs(e))}function $G(e,t){return~~(.8*e.length*t)}function qC(e,t){return Hs(e)<=0||!(t=ru(e,t))?0:CG(t,Yx(e))}function CG(e,t){const n=`(${t}) ${e}`;let r=wN.get(n);return r===void 0&&(Bl.font=t,r=Bl.measureText(e).width,wN.set(n,r)),r}function Hs(e){return e.fontSize!=null?+e.fontSize||0:11}function nu(e){return e.lineHeight!=null?e.lineHeight:Hs(e)+2}function $Me(e){return ie(e)?e.length>1?e:e[0]:e}function Ym(e){return $Me(e.lineBreak&&e.text&&!ie(e.text)?e.text.split(e.lineBreak):e.text)}function VC(e){const t=Ym(e);return(ie(t)?t.length-1:0)*nu(e)}function ru(e,t){const n=t==null?"":(t+"").trim();return e.limit>0&&n.length?AMe(e,n):n}function CMe(e){if(Co.width===qC){const t=Yx(e);return n=>CG(n,t)}else{const t=Hs(e);return n=>$G(n,t)}}function AMe(e,t){var n=+e.limit,r=CMe(e);if(r(t)<n)return t;var i=e.ellipsis||"…",o=e.dir==="rtl",s=0,a=t.length,l;if(n-=r(i),o){for(;s<a;)l=s+a>>>1,r(t.slice(l))>n?s=l+1:a=l;return i+t.slice(s)}else{for(;s<a;)l=1+(s+a>>>1),r(t.slice(0,l))<n?s=l:a=l-1;return t.slice(0,s)+i}}function Xm(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function Yx(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+Hs(e)+"px "+Xm(e,t)}function HC(e){var t=e.baseline,n=Hs(e);return Math.round(t==="top"?.79*n:t==="middle"?.3*n:t==="bottom"?-.21*n:t==="line-top"?.29*n+.5*nu(e):t==="line-bottom"?.29*n-.5*nu(e):0)}const kMe={left:"start",center:"middle",right:"end"},Dg=new cn;function Xx(e){var t=e.x||0,n=e.y||0,r=e.radius||0,i;return r&&(i=(e.theta||0)-tc,t+=r*Math.cos(i),n+=r*Math.sin(i)),Dg.x1=t,Dg.y1=n,Dg}function MMe(e,t){var n=t.dx||0,r=(t.dy||0)+HC(t),i=Xx(t),o=i.x1,s=i.y1,a=t.angle||0,l;e("text-anchor",kMe[t.align]||"start"),a?(l=wc(o,s)+" "+DC(a),(n||r)&&(l+=" "+wc(n,r))):l=wc(o+n,s+r),e("transform",l)}function WC(e,t,n){var r=Co.height(t),i=t.align,o=Xx(t),s=o.x1,a=o.y1,l=t.dx||0,u=(t.dy||0)+HC(t)-Math.round(.8*r),c=Ym(t),f;if(ie(c)?(r+=nu(t)*(c.length-1),f=c.reduce((h,p)=>Math.max(h,Co.width(t,p)),0)):f=Co.width(t,c),i==="center"?l-=f/2:i==="right"&&(l-=f),e.set(l+=s,u+=a,l+f,u+r),t.angle&&!n)e.rotate(t.angle*tu,s,a);else if(n===2)return e.rotatedPoints(t.angle*tu,s,a);return e}function TMe(e,t,n){Lo(t,r=>{var i=r.opacity==null?1:r.opacity,o,s,a,l,u,c,f;if(!(n&&!n.intersects(r.bounds)||i===0||r.fontSize<=0||r.text==null||r.text.length===0)){if(e.font=Yx(r),e.textAlign=r.align||"left",o=Xx(r),s=o.x1,a=o.y1,r.angle&&(e.save(),e.translate(s,a),e.rotate(r.angle*tu),s=a=0),s+=r.dx||0,a+=(r.dy||0)+HC(r),c=Ym(r),uh(e,r),ie(c))for(u=nu(r),l=0;l<c.length;++l)f=ru(r,c[l]),r.fill&&wb(e,r,i)&&e.fillText(f,s,a),r.stroke&&ch(e,r,i)&&e.strokeText(f,s,a),a+=u;else f=ru(r,c),r.fill&&wb(e,r,i)&&e.fillText(f,s,a),r.stroke&&ch(e,r,i)&&e.strokeText(f,s,a);r.angle&&e.restore()}})}function OMe(e,t,n,r,i,o){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var s=Xx(t),a=s.x1,l=s.y1,u=WC(Dg,t,1),c=-t.angle*tu,f=Math.cos(c),h=Math.sin(c),p=f*i-h*o+(a-f*a+h*l),g=h*i+f*o+(l-h*a-f*l);return u.contains(p,g)}function FMe(e,t){const n=WC(Dg,e,2);return hd(t,n[0],n[1],n[2],n[3])||hd(t,n[0],n[1],n[4],n[5])||hd(t,n[4],n[5],n[6],n[7])||hd(t,n[2],n[3],n[6],n[7])}var NMe={type:"text",tag:"text",nested:!1,attr:MMe,bound:WC,draw:TMe,pick:Hx(OMe),isect:FMe},RMe=zC("trail",Fke,Wke),ki={arc:qke,area:Gke,group:sMe,image:cMe,line:fMe,path:pMe,rect:yMe,rule:_Me,shape:EMe,symbol:SMe,text:NMe,trail:RMe};function a6(e,t,n){var r=ki[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new cn),e,n)}var _N={mark:null};function AG(e,t,n){var r=ki[e.marktype],i=r.bound,o=e.items,s=o&&o.length,a,l,u,c;if(r.nested)return s?u=o[0]:(_N.mark=e,u=_N),c=a6(u,i,n),t=t&&t.union(c)||c,t;if(t=t||e.bounds&&e.bounds.clear()||new cn,s)for(a=0,l=o.length;a<l;++a)t.union(a6(o[a],i,n));return e.bounds=t}const PMe=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function kG(e,t){return JSON.stringify(e,PMe,t)}function MG(e){const t=typeof e=="string"?JSON.parse(e):e;return TG(t)}function TG(e){var t=e.marktype,n=e.items,r,i,o;if(n)for(i=0,o=n.length;i<o;++i)r=t?"mark":"group",n[i][r]=e,n[i].zindex&&(n[i][r].zdirty=!0),(t||r)==="group"&&TG(n[i]);return t&&AG(e),e}function GC(e){arguments.length?this.root=MG(e):(this.root=OG({marktype:"group",name:"root",role:"frame"}),this.root.items=[new qx(this.root)])}GC.prototype={toJSON(e){return kG(this.root,e||0)},mark(e,t,n){t=t||this.root.items[0];const r=OG(e,t);return t.items[n]=r,r.zindex&&(r.group.zdirty=!0),r}};function OG(e,t){const n={bounds:new cn,clip:!!e.clip,group:t,interactive:e.interactive!==!1,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return e.aria!=null&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function $l(e,t,n){return!e&&typeof document<"u"&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function YC(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function qr(e,t,n,r){var i=e.childNodes[t],o;return(!i||i.tagName.toLowerCase()!==n.toLowerCase())&&(o=i||null,i=$l(e.ownerDocument,n,r),e.insertBefore(i,o)),i}function go(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function FG(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function Kx(e,t){const n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function IMe(e,t,n,r){var i=e&&e.mark,o,s;if(i&&(o=ki[i.marktype]).tip){for(s=Kx(t,n),s[0]-=r[0],s[1]-=r[1];e=e.mark.group;)s[0]-=e.x||0,s[1]-=e.y||0;e=o.tip(i.items,s)}return e}function iu(e,t){this._active=null,this._handlers={},this._loader=e||$x(),this._tooltip=t||DMe}function DMe(e,t,n,r){e.element().setAttribute("title",r||"")}iu.prototype={initialize(e,t,n){return this._el=e,this._obj=n||null,this.origin(t)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(e){return arguments.length?(this._origin=e||[0,0],this):this._origin.slice()},scene(e){return arguments.length?(this._scene=e,this):this._scene},on(){},off(){},_handlerIndex(e,t,n){for(let r=e?e.length:0;--r>=0;)if(e[r].type===t&&(!n||e[r].handler===n))return r;return-1},handlers(e){const t=this._handlers,n=[];if(e)n.push(...t[this.eventName(e)]);else for(const r in t)n.push(...t[r]);return n},eventName(e){const t=e.indexOf(".");return t<0?e:e.slice(0,t)},handleHref(e,t,n){this._loader.sanitize(n,{context:"href"}).then(r=>{const i=new MouseEvent(e.type,e),o=$l(null,"a");for(const s in r)o.setAttribute(s,r[s]);o.dispatchEvent(i)}).catch(()=>{})},handleTooltip(e,t,n){if(t&&t.tooltip!=null){t=IMe(t,e,this.canvas(),this._origin);const r=n&&t&&t.tooltip||null;this._tooltip.call(this._obj,this,e,t,r)}},getItemBoundingClientRect(e){const t=this.canvas();if(!t)return;const n=t.getBoundingClientRect(),r=this._origin,i=e.bounds,o=i.width(),s=i.height();let a=i.x1+r[0]+n.left,l=i.y1+r[1]+n.top;for(;e.mark&&(e=e.mark.group);)a+=e.x||0,l+=e.y||0;return{x:a,y:l,width:o,height:s,left:a,top:l,right:a+o,bottom:l+s}}};function Ws(e){this._el=null,this._bgcolor=null,this._loader=new OC(e)}Ws.prototype={initialize(e,t,n,r,i){return this._el=e,this.resize(t,n,r,i)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(e){return arguments.length===0?this._bgcolor:(this._bgcolor=e,this)},resize(e,t,n,r){return this._width=e,this._height=t,this._origin=n||[0,0],this._scale=r||1,this},dirty(){},render(e){const t=this;return t._call=function(){t._render(e)},t._call(),t._call=null,t},_render(){},renderAsync(e){const t=this.render(e);return this._ready?this._ready.then(()=>t):Promise.resolve(t)},_load(e,t){var n=this,r=n._loader[e](t);if(!n._ready){const i=n._call;n._ready=n._loader.ready().then(o=>{o&&i(),n._ready=null})}return r},sanitizeURL(e){return this._load("sanitizeURL",e)},loadImage(e){return this._load("loadImage",e)}};const LMe="keydown",zMe="keypress",BMe="keyup",NG="dragenter",nv="dragleave",RG="dragover",l6="mousedown",jMe="mouseup",Eb="mousemove",Lg="mouseout",PG="mouseover",Sb="click",UMe="dblclick",qMe="wheel",IG="mousewheel",$b="touchstart",Cb="touchmove",Ab="touchend",VMe=[LMe,zMe,BMe,NG,nv,RG,l6,jMe,Eb,Lg,PG,Sb,UMe,qMe,IG,$b,Cb,Ab],u6=Eb,D0=Lg,c6=Sb;function Km(e,t){iu.call(this,e,t),this._down=null,this._touch=null,this._first=!0,this._events={}}const HMe=e=>e===$b||e===Cb||e===Ab?[$b,Cb,Ab]:[e];function EN(e,t){HMe(t).forEach(n=>WMe(e,n))}function WMe(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?r=>e[t](r):r=>e.fire(t,r)))}function SN(e,t,n){return function(r){const i=this._active,o=this.pickEvent(r);o===i?this.fire(e,r):((!i||!i.exit)&&this.fire(n,r),this._active=o,this.fire(t,r),this.fire(e,r))}}function $N(e){return function(t){this.fire(e,t),this._active=null}}ve(Km,iu,{initialize(e,t,n){return this._canvas=e&&YC(e,"canvas"),[Sb,l6,Eb,Lg,nv].forEach(r=>EN(this,r)),iu.prototype.initialize.call(this,e,t,n)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:VMe,DOMMouseScroll(e){this.fire(IG,e)},mousemove:SN(Eb,PG,Lg),dragover:SN(RG,NG,nv),mouseout:$N(Lg),dragleave:$N(nv),mousedown(e){this._down=this._active,this.fire(l6,e)},click(e){this._down===this._active&&(this.fire(Sb,e),this._down=null)},touchstart(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire($b,e,!0)},touchmove(e){this.fire(Cb,e,!0)},touchend(e){this.fire(Ab,e,!0),this._touch=null},fire(e,t,n){const r=n?this._touch:this._active,i=this._handlers[e];if(t.vegaType=e,e===c6&&r&&r.href?this.handleHref(t,r,r.href):(e===u6||e===D0)&&this.handleTooltip(t,r,e!==D0),i)for(let o=0,s=i.length;o<s;++o)i[o].handler.call(this._obj,t,r)},on(e,t){const n=this.eventName(e),r=this._handlers;return this._handlerIndex(r[n],e,t)<0&&(EN(this,e),(r[n]||(r[n]=[])).push({type:e,handler:t})),this},off(e,t){const n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&r.splice(i,1),this},pickEvent(e){const t=Kx(e,this._canvas),n=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-n[0],t[1]-n[1])},pick(e,t,n,r,i){const o=this.context();return ki[e.marktype].pick.call(this,o,e,t,n,r,i)}});function GMe(){return typeof window<"u"&&window.devicePixelRatio||1}var YMe=GMe();function XMe(e,t,n,r,i,o){const s=typeof HTMLElement<"u"&&e instanceof HTMLElement&&e.parentNode!=null,a=e.getContext("2d"),l=s?YMe:i;e.width=t*l,e.height=n*l;for(const u in o)a[u]=o[u];return s&&l!==1&&(e.style.width=t+"px",e.style.height=n+"px"),a.pixelRatio=l,a.setTransform(l,0,0,l,l*r[0],l*r[1]),e}function kb(e){Ws.call(this,e),this._options={},this._redraw=!1,this._dirty=new cn,this._tempb=new cn}const CN=Ws.prototype,KMe=(e,t,n)=>new cn().set(0,0,t,n).translate(-e[0],-e[1]);function JMe(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-(n[0]%1),-(n[1]%1)),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}ve(kb,Ws,{initialize(e,t,n,r,i,o){return this._options=o||{},this._canvas=this._options.externalContext?null:zl(1,1,this._options.type),e&&this._canvas&&(go(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),CN.initialize.call(this,e,t,n,r,i)},resize(e,t,n,r){if(CN.resize.call(this,e,t,n,r),this._canvas)XMe(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const i=this._options.externalContext;i||ne("CanvasRenderer is missing a valid canvas or context"),i.scale(this._scale,this._scale),i.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(e){const t=this._tempb.clear().union(e.bounds);let n=e.mark.group;for(;n;)t.translate(n.x||0,n.y||0),n=n.mark.group;this._dirty.union(t)},_render(e){const t=this.context(),n=this._origin,r=this._width,i=this._height,o=this._dirty,s=KMe(n,r,i);t.save();const a=this._redraw||o.empty()?(this._redraw=!1,s.expand(1)):JMe(t,s.intersect(o),n);return this.clear(-n[0],-n[1],r,i),this.draw(t,e,a),t.restore(),o.clear(),this},draw(e,t,n){const r=ki[t.marktype];t.clip&&Yke(e,t),r.draw.call(this,e,t,n),t.clip&&e.restore()},clear(e,t,n,r){const i=this._options,o=this.context();i.type!=="pdf"&&!i.externalContext&&o.clearRect(e,t,n,r),this._bgcolor!=null&&(o.fillStyle=this._bgcolor,o.fillRect(e,t,n,r))}});function XC(e,t){iu.call(this,e,t);const n=this;n._hrefHandler=f6(n,(r,i)=>{i&&i.href&&n.handleHref(r,i,i.href)}),n._tooltipHandler=f6(n,(r,i)=>{n.handleTooltip(r,i,r.type!==D0)})}const f6=(e,t)=>n=>{let r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)};ve(XC,iu,{initialize(e,t,n){let r=this._svg;return r&&(r.removeEventListener(c6,this._hrefHandler),r.removeEventListener(u6,this._tooltipHandler),r.removeEventListener(D0,this._tooltipHandler)),this._svg=r=e&&YC(e,"svg"),r&&(r.addEventListener(c6,this._hrefHandler),r.addEventListener(u6,this._tooltipHandler),r.addEventListener(D0,this._tooltipHandler)),iu.prototype.initialize.call(this,e,t,n)},canvas(){return this._svg},on(e,t){const n=this.eventName(e),r=this._handlers;if(this._handlerIndex(r[n],e,t)<0){const o={type:e,handler:t,listener:f6(this,t)};(r[n]||(r[n]=[])).push(o),this._svg&&this._svg.addEventListener(n,o.listener)}return this},off(e,t){const n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&(this._svg&&this._svg.removeEventListener(n,r[i].listener),r.splice(i,1)),this}});const DG="aria-hidden",KC="aria-label",JC="role",QC="aria-roledescription",LG="graphics-object",ZC="graphics-symbol",zG=(e,t,n)=>({[JC]:e,[QC]:t,[KC]:n||void 0}),QMe=Io(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),AN={axis:{desc:"axis",caption:tTe},legend:{desc:"legend",caption:nTe},"title-text":{desc:"title",caption:e=>`Title text '${MN(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${MN(e)}'`}},kN={ariaRole:JC,ariaRoleDescription:QC,description:KC};function BG(e,t){const n=t.aria===!1;if(e(DG,n||void 0),n||t.description==null)for(const r in kN)e(kN[r],void 0);else{const r=t.mark.marktype;e(KC,t.description),e(JC,t.ariaRole||(r==="group"?LG:ZC)),e(QC,t.ariaRoleDescription||`${r} mark`)}}function jG(e){return e.aria===!1?{[DG]:!0}:QMe[e.role]?null:AN[e.role]?eTe(e,AN[e.role]):ZMe(e)}function ZMe(e){const t=e.marktype,n=t==="group"||t==="text"||e.items.some(r=>r.description!=null&&r.aria!==!1);return zG(n?LG:ZC,`${t} mark container`,e.description)}function eTe(e,t){try{const n=e.items[0],r=t.caption||(()=>"");return zG(t.role||ZC,t.desc,n.description||r(n))}catch{return null}}function MN(e){return $e(e.text).join(" ")}function tTe(e){const t=e.datum,n=e.orient,r=t.title?UG(e):null,i=e.context,o=i.scales[t.scale].value,s=i.dataflow.locale(),a=o.type;return`${n==="left"||n==="right"?"Y":"X"}-axis`+(r?` titled '${r}'`:"")+` for a ${ah(a)?"discrete":a} scale with ${oG(s,o,e)}`}function nTe(e){const t=e.datum,n=t.title?UG(e):null,r=`${t.type||""} legend`.trim(),i=t.scales,o=Object.keys(i),s=e.context,a=s.scales[i[o[0]]].value,l=s.dataflow.locale();return iTe(r)+(n?` titled '${n}'`:"")+` for ${rTe(o)} with ${oG(l,a,e)}`}function UG(e){try{return $e(lt(e.items).items[0].text).join(" ")}catch{return null}}function rTe(e){return e=e.map(t=>t+(t==="fill"||t==="stroke"?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+lt(e)}function iTe(e){return e.length?e[0].toUpperCase()+e.slice(1):e}const qG=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),oTe=e=>qG(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function eA(){let e="",t="",n="";const r=[],i=()=>t=n="",o=l=>{t&&(e+=`${t}>${n}`,i()),r.push(l)},s=(l,u)=>(u!=null&&(t+=` ${l}="${oTe(u)}"`),a),a={open(l){o(l),t="<"+l;for(var u=arguments.length,c=new Array(u>1?u-1:0),f=1;f<u;f++)c[f-1]=arguments[f];for(const h of c)for(const p in h)s(p,h[p]);return a},close(){const l=r.pop();return t?e+=t+(n?`>${n}</${l}>`:"/>"):e+=`</${l}>`,i(),a},attr:s,text:l=>(n+=qG(l),a),toString:()=>e};return a}const VG=e=>HG(eA(),e)+"";function HG(e,t){if(e.open(t.tagName),t.hasAttributes()){const n=t.attributes,r=n.length;for(let i=0;i<r;++i)e.attr(n[i].name,n[i].value)}if(t.hasChildNodes()){const n=t.childNodes;for(const r of n)r.nodeType===3?e.text(r.nodeValue):HG(e,r)}return e.close()}const Mb={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},Tb={blend:"mix-blend-mode"},WG={fill:"none","stroke-miterlimit":10},Op=0,TN="http://www.w3.org/2000/xmlns/",hn=I0.xmlns;function tA(e){Ws.call(this,e),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}const $3=Ws.prototype;ve(tA,Ws,{initialize(e,t,n,r,i){return this._defs={},this._clearDefs(),e&&(this._svg=qr(e,0,"svg",hn),this._svg.setAttributeNS(TN,"xmlns",hn),this._svg.setAttributeNS(TN,"xmlns:xlink",I0["xmlns:xlink"]),this._svg.setAttribute("version",I0.version),this._svg.setAttribute("class","marks"),go(e,1),this._root=qr(this._svg,Op,"g",hn),Cl(this._root,WG),go(this._svg,Op+1)),this.background(this._bgcolor),$3.initialize.call(this,e,t,n,r,i)},background(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),$3.background.apply(this,arguments)},resize(e,t,n,r){return $3.resize.call(this,e,t,n,r),this._svg&&(Cl(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this},canvas(){return this._svg},svg(){const e=this._svg,t=this._bgcolor;if(!e)return null;let n;t&&(e.removeAttribute("style"),n=qr(e,Op,"rect",hn),Cl(n,{width:this._width,height:this._height,fill:t}));const r=VG(e);return t&&(e.removeChild(n),this._svg.style.setProperty("background-color",t)),r},_render(e){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,e),go(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},isDirty(e){return this._dirtyAll||!e._svg||!e._svg.ownerSVGElement||e.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const e=this._dirty;if(!e.length||!this._dirtyID)return!0;const t=++this._dirtyID;let n,r,i,o,s,a,l;for(s=0,a=e.length;s<a;++s)if(n=e[s],r=n.mark,r.marktype!==i&&(i=r.marktype,o=ki[i]),r.zdirty&&r.dirty!==t&&(this._dirtyAll=!1,ON(n,t),r.items.forEach(u=>{u.dirty=t})),!r.zdirty){if(n.exit){o.nested&&r.items.length?(l=r.items[0],l._svg&&this._update(o,l._svg,l)):n._svg&&(l=n._svg.parentNode,l&&l.removeChild(n._svg)),n._svg=null;continue}n=o.nested?r.items[0]:n,n._update!==t&&(!n._svg||!n._svg.ownerSVGElement?(this._dirtyAll=!1,ON(n,t)):this._update(o,n._svg,n),n._update=t)}return!this._dirtyAll},mark(e,t,n){if(!this.isDirty(t))return t._svg;const r=this._svg,i=ki[t.marktype],o=t.interactive===!1?"none":null,s=i.tag==="g",a=FN(t,e,n,"g",r);a.setAttribute("class",FG(t));const l=jG(t);for(const h in l)wr(a,h,l[h]);s||wr(a,"pointer-events",o),wr(a,"clip-path",t.clip?TC(this,t,t.group):null);let u=null,c=0;const f=h=>{const p=this.isDirty(h),g=FN(h,a,u,i.tag,r);p&&(this._update(i,g,h),s&&lTe(this,g,h)),u=g,++c};return i.nested?t.items.length&&f(t.items[0]):Lo(t,f),go(a,c),a},_update(e,t,n){wa=t,nr=t.__values__,BG(zg,n),e.attr(zg,n,this);const r=cTe[e.type];r&&r.call(this,e,t,n),wa&&this.style(wa,n)},style(e,t){if(t!=null){for(const n in Mb){let r=n==="font"?Xm(t):t[n];if(r===nr[n])continue;const i=Mb[n];r==null?e.removeAttribute(i):(AC(r)&&(r=aG(r,this._defs.gradient,GG())),e.setAttribute(i,r+"")),nr[n]=r}for(const n in Tb)rv(e,Tb[n],t[n])}},defs(){const e=this._svg,t=this._defs;let n=t.el,r=0;for(const i in t.gradient)n||(t.el=n=qr(e,Op+1,"defs",hn)),r=sTe(n,t.gradient[i],r);for(const i in t.clipping)n||(t.el=n=qr(e,Op+1,"defs",hn)),r=aTe(n,t.clipping[i],r);n&&(r===0?(e.removeChild(n),t.el=null):go(n,r))},_clearDefs(){const e=this._defs;e.gradient={},e.clipping={}}});function ON(e,t){for(;e&&e.dirty!==t;e=e.mark.group)if(e.dirty=t,e.mark&&e.mark.dirty!==t)e.mark.dirty=t;else return}function sTe(e,t,n){let r,i,o;if(t.gradient==="radial"){let s=qr(e,n++,"pattern",hn);Cl(s,{id:xb+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),s=qr(s,0,"rect",hn),Cl(s,{width:1,height:1,fill:`url(${GG()}#${t.id})`}),e=qr(e,n++,"radialGradient",hn),Cl(e,{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else e=qr(e,n++,"linearGradient",hn),Cl(e,{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,i=t.stops.length;r<i;++r)o=qr(e,r,"stop",hn),o.setAttribute("offset",t.stops[r].offset),o.setAttribute("stop-color",t.stops[r].color);return go(e,r),n}function aTe(e,t,n){let r;return e=qr(e,n,"clipPath",hn),e.setAttribute("id",t.id),t.path?(r=qr(e,0,"path",hn),r.setAttribute("d",t.path)):(r=qr(e,0,"rect",hn),Cl(r,{x:0,y:0,width:t.width,height:t.height})),go(e,1),n+1}function lTe(e,t,n){t=t.lastChild.previousSibling;let r,i=0;Lo(n,o=>{r=e.mark(t,o,r),++i}),go(t,1+i)}function FN(e,t,n,r,i){let o=e._svg,s;if(!o&&(s=t.ownerDocument,o=$l(s,r,hn),e._svg=o,e.mark&&(o.__data__=e,o.__values__={fill:"default"},r==="g"))){const a=$l(s,"path",hn);o.appendChild(a),a.__data__=e;const l=$l(s,"g",hn);o.appendChild(l),l.__data__=e;const u=$l(s,"path",hn);o.appendChild(u),u.__data__=e,u.__values__={fill:"default"}}return(o.ownerSVGElement!==i||uTe(o,n))&&t.insertBefore(o,n?n.nextSibling:t.firstChild),o}function uTe(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}let wa=null,nr=null;const cTe={group(e,t,n){const r=wa=t.childNodes[2];nr=r.__values__,e.foreground(zg,n,this),nr=t.__values__,wa=t.childNodes[1],e.content(zg,n,this);const i=wa=t.childNodes[0];e.background(zg,n,this);const o=n.mark.interactive===!1?"none":null;if(o!==nr.events&&(wr(r,"pointer-events",o),wr(i,"pointer-events",o),nr.events=o),n.strokeForeground&&n.stroke){const s=n.fill;wr(r,"display",null),this.style(i,n),wr(i,"stroke",null),s&&(n.fill=null),nr=r.__values__,this.style(r,n),s&&(n.fill=s),wa=null}else wr(r,"display","none")},image(e,t,n){n.smooth===!1?(rv(t,"image-rendering","optimizeSpeed"),rv(t,"image-rendering","pixelated")):rv(t,"image-rendering",null)},text(e,t,n){const r=Ym(n);let i,o,s,a;ie(r)?(o=r.map(l=>ru(n,l)),i=o.join(`
`),i!==nr.text&&(go(t,0),s=t.ownerDocument,a=nu(n),o.forEach((l,u)=>{const c=$l(s,"tspan",hn);c.__data__=n,c.textContent=l,u&&(c.setAttribute("x",0),c.setAttribute("dy",a)),t.appendChild(c)}),nr.text=i)):(o=ru(n,r),o!==nr.text&&(t.textContent=o,nr.text=o)),wr(t,"font-family",Xm(n)),wr(t,"font-size",Hs(n)+"px"),wr(t,"font-style",n.fontStyle),wr(t,"font-variant",n.fontVariant),wr(t,"font-weight",n.fontWeight)}};function zg(e,t,n){t!==nr[e]&&(n?fTe(wa,e,t,n):wr(wa,e,t),nr[e]=t)}function rv(e,t,n){n!==nr[t]&&(n==null?e.style.removeProperty(t):e.style.setProperty(t,n+""),nr[t]=n)}function Cl(e,t){for(const n in t)wr(e,n,t[n])}function wr(e,t,n){n!=null?e.setAttribute(t,n):e.removeAttribute(t)}function fTe(e,t,n,r){n!=null?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}function GG(){let e;return typeof window>"u"?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}function nA(e){Ws.call(this,e),this._text=null,this._defs={gradient:{},clipping:{}}}ve(nA,Ws,{svg(){return this._text},_render(e){const t=eA();t.open("svg",Ke({},I0,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const n=this._bgcolor;return n&&n!=="transparent"&&n!=="none"&&t.open("rect",{width:this._width,height:this._height,fill:n}).close(),t.open("g",WG,{transform:"translate("+this._origin+")"}),this.mark(t,e),t.close(),this.defs(t),this._text=t.close()+"",this},mark(e,t){const n=ki[t.marktype],r=n.tag,i=[BG,n.attr];e.open("g",{class:FG(t),"clip-path":t.clip?TC(this,t,t.group):null},jG(t),{"pointer-events":r!=="g"&&t.interactive===!1?"none":null});const o=s=>{const a=this.href(s);if(a&&e.open("a",a),e.open(r,this.attr(t,s,i,r!=="g"?r:null)),r==="text"){const l=Ym(s);if(ie(l)){const u={x:0,dy:nu(s)};for(let c=0;c<l.length;++c)e.open("tspan",c?u:null).text(ru(s,l[c])).close()}else e.text(ru(s,l))}else if(r==="g"){const l=s.strokeForeground,u=s.fill,c=s.stroke;l&&c&&(s.stroke=null),e.open("path",this.attr(t,s,n.background,"bgrect")).close(),e.open("g",this.attr(t,s,n.content)),Lo(s,f=>this.mark(e,f)),e.close(),l&&c?(u&&(s.fill=null),s.stroke=c,e.open("path",this.attr(t,s,n.foreground,"bgrect")).close(),u&&(s.fill=u)):e.open("path",this.attr(t,s,n.foreground,"bgfore")).close()}e.close(),a&&e.close()};return n.nested?t.items&&t.items.length&&o(t.items[0]):Lo(t,o),e.close()},href(e){const t=e.href;let n;if(t){if(n=this._hrefs&&this._hrefs[t])return n;this.sanitizeURL(t).then(r=>{r["xlink:href"]=r.href,r.href=null,(this._hrefs||(this._hrefs={}))[t]=r})}return null},attr(e,t,n,r){const i={},o=(s,a,l,u)=>{i[u||s]=a};return Array.isArray(n)?n.forEach(s=>s(o,t,this)):n(o,t,this),r&&dTe(i,t,e,r,this._defs),i},defs(e){const t=this._defs.gradient,n=this._defs.clipping;if(Object.keys(t).length+Object.keys(n).length!==0){e.open("defs");for(const i in t){const o=t[i],s=o.stops;o.gradient==="radial"?(e.open("pattern",{id:xb+i,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),e.open("rect",{width:"1",height:"1",fill:"url(#"+i+")"}).close(),e.close(),e.open("radialGradient",{id:i,fx:o.x1,fy:o.y1,fr:o.r1,cx:o.x2,cy:o.y2,r:o.r2})):e.open("linearGradient",{id:i,x1:o.x1,x2:o.x2,y1:o.y1,y2:o.y2});for(let a=0;a<s.length;++a)e.open("stop",{offset:s[a].offset,"stop-color":s[a].color}).close();e.close()}for(const i in n){const o=n[i];e.open("clipPath",{id:i}),o.path?e.open("path",{d:o.path}).close():e.open("rect",{x:0,y:0,width:o.width,height:o.height}).close(),e.close()}e.close()}}});function dTe(e,t,n,r,i){let o;if(t==null||(r==="bgrect"&&n.interactive===!1&&(e["pointer-events"]="none"),r==="bgfore"&&(n.interactive===!1&&(e["pointer-events"]="none"),e.display="none",t.fill!==null)))return e;r==="image"&&t.smooth===!1&&(o=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),r==="text"&&(e["font-family"]=Xm(t),e["font-size"]=Hs(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const s in Mb){let a=t[s];const l=Mb[s];a==="transparent"&&(l==="fill"||l==="stroke")||a!=null&&(AC(a)&&(a=aG(a,i.gradient,"")),e[l]=a)}for(const s in Tb){const a=t[s];a!=null&&(o=o||[],o.push(`${Tb[s]}: ${a};`))}return o&&(e.style=o.join(" ")),e}const YG="canvas",XG="png",KG="svg",JG="none",Al={Canvas:YG,PNG:XG,SVG:KG,None:JG},fh={};fh[YG]=fh[XG]={renderer:kb,headless:kb,handler:Km};fh[KG]={renderer:tA,headless:nA,handler:XC};fh[JG]={};function Jx(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(fh[e]=t,this):fh[e]}function QG(e,t,n){const r=[],i=new cn().union(t),o=e.marktype;return o?ZG(e,i,n,r):o==="group"?eY(e,i,n,r):ne("Intersect scene must be mark node or group item.")}function ZG(e,t,n,r){if(hTe(e,t,n)){const i=e.items,o=e.marktype,s=i.length;let a=0;if(o==="group")for(;a<s;++a)eY(i[a],t,n,r);else for(const l=ki[o].isect;a<s;++a){const u=i[a];tY(u,t,l)&&r.push(u)}}return r}function hTe(e,t,n){return e.bounds&&t.intersects(e.bounds)&&(e.marktype==="group"||e.interactive!==!1&&(!n||n(e)))}function eY(e,t,n,r){n&&n(e.mark)&&tY(e,t,ki.group.isect)&&r.push(e);const i=e.items,o=i&&i.length;if(o){const s=e.x||0,a=e.y||0;t.translate(-s,-a);for(let l=0;l<o;++l)ZG(i[l],t,n,r);t.translate(s,a)}return r}function tY(e,t,n){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}const C3=new cn;function nY(e){const t=e.clip;if(Je(t))t(Wm(C3.clear()));else if(t)C3.set(0,0,e.group.width,e.group.height);else return;e.bounds.intersect(C3)}const pTe=1e-9;function rA(e,t,n){return e===t?!0:n==="path"?rY(e,t):e instanceof Date&&t instanceof Date?+e==+t:St(e)&&St(t)?Math.abs(e-t)<=pTe:!e||!t||!Ae(e)&&!Ae(t)?e==t:gTe(e,t)}function rY(e,t){return rA(lh(e),lh(t))}function gTe(e,t){var n=Object.keys(e),r=Object.keys(t),i,o;if(n.length!==r.length)return!1;for(n.sort(),r.sort(),o=n.length-1;o>=0;o--)if(n[o]!=r[o])return!1;for(o=n.length-1;o>=0;o--)if(i=n[o],!rA(e[i],t[i],i))return!1;return typeof e==typeof t}function mTe(){pG(),jAe()}const dh="top",mo="left",xo="right",ou="bottom",yTe="top-left",vTe="top-right",bTe="bottom-left",xTe="bottom-right",iA="start",d6="middle",_r="end",wTe="x",_Te="y",Qx="group",oA="axis",sA="title",ETe="frame",STe="scope",aA="legend",iY="row-header",oY="row-footer",sY="row-title",aY="column-header",lY="column-footer",uY="column-title",$Te="padding",CTe="symbol",cY="fit",fY="fit-x",dY="fit-y",ATe="pad",lA="none",sy="all",h6="each",uA="flush",kl="column",Ml="row";function hY(e){Z.call(this,null,e)}ve(hY,Z,{transform(e,t){const n=t.dataflow,r=e.mark,i=r.marktype,o=ki[i],s=o.bound;let a=r.bounds,l;if(o.nested)r.items.length&&n.dirty(r.items[0]),a=ay(r,s),r.items.forEach(u=>{u.bounds.clear().union(a)});else if(i===Qx||e.modified())switch(t.visit(t.MOD,u=>n.dirty(u)),a.clear(),r.items.forEach(u=>a.union(ay(u,s))),r.role){case oA:case aA:case sA:t.reflow()}else l=t.changed(t.REM),t.visit(t.ADD,u=>{a.union(ay(u,s))}),t.visit(t.MOD,u=>{l=l||a.alignsWith(u.bounds),n.dirty(u),a.union(ay(u,s))}),l&&(a.clear(),r.items.forEach(u=>a.union(u.bounds)));return nY(r),t.modifies("bounds")}});function ay(e,t,n){return t(e.bounds.clear(),e,n)}const NN=":vega_identifier:";function cA(e){Z.call(this,0,e)}cA.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};ve(cA,Z,{transform(e,t){const n=kTe(t.dataflow),r=e.as;let i=n.value;return t.visit(t.ADD,o=>o[r]=o[r]||++i),n.set(this.value=i),t}});function kTe(e){return e._signals[NN]||(e._signals[NN]=e.add(0))}function pY(e){Z.call(this,null,e)}ve(pY,Z,{transform(e,t){let n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,MTe(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);const r=n.marktype===Qx?qx:Ux;return t.visit(t.ADD,i=>r.call(i,n)),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});function MTe(e){const t=e.groups,n=e.parent;return t&&t.size===1?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}function gY(e){Z.call(this,null,e)}const RN={parity:e=>e.filter((t,n)=>n%2?t.opacity=0:1),greedy:(e,t)=>{let n;return e.filter((r,i)=>!i||!mY(n.bounds,r.bounds,t)?(n=r,1):r.opacity=0)}},mY=(e,t,n)=>n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),PN=(e,t)=>{for(var n=1,r=e.length,i=e[0].bounds,o;n<r;i=o,++n)if(mY(i,o=e[n].bounds,t))return!0},TTe=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},OTe=(e,t,n)=>{var r=e.range(),i=new cn;return t===dh||t===ou?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),o=>i.encloses(o.bounds)},IN=e=>(e.forEach(t=>t.opacity=1),e),DN=(e,t)=>e.reflow(t.modified()).modifies("opacity");ve(gY,Z,{transform(e,t){const n=RN[e.method]||RN.parity,r=e.separation||0;let i=t.materialize(t.SOURCE).source,o,s;if(!i||!i.length)return;if(!e.method)return e.modified("method")&&(IN(i),t=DN(t,e)),t;if(i=i.filter(TTe),!i.length)return;if(e.sort&&(i=i.slice().sort(e.sort)),o=IN(i),t=DN(t,e),o.length>=3&&PN(o,r)){do o=n(o,r);while(o.length>=3&&PN(o,r));o.length<3&&!lt(i).opacity&&(o.length>1&&(lt(o).opacity=0),lt(i).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(s=OTe(e.boundScale,e.boundOrient,+e.boundTolerance),i.forEach(l=>{s(l)||(l.opacity=0)}));const a=o[0].mark.bounds.clear();return i.forEach(l=>{l.opacity&&a.union(l.bounds)}),t}});function yY(e){Z.call(this,null,e)}ve(yY,Z,{transform(e,t){const n=t.dataflow;if(t.visit(t.ALL,r=>n.dirty(r)),t.fields&&t.fields.zindex){const r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}});const er=new cn;function pd(e,t,n){return e[t]===n?0:(e[t]=n,1)}function FTe(e){var t=e.items[0].orient;return t===mo||t===xo}function NTe(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}function RTe(e,t,n,r){var i=t.items[0],o=i.datum,s=i.translate!=null?i.translate:.5,a=i.orient,l=NTe(o),u=i.range,c=i.offset,f=i.position,h=i.minExtent,p=i.maxExtent,g=o.title&&i.items[l[2]].items[0],m=i.titlePadding,y=i.bounds,v=g&&VC(g),b=0,x=0,w,_;switch(er.clear().union(y),y.clear(),(w=l[0])>-1&&y.union(i.items[w].bounds),(w=l[1])>-1&&y.union(i.items[w].bounds),a){case dh:b=f||0,x=-c,_=Math.max(h,Math.min(p,-y.y1)),y.add(0,-_).add(u,0),g&&ly(e,g,_,m,v,0,-1,y);break;case mo:b=-c,x=f||0,_=Math.max(h,Math.min(p,-y.x1)),y.add(-_,0).add(0,u),g&&ly(e,g,_,m,v,1,-1,y);break;case xo:b=n+c,x=f||0,_=Math.max(h,Math.min(p,y.x2)),y.add(0,0).add(_,u),g&&ly(e,g,_,m,v,1,1,y);break;case ou:b=f||0,x=r+c,_=Math.max(h,Math.min(p,y.y2)),y.add(0,0).add(u,_),g&&ly(e,g,_,m,0,0,1,y);break;default:b=i.x,x=i.y}return Ua(y.translate(b,x),i),pd(i,"x",b+s)|pd(i,"y",x+s)&&(i.bounds=er,e.dirty(i),i.bounds=y,e.dirty(i)),i.mark.bounds.clear().union(y)}function ly(e,t,n,r,i,o,s,a){const l=t.bounds;if(t.auto){const u=s*(n+i+r);let c=0,f=0;e.dirty(t),o?c=(t.x||0)-(t.x=u):f=(t.y||0)-(t.y=u),t.mark.bounds.clear().union(l.translate(-c,-f)),e.dirty(t)}a.union(l)}const LN=(e,t)=>Math.floor(Math.min(e,t)),zN=(e,t)=>Math.ceil(Math.max(e,t));function PTe(e){var t=e.items,n=t.length,r=0,i,o;const s={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;r<n;++r)if(i=t[r],o=i.items,i.marktype===Qx)switch(i.role){case oA:case aA:case sA:break;case iY:s.rowheaders.push(...o);break;case oY:s.rowfooters.push(...o);break;case aY:s.colheaders.push(...o);break;case lY:s.colfooters.push(...o);break;case sY:s.rowtitle=o[0];break;case uY:s.coltitle=o[0];break;default:s.marks.push(...o)}return s}function ITe(e){return new cn().set(0,0,e.width||0,e.height||0)}function DTe(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function qt(e,t,n){const r=Ae(e)?e[t]:e;return r??(n!==void 0?n:0)}function BN(e){return e<0?Math.ceil(-e):0}function vY(e,t,n){var r=!n.nodirty,i=n.bounds===uA?ITe:DTe,o=er.set(0,0,0,0),s=qt(n.align,kl),a=qt(n.align,Ml),l=qt(n.padding,kl),u=qt(n.padding,Ml),c=n.columns||t.length,f=c<=0?1:Math.ceil(t.length/c),h=t.length,p=Array(h),g=Array(c),m=0,y=Array(h),v=Array(f),b=0,x=Array(h),w=Array(h),_=Array(h),$,S,C,T,M,E,N,k,A,O,F;for(S=0;S<c;++S)g[S]=0;for(S=0;S<f;++S)v[S]=0;for(S=0;S<h;++S)E=t[S],M=_[S]=i(E),E.x=E.x||0,x[S]=0,E.y=E.y||0,w[S]=0,C=S%c,T=~~(S/c),m=Math.max(m,N=Math.ceil(M.x2)),b=Math.max(b,k=Math.ceil(M.y2)),g[C]=Math.max(g[C],N),v[T]=Math.max(v[T],k),p[S]=l+BN(M.x1),y[S]=u+BN(M.y1),r&&e.dirty(t[S]);for(S=0;S<h;++S)S%c===0&&(p[S]=0),S<c&&(y[S]=0);if(s===h6)for(C=1;C<c;++C){for(F=0,S=C;S<h;S+=c)F<p[S]&&(F=p[S]);for(S=C;S<h;S+=c)p[S]=F+g[C-1]}else if(s===sy){for(F=0,S=0;S<h;++S)S%c&&F<p[S]&&(F=p[S]);for(S=0;S<h;++S)S%c&&(p[S]=F+m)}else for(s=!1,C=1;C<c;++C)for(S=C;S<h;S+=c)p[S]+=g[C-1];if(a===h6)for(T=1;T<f;++T){for(F=0,S=T*c,$=S+c;S<$;++S)F<y[S]&&(F=y[S]);for(S=T*c;S<$;++S)y[S]=F+v[T-1]}else if(a===sy){for(F=0,S=c;S<h;++S)F<y[S]&&(F=y[S]);for(S=c;S<h;++S)y[S]=F+b}else for(a=!1,T=1;T<f;++T)for(S=T*c,$=S+c;S<$;++S)y[S]+=v[T-1];for(A=0,S=0;S<h;++S)A=p[S]+(S%c?A:0),x[S]+=A-t[S].x;for(C=0;C<c;++C)for(O=0,S=C;S<h;S+=c)O+=y[S],w[S]+=O-t[S].y;if(s&&qt(n.center,kl)&&f>1)for(S=0;S<h;++S)M=s===sy?m:g[S%c],A=M-_[S].x2-t[S].x-x[S],A>0&&(x[S]+=A/2);if(a&&qt(n.center,Ml)&&c!==1)for(S=0;S<h;++S)M=a===sy?b:v[~~(S/c)],O=M-_[S].y2-t[S].y-w[S],O>0&&(w[S]+=O/2);for(S=0;S<h;++S)o.union(_[S].translate(x[S],w[S]));switch(A=qt(n.anchor,wTe),O=qt(n.anchor,_Te),qt(n.anchor,kl)){case _r:A-=o.width();break;case d6:A-=o.width()/2}switch(qt(n.anchor,Ml)){case _r:O-=o.height();break;case d6:O-=o.height()/2}for(A=Math.round(A),O=Math.round(O),o.clear(),S=0;S<h;++S)t[S].mark.bounds.clear();for(S=0;S<h;++S)E=t[S],E.x+=x[S]+=A,E.y+=w[S]+=O,o.union(E.mark.bounds.union(E.bounds.translate(x[S],w[S]))),r&&e.dirty(E);return o}function LTe(e,t,n){var r=PTe(t),i=r.marks,o=n.bounds===uA?zTe:BTe,s=n.offset,a=n.columns||i.length,l=a<=0?1:Math.ceil(i.length/a),u=l*a,c,f,h,p,g,m,y;const v=vY(e,i,n);v.empty()&&v.set(0,0,0,0),r.rowheaders&&(m=qt(n.headerBand,Ml,null),c=uy(e,r.rowheaders,i,a,l,-qt(s,"rowHeader"),LN,0,o,"x1",0,a,1,m)),r.colheaders&&(m=qt(n.headerBand,kl,null),f=uy(e,r.colheaders,i,a,a,-qt(s,"columnHeader"),LN,1,o,"y1",0,1,a,m)),r.rowfooters&&(m=qt(n.footerBand,Ml,null),h=uy(e,r.rowfooters,i,a,l,qt(s,"rowFooter"),zN,0,o,"x2",a-1,a,1,m)),r.colfooters&&(m=qt(n.footerBand,kl,null),p=uy(e,r.colfooters,i,a,a,qt(s,"columnFooter"),zN,1,o,"y2",u-a,1,a,m)),r.rowtitle&&(g=qt(n.titleAnchor,Ml),y=qt(s,"rowTitle"),y=g===_r?h+y:c-y,m=qt(n.titleBand,Ml,.5),jN(e,r.rowtitle,y,0,v,m)),r.coltitle&&(g=qt(n.titleAnchor,kl),y=qt(s,"columnTitle"),y=g===_r?p+y:f-y,m=qt(n.titleBand,kl,.5),jN(e,r.coltitle,y,1,v,m))}function zTe(e,t){return t==="x1"?e.x||0:t==="y1"?e.y||0:t==="x2"?(e.x||0)+(e.width||0):t==="y2"?(e.y||0)+(e.height||0):void 0}function BTe(e,t){return e.bounds[t]}function uy(e,t,n,r,i,o,s,a,l,u,c,f,h,p){var g=n.length,m=0,y=0,v,b,x,w,_,$,S,C,T;if(!g)return m;for(v=c;v<g;v+=f)n[v]&&(m=s(m,l(n[v],u)));if(!t.length)return m;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),m+=o,b=0,w=t.length;b<w;++b)e.dirty(t[b]),t[b].mark.bounds.clear();for(v=c,b=0,w=t.length;b<w;++b,v+=f){for($=t[b],_=$.mark.bounds,x=v;x>=0&&(S=n[x])==null;x-=h);a?(C=p==null?S.x:Math.round(S.bounds.x1+p*S.bounds.width()),T=m):(C=m,T=p==null?S.y:Math.round(S.bounds.y1+p*S.bounds.height())),_.union($.bounds.translate(C-($.x||0),T-($.y||0))),$.x=C,$.y=T,e.dirty($),y=s(y,_[u])}return y}function jN(e,t,n,r,i,o){if(t){e.dirty(t);var s=n,a=n;r?s=Math.round(i.x1+o*i.width()):a=Math.round(i.y1+o*i.height()),t.bounds.translate(s-(t.x||0),a-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=s,t.y=a,e.dirty(t)}}function jTe(e,t){const n=e[t]||{};return(r,i)=>n[r]!=null?n[r]:e[r]!=null?e[r]:i}function UTe(e,t){let n=-1/0;return e.forEach(r=>{r.offset!=null&&(n=Math.max(n,r.offset))}),n>-1/0?n:t}function qTe(e,t,n,r,i,o,s){const a=jTe(n,t),l=UTe(e,a("offset",0)),u=a("anchor",iA),c=u===_r?1:u===d6?.5:0,f={align:h6,bounds:a("bounds",uA),columns:a("direction")==="vertical"?1:e.length,padding:a("margin",8),center:a("center"),nodirty:!0};switch(t){case mo:f.anchor={x:Math.floor(r.x1)-l,column:_r,y:c*(s||r.height()+2*r.y1),row:u};break;case xo:f.anchor={x:Math.ceil(r.x2)+l,y:c*(s||r.height()+2*r.y1),row:u};break;case dh:f.anchor={y:Math.floor(i.y1)-l,row:_r,x:c*(o||i.width()+2*i.x1),column:u};break;case ou:f.anchor={y:Math.ceil(i.y2)+l,x:c*(o||i.width()+2*i.x1),column:u};break;case yTe:f.anchor={x:l,y:l};break;case vTe:f.anchor={x:o-l,y:l,column:_r};break;case bTe:f.anchor={x:l,y:s-l,row:_r};break;case xTe:f.anchor={x:o-l,y:s-l,column:_r,row:_r};break}return f}function VTe(e,t){var n=t.items[0],r=n.datum,i=n.orient,o=n.bounds,s=n.x,a=n.y,l,u;return n._bounds?n._bounds.clear().union(o):n._bounds=o.clone(),o.clear(),WTe(e,n,n.items[0].items[0]),o=HTe(n,o),l=2*n.padding,u=2*n.padding,o.empty()||(l=Math.ceil(o.width()+l),u=Math.ceil(o.height()+u)),r.type===CTe&&GTe(n.items[0].items[0].items[0].items),i!==lA&&(n.x=s=0,n.y=a=0),n.width=l,n.height=u,Ua(o.set(s,a,s+l,a+u),n),n.mark.bounds.clear().union(o),n}function HTe(e,t){return e.items.forEach(n=>t.union(n.bounds)),t.x1=e.padding,t.y1=e.padding,t}function WTe(e,t,n){var r=t.padding,i=r-n.x,o=r-n.y;if(!t.datum.title)(i||o)&&Fp(e,n,i,o);else{var s=t.items[1].items[0],a=s.anchor,l=t.titlePadding||0,u=r-s.x,c=r-s.y;switch(s.orient){case mo:i+=Math.ceil(s.bounds.width())+l;break;case xo:case ou:break;default:o+=s.bounds.height()+l}switch((i||o)&&Fp(e,n,i,o),s.orient){case mo:c+=Xf(t,n,s,a,1,1);break;case xo:u+=Xf(t,n,s,_r,0,0)+l,c+=Xf(t,n,s,a,1,1);break;case ou:u+=Xf(t,n,s,a,0,0),c+=Xf(t,n,s,_r,-1,0,1)+l;break;default:u+=Xf(t,n,s,a,0,0)}(u||c)&&Fp(e,s,u,c),(u=Math.round(s.bounds.x1-r))<0&&(Fp(e,n,-u,0),Fp(e,s,-u,0))}}function Xf(e,t,n,r,i,o,s){const a=e.datum.type!=="symbol",l=n.datum.vgrad,u=a&&(o||!l)&&!s?t.items[0]:t,c=u.bounds[i?"y2":"x2"]-e.padding,f=l&&o?c:0,h=l&&o?0:c,p=i<=0?0:VC(n);return Math.round(r===iA?f:r===_r?h-p:.5*(c-p))}function Fp(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function GTe(e){const t=e.reduce((n,r)=>(n[r.column]=Math.max(r.bounds.x2-r.x,n[r.column]||0),n),{});e.forEach(n=>{n.width=t[n.column],n.height=n.bounds.y2-n.y})}function YTe(e,t,n,r,i){var o=t.items[0],s=o.frame,a=o.orient,l=o.anchor,u=o.offset,c=o.padding,f=o.items[0].items[0],h=o.items[1]&&o.items[1].items[0],p=a===mo||a===xo?r:n,g=0,m=0,y=0,v=0,b=0,x;if(s!==Qx?a===mo?(g=i.y2,p=i.y1):a===xo?(g=i.y1,p=i.y2):(g=i.x1,p=i.x2):a===mo&&(g=r,p=0),x=l===iA?g:l===_r?p:(g+p)/2,h&&h.text){switch(a){case dh:case ou:b=f.bounds.height()+c;break;case mo:v=f.bounds.width()+c;break;case xo:v=-f.bounds.width()-c;break}er.clear().union(h.bounds),er.translate(v-(h.x||0),b-(h.y||0)),pd(h,"x",v)|pd(h,"y",b)&&(e.dirty(h),h.bounds.clear().union(er),h.mark.bounds.clear().union(er),e.dirty(h)),er.clear().union(h.bounds)}else er.clear();switch(er.union(f.bounds),a){case dh:m=x,y=i.y1-er.height()-u;break;case mo:m=i.x1-er.width()-u,y=x;break;case xo:m=i.x2+er.width()+u,y=x;break;case ou:m=x,y=i.y2+u;break;default:m=o.x,y=o.y}return pd(o,"x",m)|pd(o,"y",y)&&(er.translate(m,y),e.dirty(o),o.bounds.clear().union(er),t.bounds.clear().union(er),e.dirty(o)),o.bounds}function bY(e){Z.call(this,null,e)}ve(bY,Z,{transform(e,t){const n=t.dataflow;return e.mark.items.forEach(r=>{e.layout&&LTe(n,r,e.layout),KTe(n,r,e)}),XTe(e.mark.group)?t.reflow():t}});function XTe(e){return e&&e.mark.role!=="legend-entry"}function KTe(e,t,n){var r=t.items,i=Math.max(0,t.width||0),o=Math.max(0,t.height||0),s=new cn().set(0,0,i,o),a=s.clone(),l=s.clone(),u=[],c,f,h,p,g,m;for(g=0,m=r.length;g<m;++g)switch(f=r[g],f.role){case oA:p=FTe(f)?a:l,p.union(RTe(e,f,i,o));break;case sA:c=f;break;case aA:u.push(VTe(e,f));break;case ETe:case STe:case iY:case oY:case sY:case aY:case lY:case uY:a.union(f.bounds),l.union(f.bounds);break;default:s.union(f.bounds)}if(u.length){const y={};u.forEach(v=>{h=v.orient||xo,h!==lA&&(y[h]||(y[h]=[])).push(v)});for(const v in y){const b=y[v];vY(e,b,qTe(b,v,n.legends,a,l,i,o))}u.forEach(v=>{const b=v.bounds;if(b.equals(v._bounds)||(v.bounds=v._bounds,e.dirty(v),v.bounds=b,e.dirty(v)),n.autosize&&(n.autosize.type===cY||n.autosize.type===fY||n.autosize.type===dY))switch(v.orient){case mo:case xo:s.add(b.x1,0).add(b.x2,0);break;case dh:case ou:s.add(0,b.y1).add(0,b.y2)}else s.union(b)})}s.union(a).union(l),c&&s.union(YTe(e,c,i,o,s)),t.clip&&s.set(0,0,t.width||0,t.height||0),JTe(e,t,s,n)}function JTe(e,t,n,r){const i=r.autosize||{},o=i.type;if(e._autosize<1||!o)return;let s=e._width,a=e._height,l=Math.max(0,t.width||0),u=Math.max(0,Math.ceil(-n.x1)),c=Math.max(0,t.height||0),f=Math.max(0,Math.ceil(-n.y1));const h=Math.max(0,Math.ceil(n.x2-l)),p=Math.max(0,Math.ceil(n.y2-c));if(i.contains===$Te){const g=e.padding();s-=g.left+g.right,a-=g.top+g.bottom}o===lA?(u=0,f=0,l=s,c=a):o===cY?(l=Math.max(0,s-u-h),c=Math.max(0,a-f-p)):o===fY?(l=Math.max(0,s-u-h),a=c+f+p):o===dY?(s=l+u+h,c=Math.max(0,a-f-p)):o===ATe&&(s=l+u+h,a=c+f+p),e._resizeView(s,a,l,c,[u,f],i.resize)}const QTe=Object.freeze(Object.defineProperty({__proto__:null,bound:hY,identifier:cA,mark:pY,overlap:gY,render:yY,viewlayout:bY},Symbol.toStringTag,{value:"Module"}));function xY(e){Z.call(this,null,e)}ve(xY,Z,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,o=e.scale,s=e.count==null?e.values?e.values.length:10:e.count,a=$C(o,s,e.minstep),l=e.format||eG(n,o,a,e.formatSpecifier,e.formatType,!!e.values),u=e.values?ZW(o,e.values,a):CC(o,a);return i&&(r.rem=i),i=u.map((c,f)=>xt({index:f/(u.length-1||1),value:c,label:l(c)})),e.extra&&i.length&&i.push(xt({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r}});function wY(e){Z.call(this,null,e)}function ZTe(){return xt({})}function e9e(e){const t=Yh().test(n=>n.exit);return t.lookup=n=>t.get(e(n)),t}ve(wY,Z,{transform(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||ZTe,o=e.key||De,s=this.value;return ie(r.encode)&&(r.encode=null),s&&(e.modified("key")||t.modified(o))&&ne("DataJoin does not support modified key function or fields."),s||(t=t.addAll(),this.value=s=e9e(o)),t.visit(t.ADD,a=>{const l=o(a);let u=s.get(l);u?u.exit?(s.empty--,r.add.push(u)):r.mod.push(u):(u=i(a),s.set(l,u),r.add.push(u)),u.datum=a,u.exit=!1}),t.visit(t.MOD,a=>{const l=o(a),u=s.get(l);u&&(u.datum=a,r.mod.push(u))}),t.visit(t.REM,a=>{const l=o(a),u=s.get(l);a===u.datum&&!u.exit&&(r.rem.push(u),u.exit=!0,++s.empty)}),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&s.empty>n.cleanThreshold)&&n.runAfter(s.clean),r}});function _Y(e){Z.call(this,null,e)}ve(_Y,Z,{transform(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,i=e.encoders,o=t.encode;if(ie(o))if(n.changed()||o.every(f=>i[f]))o=o[0],n.encode=null;else return t.StopPropagation;var s=o==="enter",a=i.update||il,l=i.enter||il,u=i.exit||il,c=(o&&!s?i[o]:a)||il;if(t.changed(t.ADD)&&(t.visit(t.ADD,f=>{l(f,e),a(f,e)}),n.modifies(l.output),n.modifies(a.output),c!==il&&c!==a&&(t.visit(t.ADD,f=>{c(f,e)}),n.modifies(c.output))),t.changed(t.REM)&&u!==il&&(t.visit(t.REM,f=>{u(f,e)}),n.modifies(u.output)),s||c!==il){const f=t.MOD|(e.modified()?t.REFLOW:0);s?(t.visit(f,h=>{const p=l(h,e)||r;(c(h,e)||p)&&n.mod.push(h)}),n.mod.length&&n.modifies(l.output)):t.visit(f,h=>{(c(h,e)||r)&&n.mod.push(h)}),n.mod.length&&n.modifies(c.output)}return n.changed()?n:t.StopPropagation}});function EY(e){Z.call(this,[],e)}ve(EY,Z,{transform(e,t){if(this.value!=null&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,o=e.type||Ky,s=e.scale,a=+e.limit,l=$C(s,e.count==null?5:e.count,e.minstep),u=!!e.values||o===Ky,c=e.format||iG(n,s,l,o,e.formatSpecifier,e.formatType,u),f=e.values||rG(s,l),h,p,g,m,y;return i&&(r.rem=i),o===Ky?(a&&f.length>a?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),i=f.slice(0,a-1),y=!0):i=f,Je(g=e.size)?(!e.values&&s(i[0])===0&&(i=i.slice(1)),m=i.reduce((v,b)=>Math.max(v,g(b,e)),0)):g=mr(m=g||8),i=i.map((v,b)=>xt({index:b,label:c(v,b,i),value:v,offset:m,size:g(v,e)})),y&&(y=f[i.length],i.push(xt({index:i.length,label:`…${f.length-i.length} entries`,value:y,offset:m,size:g(y,e)})))):o===kAe?(h=s.domain(),p=KW(s,h[0],lt(h)),f.length<3&&!e.values&&h[0]!==lt(h)&&(f=[h[0],lt(h)]),i=f.map((v,b)=>xt({index:b,label:c(v,b,f),value:v,perc:p(v)}))):(g=f.length-1,p=zAe(s),i=f.map((v,b)=>xt({index:b,label:c(v,b,f),value:v,perc:b?p(v):0,perc2:b===g?1:p(f[b+1])}))),r.source=i,r.add=i,this.value=i,r}});const t9e=e=>e.source.x,n9e=e=>e.source.y,r9e=e=>e.target.x,i9e=e=>e.target.y;function fA(e){Z.call(this,{},e)}fA.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};ve(fA,Z,{transform(e,t){var n=e.sourceX||t9e,r=e.sourceY||n9e,i=e.targetX||r9e,o=e.targetY||i9e,s=e.as||"path",a=e.orient||"vertical",l=e.shape||"line",u=UN.get(l+"-"+a)||UN.get(l);return u||ne("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,c=>{c[s]=u(n(c),r(c),i(c),o(c))}),t.reflow(e.modified()).modifies(s)}});const SY=(e,t,n,r)=>"M"+e+","+t+"L"+n+","+r,o9e=(e,t,n,r)=>SY(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),$Y=(e,t,n,r)=>{var i=n-e,o=r-t,s=Math.hypot(i,o)/2,a=180*Math.atan2(o,i)/Math.PI;return"M"+e+","+t+"A"+s+","+s+" "+a+" 0 1 "+n+","+r},s9e=(e,t,n,r)=>$Y(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),CY=(e,t,n,r)=>{const i=n-e,o=r-t,s=.2*(i+o),a=.2*(o-i);return"M"+e+","+t+"C"+(e+s)+","+(t+a)+" "+(n+a)+","+(r-s)+" "+n+","+r},a9e=(e,t,n,r)=>CY(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),l9e=(e,t,n,r)=>"M"+e+","+t+"V"+r+"H"+n,u9e=(e,t,n,r)=>"M"+e+","+t+"H"+n+"V"+r,c9e=(e,t,n,r)=>{const i=Math.cos(e),o=Math.sin(e),s=Math.cos(n),a=Math.sin(n),l=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*o+"A"+t+","+t+" 0 0,"+(l?1:0)+" "+t*s+","+t*a+"L"+r*s+","+r*a},f9e=(e,t,n,r)=>{const i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},d9e=(e,t,n,r)=>{const i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},h9e=(e,t,n,r)=>{const i=Math.cos(e),o=Math.sin(e),s=Math.cos(n),a=Math.sin(n),l=(t+r)/2;return"M"+t*i+","+t*o+"C"+l*i+","+l*o+" "+l*s+","+l*a+" "+r*s+","+r*a},UN=Yh({line:SY,"line-radial":o9e,arc:$Y,"arc-radial":s9e,curve:CY,"curve-radial":a9e,"orthogonal-horizontal":l9e,"orthogonal-vertical":u9e,"orthogonal-radial":c9e,"diagonal-horizontal":f9e,"diagonal-vertical":d9e,"diagonal-radial":h9e});function dA(e){Z.call(this,null,e)}dA.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};ve(dA,Z,{transform(e,t){var n=e.as||["startAngle","endAngle"],r=n[0],i=n[1],o=e.field||Hh,s=e.startAngle||0,a=e.endAngle!=null?e.endAngle:2*Math.PI,l=t.source,u=l.map(o),c=u.length,f=s,h=(a-s)/k8(u),p=Ar(c),g,m,y;for(e.sort&&p.sort((v,b)=>u[v]-u[b]),g=0;g<c;++g)y=u[p[g]],m=l[p[g]],m[r]=f,m[i]=f+=y*h;return this.value=u,t.reflow(e.modified()).modifies(n)}});const p9e=5;function g9e(e){const t=e.type;return!e.bins&&(t===oh||t===zm||t===Bm)}function AY(e){return _C(e)&&e!==Cs}const m9e=Io(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function kY(e){Z.call(this,null,e),this.modified(!0)}ve(kY,Z,{transform(e,t){var n=t.dataflow,r=this.value,i=y9e(e);(!r||i!==r.type)&&(this.value=r=vt(i)());for(i in e)if(!m9e[i]){if(i==="padding"&&AY(r.type))continue;Je(r[i])?r[i](e[i]):n.warn("Unsupported scale property: "+i)}return E9e(r,e,_9e(r,e,b9e(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function y9e(e){var t=e.type,n="",r;return t===Cs?Cs+"-"+oh:(v9e(e)&&(r=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(e.domainMid!=null):0,n=r===2?Cs+"-":r===3?Qh+"-":""),(n+t||oh).toLowerCase())}function v9e(e){const t=e.type;return _C(t)&&t!==jc&&t!==Uc&&(e.scheme||e.range&&e.range.length&&e.range.every(Ee))}function b9e(e,t,n){const r=x9e(e,t.domainRaw,n);if(r>-1)return r;var i=t.domain,o=e.type,s=t.zero||t.zero===void 0&&g9e(e),a,l;if(!i)return 0;if(AY(o)&&t.padding&&i[0]!==lt(i)&&(i=w9e(o,i,t.range,t.padding,t.exponent,t.constant)),(s||t.domainMin!=null||t.domainMax!=null||t.domainMid!=null)&&(a=(i=i.slice()).length-1||1,s&&(i[0]>0&&(i[0]=0),i[a]<0&&(i[a]=0)),t.domainMin!=null&&(i[0]=t.domainMin),t.domainMax!=null&&(i[a]=t.domainMax),t.domainMid!=null)){l=t.domainMid;const u=l>i[a]?a+1:l<i[0]?0:a;u!==a&&n.warn("Scale domainMid exceeds domain min or max.",l),i.splice(u,0,l)}return e.domain(MY(o,i,n)),o===vC&&e.unknown(t.domainImplicit?ab:void 0),t.nice&&e.nice&&e.nice(t.nice!==!0&&$C(e,t.nice)||null),i.length}function x9e(e,t,n){return t?(e.domain(MY(e.type,t,n)),t.length):-1}function w9e(e,t,n,r,i,o){var s=Math.abs(lt(n)-n[0]),a=s/(s-2*r),l=e===Ia?f$(t,null,a):e===Bm?mb(t,null,a,.5):e===zm?mb(t,null,a,i||1):e===Dx?d$(t,null,a,o||1):c$(t,null,a);return t=t.slice(),t[0]=l[0],t[t.length-1]=l[1],t}function MY(e,t,n){if(HW(e)){var r=Math.abs(t.reduce((i,o)=>i+(o<0?-1:o>0?1:0),0));r!==t.length&&n.warn("Log scale domain includes zero: "+ye(t))}return t}function _9e(e,t,n){let r=t.bins;if(r&&!ie(r)){const i=e.domain(),o=i[0],s=lt(i),a=r.step;let l=r.start==null?o:r.start,u=r.stop==null?s:r.stop;a||ne("Scale bins parameter missing step property."),l<o&&(l=a*Math.ceil(o/a)),u>s&&(u=a*Math.floor(s/a)),r=Ar(l,u+a/2,a)}return r?e.bins=r:e.bins&&delete e.bins,e.type===bC&&(r?!t.domain&&!t.domainRaw&&(e.domain(r),n=r.length):e.bins=e.domain()),n}function E9e(e,t,n){var r=e.type,i=t.round||!1,o=t.range;if(t.rangeStep!=null)o=S9e(r,t,n);else if(t.scheme&&(o=$9e(r,t,n),Je(o))){if(e.interpolator)return e.interpolator(o);ne(`Scale type ${r} does not support interpolating color schemes.`)}if(o&&WW(r))return e.interpolator(Bx(p6(o,t.reverse),t.interpolate,t.interpolateGamma));o&&t.interpolate&&e.interpolate?e.interpolate(EC(t.interpolate,t.interpolateGamma)):Je(e.round)?e.round(i):Je(e.rangeRound)&&e.interpolate(i?jh:Us),o&&e.range(p6(o,t.reverse))}function S9e(e,t,n){e!==zW&&e!==ZS&&ne("Only band and point scales support rangeStep.");var r=(t.paddingOuter!=null?t.paddingOuter:t.padding)||0,i=e===ZS?1:(t.paddingInner!=null?t.paddingInner:t.padding)||0;return[0,t.rangeStep*yC(n,i,r)]}function $9e(e,t,n){var r=t.schemeExtent,i,o;return ie(t.scheme)?o=Bx(t.scheme,t.interpolate,t.interpolateGamma):(i=t.scheme.toLowerCase(),o=SC(i),o||ne(`Unrecognized scheme name: ${t.scheme}`)),n=e===zx?n+1:e===bC?n-1:e===sh||e===Lx?+t.schemeCount||p9e:n,WW(e)?qN(o,r,t.reverse):Je(o)?XW(qN(o,r),n):e===vC?o:o.slice(0,n)}function qN(e,t,n){return Je(e)&&(t||n)?YW(e,p6(t||[0,1],n)):e}function p6(e,t){return t?e.slice().reverse():e}function TY(e){Z.call(this,null,e)}ve(TY,Z,{transform(e,t){const n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(yf(e.sort)),this.modified(n),t}});const VN="zero",OY="center",FY="normalize",NY=["y0","y1"];function hA(e){Z.call(this,null,e)}hA.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:VN,values:[VN,OY,FY]},{name:"as",type:"string",array:!0,length:2,default:NY}]};ve(hA,Z,{transform(e,t){var n=e.as||NY,r=n[0],i=n[1],o=yf(e.sort),s=e.field||Hh,a=e.offset===OY?C9e:e.offset===FY?A9e:k9e,l,u,c,f;for(l=M9e(t.source,e.groupby,o,s),u=0,c=l.length,f=l.max;u<c;++u)a(l[u],f,s,r,i);return t.reflow(e.modified()).modifies(n)}});function C9e(e,t,n,r,i){for(var o=(t-e.sum)/2,s=e.length,a=0,l;a<s;++a)l=e[a],l[r]=o,l[i]=o+=Math.abs(n(l))}function A9e(e,t,n,r,i){for(var o=1/e.sum,s=0,a=e.length,l=0,u=0,c;l<a;++l)c=e[l],c[r]=s,c[i]=s=o*(u+=Math.abs(n(c)))}function k9e(e,t,n,r,i){for(var o=0,s=0,a=e.length,l=0,u,c;l<a;++l)c=e[l],u=+n(c),u<0?(c[r]=s,c[i]=s+=u):(c[r]=o,c[i]=o+=u)}function M9e(e,t,n,r){var i=[],o=m=>m(c),s,a,l,u,c,f,h,p,g;if(t==null)i.push(e.slice());else for(s={},a=0,l=e.length;a<l;++a)c=e[a],f=t.map(o),h=s[f],h||(s[f]=h=[],i.push(h)),h.push(c);for(f=0,g=0,u=i.length;f<u;++f){for(h=i[f],a=0,p=0,l=h.length;a<l;++a)p+=Math.abs(r(h[a]));h.sum=p,p>g&&(g=p),n&&h.sort(n)}return i.max=g,i}const T9e=Object.freeze(Object.defineProperty({__proto__:null,axisticks:xY,datajoin:wY,encode:_Y,legendentries:EY,linkpath:fA,pie:dA,scale:kY,sortitems:TY,stack:hA},Symbol.toStringTag,{value:"Module"}));var O9e=Math.abs,g6=Math.cos,Ob=Math.sin,F9e=1e-6,RY=Math.PI,m6=RY/2,HN=N9e(2);function WN(e){return e>1?m6:e<-1?-m6:Math.asin(e)}function N9e(e){return e>0?Math.sqrt(e):0}function R9e(e,t){var n=e*Ob(t),r=30,i;do t-=i=(t+Ob(t)-n)/(1+g6(t));while(O9e(i)>F9e&&--r>0);return t/2}function P9e(e,t,n){function r(i,o){return[e*i*g6(o=R9e(n,o)),t*Ob(o)]}return r.invert=function(i,o){return o=WN(o/t),[i/(e*g6(o)),WN((2*o+Ob(2*o))/n)]},r}var I9e=P9e(HN/m6,HN,RY);function D9e(){return Wo(I9e).scale(169.529)}const L9e=u5(),y6=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function z9e(e,t){return function n(){const r=t();return r.type=e,r.path=u5().projection(r),r.copy=r.copy||function(){const i=n();return y6.forEach(o=>{r[o]&&i[o](r[o]())}),i.path.pointRadius(r.path.pointRadius()),i},qW(r)}}function pA(e,t){if(!e||typeof e!="string")throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(Fb[e]=z9e(e,t),this):Fb[e]||null}function PY(e){return e&&e.path||L9e}const Fb={albers:m5,albersusa:tU,azimuthalequalarea:rU,azimuthalequidistant:iU,conicconformal:lU,conicequalarea:C0,conicequidistant:fU,equalEarth:dU,equirectangular:uU,gnomonic:hU,identity:pU,mercator:oU,mollweide:D9e,naturalEarth1:gU,orthographic:mU,stereographic:yU,transversemercator:vU};for(const e in Fb)pA(e,Fb[e]);function B9e(){}const sa=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function IY(){var e=1,t=1,n=a;function r(l,u){return u.map(c=>i(l,c))}function i(l,u){var c=[],f=[];return o(l,u,h=>{n(h,l,u),j9e(h)>0?c.push([h]):f.push(h)}),f.forEach(h=>{for(var p=0,g=c.length,m;p<g;++p)if(U9e((m=c[p])[0],h)!==-1){m.push(h);return}}),{type:"MultiPolygon",value:u,coordinates:c}}function o(l,u,c){var f=new Array,h=new Array,p,g,m,y,v,b;for(p=g=-1,y=l[0]>=u,sa[y<<1].forEach(x);++p<e-1;)m=y,y=l[p+1]>=u,sa[m|y<<1].forEach(x);for(sa[y<<0].forEach(x);++g<t-1;){for(p=-1,y=l[g*e+e]>=u,v=l[g*e]>=u,sa[y<<1|v<<2].forEach(x);++p<e-1;)m=y,y=l[g*e+e+p+1]>=u,b=v,v=l[g*e+p+1]>=u,sa[m|y<<1|v<<2|b<<3].forEach(x);sa[y|v<<3].forEach(x)}for(p=-1,v=l[g*e]>=u,sa[v<<2].forEach(x);++p<e-1;)b=v,v=l[g*e+p+1]>=u,sa[v<<2|b<<3].forEach(x);sa[v<<3].forEach(x);function x(w){var _=[w[0][0]+p,w[0][1]+g],$=[w[1][0]+p,w[1][1]+g],S=s(_),C=s($),T,M;(T=h[S])?(M=f[C])?(delete h[T.end],delete f[M.start],T===M?(T.ring.push($),c(T.ring)):f[T.start]=h[M.end]={start:T.start,end:M.end,ring:T.ring.concat(M.ring)}):(delete h[T.end],T.ring.push($),h[T.end=C]=T):(T=f[C])?(M=h[S])?(delete f[T.start],delete h[M.end],T===M?(T.ring.push($),c(T.ring)):f[M.start]=h[T.end]={start:M.start,end:T.end,ring:M.ring.concat(T.ring)}):(delete f[T.start],T.ring.unshift(_),f[T.start=S]=T):f[S]=h[C]={start:S,end:C,ring:[_,$]}}}function s(l){return l[0]*2+l[1]*(e+1)*4}function a(l,u,c){l.forEach(f=>{var h=f[0],p=f[1],g=h|0,m=p|0,y,v=u[m*e+g];h>0&&h<e&&g===h&&(y=u[m*e+g-1],f[0]=h+(c-y)/(v-y)-.5),p>0&&p<t&&m===p&&(y=u[(m-1)*e+g],f[1]=p+(c-y)/(v-y)-.5)})}return r.contour=i,r.size=function(l){if(!arguments.length)return[e,t];var u=Math.floor(l[0]),c=Math.floor(l[1]);return u>=0&&c>=0||ne("invalid size"),e=u,t=c,r},r.smooth=function(l){return arguments.length?(n=l?a:B9e,r):n===a},r}function j9e(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}function U9e(e,t){for(var n=-1,r=t.length,i;++n<r;)if(i=q9e(e,t[n]))return i;return 0}function q9e(e,t){for(var n=t[0],r=t[1],i=-1,o=0,s=e.length,a=s-1;o<s;a=o++){var l=e[o],u=l[0],c=l[1],f=e[a],h=f[0],p=f[1];if(V9e(l,f,t))return 0;c>r!=p>r&&n<(h-u)*(r-c)/(p-c)+u&&(i=-i)}return i}function V9e(e,t,n){var r;return H9e(e,t,n)&&W9e(e[r=+(e[0]===t[0])],n[r],t[r])}function H9e(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function W9e(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function DY(e,t,n){return function(r){var i=Is(r),o=n?Math.min(i[0],0):i[0],s=i[1],a=s-o,l=t?Na(o,s,e):a/(e+1);return Ar(o+l,s,l)}}function gA(e){Z.call(this,null,e)}gA.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]};ve(gA,Z,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=e.field||gr,o=IY().smooth(e.smooth!==!1),s=e.thresholds||G9e(r,i,e),a=e.as===null?null:e.as||"contour",l=[];return r.forEach(u=>{const c=i(u),f=o.size([c.width,c.height])(c.values,ie(s)?s:s(c.values));Y9e(f,c,u,e),f.forEach(h=>{l.push(kx(u,xt(a!=null?{[a]:h}:h)))})}),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function G9e(e,t,n){const r=DY(n.levels||10,n.nice,n.zero!==!1);return n.resolve!=="shared"?r:r(e.map(i=>Es(t(i).values)))}function Y9e(e,t,n,r){let i=r.scale||t.scale,o=r.translate||t.translate;if(Je(i)&&(i=i(n,r)),Je(o)&&(o=o(n,r)),(i===1||i==null)&&!o)return;const s=(St(i)?i:i[0])||1,a=(St(i)?i:i[1])||1,l=o&&o[0]||0,u=o&&o[1]||0;e.forEach(LY(t,s,a,l,u))}function LY(e,t,n,r,i){const o=e.x1||0,s=e.y1||0,a=t*n<0;function l(f){f.forEach(u)}function u(f){a&&f.reverse(),f.forEach(c)}function c(f){f[0]=(f[0]-o)*t+r,f[1]=(f[1]-s)*n+i}return function(f){return f.coordinates.forEach(l),f}}function GN(e,t,n){const r=e>=0?e:O$(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function A3(e){return Je(e)?e:mr(+e)}function zY(){var e=l=>l[0],t=l=>l[1],n=Hh,r=[-1,-1],i=960,o=500,s=2;function a(l,u){const c=GN(r[0],l,e)>>s,f=GN(r[1],l,t)>>s,h=c?c+2:0,p=f?f+2:0,g=2*h+(i>>s),m=2*p+(o>>s),y=new Float32Array(g*m),v=new Float32Array(g*m);let b=y;l.forEach(w=>{const _=h+(+e(w)>>s),$=p+(+t(w)>>s);_>=0&&_<g&&$>=0&&$<m&&(y[_+$*g]+=+n(w))}),c>0&&f>0?(Kf(g,m,y,v,c),Jf(g,m,v,y,f),Kf(g,m,y,v,c),Jf(g,m,v,y,f),Kf(g,m,y,v,c),Jf(g,m,v,y,f)):c>0?(Kf(g,m,y,v,c),Kf(g,m,v,y,c),Kf(g,m,y,v,c),b=v):f>0&&(Jf(g,m,y,v,f),Jf(g,m,v,y,f),Jf(g,m,y,v,f),b=v);const x=u?Math.pow(2,-2*s):1/k8(b);for(let w=0,_=g*m;w<_;++w)b[w]*=x;return{values:b,scale:1<<s,width:g,height:m,x1:h,y1:p,x2:h+(i>>s),y2:p+(o>>s)}}return a.x=function(l){return arguments.length?(e=A3(l),a):e},a.y=function(l){return arguments.length?(t=A3(l),a):t},a.weight=function(l){return arguments.length?(n=A3(l),a):n},a.size=function(l){if(!arguments.length)return[i,o];var u=+l[0],c=+l[1];return u>=0&&c>=0||ne("invalid size"),i=u,o=c,a},a.cellSize=function(l){return arguments.length?((l=+l)>=1||ne("invalid cell size"),s=Math.floor(Math.log(l)/Math.LN2),a):1<<s},a.bandwidth=function(l){return arguments.length?(l=$e(l),l.length===1&&(l=[+l[0],+l[0]]),l.length!==2&&ne("invalid bandwidth"),r=l,a):r},a}function Kf(e,t,n,r,i){const o=(i<<1)+1;for(let s=0;s<t;++s)for(let a=0,l=0;a<e+i;++a)a<e&&(l+=n[a+s*e]),a>=i&&(a>=o&&(l-=n[a-o+s*e]),r[a-i+s*e]=l/Math.min(a+1,e-1+o-a,o))}function Jf(e,t,n,r,i){const o=(i<<1)+1;for(let s=0;s<e;++s)for(let a=0,l=0;a<t+i;++a)a<t&&(l+=n[s+a*e]),a>=i&&(a>=o&&(l-=n[s+(a-o)*e]),r[s+(a-i)*e]=l/Math.min(a+1,t-1+o-a,o))}function mA(e){Z.call(this,null,e)}mA.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const X9e=["x","y","weight","size","cellSize","bandwidth"];function BY(e,t){return X9e.forEach(n=>t[n]!=null?e[n](t[n]):0),e}ve(mA,Z,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=K9e(r,e.groupby),o=(e.groupby||[]).map(tn),s=BY(zY(),e),a=e.as||"grid",l=[];function u(c,f){for(let h=0;h<o.length;++h)c[o[h]]=f[h];return c}return l=i.map(c=>xt(u({[a]:s(c,e.counts)},c.dims))),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function K9e(e,t){var n=[],r=c=>c(a),i,o,s,a,l,u;if(t==null)n.push(e);else for(i={},o=0,s=e.length;o<s;++o)a=e[o],l=t.map(r),u=i[l],u||(i[l]=u=[],u.dims=l,n.push(u)),u.push(a);return n}function yA(e){Z.call(this,null,e)}yA.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]};ve(yA,Z,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=IY().smooth(e.smooth!==!1),i=e.values,o=e.thresholds||DY(e.count||10,e.nice,!!i),s=e.size,a,l;return i||(i=t.materialize(t.SOURCE).source,a=BY(zY(),e)(i,!0),l=LY(a,a.scale||1,a.scale||1,0,0),s=[a.width,a.height],i=a.values),o=ie(o)?o:o(i),i=r.size(s)(i,o),l&&i.forEach(l),this.value&&(n.rem=this.value),this.value=n.source=n.add=(i||[]).map(xt),n}});const v6="Feature",vA="FeatureCollection",J9e="MultiPoint";function bA(e){Z.call(this,null,e)}bA.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};ve(bA,Z,{transform(e,t){var n=this._features,r=this._points,i=e.fields,o=i&&i[0],s=i&&i[1],a=e.geojson||!i&&gr,l=t.ADD,u;u=e.modified()||t.changed(t.REM)||t.modified(fr(a))||o&&t.modified(fr(o))||s&&t.modified(fr(s)),(!this.value||u)&&(l=t.SOURCE,this._features=n=[],this._points=r=[]),a&&t.visit(l,c=>n.push(a(c))),o&&s&&(t.visit(l,c=>{var f=o(c),h=s(c);f!=null&&h!=null&&(f=+f)===f&&(h=+h)===h&&r.push([f,h])}),n=n.concat({type:v6,geometry:{type:J9e,coordinates:r}})),this.value={type:vA,features:n}}});function xA(e){Z.call(this,null,e)}xA.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]};ve(xA,Z,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||gr,o=e.as||"path",s=n.SOURCE;!r||e.modified()?(this.value=r=PY(e.projection),n.materialize().reflow()):s=i===gr||t.modified(i.fields)?n.ADD_MOD:n.ADD;const a=Q9e(r,e.pointRadius);return n.visit(s,l=>l[o]=r(i(l))),r.pointRadius(a),n.modifies(o)}});function Q9e(e,t){const n=e.pointRadius();return e.context(null),t!=null&&e.pointRadius(t),n}function wA(e){Z.call(this,null,e)}wA.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};ve(wA,Z,{transform(e,t){var n=e.projection,r=e.fields[0],i=e.fields[1],o=e.as||["x","y"],s=o[0],a=o[1],l;function u(c){const f=n([r(c),i(c)]);f?(c[s]=f[0],c[a]=f[1]):(c[s]=void 0,c[a]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,u):(l=t.modified(r.fields)||t.modified(i.fields),t.visit(l?t.ADD_MOD:t.ADD,u)),t.modifies(o)}});function _A(e){Z.call(this,null,e)}_A.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]};ve(_A,Z,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.as||"shape",o=n.ADD;return(!r||e.modified())&&(this.value=r=Z9e(PY(e.projection),e.field||Zr("datum"),e.pointRadius),n.materialize().reflow(),o=n.SOURCE),n.visit(o,s=>s[i]=r),n.modifies(i)}});function Z9e(e,t,n){const r=n==null?i=>e(t(i)):i=>{var o=e.pointRadius(),s=e.pointRadius(n)(t(i));return e.pointRadius(o),s};return r.context=i=>(e.context(i),r),r}function EA(e){Z.call(this,[],e),this.generator=l5()}EA.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};ve(EA,Z,{transform(e,t){var n=this.value,r=this.generator,i;if(!n.length||e.modified())for(const o in e)Je(r[o])&&r[o](e[o]);return i=r(),n.length?t.mod.push(GH(n[0],i)):t.add.push(xt(i)),n[0]=i,t}});function SA(e){Z.call(this,null,e)}SA.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]};ve(SA,Z,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r=e.resolve==="shared",i=e.field||gr,o=t7e(e.opacity,e),s=e7e(e.color,e),a=e.as||"image",l={$x:0,$y:0,$value:0,$max:r?Es(n.map(u=>Es(i(u).values))):0};return n.forEach(u=>{const c=i(u),f=Ke({},u,l);r||(f.$max=Es(c.values||[])),u[a]=n7e(c,f,s.dep?s:mr(s(f)),o.dep?o:mr(o(f)))}),t.reflow(!0).modifies(a)}});function e7e(e,t){let n;return Je(e)?(n=r=>Ns(e(r,t)),n.dep=jY(e)):n=mr(Ns(e||"#888")),n}function t7e(e,t){let n;return Je(e)?(n=r=>e(r,t),n.dep=jY(e)):e?n=mr(e):(n=r=>r.$value/r.$max||0,n.dep=!0),n}function jY(e){if(!Je(e))return!1;const t=Io(fr(e));return t.$x||t.$y||t.$value||t.$max}function n7e(e,t,n,r){const i=e.width,o=e.height,s=e.x1||0,a=e.y1||0,l=e.x2||i,u=e.y2||o,c=e.values,f=c?y=>c[y]:yl,h=zl(l-s,u-a),p=h.getContext("2d"),g=p.getImageData(0,0,l-s,u-a),m=g.data;for(let y=a,v=0;y<u;++y){t.$y=y-a;for(let b=s,x=y*i;b<l;++b,v+=4){t.$x=b-s,t.$value=f(b+x);const w=n(t);m[v+0]=w.r,m[v+1]=w.g,m[v+2]=w.b,m[v+3]=~~(255*r(t))}}return p.putImageData(g,0,0),h}function UY(e){Z.call(this,null,e),this.modified(!0)}ve(UY,Z,{transform(e,t){let n=this.value;return!n||e.modified("type")?(this.value=n=i7e(e.type),y6.forEach(r=>{e[r]!=null&&YN(n,r,e[r])})):y6.forEach(r=>{e.modified(r)&&YN(n,r,e[r])}),e.pointRadius!=null&&n.path.pointRadius(e.pointRadius),e.fit&&r7e(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function r7e(e,t){const n=o7e(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}function i7e(e){const t=pA((e||"mercator").toLowerCase());return t||ne("Unrecognized projection type: "+e),t()}function YN(e,t,n){Je(e[t])&&e[t](n)}function o7e(e){return e=$e(e),e.length===1?e[0]:{type:vA,features:e.reduce((t,n)=>t.concat(s7e(n)),[])}}function s7e(e){return e.type===vA?e.features:$e(e).filter(t=>t!=null).map(t=>t.type===v6?t:{type:v6,geometry:t})}const a7e=Object.freeze(Object.defineProperty({__proto__:null,contour:yA,geojson:bA,geopath:xA,geopoint:wA,geoshape:_A,graticule:EA,heatmap:SA,isocontour:gA,kde2d:mA,projection:UY},Symbol.toStringTag,{value:"Module"})),XN={center:uj,collide:fj,nbody:pj,link:dj,x:gj,y:mj},pg="forces",b6=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],l7e=["static","iterations"],qY=["x","y","vx","vy"];function $A(e){Z.call(this,null,e)}$A.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30,expr:!0},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:qY}]};ve($A,Z,{transform(e,t){var n=this.value,r=t.changed(t.ADD_REM),i=e.modified(b6),o=e.iterations||300;if(n?(r&&(t.modifies("index"),n.nodes(t.source)),(i||t.changed(t.MOD))&&VY(n,e,0,t)):(this.value=n=c7e(t.source,e),n.on("tick",u7e(t.dataflow,this)),e.static||(r=!0,n.tick()),t.modifies("index")),i||r||e.modified(l7e)||t.changed()&&e.restart){if(n.alpha(Math.max(n.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/o)),e.static)for(n.stop();--o>=0;)n.tick();else if(n.stopped()&&n.restart(),!r)return t.StopPropagation}return this.finish(e,t)},finish(e,t){const n=t.dataflow;for(let a=this._argops,l=0,u=a.length,c;l<u;++l)if(c=a[l],!(c.name!==pg||c.op._argval.force!=="link")){for(var r=c.op._argops,i=0,o=r.length,s;i<o;++i)if(r[i].name==="links"&&(s=r[i].op.source)){n.pulse(s,n.changeset().reflow());break}}return t.reflow(e.modified()).modifies(qY)}});function u7e(e,t){return()=>e.touch(t).run()}function c7e(e,t){const n=hj(e),r=n.stop,i=n.restart;let o=!1;return n.stopped=()=>o,n.restart=()=>(o=!1,i()),n.stop=()=>(o=!0,r()),VY(n,t,!0).on("end",()=>o=!0)}function VY(e,t,n,r){var i=$e(t.forces),o,s,a,l;for(o=0,s=b6.length;o<s;++o)a=b6[o],a!==pg&&t.modified(a)&&e[a](t[a]);for(o=0,s=i.length;o<s;++o)l=pg+o,a=n||t.modified(pg,o)?d7e(i[o]):r&&f7e(i[o],r)?e.force(l):null,a&&e.force(l,a);for(s=e.numForces||0;o<s;++o)e.force(pg+o,null);return e.numForces=i.length,e}function f7e(e,t){var n,r;for(n in e)if(Je(r=e[n])&&t.modified(fr(r)))return 1;return 0}function d7e(e){var t,n;Le(XN,e.force)||ne("Unrecognized force: "+e.force),t=XN[e.force]();for(n in e)Je(t[n])&&h7e(t[n],e[n],e);return t}function h7e(e,t,n){e(Je(t)?r=>t(r,n):t)}const p7e=Object.freeze(Object.defineProperty({__proto__:null,force:$A},Symbol.toStringTag,{value:"Module"}));function x6(e,t,n){const r={};return e.each(i=>{const o=i.data;n(o)&&(r[t(o)]=i)}),e.lookup=r,e}function CA(e){Z.call(this,null,e)}CA.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const g7e=e=>e.values;ve(CA,Z,{transform(e,t){t.source||ne("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),i=t.clone(),o=this.value;return(!o||r||t.changed())&&(o&&o.each(s=>{s.children&&Ax(s.data)&&i.rem.push(s.data)}),this.value=o=tx({values:$e(e.keys).reduce((s,a)=>(s.key(a),s),m7e()).entries(i.source)},g7e),n&&o.each(s=>{s.children&&(s=xt(s.data),i.add.push(s),i.source.push(s))}),x6(o,De,De)),i.source.root=o,i}});function m7e(){const e=[],t={entries:i=>r(n(i,0),0),key:i=>(e.push(i),t)};function n(i,o){if(o>=e.length)return i;const s=i.length,a=e[o++],l={},u={};let c=-1,f,h,p;for(;++c<s;)f=a(h=i[c])+"",(p=l[f])?p.push(h):l[f]=[h];for(f in l)u[f]=n(l[f],o);return u}function r(i,o){if(++o>e.length)return i;const s=[];for(const a in i)s.push({key:a,values:r(i[a],o)});return s}return t}function qa(e){Z.call(this,null,e)}const y7e=(e,t)=>e.parent===t.parent?1:2;ve(qa,Z,{transform(e,t){(!t.source||!t.source.root)&&ne(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(e.method),r=this.fields,i=t.source.root,o=e.as||r;e.field?i.sum(e.field):i.count(),e.sort&&i.sort(yf(e.sort,s=>s.data)),v7e(n,this.params,e),n.separation&&n.separation(e.separation!==!1?y7e:Hh);try{this.value=n(i)}catch(s){ne(s)}return i.each(s=>b7e(s,r,o)),t.reflow(e.modified()).modifies(o).modifies("leaf")}});function v7e(e,t,n){for(let r,i=0,o=t.length;i<o;++i)r=t[i],r in n&&e[r](n[r])}function b7e(e,t,n){const r=e.data,i=t.length-1;for(let o=0;o<i;++o)r[n[o]]=e[t[o]];r[n[i]]=e.children?e.children.length:0}const w6=["x","y","r","depth","children"];function AA(e){qa.call(this,e)}AA.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:w6.length,default:w6}]};ve(AA,qa,{layout:CU,params:["radius","size","padding"],fields:w6});const _6=["x0","y0","x1","y1","depth","children"];function kA(e){qa.call(this,e)}kA.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:_6.length,default:_6}]};ve(kA,qa,{layout:kU,params:["size","round","padding"],fields:_6});function MA(e){Z.call(this,null,e)}MA.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};ve(MA,Z,{transform(e,t){t.source||ne("Stratify transform requires an upstream data source.");let n=this.value;const r=e.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),o=!n||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return i.source=i.source.slice(),o&&(n=i.source.length?x6(NS().id(e.key).parentId(e.parentKey)(i.source),e.key,Wi):x6(NS()([{}]),e.key,e.key)),i.source.root=this.value=n,i}});const KN={tidy:MU,cluster:bU},E6=["x","y","depth","children"];function TA(e){qa.call(this,e)}TA.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:E6.length,default:E6}]};ve(TA,qa,{layout(e){const t=e||"tidy";if(Le(KN,t))return KN[t]();ne("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:E6});function OA(e){Z.call(this,[],e)}OA.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};ve(OA,Z,{transform(e,t){const n=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),o={};return r||ne("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=n,t.visit(t.SOURCE,s=>o[De(s)]=1),r.each(s=>{const a=s.data,l=s.parent&&s.parent.data;l&&o[De(a)]&&o[De(l)]&&i.add.push(xt({source:l,target:a}))}),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,s=>o[De(s)]=1),n.forEach(s=>{(o[De(s.source)]||o[De(s.target)])&&i.mod.push(s)})),i}});const JN={binary:NU,dice:Vh,slice:Sm,slicedice:RU,squarify:C5,resquarify:PU},S6=["x0","y0","x1","y1","depth","children"];function FA(e){qa.call(this,e)}FA.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:S6.length,default:S6}]};ve(FA,qa,{layout(){const e=FU();return e.ratio=t=>{const n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{Le(JN,t)?e.tile(JN[t]):ne("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:S6});const x7e=Object.freeze(Object.defineProperty({__proto__:null,nest:CA,pack:AA,partition:kA,stratify:MA,tree:TA,treelinks:OA,treemap:FA},Symbol.toStringTag,{value:"Module"})),k3=4278190080;function w7e(e,t){const n=e.bitmap();return(t||[]).forEach(r=>n.set(e(r.boundary[0]),e(r.boundary[3]))),[n,void 0]}function _7e(e,t,n,r,i){const o=e.width,s=e.height,a=r||i,l=zl(o,s).getContext("2d"),u=zl(o,s).getContext("2d"),c=a&&zl(o,s).getContext("2d");n.forEach(C=>iv(l,C,!1)),iv(u,t,!1),a&&iv(c,t,!0);const f=M3(l,o,s),h=M3(u,o,s),p=a&&M3(c,o,s),g=e.bitmap(),m=a&&e.bitmap();let y,v,b,x,w,_,$,S;for(v=0;v<s;++v)for(y=0;y<o;++y)w=v*o+y,_=f[w]&k3,S=h[w]&k3,$=a&&p[w]&k3,(_||$||S)&&(b=e(y),x=e(v),!i&&(_||S)&&g.set(b,x),a&&(_||$)&&m.set(b,x));return[g,m]}function M3(e,t,n){return new Uint32Array(e.getImageData(0,0,t,n).data.buffer)}function iv(e,t,n){if(!t.length)return;const r=t[0].mark.marktype;r==="group"?t.forEach(i=>{i.items.forEach(o=>iv(e,o.items,n))}):ki[r].draw(e,{items:n?t.map(E7e):t})}function E7e(e){const t=kx(e,{});return t.stroke&&t.strokeOpacity!==0||t.fill&&t.fillOpacity!==0?{...t,strokeOpacity:1,stroke:"#000",fillOpacity:0}:t}const aa=5,br=31,L0=32,hl=new Uint32Array(L0+1),uo=new Uint32Array(L0+1);uo[0]=0;hl[0]=~uo[0];for(let e=1;e<=L0;++e)uo[e]=uo[e-1]<<1|1,hl[e]=~uo[e];function S7e(e,t){const n=new Uint32Array(~~((e*t+L0)/L0));function r(o,s){n[o]|=s}function i(o,s){n[o]&=s}return{array:n,get:(o,s)=>{const a=s*e+o;return n[a>>>aa]&1<<(a&br)},set:(o,s)=>{const a=s*e+o;r(a>>>aa,1<<(a&br))},clear:(o,s)=>{const a=s*e+o;i(a>>>aa,~(1<<(a&br)))},getRange:(o,s,a,l)=>{let u=l,c,f,h,p;for(;u>=s;--u)if(c=u*e+o,f=u*e+a,h=c>>>aa,p=f>>>aa,h===p){if(n[h]&hl[c&br]&uo[(f&br)+1])return!0}else{if(n[h]&hl[c&br]||n[p]&uo[(f&br)+1])return!0;for(let g=h+1;g<p;++g)if(n[g])return!0}return!1},setRange:(o,s,a,l)=>{let u,c,f,h,p;for(;s<=l;++s)if(u=s*e+o,c=s*e+a,f=u>>>aa,h=c>>>aa,f===h)r(f,hl[u&br]&uo[(c&br)+1]);else for(r(f,hl[u&br]),r(h,uo[(c&br)+1]),p=f+1;p<h;++p)r(p,4294967295)},clearRange:(o,s,a,l)=>{let u,c,f,h,p;for(;s<=l;++s)if(u=s*e+o,c=s*e+a,f=u>>>aa,h=c>>>aa,f===h)i(f,uo[u&br]|hl[(c&br)+1]);else for(i(f,uo[u&br]),i(h,hl[(c&br)+1]),p=f+1;p<h;++p)i(p,0)},outOfBounds:(o,s,a,l)=>o<0||s<0||l>=t||a>=e}}function $7e(e,t,n){const r=Math.max(1,Math.sqrt(e*t/1e6)),i=~~((e+2*n+r)/r),o=~~((t+2*n+r)/r),s=a=>~~((a+n)/r);return s.invert=a=>a*r-n,s.bitmap=()=>S7e(i,o),s.ratio=r,s.padding=n,s.width=e,s.height=t,s}function C7e(e,t,n,r){const i=e.width,o=e.height;return function(s){const a=s.datum.datum.items[r].items,l=a.length,u=s.datum.fontSize,c=Co.width(s.datum,s.datum.text);let f=0,h,p,g,m,y,v,b;for(let x=0;x<l;++x)h=a[x].x,g=a[x].y,p=a[x].x2===void 0?h:a[x].x2,m=a[x].y2===void 0?g:a[x].y2,y=(h+p)/2,v=(g+m)/2,b=Math.abs(p-h+m-g),b>=f&&(f=b,s.x=y,s.y=v);return y=c/2,v=u/2,h=s.x-y,p=s.x+y,g=s.y-v,m=s.y+v,s.align="center",h<0&&p<=i?s.align="left":0<=h&&i<p&&(s.align="right"),s.baseline="middle",g<0&&m<=o?s.baseline="top":0<=g&&o<m&&(s.baseline="bottom"),!0}}function Nb(e,t,n,r,i,o){let s=n/2;return e-s<0||e+s>i||t-(s=r/2)<0||t+s>o}function Tl(e,t,n,r,i,o,s,a){const l=i*o/(r*2),u=e(t-l),c=e(t+l),f=e(n-(o=o/2)),h=e(n+o);return s.outOfBounds(u,f,c,h)||s.getRange(u,f,c,h)||a&&a.getRange(u,f,c,h)}function A7e(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1];function l(u,c,f,h,p){const g=e.invert(u),m=e.invert(c);let y=f,v=o,b;if(!Nb(g,m,h,p,i,o)&&!Tl(e,g,m,p,h,y,s,a)&&!Tl(e,g,m,p,h,p,s,null)){for(;v-y>=1;)b=(y+v)/2,Tl(e,g,m,p,h,b,s,a)?v=b:y=b;if(y>f)return[g,m,y,!0]}}return function(u){const c=u.datum.datum.items[r].items,f=c.length,h=u.datum.fontSize,p=Co.width(u.datum,u.datum.text);let g=n?h:0,m=!1,y=!1,v=0,b,x,w,_,$,S,C,T,M,E,N,k,A,O,F,R,D;for(let z=0;z<f;++z){for(b=c[z].x,w=c[z].y,x=c[z].x2===void 0?b:c[z].x2,_=c[z].y2===void 0?w:c[z].y2,b>x&&(D=b,b=x,x=D),w>_&&(D=w,w=_,_=D),M=e(b),N=e(x),E=~~((M+N)/2),k=e(w),O=e(_),A=~~((k+O)/2),C=E;C>=M;--C)for(T=A;T>=k;--T)R=l(C,T,g,p,h),R&&([u.x,u.y,g,m]=R);for(C=E;C<=N;++C)for(T=A;T<=O;++T)R=l(C,T,g,p,h),R&&([u.x,u.y,g,m]=R);!m&&!n&&(F=Math.abs(x-b+_-w),$=(b+x)/2,S=(w+_)/2,F>=v&&!Nb($,S,p,h,i,o)&&!Tl(e,$,S,h,p,h,s,null)&&(v=F,u.x=$,u.y=S,y=!0))}return m||y?($=p/2,S=h/2,s.setRange(e(u.x-$),e(u.y-S),e(u.x+$),e(u.y+S)),u.align="center",u.baseline="middle",!0):!1}}const k7e=[-1,-1,1,1],M7e=[-1,1,-1,1];function T7e(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1],l=e.bitmap();return function(u){const c=u.datum.datum.items[r].items,f=c.length,h=u.datum.fontSize,p=Co.width(u.datum,u.datum.text),g=[];let m=n?h:0,y=!1,v=!1,b=0,x,w,_,$,S,C,T,M,E,N,k,A;for(let O=0;O<f;++O){for(x=c[O].x,_=c[O].y,w=c[O].x2===void 0?x:c[O].x2,$=c[O].y2===void 0?_:c[O].y2,g.push([e((x+w)/2),e((_+$)/2)]);g.length;)if([T,M]=g.pop(),!(s.get(T,M)||a.get(T,M)||l.get(T,M))){l.set(T,M);for(let F=0;F<4;++F)S=T+k7e[F],C=M+M7e[F],l.outOfBounds(S,C,S,C)||g.push([S,C]);if(S=e.invert(T),C=e.invert(M),E=m,N=o,!Nb(S,C,p,h,i,o)&&!Tl(e,S,C,h,p,E,s,a)&&!Tl(e,S,C,h,p,h,s,null)){for(;N-E>=1;)k=(E+N)/2,Tl(e,S,C,h,p,k,s,a)?N=k:E=k;E>m&&(u.x=S,u.y=C,m=E,y=!0)}}!y&&!n&&(A=Math.abs(w-x+$-_),S=(x+w)/2,C=(_+$)/2,A>=b&&!Nb(S,C,p,h,i,o)&&!Tl(e,S,C,h,p,h,s,null)&&(b=A,u.x=S,u.y=C,v=!0))}return y||v?(S=p/2,C=h/2,s.setRange(e(u.x-S),e(u.y-C),e(u.x+S),e(u.y+C)),u.align="center",u.baseline="middle",!0):!1}}const O7e=["right","center","left"],F7e=["bottom","middle","top"];function N7e(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1],l=r.length;return function(u){const c=u.boundary,f=u.datum.fontSize;if(c[2]<0||c[5]<0||c[0]>i||c[3]>o)return!1;let h=u.textWidth??0,p,g,m,y,v,b,x,w,_,$,S,C,T,M,E;for(let N=0;N<l;++N){if(p=(n[N]&3)-1,g=(n[N]>>>2&3)-1,m=p===0&&g===0||r[N]<0,y=p&&g?Math.SQRT1_2:1,v=r[N]<0?-1:1,b=c[1+p]+r[N]*p*y,S=c[4+g]+v*f*g/2+r[N]*g*y,w=S-f/2,_=S+f/2,C=e(b),M=e(w),E=e(_),!h)if(QN(C,C,M,E,s,a,b,b,w,_,c,m))h=Co.width(u.datum,u.datum.text);else continue;if($=b+v*h*p/2,b=$-h/2,x=$+h/2,C=e(b),T=e(x),QN(C,T,M,E,s,a,b,x,w,_,c,m))return u.x=p?p*v<0?x:b:$,u.y=g?g*v<0?_:w:S,u.align=O7e[p*v+1],u.baseline=F7e[g*v+1],s.setRange(C,M,T,E),!0}return!1}}function QN(e,t,n,r,i,o,s,a,l,u,c,f){return!(i.outOfBounds(e,n,t,r)||(f&&o||i).getRange(e,n,t,r))}const T3=0,O3=4,F3=8,N3=0,R3=1,P3=2,R7e={"top-left":T3+N3,top:T3+R3,"top-right":T3+P3,left:O3+N3,middle:O3+R3,right:O3+P3,"bottom-left":F3+N3,bottom:F3+R3,"bottom-right":F3+P3},P7e={naive:C7e,"reduced-search":A7e,floodfill:T7e};function I7e(e,t,n,r,i,o,s,a,l,u,c){if(!e.length)return e;const f=Math.max(r.length,i.length),h=D7e(r,f),p=L7e(i,f),g=z7e(e[0].datum),m=g==="group"&&e[0].datum.items[l].marktype,y=m==="area",v=B7e(g,m,a,l),b=u===null||u===1/0,x=y&&c==="naive";let w=-1,_=-1;const $=e.map(M=>{const E=b?Co.width(M,M.text):void 0;return w=Math.max(w,E),_=Math.max(_,M.fontSize),{datum:M,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:v(M),textWidth:E}});u=u===null||u===1/0?Math.max(w,_)+Math.max(...r):u;const S=$7e(t[0],t[1],u);let C;if(!x){n&&$.sort((N,k)=>n(N.datum,k.datum));let M=!1;for(let N=0;N<p.length&&!M;++N)M=p[N]===5||h[N]<0;const E=(g&&s||y)&&e.map(N=>N.datum);C=o.length||E?_7e(S,E||[],o,M,y):w7e(S,s&&$)}const T=y?P7e[c](S,C,s,l):N7e(S,C,p,h);return $.forEach(M=>M.opacity=+T(M)),$}function D7e(e,t){const n=new Float64Array(t),r=e.length;for(let i=0;i<r;++i)n[i]=e[i]||0;for(let i=r;i<t;++i)n[i]=n[r-1];return n}function L7e(e,t){const n=new Int8Array(t),r=e.length;for(let i=0;i<r;++i)n[i]|=R7e[e[i]];for(let i=r;i<t;++i)n[i]=n[r-1];return n}function z7e(e){return e&&e.mark&&e.mark.marktype}function B7e(e,t,n,r){const i=o=>[o.x,o.x,o.x,o.y,o.y,o.y];return e?e==="line"||e==="area"?o=>i(o.datum):t==="line"?o=>{const s=o.datum.items[r].items;return i(s.length?s[n==="start"?0:s.length-1]:{x:NaN,y:NaN})}:o=>{const s=o.datum.bounds;return[s.x1,(s.x1+s.x2)/2,s.x2,s.y1,(s.y1+s.y2)/2,s.y2]}:i}const $6=["x","y","opacity","align","baseline"],HY=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function NA(e){Z.call(this,null,e)}NA.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:HY},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:$6.length,default:$6}]};ve(NA,Z,{transform(e,t){function n(o){const s=e[o];return Je(s)&&t.modified(s.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||n("sort")))return;(!e.size||e.size.length!==2)&&ne("Size parameter should be specified as a [width, height] array.");const i=e.as||$6;return I7e(t.materialize(t.SOURCE).source||[],e.size,e.sort,$e(e.offset==null?1:e.offset),$e(e.anchor||HY),e.avoidMarks||[],e.avoidBaseMark!==!1,e.lineAnchor||"end",e.markIndex||0,e.padding===void 0?0:e.padding,e.method||"naive").forEach(o=>{const s=o.datum;s[i[0]]=o.x,s[i[1]]=o.y,s[i[2]]=o.opacity,s[i[3]]=o.align,s[i[4]]=o.baseline}),t.reflow(r).modifies(i)}});const j7e=Object.freeze(Object.defineProperty({__proto__:null,label:NA},Symbol.toStringTag,{value:"Module"}));function WY(e,t){var n=[],r=function(c){return c(a)},i,o,s,a,l,u;if(t==null)n.push(e);else for(i={},o=0,s=e.length;o<s;++o)a=e[o],l=t.map(r),u=i[l],u||(i[l]=u=[],u.dims=l,n.push(u)),u.push(a);return n}function RA(e){Z.call(this,null,e)}RA.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]};ve(RA,Z,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=WY(r,e.groupby),o=(e.groupby||[]).map(tn),s=o.length,a=e.as||[tn(e.x),tn(e.y)],l=[];i.forEach(u=>{fW(u,e.x,e.y,e.bandwidth||.3).forEach(c=>{const f={};for(let h=0;h<s;++h)f[o[h]]=u.dims[h];f[a[0]]=c[0],f[a[1]]=c[1],l.push(xt(f))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});const C6={constant:q$,linear:V$,log:aW,exp:lW,pow:uW,quad:H$,poly:cW},U7e=(e,t)=>e==="poly"?t:e==="quad"?2:1;function PA(e){Z.call(this,null,e)}PA.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(C6)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]};ve(PA,Z,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=WY(r,e.groupby),o=(e.groupby||[]).map(tn),s=e.method||"linear",a=e.order==null?3:e.order,l=U7e(s,a),u=e.as||[tn(e.x),tn(e.y)],c=C6[s],f=[];let h=e.extent;Le(C6,s)||ne("Invalid regression method: "+s),h!=null&&s==="log"&&h[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),h=null),i.forEach(p=>{if(p.length<=l){t.dataflow.warn("Skipping regression with more parameters than data points.");return}const m=c(p,e.x,e.y,a);if(e.params){f.push(xt({keys:p.dims,coef:m.coef,rSquared:m.rSquared}));return}const y=h||Is(p,e.x),v=b=>{const x={};for(let w=0;w<o.length;++w)x[o[w]]=p.dims[w];x[u[0]]=b[0],x[u[1]]=b[1],f.push(xt(x))};s==="linear"||s==="constant"?y.forEach(b=>v([b,m.predict(b)])):Px(m.predict,y,25,200).forEach(v)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=f}return n}});const q7e=Object.freeze(Object.defineProperty({__proto__:null,loess:RA,regression:PA},Symbol.toStringTag,{value:"Module"}));function IA(e){Z.call(this,null,e)}IA.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const V7e=[-1e5,-1e5,1e5,1e5];ve(IA,Z,{transform(e,t){const n=e.as||"path",r=t.source;if(!r||!r.length)return t;let i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:V7e;const o=this.value=Y2.from(r,e.x,e.y).voronoi(i);for(let s=0,a=r.length;s<a;++s){const l=o.cellPolygon(s);r[s][n]=l?H7e(l):null}return t.reflow(e.modified()).modifies(n)}});function H7e(e){const t=e[0][0],n=e[0][1];let r=e.length-1;for(;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}const W7e=Object.freeze(Object.defineProperty({__proto__:null,voronoi:IA},Symbol.toStringTag,{value:"Module"}));var I3=Math.PI/180,gg=64,ov=2048;function G7e(){var e=[256,256],t,n,r,i,o,s,a,l=GY,u=[],c=Math.random,f={};f.layout=function(){for(var g=h(zl()),m=Z7e((e[0]>>5)*e[1]),y=null,v=u.length,b=-1,x=[],w=u.map($=>({text:t($),font:n($),style:i($),weight:o($),rotate:s($),size:~~(r($)+1e-14),padding:a($),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:$})).sort(($,S)=>S.size-$.size);++b<v;){var _=w[b];_.x=e[0]*(c()+.5)>>1,_.y=e[1]*(c()+.5)>>1,Y7e(g,_,w,b),_.hasText&&p(m,_,y)&&(x.push(_),y?K7e(y,_):y=[{x:_.x+_.x0,y:_.y+_.y0},{x:_.x+_.x1,y:_.y+_.y1}],_.x-=e[0]>>1,_.y-=e[1]>>1)}return x};function h(g){g.width=g.height=1;var m=Math.sqrt(g.getContext("2d").getImageData(0,0,1,1).data.length>>2);g.width=(gg<<5)/m,g.height=ov/m;var y=g.getContext("2d");return y.fillStyle=y.strokeStyle="red",y.textAlign="center",{context:y,ratio:m}}function p(g,m,y){for(var v=m.x,b=m.y,x=Math.sqrt(e[0]*e[0]+e[1]*e[1]),w=l(e),_=c()<.5?1:-1,$=-_,S,C,T;(S=w($+=_))&&(C=~~S[0],T=~~S[1],!(Math.min(Math.abs(C),Math.abs(T))>=x));)if(m.x=v+C,m.y=b+T,!(m.x+m.x0<0||m.y+m.y0<0||m.x+m.x1>e[0]||m.y+m.y1>e[1])&&(!y||!X7e(m,g,e[0]))&&(!y||J7e(m,y))){for(var M=m.sprite,E=m.width>>5,N=e[0]>>5,k=m.x-(E<<4),A=k&127,O=32-A,F=m.y1-m.y0,R=(m.y+m.y0)*N+(k>>5),D,z=0;z<F;z++){D=0;for(var U=0;U<=E;U++)g[R+U]|=D<<O|(U<E?(D=M[z*E+U])>>>A:0);R+=N}return m.sprite=null,!0}return!1}return f.words=function(g){return arguments.length?(u=g,f):u},f.size=function(g){return arguments.length?(e=[+g[0],+g[1]],f):e},f.font=function(g){return arguments.length?(n=Iu(g),f):n},f.fontStyle=function(g){return arguments.length?(i=Iu(g),f):i},f.fontWeight=function(g){return arguments.length?(o=Iu(g),f):o},f.rotate=function(g){return arguments.length?(s=Iu(g),f):s},f.text=function(g){return arguments.length?(t=Iu(g),f):t},f.spiral=function(g){return arguments.length?(l=eOe[g]||g,f):l},f.fontSize=function(g){return arguments.length?(r=Iu(g),f):r},f.padding=function(g){return arguments.length?(a=Iu(g),f):a},f.random=function(g){return arguments.length?(c=g,f):c},f}function Y7e(e,t,n,r){if(!t.sprite){var i=e.context,o=e.ratio;i.clearRect(0,0,(gg<<5)/o,ov/o);var s=0,a=0,l=0,u=n.length,c,f,h,p,g;for(--r;++r<u;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/o)+"px "+t.font,c=i.measureText(t.text+"m").width*o,h=t.size<<1,t.rotate){var m=Math.sin(t.rotate*I3),y=Math.cos(t.rotate*I3),v=c*y,b=c*m,x=h*y,w=h*m;c=Math.max(Math.abs(v+w),Math.abs(v-w))+31>>5<<5,h=~~Math.max(Math.abs(b+x),Math.abs(b-x))}else c=c+31>>5<<5;if(h>l&&(l=h),s+c>=gg<<5&&(s=0,a+=l,l=0),a+h>=ov)break;i.translate((s+(c>>1))/o,(a+(h>>1))/o),t.rotate&&i.rotate(t.rotate*I3),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=c,t.height=h,t.xoff=s,t.yoff=a,t.x1=c>>1,t.y1=h>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,s+=c}for(var _=i.getImageData(0,0,(gg<<5)/o,ov/o).data,$=[];--r>=0;)if(t=n[r],!!t.hasText){for(c=t.width,f=c>>5,h=t.y1-t.y0,p=0;p<h*f;p++)$[p]=0;if(s=t.xoff,s==null)return;a=t.yoff;var S=0,C=-1;for(g=0;g<h;g++){for(p=0;p<c;p++){var T=f*g+(p>>5),M=_[(a+g)*(gg<<5)+(s+p)<<2]?1<<31-p%32:0;$[T]|=M,S|=M}S?C=g:(t.y0++,h--,g--,a++)}t.y1=t.y0+C,t.sprite=$.slice(0,(t.y1-t.y0)*f)}}}function X7e(e,t,n){n>>=5;for(var r=e.sprite,i=e.width>>5,o=e.x-(i<<4),s=o&127,a=32-s,l=e.y1-e.y0,u=(e.y+e.y0)*n+(o>>5),c,f=0;f<l;f++){c=0;for(var h=0;h<=i;h++)if((c<<a|(h<i?(c=r[f*i+h])>>>s:0))&t[u+h])return!0;u+=n}return!1}function K7e(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function J7e(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function GY(e){var t=e[0]/e[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function Q7e(e){var t=4,n=t*e[0]/e[1],r=0,i=0;return function(o){var s=o<0?-1:1;switch(Math.sqrt(1+4*s*o)-s&3){case 0:r+=n;break;case 1:i+=t;break;case 2:r-=n;break;default:i-=t;break}return[r,i]}}function Z7e(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}function Iu(e){return typeof e=="function"?e:function(){return e}}var eOe={archimedean:GY,rectangular:Q7e};const YY=["x","y","font","fontSize","fontStyle","fontWeight","angle"],tOe=["text","font","rotate","fontSize","fontStyle","fontWeight"];function DA(e){Z.call(this,G7e(),e)}DA.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:YY}]};ve(DA,Z,{transform(e,t){e.size&&!(e.size[0]&&e.size[1])&&ne("Wordcloud size dimensions must be non-zero.");function n(g){const m=e[g];return Je(m)&&t.modified(m.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||tOe.some(n)))return;const i=t.materialize(t.SOURCE).source,o=this.value,s=e.as||YY;let a=e.fontSize||14,l;if(Je(a)?l=e.fontSizeRange:a=mr(a),l){const g=a,m=vt("sqrt")().domain(Is(i,g)).range(l);a=y=>m(g(y))}i.forEach(g=>{g[s[0]]=NaN,g[s[1]]=NaN,g[s[3]]=0});const u=o.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(a).random(Yi).layout(),c=o.size(),f=c[0]>>1,h=c[1]>>1,p=u.length;for(let g=0,m,y;g<p;++g)m=u[g],y=m.datum,y[s[0]]=m.x+f,y[s[1]]=m.y+h,y[s[2]]=m.font,y[s[3]]=m.size,y[s[4]]=m.style,y[s[5]]=m.weight,y[s[6]]=m.rotate;return t.reflow(r).modifies(s)}});const nOe=Object.freeze(Object.defineProperty({__proto__:null,wordcloud:DA},Symbol.toStringTag,{value:"Module"})),rOe=e=>new Uint8Array(e),iOe=e=>new Uint16Array(e),Bg=e=>new Uint32Array(e);function oOe(){let e=8,t=[],n=Bg(0),r=cy(0,e),i=cy(0,e);return{data:()=>t,seen:()=>n=sOe(n,t.length),add(o){for(let s=0,a=t.length,l=o.length,u;s<l;++s)u=o[s],u._index=a++,t.push(u)},remove(o,s){const a=t.length,l=Array(a-o),u=t;let c,f,h;for(f=0;!s[f]&&f<a;++f)l[f]=t[f],u[f]=f;for(h=f;f<a;++f)c=t[f],s[f]?u[f]=-1:(u[f]=h,r[h]=r[f],i[h]=i[f],l[h]=c,c._index=h++),r[f]=0;return t=l,u},size:()=>t.length,curr:()=>r,prev:()=>i,reset:o=>i[o]=r[o],all:()=>e<257?255:e<65537?65535:4294967295,set(o,s){r[o]|=s},clear(o,s){r[o]&=~s},resize(o,s){const a=r.length;(o>a||s>e)&&(e=Math.max(s,e),r=cy(o,e,r),i=cy(o,e))}}}function sOe(e,t,n){return e.length>=t?e:(n=n||new e.constructor(t),n.set(e),n)}function cy(e,t,n){const r=(t<257?rOe:t<65537?iOe:Bg)(e);return n&&r.set(n),r}function ZN(e,t,n){const r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(i,o){const s=this,a=s.bisect(s.range,i.value),l=i.index,u=a[0],c=a[1],f=l.length;let h;for(h=0;h<u;++h)o[l[h]]|=r;for(h=c;h<f;++h)o[l[h]]|=r;return s}}}function eR(){let e=Bg(0),t=[],n=0;function r(a,l,u){if(!l.length)return[];const c=n,f=l.length,h=Bg(f);let p=Array(f),g,m,y;for(y=0;y<f;++y)p[y]=a(l[y]),h[y]=y;if(p=aOe(p,h),c)g=t,m=e,t=Array(c+f),e=Bg(c+f),lOe(u,g,m,c,p,h,f,t,e);else{if(u>0)for(y=0;y<f;++y)h[y]+=u;t=p,e=h}return n=c+f,{index:h,value:p}}function i(a,l){const u=n;let c,f,h;for(f=0;!l[e[f]]&&f<u;++f);for(h=f;f<u;++f)l[c=e[f]]||(e[h]=c,t[h]=t[f],++h);n=u-a}function o(a){for(let l=0,u=n;l<u;++l)e[l]=a[e[l]]}function s(a,l){let u;return l?u=l.length:(l=t,u=n),[Rz(l,a[0],0,u),c0(l,a[1],0,u)]}return{insert:r,remove:i,bisect:s,reindex:o,index:()=>e,size:()=>n}}function aOe(e,t){return e.sort.call(t,(n,r)=>{const i=e[n],o=e[r];return i<o?-1:i>o?1:0}),b8(e,t)}function lOe(e,t,n,r,i,o,s,a,l){let u=0,c=0,f;for(f=0;u<r&&c<s;++f)t[u]<i[c]?(a[f]=t[u],l[f]=n[u++]):(a[f]=i[c],l[f]=o[c++]+e);for(;u<r;++u,++f)a[f]=t[u],l[f]=n[u];for(;c<s;++c,++f)a[f]=i[c],l[f]=o[c]+e}function LA(e){Z.call(this,oOe(),e),this._indices=null,this._dims=null}LA.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};ve(LA,Z,{transform(e,t){if(this._dims){var n=e.modified("fields")||e.fields.some(r=>t.modified(r.fields));return n?this.reinit(e,t):this.eval(e,t)}else return this.init(e,t)},init(e,t){const n=e.fields,r=e.query,i=this._indices={},o=this._dims=[],s=r.length;let a=0,l,u;for(;a<s;++a)l=n[a].fname,u=i[l]||(i[l]=eR()),o.push(ZN(u,a,r[a]));return this.eval(e,t)},reinit(e,t){const n=t.materialize().fork(),r=e.fields,i=e.query,o=this._indices,s=this._dims,a=this.value,l=a.curr(),u=a.prev(),c=a.all(),f=n.rem=n.add,h=n.mod,p=i.length,g={};let m,y,v,b,x,w,_,$,S;if(u.set(l),t.rem.length&&(x=this.remove(e,t,n)),t.add.length&&a.add(t.add),t.mod.length)for(w={},b=t.mod,_=0,$=b.length;_<$;++_)w[b[_]._index]=1;for(_=0;_<p;++_)S=r[_],(!s[_]||e.modified("fields",_)||t.modified(S.fields))&&(v=S.fname,(m=g[v])||(o[v]=y=eR(),g[v]=m=y.insert(S,t.source,0)),s[_]=ZN(y,_,i[_]).onAdd(m,l));for(_=0,$=a.data().length;_<$;++_)x[_]||(u[_]!==l[_]?f.push(_):w[_]&&l[_]!==c&&h.push(_));return a.mask=(1<<p)-1,n},eval(e,t){const n=t.materialize().fork(),r=this._dims.length;let i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},insert(e,t,n){const r=t.add,i=this.value,o=this._dims,s=this._indices,a=e.fields,l={},u=n.add,c=i.size()+r.length,f=o.length;let h=i.size(),p,g,m;i.resize(c,f),i.add(r);const y=i.curr(),v=i.prev(),b=i.all();for(p=0;p<f;++p)g=a[p].fname,m=l[g]||(l[g]=s[g].insert(a[p],r,h)),o[p].onAdd(m,y);for(;h<c;++h)v[h]=b,y[h]!==b&&u.push(h)},modify(e,t){const n=t.mod,r=this.value,i=r.curr(),o=r.all(),s=e.mod;let a,l,u;for(a=0,l=s.length;a<l;++a)u=s[a]._index,i[u]!==o&&n.push(u)},remove(e,t,n){const r=this._indices,i=this.value,o=i.curr(),s=i.prev(),a=i.all(),l={},u=n.rem,c=t.rem;let f,h,p,g;for(f=0,h=c.length;f<h;++f)p=c[f]._index,l[p]=1,s[p]=g=o[p],o[p]=a,g!==a&&u.push(p);for(p in r)r[p].remove(h,l);return this.reindex(t,h,l),l},reindex(e,t,n){const r=this._indices,i=this.value;e.runAfter(()=>{const o=i.remove(t,n);for(const s in r)r[s].reindex(o)})},update(e,t,n){const r=this._dims,i=e.query,o=t.stamp,s=r.length;let a=0,l,u;for(n.filters=0,u=0;u<s;++u)e.modified("query",u)&&(l=u,++a);if(a===1)a=r[l].one,this.incrementOne(r[l],i[l],n.add,n.rem);else for(u=0,a=0;u<s;++u)e.modified("query",u)&&(a|=r[u].one,this.incrementAll(r[u],i[u],o,n.add),n.rem=n.add);return a},incrementAll(e,t,n,r){const i=this.value,o=i.seen(),s=i.curr(),a=i.prev(),l=e.index(),u=e.bisect(e.range),c=e.bisect(t),f=c[0],h=c[1],p=u[0],g=u[1],m=e.one;let y,v,b;if(f<p)for(y=f,v=Math.min(p,h);y<v;++y)b=l[y],o[b]!==n&&(a[b]=s[b],o[b]=n,r.push(b)),s[b]^=m;else if(f>p)for(y=p,v=Math.min(f,g);y<v;++y)b=l[y],o[b]!==n&&(a[b]=s[b],o[b]=n,r.push(b)),s[b]^=m;if(h>g)for(y=Math.max(f,g),v=h;y<v;++y)b=l[y],o[b]!==n&&(a[b]=s[b],o[b]=n,r.push(b)),s[b]^=m;else if(h<g)for(y=Math.max(p,h),v=g;y<v;++y)b=l[y],o[b]!==n&&(a[b]=s[b],o[b]=n,r.push(b)),s[b]^=m;e.range=t.slice()},incrementOne(e,t,n,r){const i=this.value,o=i.curr(),s=e.index(),a=e.bisect(e.range),l=e.bisect(t),u=l[0],c=l[1],f=a[0],h=a[1],p=e.one;let g,m,y;if(u<f)for(g=u,m=Math.min(f,c);g<m;++g)y=s[g],o[y]^=p,n.push(y);else if(u>f)for(g=f,m=Math.min(u,h);g<m;++g)y=s[g],o[y]^=p,r.push(y);if(c>h)for(g=Math.max(u,h),m=c;g<m;++g)y=s[g],o[y]^=p,n.push(y);else if(c<h)for(g=Math.max(f,c),m=h;g<m;++g)y=s[g],o[y]^=p,r.push(y);e.range=t.slice()}});function zA(e){Z.call(this,null,e)}zA.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};ve(zA,Z,{transform(e,t){const n=~(e.ignore||0),r=e.filter,i=r.mask;if(!(i&n))return t.StopPropagation;const o=t.fork(t.ALL),s=r.data(),a=r.curr(),l=r.prev(),u=c=>a[c]&n?null:s[c];return o.filter(o.MOD,u),i&i-1?(o.filter(o.ADD,c=>{const f=a[c]&n;return!f&&f^l[c]&n?s[c]:null}),o.filter(o.REM,c=>{const f=a[c]&n;return f&&!(f^(f^l[c]&n))?s[c]:null})):(o.filter(o.ADD,u),o.filter(o.REM,c=>(a[c]&n)===i?s[c]:null)),o.filter(o.SOURCE,c=>u(c._index))}});const uOe=Object.freeze(Object.defineProperty({__proto__:null,crossfilter:LA,resolvefilter:zA},Symbol.toStringTag,{value:"Module"})),cOe="RawCode",qc="Literal",fOe="Property",dOe="Identifier",hOe="ArrayExpression",pOe="BinaryExpression",XY="CallExpression",gOe="ConditionalExpression",mOe="LogicalExpression",yOe="MemberExpression",vOe="ObjectExpression",bOe="UnaryExpression";function Go(e){this.type=e}Go.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=xOe(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function xOe(e){switch(e.type){case hOe:return e.elements;case pOe:case mOe:return[e.left,e.right];case XY:return[e.callee].concat(e.arguments);case gOe:return[e.test,e.consequent,e.alternate];case yOe:return[e.object,e.property];case vOe:return e.properties;case fOe:return[e.key,e.value];case bOe:return[e.argument];case dOe:case qc:case cOe:default:return[]}}var Gs,Oe,te,hr,Et,Zx=1,Jm=2,Vc=3,xu=4,ew=5,xf=6,Br=7,Qm=8,wOe=9;Gs={};Gs[Zx]="Boolean";Gs[Jm]="<end>";Gs[Vc]="Identifier";Gs[xu]="Keyword";Gs[ew]="Null";Gs[xf]="Numeric";Gs[Br]="Punctuator";Gs[Qm]="String";Gs[wOe]="RegularExpression";var _Oe="ArrayExpression",EOe="BinaryExpression",SOe="CallExpression",$Oe="ConditionalExpression",KY="Identifier",COe="Literal",AOe="LogicalExpression",kOe="MemberExpression",MOe="ObjectExpression",TOe="Property",OOe="UnaryExpression",Mn="Unexpected token %0",FOe="Unexpected number",NOe="Unexpected string",ROe="Unexpected identifier",POe="Unexpected reserved word",IOe="Unexpected end of input",A6="Invalid regular expression",D3="Invalid regular expression: missing /",JY="Octal literals are not allowed in strict mode.",DOe="Duplicate data property in object literal not allowed in strict mode",jn="ILLEGAL",z0="Disabled.",LOe=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),zOe=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function tw(e,t){if(!e)throw new Error("ASSERT: "+t)}function ma(e){return e>=48&&e<=57}function BA(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function jg(e){return"01234567".indexOf(e)>=0}function BOe(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function B0(e){return e===10||e===13||e===8232||e===8233}function Zm(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&LOe.test(String.fromCharCode(e))}function Rb(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&zOe.test(String.fromCharCode(e))}const jOe={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function QY(){for(;te<hr;){const e=Oe.charCodeAt(te);if(BOe(e)||B0(e))++te;else break}}function k6(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)te<hr&&BA(Oe[te])?(r=Oe[te++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):pt({},Mn,jn);return String.fromCharCode(i)}function UOe(){var e,t,n,r;for(e=Oe[te],t=0,e==="}"&&pt({},Mn,jn);te<hr&&(e=Oe[te++],!!BA(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&pt({},Mn,jn),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function ZY(){var e,t;for(e=Oe.charCodeAt(te++),t=String.fromCharCode(e),e===92&&(Oe.charCodeAt(te)!==117&&pt({},Mn,jn),++te,e=k6("u"),(!e||e==="\\"||!Zm(e.charCodeAt(0)))&&pt({},Mn,jn),t=e);te<hr&&(e=Oe.charCodeAt(te),!!Rb(e));)++te,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),Oe.charCodeAt(te)!==117&&pt({},Mn,jn),++te,e=k6("u"),(!e||e==="\\"||!Rb(e.charCodeAt(0)))&&pt({},Mn,jn),t+=e);return t}function qOe(){var e,t;for(e=te++;te<hr;){if(t=Oe.charCodeAt(te),t===92)return te=e,ZY();if(Rb(t))++te;else break}return Oe.slice(e,te)}function VOe(){var e,t,n;return e=te,t=Oe.charCodeAt(te)===92?ZY():qOe(),t.length===1?n=Vc:jOe.hasOwnProperty(t)?n=xu:t==="null"?n=ew:t==="true"||t==="false"?n=Zx:n=Vc,{type:n,value:t,start:e,end:te}}function L3(){var e=te,t=Oe.charCodeAt(te),n,r=Oe[te],i,o,s;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++te,{type:Br,value:String.fromCharCode(t),start:e,end:te};default:if(n=Oe.charCodeAt(te+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return te+=2,{type:Br,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:te};case 33:case 61:return te+=2,Oe.charCodeAt(te)===61&&++te,{type:Br,value:Oe.slice(e,te),start:e,end:te}}}if(s=Oe.substr(te,4),s===">>>=")return te+=4,{type:Br,value:s,start:e,end:te};if(o=s.substr(0,3),o===">>>"||o==="<<="||o===">>=")return te+=3,{type:Br,value:o,start:e,end:te};if(i=o.substr(0,2),r===i[1]&&"+-<>&|".indexOf(r)>=0||i==="=>")return te+=2,{type:Br,value:i,start:e,end:te};if(i==="//"&&pt({},Mn,jn),"<>=!+-*%&|^/".indexOf(r)>=0)return++te,{type:Br,value:r,start:e,end:te};pt({},Mn,jn)}function HOe(e){let t="";for(;te<hr&&BA(Oe[te]);)t+=Oe[te++];return t.length===0&&pt({},Mn,jn),Zm(Oe.charCodeAt(te))&&pt({},Mn,jn),{type:xf,value:parseInt("0x"+t,16),start:e,end:te}}function WOe(e){let t="0"+Oe[te++];for(;te<hr&&jg(Oe[te]);)t+=Oe[te++];return(Zm(Oe.charCodeAt(te))||ma(Oe.charCodeAt(te)))&&pt({},Mn,jn),{type:xf,value:parseInt(t,8),octal:!0,start:e,end:te}}function tR(){var e,t,n;if(n=Oe[te],tw(ma(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=te,e="",n!=="."){if(e=Oe[te++],n=Oe[te],e==="0"){if(n==="x"||n==="X")return++te,HOe(t);if(jg(n))return WOe(t);n&&ma(n.charCodeAt(0))&&pt({},Mn,jn)}for(;ma(Oe.charCodeAt(te));)e+=Oe[te++];n=Oe[te]}if(n==="."){for(e+=Oe[te++];ma(Oe.charCodeAt(te));)e+=Oe[te++];n=Oe[te]}if(n==="e"||n==="E")if(e+=Oe[te++],n=Oe[te],(n==="+"||n==="-")&&(e+=Oe[te++]),ma(Oe.charCodeAt(te)))for(;ma(Oe.charCodeAt(te));)e+=Oe[te++];else pt({},Mn,jn);return Zm(Oe.charCodeAt(te))&&pt({},Mn,jn),{type:xf,value:parseFloat(e),start:t,end:te}}function GOe(){var e="",t,n,r,i,o=!1;for(t=Oe[te],tw(t==="'"||t==='"',"String literal must starts with a quote"),n=te,++te;te<hr;)if(r=Oe[te++],r===t){t="";break}else if(r==="\\")if(r=Oe[te++],!r||!B0(r.charCodeAt(0)))switch(r){case"u":case"x":Oe[te]==="{"?(++te,e+=UOe()):e+=k6(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:jg(r)?(i="01234567".indexOf(r),i!==0&&(o=!0),te<hr&&jg(Oe[te])&&(o=!0,i=i*8+"01234567".indexOf(Oe[te++]),"0123".indexOf(r)>=0&&te<hr&&jg(Oe[te])&&(i=i*8+"01234567".indexOf(Oe[te++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&Oe[te]===`
`&&++te;else{if(B0(r.charCodeAt(0)))break;e+=r}return t!==""&&pt({},Mn,jn),{type:Qm,value:e,octal:o,start:n,end:te}}function YOe(e,t){let n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";pt({},A6)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{pt({},A6)}try{return new RegExp(e,t)}catch{return null}}function XOe(){var e,t,n,r,i;for(e=Oe[te],tw(e==="/","Regular expression literal must start with a slash"),t=Oe[te++],n=!1,r=!1;te<hr;)if(e=Oe[te++],t+=e,e==="\\")e=Oe[te++],B0(e.charCodeAt(0))&&pt({},D3),t+=e;else if(B0(e.charCodeAt(0)))pt({},D3);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||pt({},D3),i=t.substr(1,t.length-2),{value:i,literal:t}}function KOe(){var e,t,n;for(t="",n="";te<hr&&(e=Oe[te],!!Rb(e.charCodeAt(0)));)++te,e==="\\"&&te<hr?pt({},Mn,jn):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&pt({},A6,n),{value:n,literal:t}}function JOe(){var e,t,n,r;return Et=null,QY(),e=te,t=XOe(),n=KOe(),r=YOe(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:te}}function QOe(e){return e.type===Vc||e.type===xu||e.type===Zx||e.type===ew}function eX(){if(QY(),te>=hr)return{type:Jm,start:te,end:te};const e=Oe.charCodeAt(te);return Zm(e)?VOe():e===40||e===41||e===59?L3():e===39||e===34?GOe():e===46?ma(Oe.charCodeAt(te+1))?tR():L3():ma(e)?tR():L3()}function Vr(){const e=Et;return te=e.end,Et=eX(),te=e.end,e}function tX(){const e=te;Et=eX(),te=e}function ZOe(e){const t=new Go(_Oe);return t.elements=e,t}function nR(e,t,n){const r=new Go(e==="||"||e==="&&"?AOe:EOe);return r.operator=e,r.left=t,r.right=n,r}function eFe(e,t){const n=new Go(SOe);return n.callee=e,n.arguments=t,n}function tFe(e,t,n){const r=new Go($Oe);return r.test=e,r.consequent=t,r.alternate=n,r}function jA(e){const t=new Go(KY);return t.name=e,t}function mg(e){const t=new Go(COe);return t.value=e.value,t.raw=Oe.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function rR(e,t,n){const r=new Go(kOe);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function nFe(e){const t=new Go(MOe);return t.properties=e,t}function iR(e,t,n){const r=new Go(TOe);return r.key=t,r.value=n,r.kind=e,r}function rFe(e,t){const n=new Go(OOe);return n.operator=e,n.argument=t,n.prefix=!0,n}function pt(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(o,s)=>(tw(s<r.length,"Message reference must be in range"),r[s]));throw n=new Error(i),n.index=te,n.description=i,n}function nw(e){e.type===Jm&&pt(e,IOe),e.type===xf&&pt(e,FOe),e.type===Qm&&pt(e,NOe),e.type===Vc&&pt(e,ROe),e.type===xu&&pt(e,POe),pt(e,Mn,e.value)}function pr(e){const t=Vr();(t.type!==Br||t.value!==e)&&nw(t)}function zt(e){return Et.type===Br&&Et.value===e}function z3(e){return Et.type===xu&&Et.value===e}function iFe(){const e=[];for(te=Et.start,pr("[");!zt("]");)zt(",")?(Vr(),e.push(null)):(e.push(Hc()),zt("]")||pr(","));return Vr(),ZOe(e)}function oR(){te=Et.start;const e=Vr();return e.type===Qm||e.type===xf?(e.octal&&pt(e,JY),mg(e)):jA(e.value)}function oFe(){var e,t,n,r;if(te=Et.start,e=Et,e.type===Vc)return n=oR(),pr(":"),r=Hc(),iR("init",n,r);if(e.type===Jm||e.type===Br)nw(e);else return t=oR(),pr(":"),r=Hc(),iR("init",t,r)}function sFe(){var e=[],t,n,r,i={},o=String;for(te=Et.start,pr("{");!zt("}");)t=oFe(),t.key.type===KY?n=t.key.name:n=o(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?pt({},DOe):i[r]=!0,e.push(t),zt("}")||pr(",");return pr("}"),nFe(e)}function aFe(){pr("(");const e=UA();return pr(")"),e}const lFe={if:1};function uFe(){var e,t,n;if(zt("("))return aFe();if(zt("["))return iFe();if(zt("{"))return sFe();if(e=Et.type,te=Et.start,e===Vc||lFe[Et.value])n=jA(Vr().value);else if(e===Qm||e===xf)Et.octal&&pt(Et,JY),n=mg(Vr());else{if(e===xu)throw new Error(z0);e===Zx?(t=Vr(),t.value=t.value==="true",n=mg(t)):e===ew?(t=Vr(),t.value=null,n=mg(t)):zt("/")||zt("/=")?(n=mg(JOe()),tX()):nw(Vr())}return n}function cFe(){const e=[];if(pr("("),!zt(")"))for(;te<hr&&(e.push(Hc()),!zt(")"));)pr(",");return pr(")"),e}function fFe(){te=Et.start;const e=Vr();return QOe(e)||nw(e),jA(e.value)}function dFe(){return pr("."),fFe()}function hFe(){pr("[");const e=UA();return pr("]"),e}function pFe(){var e,t,n;for(e=uFe();;)if(zt("."))n=dFe(),e=rR(".",e,n);else if(zt("("))t=cFe(),e=eFe(e,t);else if(zt("["))n=hFe(),e=rR("[",e,n);else break;return e}function sR(){const e=pFe();if(Et.type===Br&&(zt("++")||zt("--")))throw new Error(z0);return e}function sv(){var e,t;if(Et.type!==Br&&Et.type!==xu)t=sR();else{if(zt("++")||zt("--"))throw new Error(z0);if(zt("+")||zt("-")||zt("~")||zt("!"))e=Vr(),t=sv(),t=rFe(e.value,t);else{if(z3("delete")||z3("void")||z3("typeof"))throw new Error(z0);t=sR()}}return t}function aR(e){let t=0;if(e.type!==Br&&e.type!==xu)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function gFe(){var e,t,n,r,i,o,s,a,l,u;if(e=Et,l=sv(),r=Et,i=aR(r),i===0)return l;for(r.prec=i,Vr(),t=[e,Et],s=sv(),o=[l,r,s];(i=aR(Et))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)s=o.pop(),a=o.pop().value,l=o.pop(),t.pop(),n=nR(a,l,s),o.push(n);r=Vr(),r.prec=i,o.push(r),t.push(Et),n=sv(),o.push(n)}for(u=o.length-1,n=o[u],t.pop();u>1;)t.pop(),n=nR(o[u-1].value,o[u-2],n),u-=2;return n}function Hc(){var e,t,n;return e=gFe(),zt("?")&&(Vr(),t=Hc(),pr(":"),n=Hc(),e=tFe(e,t,n)),e}function UA(){const e=Hc();if(zt(","))throw new Error(z0);return e}function qA(e){Oe=e,te=0,hr=Oe.length,Et=null,tX();const t=UA();if(Et.type!==Jm)throw new Error("Unexpect token after expression.");return t}var nX={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function rX(e){function t(s,a,l,u){let c=e(a[0]);return l&&(c=l+"("+c+")",l.lastIndexOf("new ",0)===0&&(c="("+c+")")),c+"."+s+(u<0?"":u===0?"()":"("+a.slice(1).map(e).join(",")+")")}function n(s,a,l){return u=>t(s,u,a,l)}const r="new Date",i="String",o="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(s){s.length<3&&ne("Missing arguments to clamp function."),s.length>3&&ne("Too many arguments to clamp function.");const a=s.map(e);return"Math.max("+a[1]+", Math.min("+a[2]+","+a[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),trim:n("trim",i,0),regexp:o,test:n("test",o),if:function(s){s.length<3&&ne("Missing arguments to if function."),s.length>3&&ne("Too many arguments to if function.");const a=s.map(e);return"("+a[0]+"?"+a[1]+":"+a[2]+")"}}}function mFe(e){const t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function iX(e){e=e||{};const t=e.allowed?Io(e.allowed):{},n=e.forbidden?Io(e.forbidden):{},r=e.constants||nX,i=(e.functions||rX)(f),o=e.globalvar,s=e.fieldvar,a=Je(o)?o:g=>`${o}["${g}"]`;let l={},u={},c=0;function f(g){if(Ee(g))return g;const m=h[g.type];return m==null&&ne("Unsupported type: "+g.type),m(g)}const h={Literal:g=>g.raw,Identifier:g=>{const m=g.name;return c>0?m:Le(n,m)?ne("Illegal identifier: "+m):Le(r,m)?r[m]:Le(t,m)?m:(l[m]=1,a(m))},MemberExpression:g=>{const m=!g.computed,y=f(g.object);m&&(c+=1);const v=f(g.property);return y===s&&(u[mFe(v)]=1),m&&(c-=1),y+(m?"."+v:"["+v+"]")},CallExpression:g=>{g.callee.type!=="Identifier"&&ne("Illegal callee type: "+g.callee.type);const m=g.callee.name,y=g.arguments,v=Le(i,m)&&i[m];return v||ne("Unrecognized function: "+m),Je(v)?v(y):v+"("+y.map(f).join(",")+")"},ArrayExpression:g=>"["+g.elements.map(f).join(",")+"]",BinaryExpression:g=>"("+f(g.left)+" "+g.operator+" "+f(g.right)+")",UnaryExpression:g=>"("+g.operator+f(g.argument)+")",ConditionalExpression:g=>"("+f(g.test)+"?"+f(g.consequent)+":"+f(g.alternate)+")",LogicalExpression:g=>"("+f(g.left)+g.operator+f(g.right)+")",ObjectExpression:g=>"{"+g.properties.map(f).join(",")+"}",Property:g=>{c+=1;const m=f(g.key);return c-=1,m+":"+f(g.value)}};function p(g){const m={code:f(g),globals:Object.keys(l),fields:Object.keys(u)};return l={},u={},m}return p.functions=i,p.constants=r,p}function B3(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function yFe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function vFe(e){let t,n,r;e.length!==2?(t=B3,n=(a,l)=>B3(e(a),l),r=(a,l)=>e(a)-l):(t=e===B3||e===yFe?e:bFe,n=e,r=e);function i(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(a,l,u=0,c=a.length){const f=i(a,l,u,c-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function bFe(){return 0}function xFe(e,...t){e=new Fo(e),t=t.map(wFe);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function wFe(e){return e instanceof Fo?e:new Fo(e)}function _Fe(...e){const t=new Fo;for(const n of e)for(const r of n)t.add(r);return t}const VA="intersect",lR="union",EFe="vlMulti",SFe="vlPoint",uR="or",$Fe="and",fs="_vgsid_",j0=Zr(fs),CFe="E",AFe="R",kFe="R-E",MFe="R-LE",TFe="R-RE",Pb="index:unit";function cR(e,t){for(var n=t.fields,r=t.values,i=n.length,o=0,s,a;o<i;++o)if(a=n[o],a.getter=Zr.getter||Zr(a.field),s=a.getter(e),Dl(s)&&(s=ar(s)),Dl(r[o])&&(r[o]=ar(r[o])),Dl(r[o][0])&&(r[o]=r[o].map(ar)),a.type===CFe){if(ie(r[o])?r[o].indexOf(s)<0:s!==r[o])return!1}else if(a.type===AFe){if(!dd(s,r[o]))return!1}else if(a.type===TFe){if(!dd(s,r[o],!0,!1))return!1}else if(a.type===kFe){if(!dd(s,r[o],!1,!1))return!1}else if(a.type===MFe&&!dd(s,r[o],!1,!0))return!1;return!0}function OFe(e,t,n){for(var r=this.context.data[e],i=r?r.values.value:[],o=r?r[Pb]&&r[Pb].value:void 0,s=n===VA,a=i.length,l=0,u,c,f,h,p;l<a;++l)if(u=i[l],o&&s){if(c=c||{},f=c[h=u.unit]||0,f===-1)continue;if(p=cR(t,u),c[h]=p?-1:++f,p&&o.size===1)return!0;if(!p&&f===o.get(h).count)return!1}else if(p=cR(t,u),s^p)return p;return a&&s}const oX=vFe(j0),FFe=oX.left,NFe=oX.right;function RFe(e,t,n){const r=this.context.data[e],i=r?r.values.value:[],o=r?r[Pb]&&r[Pb].value:void 0,s=n===VA,a=j0(t),l=FFe(i,a);if(l===i.length||j0(i[l])!==a)return!1;if(o&&s){if(o.size===1)return!0;if(NFe(i,a)-l<o.size)return!1}return!0}function PFe(e,t){return e.map(n=>Ke(t.fields?{values:t.fields.map(r=>(r.getter||(r.getter=Zr(r.field)))(n.datum))}:{[fs]:j0(n.datum)},t))}function IFe(e,t,n,r){for(var i=this.context.data[e],o=i?i.values.value:[],s={},a={},l={},u,c,f,h,p,g,m,y,v,b,x=o.length,w=0,_,$;w<x;++w)if(u=o[w],h=u.unit,c=u.fields,f=u.values,c&&f){for(_=0,$=c.length;_<$;++_)p=c[_],m=s[p.field]||(s[p.field]={}),y=m[h]||(m[h]=[]),l[p.field]=v=p.type.charAt(0),b=j3[`${v}_union`],m[h]=b(y,$e(f[_]));n&&(y=a[h]||(a[h]=[]),y.push($e(f).reduce((S,C,T)=>(S[c[T].field]=C,S),{})))}else p=fs,g=j0(u),m=s[p]||(s[p]={}),y=m[h]||(m[h]=[]),y.push(g),n&&(y=a[h]||(a[h]=[]),y.push({[fs]:g}));if(t=t||lR,s[fs]?s[fs]=j3[`${fs}_${t}`](...Object.values(s[fs])):Object.keys(s).forEach(S=>{s[S]=Object.keys(s[S]).map(C=>s[S][C]).reduce((C,T)=>C===void 0?T:j3[`${l[S]}_${t}`](C,T))}),o=Object.keys(a),n&&o.length){const S=r?SFe:EFe;s[S]=t===lR?{[uR]:o.reduce((C,T)=>(C.push(...a[T]),C),[])}:{[$Fe]:o.map(C=>({[uR]:a[C]}))}}return s}var j3={[`${fs}_union`]:_Fe,[`${fs}_intersect`]:xFe,E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.indexOf(t[n])<0&&e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter(n=>t.indexOf(n)>=0):t},R_union:function(e,t){var n=ar(t[0]),r=ar(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=ar(t[0]),r=ar(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};const DFe=":",LFe="@";function HA(e,t,n,r){t[0].type!==qc&&ne("First argument to selection functions must be a string literal.");const i=t[0].value,o=t.length>=2&&lt(t).value,s="unit",a=LFe+s,l=DFe+i;o===VA&&!Le(r,a)&&(r[a]=n.getData(i).indataRef(n,s)),Le(r,l)||(r[l]=n.getData(i).tuplesRef())}function sX(e){const t=this.context.data[e];return t?t.values.value:[]}function zFe(e,t,n){const r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i&&i.count}function BFe(e,t){const n=this.context.dataflow,r=this.context.data[e],i=r.input;return n.pulse(i,n.changeset().remove(Wi).insert(t)),1}function jFe(e,t,n){if(e){const r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return n!==void 0?n:e}const e1=e=>function(t,n){return this.context.dataflow.locale()[e](n)(t)},UFe=e1("format"),aX=e1("timeFormat"),qFe=e1("utcFormat"),VFe=e1("timeParse"),HFe=e1("utcParse"),fy=new Date(2e3,0,1);function rw(e,t,n){return!Number.isInteger(e)||!Number.isInteger(t)?"":(fy.setYear(2e3),fy.setMonth(e),fy.setDate(t),aX.call(this,fy,n))}function WFe(e){return rw.call(this,e,1,"%B")}function GFe(e){return rw.call(this,e,1,"%b")}function YFe(e){return rw.call(this,0,2+e,"%A")}function XFe(e){return rw.call(this,0,2+e,"%a")}const KFe=":",JFe="@",M6="%",lX="$";function WA(e,t,n,r){t[0].type!==qc&&ne("First argument to data functions must be a string literal.");const i=t[0].value,o=KFe+i;if(!Le(o,r))try{r[o]=n.getData(i).tuplesRef()}catch{}}function QFe(e,t,n,r){t[0].type!==qc&&ne("First argument to indata must be a string literal."),t[1].type!==qc&&ne("Second argument to indata must be a string literal.");const i=t[0].value,o=t[1].value,s=JFe+o;Le(s,r)||(r[s]=n.getData(i).indataRef(n,o))}function Yr(e,t,n,r){if(t[0].type===qc)fR(n,r,t[0].value);else for(e in n.scales)fR(n,r,e)}function fR(e,t,n){const r=M6+n;if(!Le(t,r))try{t[r]=e.scaleRef(n)}catch{}}function Va(e,t){if(Je(e))return e;if(Ee(e)){const n=t.scales[e];return n&&xAe(n.value)?n.value:void 0}}function ZFe(e,t,n){t.__bandwidth=i=>i&&i.bandwidth?i.bandwidth():0,n._bandwidth=Yr,n._range=Yr,n._scale=Yr;const r=i=>"_["+(i.type===qc?ye(M6+i.value):ye(M6)+"+"+e(i))+"]";return{_bandwidth:i=>`this.__bandwidth(${r(i[0])})`,_range:i=>`${r(i[0])}.range()`,_scale:i=>`${r(i[0])}(${e(i[1])})`}}function GA(e,t){return function(n,r,i){if(n){const o=Va(n,(i||this).context);return o&&o.path[e](r)}else return t(r)}}const eNe=GA("area",Sj),tNe=GA("bounds",Mj),nNe=GA("centroid",Nj);function rNe(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n}function YA(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function iNe(){return YA(this.context.dataflow,"warn",arguments)}function oNe(){return YA(this.context.dataflow,"info",arguments)}function sNe(){return YA(this.context.dataflow,"debug",arguments)}function U3(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function T6(e){const t=Ns(e),n=U3(t.r),r=U3(t.g),i=U3(t.b);return .2126*n+.7152*r+.0722*i}function aNe(e,t){const n=T6(e),r=T6(t),i=Math.max(n,r),o=Math.min(n,r);return(i+.05)/(o+.05)}function lNe(){const e=[].slice.call(arguments);return e.unshift({}),Ke(...e)}function uX(e,t){return e===t||e!==e&&t!==t?!0:ie(e)?ie(t)&&e.length===t.length?uNe(e,t):!1:Ae(e)&&Ae(t)?cX(e,t):!1}function uNe(e,t){for(let n=0,r=e.length;n<r;++n)if(!uX(e[n],t[n]))return!1;return!0}function cX(e,t){for(const n in e)if(!uX(e[n],t[n]))return!1;return!0}function dR(e){return t=>cX(e,t)}function cNe(e,t,n,r,i,o){const s=this.context.dataflow,a=this.context.data[e],l=a.input,u=s.stamp();let c=a.changes,f,h;if(s._trigger===!1||!(l.value.length||t||r))return 0;if((!c||c.stamp<u)&&(a.changes=c=s.changeset(),c.stamp=u,s.runAfter(()=>{a.modified=!0,s.pulse(l,c).run()},!0,1)),n&&(f=n===!0?Wi:ie(n)||Ax(n)?n:dR(n),c.remove(f)),t&&c.insert(t),r&&(f=dR(r),l.value.some(f)?c.remove(f):c.insert(r)),i)for(h in o)c.modify(i,h,o[h]);return 1}function fNe(e){const t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.hypot(n,r)}function dNe(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}const hR={};function hNe(e,t){const n=hR[t]||(hR[t]=Zr(t));return ie(e)?e.map(n):n(e)}function XA(e){return ie(e)||ArrayBuffer.isView(e)?e:null}function KA(e){return XA(e)||(Ee(e)?e:null)}function pNe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return XA(e).join(...n)}function gNe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return KA(e).indexOf(...n)}function mNe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return KA(e).lastIndexOf(...n)}function yNe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return KA(e).slice(...n)}function vNe(e,t,n){return Je(n)&&ne("Function argument passed to replace."),String(e).replace(t,n)}function bNe(e){return XA(e).slice().reverse()}function xNe(e,t,n){return yC(e||0,t||0,n||0)}function wNe(e,t){const n=Va(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function _Ne(e,t){const n=Va(e,(t||this).context);return n?n.copy():void 0}function ENe(e,t){const n=Va(e,(t||this).context);return n?n.domain():[]}function SNe(e,t,n){const r=Va(e,(n||this).context);return r?ie(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}function $Ne(e,t){const n=Va(e,(t||this).context);return n&&n.range?n.range():[]}function CNe(e,t,n){const r=Va(e,(n||this).context);return r?r(t):void 0}function ANe(e,t,n,r,i){e=Va(e,(i||this).context);const o=lG(t,n);let s=e.domain(),a=s[0],l=lt(s),u=gr;return l-a?u=KW(e,a,l):e=(e.interpolator?vt("sequential")().interpolator(e.interpolator()):vt("linear")().interpolate(e.interpolate()).range(e.range())).domain([a=0,l=1]),e.ticks&&(s=e.ticks(+r||15),a!==s[0]&&s.unshift(a),l!==lt(s)&&s.push(l)),s.forEach(c=>o.stop(u(c),e(c))),o}function kNe(e,t,n){const r=Va(e,(n||this).context);return function(i){return r?r.path.context(i)(t):""}}function MNe(e){let t=null;return function(n){return n?R0(n,t=t||lh(e)):e}}const fX=e=>e.data;function dX(e,t){const n=sX.call(t,e);return n.root&&n.root.lookup||{}}function TNe(e,t,n){const r=dX(e,this),i=r[t],o=r[n];return i&&o?i.path(o).map(fX):void 0}function ONe(e,t){const n=dX(e,this)[t];return n?n.ancestors().map(fX):void 0}const hX=()=>typeof window<"u"&&window||null;function FNe(){const e=hX();return e?e.screen:{}}function NNe(){const e=hX();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]}function RNe(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}function pX(e,t,n){if(!e)return[];const[r,i]=e,o=new cn().set(r[0],r[1],i[0],i[1]),s=n||this.context.dataflow.scenegraph().root;return QG(s,o,PNe(t))}function PNe(e){let t=null;if(e){const n=$e(e.marktype),r=$e(e.markname);t=i=>(!n.length||n.some(o=>i.marktype===o))&&(!r.length||r.some(o=>i.name===o))}return t}function INe(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5;e=$e(e);const i=e[e.length-1];return i===void 0||Math.hypot(i[0]-t,i[1]-n)>r?[...e,[t,n]]:e}function DNe(e){return $e(e).reduce((t,n,r)=>{let[i,o]=n;return t+=r==0?`M ${i},${o} `:r===e.length-1?" Z":`L ${i},${o} `},"")}function LNe(e,t,n){const{x:r,y:i,mark:o}=n,s=new cn().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[l,u]of t)l<s.x1&&(s.x1=l),l>s.x2&&(s.x2=l),u<s.y1&&(s.y1=u),u>s.y2&&(s.y2=u);return s.translate(r,i),pX([[s.x1,s.y1],[s.x2,s.y2]],e,o).filter(l=>zNe(l.x,l.y,t))}function zNe(e,t,n){let r=0;for(let i=0,o=n.length-1;i<n.length;o=i++){const[s,a]=n[o],[l,u]=n[i];u>t!=a>t&&e<(s-l)*(t-u)/(a-u)+l&&r++}return r&1}const U0={random(){return Yi()},cumulativeNormal:Fx,cumulativeLogNormal:D$,cumulativeUniform:j$,densityNormal:F$,densityLogNormal:I$,densityUniform:B$,quantileNormal:Nx,quantileLogNormal:L$,quantileUniform:U$,sampleNormal:Ox,sampleLogNormal:P$,sampleUniform:z$,isArray:ie,isBoolean:bu,isDate:Dl,isDefined(e){return e!==void 0},isNumber:St,isObject:Ae,isRegExp:sH,isString:Ee,isTuple:Ax,isValid(e){return e!=null&&e===e},toBoolean:m$,toDate(e){return y$(e)},toNumber:ar,toString:v$,indexof:gNe,join:pNe,lastindexof:mNe,replace:vNe,reverse:bNe,slice:yNe,flush:iH,lerp:aH,merge:lNe,pad:cH,peek:lt,pluck:hNe,span:Pm,inrange:dd,truncate:fH,rgb:Ns,lab:m0,hcl:y0,hsl:g0,luminance:T6,contrast:aNe,sequence:Ar,format:UFe,utcFormat:qFe,utcParse:HFe,utcOffset:$H,utcSequence:kH,timeFormat:aX,timeParse:VFe,timeOffset:SH,timeSequence:AH,timeUnitSpecifier:hH,monthFormat:WFe,monthAbbrevFormat:GFe,dayFormat:YFe,dayAbbrevFormat:XFe,quarter:eH,utcquarter:tH,week:gH,utcweek:vH,dayofyear:pH,utcdayofyear:yH,warn:iNe,info:oNe,debug:sNe,extent(e){return Is(e)},inScope:rNe,intersect:pX,clampRange:nH,pinchDistance:fNe,pinchAngle:dNe,screen:FNe,containerSize:RNe,windowSize:NNe,bandspace:xNe,setdata:BFe,pathShape:MNe,panLinear:KV,panLog:JV,panPow:QV,panSymlog:ZV,zoomLinear:c$,zoomLog:f$,zoomPow:mb,zoomSymlog:d$,encode:jFe,modify:cNe,lassoAppend:INe,lassoPath:DNe,intersectLasso:LNe},BNe=["view","item","group","xy","x","y"],jNe="event.vega.",gX="this.",JA={},mX={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${ye(lX+e)}]`,functions:UNe,constants:nX,visitors:JA},O6=iX(mX);function UNe(e){const t=rX(e);BNe.forEach(n=>t[n]=jNe+n);for(const n in U0)t[n]=gX+n;return Ke(t,ZFe(e,U0,JA)),t}function dn(e,t,n){return arguments.length===1?U0[e]:(U0[e]=t,n&&(JA[e]=n),O6&&(O6.functions[e]=gX+e),this)}dn("bandwidth",wNe,Yr);dn("copy",_Ne,Yr);dn("domain",ENe,Yr);dn("range",$Ne,Yr);dn("invert",SNe,Yr);dn("scale",CNe,Yr);dn("gradient",ANe,Yr);dn("geoArea",eNe,Yr);dn("geoBounds",tNe,Yr);dn("geoCentroid",nNe,Yr);dn("geoShape",kNe,Yr);dn("indata",zFe,QFe);dn("data",sX,WA);dn("treePath",TNe,WA);dn("treeAncestors",ONe,WA);dn("vlSelectionTest",OFe,HA);dn("vlSelectionIdTest",RFe,HA);dn("vlSelectionResolve",IFe,HA);dn("vlSelectionTuples",PFe);function Ls(e,t){const n={};let r;try{e=Ee(e)?e:ye(e)+"",r=qA(e)}catch{ne("Expression parse error: "+e)}r.visit(o=>{if(o.type!==XY)return;const s=o.callee.name,a=mX.visitors[s];a&&a(s,o.arguments,t,n)});const i=O6(r);return i.globals.forEach(o=>{const s=lX+o;!Le(n,s)&&t.getSignal(o)&&(n[s]=t.signalRef(o))}),{$expr:Ke({code:i.code},t.options.ast?{ast:r}:null),$fields:i.fields,$params:n}}function qNe(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach(r=>t.parseOperator(r)),n.forEach(r=>t.parseOperatorParameters(r)),(e.streams||[]).forEach(r=>t.parseStream(r)),(e.updates||[]).forEach(r=>t.parseUpdate(r)),t.resolve()}const VNe=Io(["rule"]),pR=Io(["group","image","rect"]);function HNe(e,t){let n="";return VNe[t]||(e.x2&&(e.x?(pR[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(pR[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}function QA(e){return(e+"").toLowerCase()}function WNe(e){return QA(e)==="operator"}function GNe(e){return QA(e)==="collect"}function Np(e,t,n){n.endsWith(";")||(n="return("+n+");");const r=Function(...t.concat(n));return e&&e.functions?r.bind(e.functions):r}function YNe(e,t,n,r){return`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
  : (u > v || v == null) && u != null ? ${r}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
  : v !== v && u === u ? ${r} : `}var XNe={operator:(e,t)=>Np(e,["_"],t.code),parameter:(e,t)=>Np(e,["datum","_"],t.code),event:(e,t)=>Np(e,["event"],t.code),handler:(e,t)=>{const n=`var datum=event.item&&event.item.datum;return ${t.code};`;return Np(e,["_","event"],n)},encode:(e,t)=>{const{marktype:n,channels:r}=t;let i="var o=item,datum=o.datum,m=0,$;";for(const o in r){const s="o["+ye(o)+"]";i+=`$=${r[o].code};if(${s}!==$)${s}=$,m=1;`}return i+=HNe(r,n),i+="return m;",Np(e,["item","_"],i)},codegen:{get(e){const t=`[${e.map(ye).join("][")}]`,n=Function("_",`return _${t};`);return n.path=t,n},comparator(e,t){let n;const r=(o,s)=>{const a=t[s];let l,u;return o.path?(l=`a${o.path}`,u=`b${o.path}`):((n=n||{})["f"+s]=o,l=`this.f${s}(a)`,u=`this.f${s}(b)`),YNe(l,u,-a,a)},i=Function("a","b","var u, v; return "+e.map(r).join("")+"0;");return n?i.bind(n):i}}};function KNe(e){const t=this;WNe(e.type)||!e.type?t.operator(e,e.update?t.operatorExpression(e.update):null):t.transform(e,e.type)}function JNe(e){const t=this;if(e.params){const n=t.get(e.id);n||ne("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}}function QNe(e,t){t=t||{};const n=this;for(const r in e){const i=e[r];t[r]=ie(i)?i.map(o=>gR(o,n,t)):gR(i,n,t)}return t}function gR(e,t,n){if(!e||!Ae(e))return e;for(let r=0,i=mR.length,o;r<i;++r)if(o=mR[r],Le(e,o.key))return o.parse(e,t,n);return e}var mR=[{key:"$ref",parse:ZNe},{key:"$key",parse:tRe},{key:"$expr",parse:eRe},{key:"$field",parse:nRe},{key:"$encode",parse:iRe},{key:"$compare",parse:rRe},{key:"$context",parse:oRe},{key:"$subflow",parse:sRe},{key:"$tupleid",parse:aRe}];function ZNe(e,t){return t.get(e.$ref)||ne("Operator not defined: "+e.$ref)}function eRe(e,t,n){e.$params&&t.parseParameters(e.$params,n);const r="e:"+e.$expr.code;return t.fn[r]||(t.fn[r]=li(t.parameterExpression(e.$expr),e.$fields))}function tRe(e,t){const n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=g$(e.$key,e.$flat,t.expr.codegen))}function nRe(e,t){if(!e.$field)return null;const n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=Zr(e.$field,e.$name,t.expr.codegen))}function rRe(e,t){const n="c:"+e.$compare+"_"+e.$order,r=$e(e.$compare).map(i=>i&&i.$tupleid?De:i);return t.fn[n]||(t.fn[n]=h$(r,e.$order,t.expr.codegen))}function iRe(e,t){const n=e.$encode,r={};for(const i in n){const o=n[i];r[i]=li(t.encodeExpression(o.$expr),o.$fields),r[i].output=o.$output}return r}function oRe(e,t){return t}function sRe(e,t){const n=e.$subflow;return function(r,i,o){const s=t.fork().parse(n),a=s.get(n.operators[0].id),l=s.signals.parent;return l&&l.set(o),a.detachSubflow=()=>t.detach(s),a}}function aRe(){return De}function lRe(e){var t=this,n=e.filter!=null?t.eventExpression(e.filter):void 0,r=e.stream!=null?t.get(e.stream):void 0,i;e.source?r=t.events(e.source,e.type,n):e.merge&&(i=e.merge.map(o=>t.get(o)),r=i[0].merge.apply(i[0],i.slice(1))),e.between&&(i=e.between.map(o=>t.get(o)),r=r.between(i[0],i[1])),e.filter&&(r=r.filter(n)),e.throttle!=null&&(r=r.throttle(+e.throttle)),e.debounce!=null&&(r=r.debounce(+e.debounce)),r==null&&ne("Invalid stream definition: "+JSON.stringify(e)),e.consume&&r.consume(!0),t.stream(e,r)}function uRe(e){var t=this,n=Ae(n=e.source)?n.$ref:n,r=t.get(n),i=null,o=e.update,s=void 0;r||ne("Source not defined: "+e.source),i=e.target&&e.target.$expr?t.eventExpression(e.target.$expr):t.get(e.target),o&&o.$expr&&(o.$params&&(s=t.parseParameters(o.$params)),o=t.handlerExpression(o.$expr)),t.update(e,r,i,o,s)}const cRe={skip:!0};function fRe(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach(o=>{const s=t.signals[o];e.signals(o,s)&&(r[o]=s.value)})}if(e.data){var i=n.data={};Object.keys(t.data).forEach(o=>{const s=t.data[o];e.data(o,s)&&(i[o]=s.input.value)})}return t.subcontext&&e.recurse!==!1&&(n.subcontext=t.subcontext.map(o=>o.getState(e))),n}function dRe(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach(o=>{n.update(t.signals[o],i[o],cRe)}),Object.keys(r||{}).forEach(o=>{n.pulse(t.data[o].input,n.changeset().remove(Wi).insert(r[o]))}),(e.subcontext||[]).forEach((o,s)=>{const a=t.subcontext[s];a&&a.setState(o)})}function yX(e,t,n,r){return new vX(e,t,n,r)}function vX(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||XNe,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function yR(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}vX.prototype=yR.prototype={fork(){const e=new yR(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(n=>n!==e);const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,r=n.dataflow,i=e.value;if(n.set(e.id,t),GNe(e.type)&&i&&(i.$ingest?r.ingest(t,i.$ingest,i.$format):i.$request?r.preload(t,i.$request,i.$format):r.pulse(t,r.changeset().insert(i))),e.root&&(n.root=t),e.parent){let o=n.get(e.parent.$ref);o?(r.connect(o,[t]),t.targets().add(o)):(n.unresolved=n.unresolved||[]).push(()=>{o=n.get(e.parent.$ref),r.connect(o,[t]),t.targets().add(o)})}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const o in e.data){const s=n.data[o]||(n.data[o]={});e.data[o].forEach(a=>s[a]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[QA(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:qNe,parseOperator:KNe,parseOperatorParameters:JNe,parseParameters:QNe,parseStream:lRe,parseUpdate:uRe,getState:fRe,setState:dRe};function hRe(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),bX(t,e.description()))}function bX(e,t){e&&(t==null?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}function pRe(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}const q3="default";function gRe(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:q3,item:null}));e.on(e.events("view","mousemove"),t,(n,r)=>{const i=t.value,o=i?Ee(i)?i:i.user:q3,s=r.item&&r.item.cursor||null;return i&&o===i.user&&s==i.item?i:{user:o,item:s}}),e.add(null,function(n){let r=n.cursor,i=this.value;return Ee(r)||(i=r.item,r=r.user),F6(e,r&&r!==q3?r:i||r),i},{cursor:t})}function F6(e,t){const n=e.globalCursor()?typeof document<"u"&&document.body:e.container();if(n)return t==null?n.style.removeProperty("cursor"):n.style.cursor=t}function Ib(e,t){var n=e._runtime.data;return Le(n,t)||ne("Unrecognized data set: "+t),n[t]}function mRe(e,t){return arguments.length<2?Ib(this,e).values.value:iw.call(this,e,vf().remove(Wi).insert(t))}function iw(e,t){YH(t)||ne("Second argument to changes must be a changeset.");const n=Ib(this,e);return n.modified=!0,this.pulse(n.input,t)}function yRe(e,t){return iw.call(this,e,vf().insert(t))}function vRe(e,t){return iw.call(this,e,vf().remove(t))}function xX(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function wX(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function ow(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function bRe(e){var t=ow(e),n=xX(e),r=wX(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach(i=>{try{i(n,r)}catch(o){e.error(o)}})}function xRe(e,t,n){var r=e._renderer,i=r&&r.canvas(),o,s,a;return i&&(a=ow(e),s=t.changedTouches?t.changedTouches[0]:t,o=Kx(s,i),o[0]-=a[0],o[1]-=a[1]),t.dataflow=e,t.item=n,t.vega=wRe(e,n,o),t}function wRe(e,t,n){const r=t?t.mark.marktype==="group"?t:t.mark.group:null;function i(s){var a=r,l;if(s){for(l=t;l;l=l.mark.group)if(l.mark.name===s){a=l;break}}return a&&a.mark&&a.mark.interactive?a:{}}function o(s){if(!s)return n;Ee(s)&&(s=i(s));const a=n.slice();for(;s;)a[0]-=s.x||0,a[1]-=s.y||0,s=s.mark&&s.mark.group;return a}return{view:mr(e),item:mr(t||{}),group:i,xy:o,x:s=>o(s)[0],y:s=>o(s)[1]}}const vR="view",_Re="timer",ERe="window",SRe={trap:!1};function $Re(e){const t=Ke({defaults:{}},e),n=(r,i)=>{i.forEach(o=>{ie(r[o])&&(r[o]=Io(r[o]))})};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}function _X(e,t,n,r){e._eventListeners.push({type:n,sources:$e(t),handler:r})}function CRe(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return r===!1||i===!0?!1:r===!0||i===!1?!0:r?r[t]:i?!i[t]:e.preventDefault()}function dy(e,t,n){const r=e._eventConfig&&e._eventConfig[t];return r===!1||Ae(r)&&!r[n]?(e.warn(`Blocked ${t} ${n} event listener.`),!1):!0}function ARe(e,t,n){var r=this,i=new Tx(n),o=function(u,c){r.runAsync(null,()=>{e===vR&&CRe(r,t)&&u.preventDefault(),i.receive(xRe(r,u,c))})},s;if(e===_Re)dy(r,"timer",t)&&r.timer(o,t);else if(e===vR)dy(r,"view",t)&&r.addEventListener(t,o,SRe);else if(e===ERe?dy(r,"window",t)&&typeof window<"u"&&(s=[window]):typeof document<"u"&&dy(r,"selector",t)&&(s=Array.from(document.querySelectorAll(e))),!s)r.warn("Can not resolve event source: "+e);else{for(var a=0,l=s.length;a<l;++a)s[a].addEventListener(t,o);_X(r,s,t,o)}return i}function bR(e){return e.item}function xR(e){return e.item.mark.source}function wR(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function kRe(e,t){return e=[e||"hover"],t=[t||"update",e[0]],this.on(this.events("view","mouseover",bR),xR,wR(e)),this.on(this.events("view","mouseout",bR),xR,wR(t)),this}function MRe(){var e=this._tooltip,t=this._timers,n=this._eventListeners,r,i,o;for(r=t.length;--r>=0;)t[r].stop();for(r=n.length;--r>=0;)for(o=n[r],i=o.sources.length;--i>=0;)o.sources[i].removeEventListener(o.type,o.handler);return e&&e.call(this,this._handler,null,null,null),this}function $i(e,t,n){const r=document.createElement(e);for(const i in t)r.setAttribute(i,t[i]);return n!=null&&(r.textContent=n),r}const TRe="vega-bind",ORe="vega-bind-name",FRe="vega-bind-radio";function NRe(e,t,n){if(!t)return;const r=n.param;let i=n.state;return i||(i=n.state={elements:null,active:!1,set:null,update:s=>{s!=e.signal(r.signal)&&e.runAsync(null,()=>{i.source=!0,e.signal(r.signal,s)})}},r.debounce&&(i.update=p$(r.debounce,i.update))),(r.input==null&&r.element?RRe:IRe)(i,t,r,e),i.active||(e.on(e._signals[r.signal],null,()=>{i.source?i.source=!1:i.set(e.signal(r.signal))}),i.active=!0),i}function RRe(e,t,n,r){const i=n.event||"input",o=()=>e.update(t.value);r.signal(n.signal,t.value),t.addEventListener(i,o),_X(r,t,i,o),e.set=s=>{t.value=s,t.dispatchEvent(PRe(i))}}function PRe(e){return typeof Event<"u"?new Event(e):{type:e}}function IRe(e,t,n,r){const i=r.signal(n.signal),o=$i("div",{class:TRe}),s=n.input==="radio"?o:o.appendChild($i("label"));s.appendChild($i("span",{class:ORe},n.name||n.signal)),t.appendChild(o);let a=DRe;switch(n.input){case"checkbox":a=LRe;break;case"select":a=zRe;break;case"radio":a=BRe;break;case"range":a=jRe;break}a(e,s,n,i)}function DRe(e,t,n,r){const i=$i("input");for(const o in n)o!=="signal"&&o!=="element"&&i.setAttribute(o==="input"?"type":o,n[o]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",()=>e.update(i.value)),e.elements=[i],e.set=o=>i.value=o}function LRe(e,t,n,r){const i={type:"checkbox",name:n.signal};r&&(i.checked=!0);const o=$i("input",i);t.appendChild(o),o.addEventListener("change",()=>e.update(o.checked)),e.elements=[o],e.set=s=>o.checked=!!s||null}function zRe(e,t,n,r){const i=$i("select",{name:n.signal}),o=n.labels||[];n.options.forEach((s,a)=>{const l={value:s};Db(s,r)&&(l.selected=!0),i.appendChild($i("option",l,(o[a]||s)+""))}),t.appendChild(i),i.addEventListener("change",()=>{e.update(n.options[i.selectedIndex])}),e.elements=[i],e.set=s=>{for(let a=0,l=n.options.length;a<l;++a)if(Db(n.options[a],s)){i.selectedIndex=a;return}}}function BRe(e,t,n,r){const i=$i("span",{class:FRe}),o=n.labels||[];t.appendChild(i),e.elements=n.options.map((s,a)=>{const l={type:"radio",name:n.signal,value:s};Db(s,r)&&(l.checked=!0);const u=$i("input",l);u.addEventListener("change",()=>e.update(s));const c=$i("label",{},(o[a]||s)+"");return c.prepend(u),i.appendChild(c),u}),e.set=s=>{const a=e.elements,l=a.length;for(let u=0;u<l;++u)Db(a[u].value,s)&&(a[u].checked=!0)}}function jRe(e,t,n,r){r=r!==void 0?r:(+n.max+ +n.min)/2;const i=n.max!=null?n.max:Math.max(100,+r)||100,o=n.min||Math.min(0,i,+r)||0,s=n.step||Na(o,i,100),a=$i("input",{type:"range",name:n.signal,min:o,max:i,step:s});a.value=r;const l=$i("span",{},+r);t.appendChild(a),t.appendChild(l);const u=()=>{l.textContent=a.value,e.update(+a.value)};a.addEventListener("input",u),a.addEventListener("change",u),e.elements=[a],e.set=c=>{a.value=c,l.textContent=c}}function Db(e,t){return e===t||e+""==t+""}function EX(e,t,n,r,i,o){return t=t||new r(e.loader()),t.initialize(n,xX(e),wX(e),ow(e),i,o).background(e.background())}function ZA(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null}function URe(e,t,n,r){const i=new r(e.loader(),ZA(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,ow(e),e);return t&&t.handlers().forEach(o=>{i.on(o.type,o.handler)}),i}function qRe(e,t){const n=this,r=n._renderType,i=n._eventConfig.bind,o=Jx(r);e=n._el=e?V3(n,e,!0):null,hRe(n),o||n.error("Unrecognized renderer type: "+r);const s=o.handler||Km,a=e?o.renderer:o.headless;return n._renderer=a?EX(n,n._renderer,e,a):null,n._handler=URe(n,n._handler,e,s),n._redraw=!0,e&&i!=="none"&&(t=t?n._elBind=V3(n,t,!0):e.appendChild($i("form",{class:"vega-bindings"})),n._bind.forEach(l=>{l.param.element&&i!=="container"&&(l.element=V3(n,l.param.element,!!l.param.input))}),n._bind.forEach(l=>{NRe(n,l.element||t,l)})),n}function V3(e,t,n){if(typeof t=="string")if(typeof document<"u"){if(t=document.querySelector(t),!t)return e.error("Signal bind element not found: "+t),null}else return e.error("DOM document instance not found."),null;if(t&&n)try{t.textContent=""}catch(r){t=null,e.error(r)}return t}const Rp=e=>+e||0,VRe=e=>({top:e,bottom:e,left:e,right:e});function _R(e){return Ae(e)?{top:Rp(e.top),bottom:Rp(e.bottom),left:Rp(e.left),right:Rp(e.right)}:VRe(Rp(e))}async function ek(e,t,n,r){const i=Jx(t),o=i&&i.headless;return o||ne("Unrecognized renderer type: "+t),await e.runAsync(),EX(e,null,null,o,n,r).renderAsync(e._scenegraph.root)}async function HRe(e,t){e!==Al.Canvas&&e!==Al.SVG&&e!==Al.PNG&&ne("Unrecognized image type: "+e);const n=await ek(this,e,t);return e===Al.SVG?WRe(n.svg(),"image/svg+xml"):n.canvas().toDataURL("image/png")}function WRe(e,t){const n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}async function GRe(e,t){return(await ek(this,Al.Canvas,e,t)).canvas()}async function YRe(e){return(await ek(this,Al.SVG,e)).svg()}function XRe(e,t,n){return yX(e,ih,U0,n).parse(t)}function KRe(e){var t=this._runtime.scales;return Le(t,e)||ne("Unrecognized scale or projection: "+e),t[e].value}var SX="width",$X="height",tk="padding",ER={skip:!0};function CX(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===tk?r.left+r.right:0)}function AX(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===tk?r.top+r.bottom:0)}function JRe(e){var t=e._signals,n=t[SX],r=t[$X],i=t[tk];function o(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,a=>{e._width=a.size,e._viewWidth=CX(e,a.size),o()},{size:n}),e._resizeHeight=e.add(null,a=>{e._height=a.size,e._viewHeight=AX(e,a.size),o()},{size:r});const s=e.add(null,o,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,s.rank=i.rank+1}function QRe(e,t,n,r,i,o){this.runAfter(s=>{let a=0;s._autosize=0,s.width()!==n&&(a=1,s.signal(SX,n,ER),s._resizeWidth.skip(!0)),s.height()!==r&&(a=1,s.signal($X,r,ER),s._resizeHeight.skip(!0)),s._viewWidth!==e&&(s._resize=1,s._viewWidth=e),s._viewHeight!==t&&(s._resize=1,s._viewHeight=t),(s._origin[0]!==i[0]||s._origin[1]!==i[1])&&(s._resize=1,s._origin=i),a&&s.run("enter"),o&&s.runAfter(l=>l.resize())},!1,1)}function ZRe(e){return this._runtime.getState(e||{data:ePe,signals:tPe,recurse:!0})}function ePe(e,t){return t.modified&&ie(t.input.value)&&e.indexOf("_:vega:_")}function tPe(e,t){return!(e==="parent"||t instanceof ih.proxy)}function nPe(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},t=>{t._trigger=!0}),this}function rPe(e,t){function n(r){e({timestamp:Date.now(),elapsed:r})}this._timers.push(WB(n,t))}function iPe(e,t,n,r){const i=e.element();i&&i.setAttribute("title",oPe(r))}function oPe(e){return e==null?"":ie(e)?kX(e):Ae(e)&&!Dl(e)?sPe(e):e+""}function sPe(e){return Object.keys(e).map(t=>{const n=e[t];return t+": "+(ie(n)?kX(n):MX(n))}).join(`
`)}function kX(e){return"["+e.map(MX).join(", ")+"]"}function MX(e){return ie(e)?"[…]":Ae(e)&&!Dl(e)?"{…}":e}function TX(e,t){const n=this;if(t=t||{},$d.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),t.logLevel!=null&&n.logLevel(t.logLevel),t.locale||e.locale){const o=Ke({},e.locale,t.locale);n.locale(LH(o.number,o.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||Al.Canvas,n._scenegraph=new GC;const r=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||iPe,n._redraw=!0,n._handler=new Km().scene(r),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=$Re(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const i=XRe(n,e,t.expr);n._runtime=i,n._signals=i.signals,n._bind=(e.bindings||[]).map(o=>({state:null,param:Ke({},o)})),i.root&&i.root.set(r),r.source=i.data.root.input,n.pulse(i.data.root.input,n.changeset().insert(r.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=CX(n,n._width),n._viewHeight=AX(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,JRe(n),pRe(n),gRe(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind)}function hy(e,t){return Le(e._signals,t)?e._signals[t]:ne("Unrecognized signal name: "+ye(t))}function OX(e,t){const n=(e._targets||[]).filter(r=>r._update&&r._update.handler===t);return n.length?n[0]:null}function SR(e,t,n,r){let i=OX(n,r);return i||(i=ZA(e,()=>r(t,n.value)),i.handler=r,e.on(n,null,i)),e}function $R(e,t,n){const r=OX(t,n);return r&&t._targets.remove(r),e}ve(TX,$d,{async evaluate(e,t,n){if(await $d.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,bRe(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(r){this.error(r)}return n&&Yy(this,n),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=e!=null?e+"":null;return t!==this._desc&&bX(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){const r=hy(this,e);return arguments.length===1?r.value:this.update(r,t,n)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",_R(e)):_R(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(Jx(e)||ne("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&($d.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(hy(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:QRe,addEventListener(e,t,n){let r=t;return n&&n.trap===!1||(r=ZA(this,t),r.raw=t),this._handler.on(e,r),this},removeEventListener(e,t){for(var n=this._handler.handlers(e),r=n.length,i,o;--r>=0;)if(o=n[r].type,i=n[r].handler,e===o&&(t===i||t===i.raw)){this._handler.off(o,i);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.indexOf(e)<0&&t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener(e,t){return SR(this,e,hy(this,e),t)},removeSignalListener(e,t){return $R(this,hy(this,e),t)},addDataListener(e,t){return SR(this,e,Ib(this,e).values,t)},removeDataListener(e,t){return $R(this,Ib(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=F6(this,null);this._globalCursor=!!e,t&&F6(this,t)}return this}else return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:rPe,events:ARe,finalize:MRe,hover:kRe,data:mRe,change:iw,insert:yRe,remove:vRe,scale:KRe,initialize:qRe,toImageURL:HRe,toCanvas:GRe,toSVG:YRe,getState:ZRe,setState:nPe});const aPe="view",Lb="[",zb="]",FX="{",NX="}",lPe=":",RX=",",uPe="@",cPe=">",fPe=/[[\]{}]/,dPe={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let PX,IX;function wu(e,t,n){return PX=t||aPe,IX=n||dPe,DX(e.trim()).map(N6)}function hPe(e){return IX[e]}function Ug(e,t,n,r,i){const o=e.length;let s=0,a;for(;t<o;++t){if(a=e[t],!s&&a===n)return t;i&&i.indexOf(a)>=0?--s:r&&r.indexOf(a)>=0&&++s}return t}function DX(e){const t=[],n=e.length;let r=0,i=0;for(;i<n;)i=Ug(e,i,RX,Lb+FX,zb+NX),t.push(e.substring(r,i).trim()),r=++i;if(t.length===0)throw"Empty event selector: "+e;return t}function N6(e){return e[0]==="["?pPe(e):gPe(e)}function pPe(e){const t=e.length;let n=1,r;if(n=Ug(e,n,zb,Lb,zb),n===t)throw"Empty between selector: "+e;if(r=DX(e.substring(1,n)),r.length!==2)throw"Between selector must have two elements: "+e;if(e=e.slice(n+1).trim(),e[0]!==cPe)throw"Expected '>' after between selector: "+e;r=r.map(N6);const i=N6(e.slice(1).trim());return i.between?{between:r,stream:i}:(i.between=r,i)}function gPe(e){const t={source:PX},n=[];let r=[0,0],i=0,o=0,s=e.length,a=0,l,u;if(e[s-1]===NX){if(a=e.lastIndexOf(FX),a>=0){try{r=mPe(e.substring(a+1,s-1))}catch{throw"Invalid throttle specification: "+e}e=e.slice(0,a).trim(),s=e.length}else throw"Unmatched right brace: "+e;a=0}if(!s)throw e;if(e[0]===uPe&&(i=++a),l=Ug(e,a,lPe),l<s&&(n.push(e.substring(o,l).trim()),o=a=++l),a=Ug(e,a,Lb),a===s)n.push(e.substring(o,s).trim());else if(n.push(e.substring(o,a).trim()),u=[],o=++a,o===s)throw"Unmatched left bracket: "+e;for(;a<s;){if(a=Ug(e,a,zb),a===s)throw"Unmatched left bracket: "+e;if(u.push(e.substring(o,a).trim()),a<s-1&&e[++a]!==Lb)throw"Expected left bracket: "+e;o=++a}if(!(s=n.length)||fPe.test(n[s-1]))throw"Invalid event selector: "+e;return s>1?(t.type=n[1],i?t.markname=n[0].slice(1):hPe(n[0])?t.marktype=n[0]:t.source=n[0]):t.type=n[0],t.type.slice(-1)==="!"&&(t.consume=!0,t.type=t.type.slice(0,-1)),u!=null&&(t.filter=u),r[0]&&(t.throttle=r[0]),r[1]&&(t.debounce=r[1]),t}function mPe(e){const t=e.split(RX);if(!e.length||t.length>2)throw e;return t.map(n=>{const r=+n;if(r!==r)throw e;return r})}function yPe(e){return Ae(e)?e:{type:e||"pad"}}const Pp=e=>+e||0,vPe=e=>({top:e,bottom:e,left:e,right:e});function bPe(e){return Ae(e)?e.signal?e:{top:Pp(e.top),bottom:Pp(e.bottom),left:Pp(e.left),right:Pp(e.right)}:vPe(Pp(e))}const Tn=e=>Ae(e)&&!ie(e)?Ke({},e):{value:e};function CR(e,t,n,r){return n!=null?(Ae(n)&&!ie(n)||ie(n)&&n.length&&Ae(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function Hn(e,t,n){for(const r in t)CR(e,r,t[r]);for(const r in n)CR(e,r,n[r],"update")}function ep(e,t,n){for(const r in t)n&&Le(n,r)||(e[r]=Ke(e[r]||{},t[r]));return e}function ad(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const nk="mark",rk="frame",ik="scope",xPe="axis",wPe="axis-domain",_Pe="axis-grid",EPe="axis-label",SPe="axis-tick",$Pe="axis-title",CPe="legend",APe="legend-band",kPe="legend-entry",MPe="legend-gradient",LX="legend-label",TPe="legend-symbol",OPe="legend-title",FPe="title",NPe="title-text",RPe="title-subtitle";function PPe(e,t,n,r,i){const o={},s={};let a,l,u,c;l="lineBreak",t==="text"&&i[l]!=null&&!ad(l,e)&&H3(o,l,i[l]),(n=="legend"||String(n).startsWith("axis"))&&(n=null),c=n===rk?i.group:n===nk?Ke({},i.mark,i[t]):null;for(l in c)u=ad(l,e)||(l==="fill"||l==="stroke")&&(ad("fill",e)||ad("stroke",e)),u||H3(o,l,c[l]);$e(r).forEach(f=>{const h=i.style&&i.style[f];for(const p in h)ad(p,e)||H3(o,p,h[p])}),e=Ke({},e);for(l in o)c=o[l],c.signal?(a=a||{})[l]=c:s[l]=c;return e.enter=Ke(s,e.enter),a&&(e.update=Ke(a,e.update)),e}function H3(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}const zX=e=>Ee(e)?ye(e):e.signal?`(${e.signal})`:BX(e);function sw(e){if(e.gradient!=null)return DPe(e);let t=e.signal?`(${e.signal})`:e.color?IPe(e.color):e.field!=null?BX(e.field):e.value!==void 0?ye(e.value):void 0;return e.scale!=null&&(t=LPe(e,t)),t===void 0&&(t=null),e.exponent!=null&&(t=`pow(${t},${av(e.exponent)})`),e.mult!=null&&(t+=`*${av(e.mult)}`),e.offset!=null&&(t+=`+${av(e.offset)}`),e.round&&(t=`round(${t})`),t}const py=(e,t,n,r)=>`(${e}(${[t,n,r].map(sw).join(",")})+'')`;function IPe(e){return e.c?py("hcl",e.h,e.c,e.l):e.h||e.s?py("hsl",e.h,e.s,e.l):e.l||e.a?py("lab",e.l,e.a,e.b):e.r||e.g||e.b?py("rgb",e.r,e.g,e.b):null}function DPe(e){const t=[e.start,e.stop,e.count].map(n=>n==null?null:ye(n));for(;t.length&&lt(t)==null;)t.pop();return t.unshift(zX(e.gradient)),`gradient(${t.join(",")})`}function av(e){return Ae(e)?"("+sw(e)+")":e}function BX(e){return jX(Ae(e)?e:{datum:e})}function jX(e){let t,n,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):ne("Invalid field reference: "+ye(e));return e.signal||(r=Ee(r)?Vs(r).map(ye).join("]["):jX(r)),t+"["+r+"]"}function LPe(e,t){const n=zX(e.scale);return e.range!=null?t=`lerp(_range(${n}), ${+e.range})`:(t!==void 0&&(t=`_scale(${n}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${n})`+(+e.band==1?"":"*"+av(e.band)),e.extra&&(t=`(datum.extra ? _scale(${n}, datum.extra.value) : ${t})`)),t==null&&(t="0")),t}function zPe(e){let t="";return e.forEach(n=>{const r=sw(n);t+=n.test?`(${n.test})?${r}:`:r}),lt(t)===":"&&(t+="null"),t}function UX(e,t,n,r,i,o){const s={};o=o||{},o.encoders={$encode:s},e=PPe(e,t,n,r,i.config);for(const a in e)s[a]=BPe(e[a],t,o,i);return o}function BPe(e,t,n,r){const i={},o={};for(const s in e)e[s]!=null&&(i[s]=UPe(jPe(e[s]),r,n,o));return{$expr:{marktype:t,channels:i},$fields:Object.keys(o),$output:Object.keys(e)}}function jPe(e){return ie(e)?zPe(e):sw(e)}function UPe(e,t,n,r){const i=Ls(e,t);return i.$fields.forEach(o=>r[o]=1),Ke(n,i.$params),i.$expr}const qPe="outer",VPe=["value","update","init","react","bind"];function AR(e,t){ne(e+' for "outer" push: '+ye(t))}function qX(e,t){const n=e.name;if(e.push===qPe)t.signals[n]||AR("No prior signal definition",n),VPe.forEach(r=>{e[r]!==void 0&&AR("Invalid property ",r)});else{const r=t.addSignal(n,e.value);e.react===!1&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}function R6(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function aw(e,t,n,r){return new R6(e,t,n,r)}function Bb(e,t){return aw("operator",e,t)}function Ie(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function q0(e,t){return t?{$field:e,$name:t}:{$field:e}}const P6=q0("key");function kR(e,t){return{$compare:e,$order:t}}function HPe(e,t){const n={$key:e};return t&&(n.$flat=!0),n}const WPe="ascending",GPe="descending";function YPe(e){return Ae(e)?(e.order===GPe?"-":"+")+lw(e.op,e.field):""}function lw(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const ok="scope",I6="view";function wn(e){return e&&e.signal}function XPe(e){return e&&e.expr}function lv(e){if(wn(e))return!0;if(Ae(e)){for(const t in e)if(lv(e[t]))return!0}return!1}function lo(e,t){return e??t}function _c(e){return e&&e.signal||e}const MR="timer";function V0(e,t){return(e.merge?JPe:e.stream?QPe:e.type?ZPe:ne("Invalid stream specification: "+ye(e)))(e,t)}function KPe(e){return e===ok?I6:e||I6}function JPe(e,t){const n=e.merge.map(i=>V0(i,t)),r=sk({merge:n},e,t);return t.addStream(r).id}function QPe(e,t){const n=V0(e.stream,t),r=sk({stream:n},e,t);return t.addStream(r).id}function ZPe(e,t){let n;e.type===MR?(n=t.event(MR,e.throttle),e={between:e.between,filter:e.filter}):n=t.event(KPe(e.source),e.type);const r=sk({stream:n},e,t);return Object.keys(r).length===1?n:t.addStream(r).id}function sk(e,t,n){let r=t.between;return r&&(r.length!==2&&ne('Stream "between" parameter must have 2 entries: '+ye(t)),e.between=[V0(r[0],n),V0(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(eIe(t.marktype,t.markname,t.markrole)),t.source===ok&&r.push("inScope(event.item)"),r.length&&(e.filter=Ls("("+r.join(")&&(")+")",n).$expr),(r=t.throttle)!=null&&(e.throttle=+r),(r=t.debounce)!=null&&(e.debounce=+r),t.consume&&(e.consume=!0),e}function eIe(e,t,n){const r="event.item";return r+(e&&e!=="*"?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}const tIe={code:"_.$value",ast:{type:"Identifier",value:"value"}};function nIe(e,t,n){const r=e.encode,i={target:n};let o=e.events,s=e.update,a=[];o||ne("Signal update missing events specification."),Ee(o)&&(o=wu(o,t.isSubscope()?ok:I6)),o=$e(o).filter(l=>l.signal||l.scale?(a.push(l),0):1),a.length>1&&(a=[iIe(a)]),o.length&&a.push(o.length>1?{merge:o}:o[0]),r!=null&&(s&&ne("Signal encode and update are mutually exclusive."),s="encode(item(),"+ye(r)+")"),i.update=Ee(s)?Ls(s,t):s.expr!=null?Ls(s.expr,t):s.value!=null?s.value:s.signal!=null?{$expr:tIe,$params:{$value:t.signalRef(s.signal)}}:ne("Invalid signal update specification."),e.force&&(i.options={force:!0}),a.forEach(l=>t.addUpdate(Ke(rIe(l,t),i)))}function rIe(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):V0(e,t)}}function iIe(e){return{signal:"["+e.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}function oIe(e,t){const n=t.getSignal(e.name);let r=e.update;e.init&&(r?ne("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=Ls(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach(i=>nIe(i,t,n.id))}const kt=e=>(t,n,r)=>aw(e,n,t||void 0,r),VX=kt("aggregate"),sIe=kt("axisticks"),HX=kt("bound"),Yo=kt("collect"),TR=kt("compare"),aIe=kt("datajoin"),WX=kt("encode"),lIe=kt("expression"),uIe=kt("facet"),cIe=kt("field"),fIe=kt("key"),dIe=kt("legendentries"),hIe=kt("load"),pIe=kt("mark"),gIe=kt("multiextent"),mIe=kt("multivalues"),yIe=kt("overlap"),vIe=kt("params"),GX=kt("prefacet"),bIe=kt("projection"),xIe=kt("proxy"),wIe=kt("relay"),YX=kt("render"),_Ie=kt("scale"),wf=kt("sieve"),EIe=kt("sortitems"),XX=kt("viewlayout"),SIe=kt("values");let $Ie=0;const KX={min:"min",max:"max",count:"sum"};function CIe(e,t){const n=e.type||"linear";VW(n)||ne("Unrecognized scale type: "+ye(n)),t.addScale(e.name,{type:n,domain:void 0})}function AIe(e,t){const n=t.getScale(e.name).params;let r;n.domain=JX(e.domain,e,t),e.range!=null&&(n.range=ZX(e,t,n)),e.interpolate!=null&&DIe(e.interpolate,n),e.nice!=null&&(n.nice=IIe(e.nice)),e.bins!=null&&(n.bins=PIe(e.bins,t));for(r in e)Le(n,r)||r==="name"||(n[r]=Li(e[r],t))}function Li(e,t){return Ae(e)?e.signal?t.signalRef(e.signal):ne("Unsupported object: "+ye(e)):e}function uv(e,t){return e.signal?t.signalRef(e.signal):e.map(n=>Li(n,t))}function uw(e){ne("Can not find data set: "+ye(e))}function JX(e,t,n){if(!e){(t.domainMin!=null||t.domainMax!=null)&&ne("No scale domain defined for domainMin/domainMax to override.");return}return e.signal?n.signalRef(e.signal):(ie(e)?kIe:e.fields?TIe:MIe)(e,t,n)}function kIe(e,t,n){return e.map(r=>Li(r,n))}function MIe(e,t,n){const r=n.getData(e.data);return r||uw(e.data),ah(t.type)?r.valuesRef(n,e.field,QX(e.sort,!1)):GW(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function TIe(e,t,n){const r=e.data,i=e.fields.reduce((o,s)=>(s=Ee(s)?{data:r,field:s}:ie(s)||s.signal?OIe(s,n):s,o.push(s),o),[]);return(ah(t.type)?FIe:GW(t.type)?NIe:RIe)(e,n,i)}function OIe(e,t){const n="_:vega:_"+$Ie++,r=Yo({});if(ie(e))r.value={$ingest:e};else if(e.signal){const i="setdata("+ye(n)+","+e.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(n,[r,wf({})]),{data:n,field:"data"}}function FIe(e,t,n){const r=QX(e.sort,!0);let i,o;const s=n.map(u=>{const c=t.getData(u.data);return c||uw(u.data),c.countsRef(t,u.field,r)}),a={groupby:P6,pulse:s};r&&(i=r.op||"count",o=r.field?lw(i,r.field):"count",a.ops=[KX[i]],a.fields=[t.fieldRef(o)],a.as=[o]),i=t.add(VX(a));const l=t.add(Yo({pulse:Ie(i)}));return o=t.add(SIe({field:P6,sort:t.sortRef(r),pulse:Ie(l)})),Ie(o)}function QX(e,t){return e&&(!e.field&&!e.op?Ae(e)?e.field="key":e={field:"key"}:!e.field&&e.op!=="count"?ne("No field provided for sort aggregate op: "+e.op):t&&e.field&&e.op&&!KX[e.op]&&ne("Multiple domain scales can not be sorted using "+e.op)),e}function NIe(e,t,n){const r=n.map(i=>{const o=t.getData(i.data);return o||uw(i.data),o.domainRef(t,i.field)});return Ie(t.add(mIe({values:r})))}function RIe(e,t,n){const r=n.map(i=>{const o=t.getData(i.data);return o||uw(i.data),o.extentRef(t,i.field)});return Ie(t.add(gIe({extents:r})))}function PIe(e,t){return e.signal||ie(e)?uv(e,t):t.objectProperty(e)}function IIe(e){return Ae(e)?{interval:Li(e.interval),step:Li(e.step)}:Li(e)}function DIe(e,t){t.interpolate=Li(e.type||e),e.gamma!=null&&(t.interpolateGamma=Li(e.gamma))}function ZX(e,t,n){const r=t.config.range;let i=e.range;if(i.signal)return t.signalRef(i.signal);if(Ee(i)){if(r&&Le(r,i))return e=Ke({},e,{range:r[i]}),ZX(e,t,n);i==="width"?i=[0,{signal:"width"}]:i==="height"?i=ah(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:ne("Unrecognized scale range value: "+ye(i))}else if(i.scheme){n.scheme=ie(i.scheme)?uv(i.scheme,t):Li(i.scheme,t),i.extent&&(n.schemeExtent=uv(i.extent,t)),i.count&&(n.schemeCount=Li(i.count,t));return}else if(i.step){n.rangeStep=Li(i.step,t);return}else{if(ah(e.type)&&!ie(i))return JX(i,e,t);ie(i)||ne("Unsupported range type: "+ye(i))}return i.map(o=>(ie(o)?uv:Li)(o,t))}function LIe(e,t){const n=t.config.projection||{},r={};for(const i in e)i!=="name"&&(r[i]=D6(e[i],i,t));for(const i in n)r[i]==null&&(r[i]=D6(n[i],i,t));t.addProjection(e.name,r)}function D6(e,t,n){return ie(e)?e.map(r=>D6(r,t,n)):Ae(e)?e.signal?n.signalRef(e.signal):t==="fit"?e:ne("Unsupported parameter object: "+ye(e)):e}const Xo="top",tp="left",np="right",su="bottom",eK="center",zIe="vertical",BIe="start",jIe="middle",UIe="end",L6="index",ak="label",qIe="offset",hh="perc",VIe="perc2",Ui="value",t1="guide-label",lk="guide-title",HIe="group-title",WIe="group-subtitle",OR="symbol",cv="gradient",z6="discrete",B6="size",GIe="shape",YIe="fill",XIe="stroke",KIe="strokeWidth",JIe="strokeDash",QIe="opacity",uk=[B6,GIe,YIe,XIe,KIe,JIe,QIe],n1={name:1,style:1,interactive:1},ft={value:0},qi={value:1},cw="group",tK="rect",ck="rule",ZIe="symbol",_f="text";function H0(e){return e.type=cw,e.interactive=e.interactive||!1,e}function ui(e,t){const n=(r,i)=>lo(e[r],lo(t[r],i));return n.isVertical=r=>zIe===lo(e.direction,t.direction||(r?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>lo(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>lo(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>lo(e.columns,lo(t.columns,+n.isVertical(!0))),n}function nK(e,t){const n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function eDe(e,t,n){const r=t.config.style[n];return r&&r[e]}function fw(e,t,n){return`item.anchor === '${BIe}' ? ${e} : item.anchor === '${UIe}' ? ${t} : ${n}`}const fk=fw(ye(tp),ye(np),ye(eK));function tDe(e){const t=e("tickBand");let n=e("tickOffset"),r,i;return t?t.signal?(r={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},i={signal:`(${t.signal}) === 'extent'`},Ae(n)||(n={signal:`(${t.signal}) === 'extent' ? 0 : ${n}`})):t==="extent"?(r=1,i=!0,n=0):(r=.5,i=!1):(r=e("bandPosition"),i=e("tickExtra")),{extra:i,band:r,offset:n}}function rK(e,t){return t?e?Ae(e)?Object.assign({},e,{offset:rK(e.offset,t)}):{value:e,offset:t}:t:e}function Mi(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=ep(e.encode,t,n1)):e.interactive=!1,e}function nDe(e,t,n,r){const i=ui(e,n),o=i.isVertical(),s=i.gradientThickness(),a=i.gradientLength();let l,u,c,f,h;o?(u=[0,1],c=[0,0],f=s,h=a):(u=[0,0],c=[1,0],f=a,h=s);const p={enter:l={opacity:ft,x:ft,y:ft,width:Tn(f),height:Tn(h)},update:Ke({},l,{opacity:qi,fill:{gradient:t,start:u,stop:c}}),exit:{opacity:ft}};return Hn(p,{stroke:i("gradientStrokeColor"),strokeWidth:i("gradientStrokeWidth")},{opacity:i("gradientOpacity")}),Mi({type:tK,role:MPe,encode:p},r)}function rDe(e,t,n,r,i){const o=ui(e,n),s=o.isVertical(),a=o.gradientThickness(),l=o.gradientLength();let u,c,f,h,p="";s?(u="y",f="y2",c="x",h="width",p="1-"):(u="x",f="x2",c="y",h="height");const g={opacity:ft,fill:{scale:t,field:Ui}};g[u]={signal:p+"datum."+hh,mult:l},g[c]=ft,g[f]={signal:p+"datum."+VIe,mult:l},g[h]=Tn(a);const m={enter:g,update:Ke({},g,{opacity:qi}),exit:{opacity:ft}};return Hn(m,{stroke:o("gradientStrokeColor"),strokeWidth:o("gradientStrokeWidth")},{opacity:o("gradientOpacity")}),Mi({type:tK,role:APe,key:Ui,from:i,encode:m},r)}const iDe=`datum.${hh}<=0?"${tp}":datum.${hh}>=1?"${np}":"${eK}"`,oDe=`datum.${hh}<=0?"${su}":datum.${hh}>=1?"${Xo}":"${jIe}"`;function FR(e,t,n,r){const i=ui(e,t),o=i.isVertical(),s=Tn(i.gradientThickness()),a=i.gradientLength();let l=i("labelOverlap"),u,c,f,h,p="";const g={enter:u={opacity:ft},update:c={opacity:qi,text:{field:ak}},exit:{opacity:ft}};return Hn(g,{fill:i("labelColor"),fillOpacity:i("labelOpacity"),font:i("labelFont"),fontSize:i("labelFontSize"),fontStyle:i("labelFontStyle"),fontWeight:i("labelFontWeight"),limit:lo(e.labelLimit,t.gradientLabelLimit)}),o?(u.align={value:"left"},u.baseline=c.baseline={signal:oDe},f="y",h="x",p="1-"):(u.align=c.align={signal:iDe},u.baseline={value:"top"},f="x",h="y"),u[f]=c[f]={signal:p+"datum."+hh,mult:a},u[h]=c[h]=s,s.offset=lo(e.labelOffset,t.gradientLabelOffset)||0,l=l?{separation:i("labelSeparation"),method:l,order:"datum."+L6}:void 0,Mi({type:_f,role:LX,style:t1,key:Ui,from:r,encode:g,overlap:l},n)}function sDe(e,t,n,r,i){const o=ui(e,t),s=n.entries,a=!!(s&&s.interactive),l=s?s.name:void 0,u=o("clipHeight"),c=o("symbolOffset"),f={data:"value"},h=`(${i}) ? datum.${qIe} : datum.${B6}`,p=u?Tn(u):{field:B6},g=`datum.${L6}`,m=`max(1, ${i})`;let y,v,b,x,w;p.mult=.5,y={enter:v={opacity:ft,x:{signal:h,mult:.5,offset:c},y:p},update:b={opacity:qi,x:v.x,y:v.y},exit:{opacity:ft}};let _=null,$=null;e.fill||(_=t.symbolBaseFillColor,$=t.symbolBaseStrokeColor),Hn(y,{fill:o("symbolFillColor",_),shape:o("symbolType"),size:o("symbolSize"),stroke:o("symbolStrokeColor",$),strokeDash:o("symbolDash"),strokeDashOffset:o("symbolDashOffset"),strokeWidth:o("symbolStrokeWidth")},{opacity:o("symbolOpacity")}),uk.forEach(M=>{e[M]&&(b[M]=v[M]={scale:e[M],field:Ui})});const S=Mi({type:ZIe,role:TPe,key:Ui,from:f,clip:u?!0:void 0,encode:y},n.symbols),C=Tn(c);C.offset=o("labelOffset"),y={enter:v={opacity:ft,x:{signal:h,offset:C},y:p},update:b={opacity:qi,text:{field:ak},x:v.x,y:v.y},exit:{opacity:ft}},Hn(y,{align:o("labelAlign"),baseline:o("labelBaseline"),fill:o("labelColor"),fillOpacity:o("labelOpacity"),font:o("labelFont"),fontSize:o("labelFontSize"),fontStyle:o("labelFontStyle"),fontWeight:o("labelFontWeight"),limit:o("labelLimit")});const T=Mi({type:_f,role:LX,style:t1,key:Ui,from:f,encode:y},n.labels);return y={enter:{noBound:{value:!u},width:ft,height:u?Tn(u):ft,opacity:ft},exit:{opacity:ft},update:b={opacity:qi,row:{signal:null},column:{signal:null}}},o.isVertical(!0)?(x=`ceil(item.mark.items.length / ${m})`,b.row.signal=`${g}%${x}`,b.column.signal=`floor(${g} / ${x})`,w={field:["row",g]}):(b.row.signal=`floor(${g} / ${m})`,b.column.signal=`${g} % ${m}`,w={field:g}),b.column.signal=`(${i})?${b.column.signal}:${g}`,r={facet:{data:r,name:"value",groupby:L6}},H0({role:ik,from:r,encode:ep(y,s,n1),marks:[S,T],name:l,interactive:a,sort:w})}function aDe(e,t){const n=ui(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}const dk='item.orient === "left"',hk='item.orient === "right"',dw=`(${dk} || ${hk})`,lDe=`datum.vgrad && ${dw}`,uDe=fw('"top"','"bottom"','"middle"'),cDe=fw('"right"','"left"','"center"'),fDe=`datum.vgrad && ${hk} ? (${cDe}) : (${dw} && !(datum.vgrad && ${dk})) ? "left" : ${fk}`,dDe=`item._anchor || (${dw} ? "middle" : "start")`,hDe=`${lDe} ? (${dk} ? -90 : 90) : 0`,pDe=`${dw} ? (datum.vgrad ? (${hk} ? "bottom" : "top") : ${uDe}) : "top"`;function gDe(e,t,n,r){const i=ui(e,t),o={enter:{opacity:ft},update:{opacity:qi,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:ft}};return Hn(o,{orient:i("titleOrient"),_anchor:i("titleAnchor"),anchor:{signal:dDe},angle:{signal:hDe},align:{signal:fDe},baseline:{signal:pDe},text:e.title,fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),baseline:i("titleBaseline")}),Mi({type:_f,role:OPe,style:lk,from:r,encode:o},n)}function mDe(e,t){let n;return Ae(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+NR(e.path)+")":e.sphere&&(n="geoShape("+NR(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function NR(e){return Ae(e)&&e.signal?e.signal:ye(e)}function iK(e){const t=e.role||"";return!t.indexOf("axis")||!t.indexOf("legend")||!t.indexOf("title")?t:e.type===cw?ik:t||nk}function yDe(e){return{marktype:e.type,name:e.name||void 0,role:e.role||iK(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function vDe(e,t){return e&&e.signal?t.signalRef(e.signal):e!==!1}function pk(e,t){const n=JH(e.type);n||ne("Unrecognized transform type: "+ye(e.type));const r=aw(n.type.toLowerCase(),null,oK(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function oK(e,t,n){const r={},i=e.params.length;for(let o=0;o<i;++o){const s=e.params[o];r[s.name]=bDe(s,t,n)}return r}function bDe(e,t,n){const r=e.type,i=t[e.name];if(r==="index")return xDe(e,t,n);if(i===void 0){e.required&&ne("Missing required "+ye(t.type)+" parameter: "+ye(e.name));return}else{if(r==="param")return wDe(e,t,n);if(r==="projection")return n.projectionRef(t[e.name])}return e.array&&!wn(i)?i.map(o=>RR(e,o,n)):RR(e,i,n)}function RR(e,t,n){const r=e.type;if(wn(t))return IR(r)?ne("Expression references can not be signals."):W3(r)?n.fieldRef(t):DR(r)?n.compareRef(t):n.signalRef(t.signal);{const i=e.expr||W3(r);return i&&_De(t)?n.exprRef(t.expr,t.as):i&&EDe(t)?q0(t.field,t.as):IR(r)?Ls(t,n):SDe(r)?Ie(n.getData(t).values):W3(r)?q0(t):DR(r)?n.compareRef(t):t}}function xDe(e,t,n){return Ee(t.from)||ne('Lookup "from" parameter must be a string literal.'),n.getData(t.from).lookupRef(n,t.key)}function wDe(e,t,n){const r=t[e.name];return e.array?(ie(r)||ne("Expected an array of sub-parameters. Instead: "+ye(r)),r.map(i=>PR(e,i,n))):PR(e,r,n)}function PR(e,t,n){const r=e.params.length;let i;for(let s=0;s<r;++s){i=e.params[s];for(const a in i.key)if(i.key[a]!==t[a]){i=null;break}if(i)break}i||ne("Unsupported parameter: "+ye(t));const o=Ke(oK(i,t,n),i.key);return Ie(n.add(vIe(o)))}const _De=e=>e&&e.expr,EDe=e=>e&&e.field,SDe=e=>e==="data",IR=e=>e==="expr",W3=e=>e==="field",DR=e=>e==="compare";function $De(e,t,n){let r,i,o,s,a;return e?(r=e.facet)&&(t||ne("Only group marks can be faceted."),r.field!=null?s=a=fv(r,n):(e.data?a=Ie(n.getData(e.data).aggregate):(o=pk(Ke({type:"aggregate",groupby:$e(r.groupby)},r.aggregate),n),o.params.key=n.keyRef(r.groupby),o.params.pulse=fv(r,n),s=a=Ie(n.add(o))),i=n.keyRef(r.groupby,!0))):s=Ie(n.add(Yo(null,[{}]))),s||(s=fv(e,n)),{key:i,pulse:s,parent:a}}function fv(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:Ie(t.getData(e.data).output)}function Wc(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}Wc.fromEntries=function(e,t){const n=t.length,r=t[n-1],i=t[n-2];let o=t[0],s=null,a=1;for(o&&o.type==="load"&&(o=t[1]),e.add(t[0]);a<n;++a)t[a].params.pulse=Ie(t[a-1]),e.add(t[a]),t[a].type==="aggregate"&&(s=t[a]);return new Wc(e,o,i,r,s)};function sK(e){return Ee(e)?e:null}function LR(e,t,n){const r=lw(n.op,n.field);let i;if(t.ops){for(let o=0,s=t.as.length;o<s;++o)if(t.as[o]===r)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((i=n.op.signal)?e.signalRef(i):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(r))}function Ip(e,t,n,r,i,o,s){const a=t[n]||(t[n]={}),l=YPe(o);let u=sK(i),c,f;if(u!=null&&(e=t.scope,u=u+(l?"|"+l:""),c=a[u]),!c){const h=o?{field:P6,pulse:t.countsRef(e,i,o)}:{field:e.fieldRef(i),pulse:Ie(t.output)};l&&(h.sort=e.sortRef(o)),f=e.add(aw(r,void 0,h)),s&&(t.index[i]=f),c=Ie(f),u!=null&&(a[u]=c)}return c}Wc.prototype={countsRef(e,t,n){const r=this,i=r.counts||(r.counts={}),o=sK(t);let s,a,l;return o!=null&&(e=r.scope,s=i[o]),s?n&&n.field&&LR(e,s.agg.params,n):(l={groupby:e.fieldRef(t,"key"),pulse:Ie(r.output)},n&&n.field&&LR(e,l,n),a=e.add(VX(l)),s=e.add(Yo({pulse:Ie(a)})),s={agg:a,ref:Ie(s)},o!=null&&(i[o]=s)),s.ref},tuplesRef(){return Ie(this.values)},extentRef(e,t){return Ip(e,this,"extent","extent",t,!1)},domainRef(e,t){return Ip(e,this,"domain","values",t,!1)},valuesRef(e,t,n){return Ip(e,this,"vals","values",t,n||!0)},lookupRef(e,t){return Ip(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return Ip(e,this,"indata","tupleindex",t,!0,!0)}};function CDe(e,t,n){const r=e.from.facet,i=r.name,o=fv(r,t);let s;r.name||ne("Facet must have a name: "+ye(r)),r.data||ne("Facet must reference a data set: "+ye(r)),r.field?s=t.add(GX({field:t.fieldRef(r.field),pulse:o})):r.groupby?s=t.add(uIe({key:t.keyRef(r.groupby),group:Ie(t.proxy(n.parent)),pulse:o})):ne("Facet must specify groupby or field: "+ye(r));const a=t.fork(),l=a.add(Yo()),u=a.add(wf({pulse:Ie(l)}));a.addData(i,new Wc(a,l,l,u)),a.addSignal("parent",null),s.params.subflow={$subflow:a.parse(e).toRuntime()}}function ADe(e,t,n){const r=t.add(GX({pulse:n.pulse})),i=t.fork();i.add(wf()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(e).toRuntime()}}function aK(e,t,n){const r=e.remove,i=e.insert,o=e.toggle,s=e.modify,a=e.values,l=t.add(Bb()),u="if("+e.trigger+',modify("'+n+'",'+[i,r,o,s,a].map(f=>f??"null").join(",")+"),0)",c=Ls(u,t);l.update=c.$expr,l.params=c.$params}function hw(e,t){const n=iK(e),r=e.type===cw,i=e.from&&e.from.facet,o=e.overlap;let s=e.layout||n===ik||n===rk,a,l,u,c,f,h,p;const g=n===nk||s||i,m=$De(e.from,r,t);l=t.add(aIe({key:m.key||(e.key?q0(e.key):void 0),pulse:m.pulse,clean:!r}));const y=Ie(l);l=u=t.add(Yo({pulse:y})),l=t.add(pIe({markdef:yDe(e),interactive:vDe(e.interactive,t),clip:mDe(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:Ie(l)}));const v=Ie(l);l=c=t.add(WX(UX(e.encode,e.type,n,e.style,t,{mod:!1,pulse:v}))),l.params.parent=t.encode(),e.transform&&e.transform.forEach($=>{const S=pk($,t),C=S.metadata;(C.generates||C.changes)&&ne("Mark transforms should not generate new data."),C.nomod||(c.params.mod=!0),S.params.pulse=Ie(l),t.add(l=S)}),e.sort&&(l=t.add(EIe({sort:t.compareRef(e.sort),pulse:Ie(l)})));const b=Ie(l);(i||s)&&(s=t.add(XX({layout:t.objectProperty(e.layout),legends:t.legends,mark:v,pulse:b})),h=Ie(s));const x=t.add(HX({mark:v,pulse:h||b}));p=Ie(x),r&&(g&&(a=t.operators,a.pop(),s&&a.pop()),t.pushState(b,h||p,y),i?CDe(e,t,m):g?ADe(e,t,m):t.parse(e),t.popState(),g&&(s&&a.push(s),a.push(x))),o&&(p=kDe(o,p,t));const w=t.add(YX({pulse:p})),_=t.add(wf({pulse:Ie(w)},void 0,t.parent()));e.name!=null&&(f=e.name,t.addData(f,new Wc(t,u,w,_)),e.on&&e.on.forEach($=>{($.insert||$.remove||$.toggle)&&ne("Marks only support modify triggers."),aK($,t,f)}))}function kDe(e,t,n){const r=e.method,i=e.bound,o=e.separation,s={separation:wn(o)?n.signalRef(o.signal):o,method:wn(r)?n.signalRef(r.signal):r,pulse:t};if(e.order&&(s.sort=n.compareRef({field:e.order})),i){const a=i.tolerance;s.boundTolerance=wn(a)?n.signalRef(a.signal):+a,s.boundScale=n.scaleRef(i.scale),s.boundOrient=i.orient}return Ie(n.add(yIe(s)))}function MDe(e,t){const n=t.config.legend,r=e.encode||{},i=ui(e,n),o=r.legend||{},s=o.name||void 0,a=o.interactive,l=o.style,u={};let c=0,f,h,p;uk.forEach(x=>e[x]?(u[x]=e[x],c=c||e[x]):0),c||ne("Missing valid scale for legend.");const g=TDe(e,t.scaleType(c)),m={title:e.title!=null,scales:u,type:g,vgrad:g!=="symbol"&&i.isVertical()},y=Ie(t.add(Yo(null,[m]))),v={enter:{x:{value:0},y:{value:0}}},b=Ie(t.add(dIe(h={type:g,scale:t.scaleRef(c),count:t.objectProperty(i("tickCount")),limit:t.property(i("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return g===cv?(p=[nDe(e,c,n,r.gradient),FR(e,n,r.labels,b)],h.count=h.count||t.signalRef(`max(2,2*floor((${_c(i.gradientLength())})/100))`)):g===z6?p=[rDe(e,c,n,r.gradient,b),FR(e,n,r.labels,b)]:(f=aDe(e,n),p=[sDe(e,n,r,b,_c(f.columns))],h.size=NDe(e,t,p[0].marks)),p=[H0({role:kPe,from:y,encode:v,marks:p,layout:f,interactive:a})],m.title&&p.push(gDe(e,n,r.title,y)),hw(H0({role:CPe,from:y,encode:ep(FDe(i,e,n),o,n1),marks:p,aria:i("aria"),description:i("description"),zindex:i("zindex"),name:s,interactive:a,style:l}),t)}function TDe(e,t){let n=e.type||OR;return!e.type&&ODe(e)===1&&(e.fill||e.stroke)&&(n=_C(t)?cv:e6(t)?z6:OR),n!==cv?n:e6(t)?z6:cv}function ODe(e){return uk.reduce((t,n)=>t+(e[n]?1:0),0)}function FDe(e,t,n){const r={enter:{},update:{}};return Hn(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function NDe(e,t,n){const r=_c(zR("size",e,n)),i=_c(zR("strokeWidth",e,n)),o=_c(RDe(n[1].encode,t,t1));return Ls(`max(ceil(sqrt(${r})+${i}),${o})`,t)}function zR(e,t,n){return t[e]?`scale("${t[e]}",datum)`:nK(e,n[0].encode)}function RDe(e,t,n){return nK("fontSize",e)||eDe("fontSize",t,n)}const PDe=`item.orient==="${tp}"?-90:item.orient==="${np}"?90:0`;function IDe(e,t){e=Ee(e)?{text:e}:e;const n=ui(e,t.config.title),r=e.encode||{},i=r.group||{},o=i.name||void 0,s=i.interactive,a=i.style,l=[],u={},c=Ie(t.add(Yo(null,[u])));return l.push(zDe(e,n,DDe(e),c)),e.subtitle&&l.push(BDe(e,n,r.subtitle,c)),hw(H0({role:FPe,from:c,encode:LDe(n,i),marks:l,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:o,interactive:s,style:a}),t)}function DDe(e){const t=e.encode;return t&&t.title||Ke({name:e.name,interactive:e.interactive,style:e.style},t)}function LDe(e,t){const n={enter:{},update:{}};return Hn(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:fk},angle:{signal:PDe},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),ep(n,t,n1)}function zDe(e,t,n,r){const i={value:0},o=e.text,s={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return Hn(s,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Mi({type:_f,role:NPe,style:HIe,from:r,encode:s},n)}function BDe(e,t,n,r){const i={value:0},o=e.subtitle,s={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return Hn(s,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Mi({type:_f,role:RPe,style:WIe,from:r,encode:s},n)}function jDe(e,t){const n=[];e.transform&&e.transform.forEach(r=>{n.push(pk(r,t))}),e.on&&e.on.forEach(r=>{aK(r,t,e.name)}),t.addDataPipeline(e.name,UDe(e,t,n))}function UDe(e,t,n){const r=[];let i=null,o=!1,s=!1,a,l,u,c,f;for(e.values?wn(e.values)||lv(e.format)?(r.push(BR(t,e)),r.push(i=Du())):r.push(i=Du({$ingest:e.values,$format:e.format})):e.url?lv(e.url)||lv(e.format)?(r.push(BR(t,e)),r.push(i=Du())):r.push(i=Du({$request:e.url,$format:e.format})):e.source&&(i=a=$e(e.source).map(h=>Ie(t.getData(h).output)),r.push(null)),l=0,u=n.length;l<u;++l)c=n[l],f=c.metadata,!i&&!f.source&&r.push(i=Du()),r.push(c),f.generates&&(s=!0),f.modifies&&!s&&(o=!0),f.source?i=c:f.changes&&(i=null);return a&&(u=a.length-1,r[0]=wIe({derive:o,pulse:u?a:a[0]}),(o||u)&&r.splice(1,0,Du())),i||r.push(Du()),r.push(wf({})),r}function Du(e){const t=Yo({},e);return t.metadata={source:!0},t}function BR(e,t){return hIe({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}const lK=e=>e===su||e===Xo,pw=(e,t,n)=>wn(e)?WDe(e.signal,t,n):e===tp||e===Xo?t:n,On=(e,t,n)=>wn(e)?VDe(e.signal,t,n):lK(e)?t:n,Ao=(e,t,n)=>wn(e)?HDe(e.signal,t,n):lK(e)?n:t,uK=(e,t,n)=>wn(e)?GDe(e.signal,t,n):e===Xo?{value:t}:{value:n},qDe=(e,t,n)=>wn(e)?YDe(e.signal,t,n):e===np?{value:t}:{value:n},VDe=(e,t,n)=>cK(`${e} === '${Xo}' || ${e} === '${su}'`,t,n),HDe=(e,t,n)=>cK(`${e} !== '${Xo}' && ${e} !== '${su}'`,t,n),WDe=(e,t,n)=>gk(`${e} === '${tp}' || ${e} === '${Xo}'`,t,n),GDe=(e,t,n)=>gk(`${e} === '${Xo}'`,t,n),YDe=(e,t,n)=>gk(`${e} === '${np}'`,t,n),cK=(e,t,n)=>(t=t!=null?Tn(t):t,n=n!=null?Tn(n):n,jR(t)&&jR(n)?(t=t?t.signal||ye(t.value):null,n=n?n.signal||ye(n.value):null,{signal:`${e} ? (${t}) : (${n})`}):[Ke({test:e},t)].concat(n||[])),jR=e=>e==null||Object.keys(e).length===1,gk=(e,t,n)=>({signal:`${e} ? (${gd(t)}) : (${gd(n)})`}),XDe=(e,t,n,r,i)=>({signal:(r!=null?`${e} === '${tp}' ? (${gd(r)}) : `:"")+(n!=null?`${e} === '${su}' ? (${gd(n)}) : `:"")+(i!=null?`${e} === '${np}' ? (${gd(i)}) : `:"")+(t!=null?`${e} === '${Xo}' ? (${gd(t)}) : `:"")+"(null)"}),gd=e=>wn(e)?e.signal:e==null?null:ye(e),KDe=(e,t)=>t===0?0:wn(e)?{signal:`(${e.signal}) * ${t}`}:{value:e*t},Cd=(e,t)=>{const n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function Qf(e,t,n,r){let i;if(t&&Le(t,e))return t[e];if(Le(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":i="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":i=e[5].toLowerCase()+e.slice(6)}return r[lk][i]}else if(e.startsWith("label")){switch(e){case"labelColor":i="fill";break;case"labelFont":case"labelFontSize":i=e[5].toLowerCase()+e.slice(6)}return r[t1][i]}return null}function UR(e){const t={};for(const n of e)if(n)for(const r in n)t[r]=1;return Object.keys(t)}function JDe(e,t){var n=t.config,r=n.style,i=n.axis,o=t.scaleType(e.scale)==="band"&&n.axisBand,s=e.orient,a,l,u;if(wn(s)){const f=UR([n.axisX,n.axisY]),h=UR([n.axisTop,n.axisBottom,n.axisLeft,n.axisRight]);a={};for(u of f)a[u]=On(s,Qf(u,n.axisX,i,r),Qf(u,n.axisY,i,r));l={};for(u of h)l[u]=XDe(s.signal,Qf(u,n.axisTop,i,r),Qf(u,n.axisBottom,i,r),Qf(u,n.axisLeft,i,r),Qf(u,n.axisRight,i,r))}else a=s===Xo||s===su?n.axisX:n.axisY,l=n["axis"+s[0].toUpperCase()+s.slice(1)];return a||l||o?Ke({},i,a,l,o):i}function QDe(e,t,n,r){const i=ui(e,t),o=e.orient;let s,a;const l={enter:s={opacity:ft},update:a={opacity:qi},exit:{opacity:ft}};Hn(l,{stroke:i("domainColor"),strokeCap:i("domainCap"),strokeDash:i("domainDash"),strokeDashOffset:i("domainDashOffset"),strokeWidth:i("domainWidth"),strokeOpacity:i("domainOpacity")});const u=qR(e,0),c=qR(e,1);return s.x=a.x=On(o,u,ft),s.x2=a.x2=On(o,c),s.y=a.y=Ao(o,u,ft),s.y2=a.y2=Ao(o,c),Mi({type:ck,role:wPe,from:r,encode:l},n)}function qR(e,t){return{scale:e.scale,range:t}}function ZDe(e,t,n,r,i){const o=ui(e,t),s=e.orient,a=e.gridScale,l=pw(s,1,-1),u=eLe(e.offset,l);let c,f,h;const p={enter:c={opacity:ft},update:h={opacity:qi},exit:f={opacity:ft}};Hn(p,{stroke:o("gridColor"),strokeCap:o("gridCap"),strokeDash:o("gridDash"),strokeDashOffset:o("gridDashOffset"),strokeOpacity:o("gridOpacity"),strokeWidth:o("gridWidth")});const g={scale:e.scale,field:Ui,band:i.band,extra:i.extra,offset:i.offset,round:o("tickRound")},m=On(s,{signal:"height"},{signal:"width"}),y=a?{scale:a,range:0,mult:l,offset:u}:{value:0,offset:u},v=a?{scale:a,range:1,mult:l,offset:u}:Ke(m,{mult:l,offset:u});return c.x=h.x=On(s,g,y),c.y=h.y=Ao(s,g,y),c.x2=h.x2=Ao(s,v),c.y2=h.y2=On(s,v),f.x=On(s,g),f.y=Ao(s,g),Mi({type:ck,role:_Pe,key:Ui,from:r,encode:p},n)}function eLe(e,t){if(t!==1)if(!Ae(e))e=wn(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);else{let n=e=Ke({},e);for(;n.mult!=null;)if(Ae(n.mult))n=n.mult=Ke({},n.mult);else return n.mult=wn(t)?{signal:`(${n.mult}) * (${t.signal})`}:n.mult*t,e;n.mult=t}return e}function tLe(e,t,n,r,i,o){const s=ui(e,t),a=e.orient,l=pw(a,-1,1);let u,c,f;const h={enter:u={opacity:ft},update:f={opacity:qi},exit:c={opacity:ft}};Hn(h,{stroke:s("tickColor"),strokeCap:s("tickCap"),strokeDash:s("tickDash"),strokeDashOffset:s("tickDashOffset"),strokeOpacity:s("tickOpacity"),strokeWidth:s("tickWidth")});const p=Tn(i);p.mult=l;const g={scale:e.scale,field:Ui,band:o.band,extra:o.extra,offset:o.offset,round:s("tickRound")};return f.y=u.y=On(a,ft,g),f.y2=u.y2=On(a,p),c.x=On(a,g),f.x=u.x=Ao(a,ft,g),f.x2=u.x2=Ao(a,p),c.y=Ao(a,g),Mi({type:ck,role:SPe,key:Ui,from:r,encode:h},n)}function G3(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}function nLe(e,t,n,r,i,o){const s=ui(e,t),a=e.orient,l=e.scale,u=pw(a,-1,1),c=_c(s("labelFlush")),f=_c(s("labelFlushOffset")),h=s("labelAlign"),p=s("labelBaseline");let g=c===0||!!c,m;const y=Tn(i);y.mult=u,y.offset=Tn(s("labelPadding")||0),y.offset.mult=u;const v={scale:l,field:Ui,band:.5,offset:rK(o.offset,s("labelOffset"))},b=On(a,g?G3(l,c,'"left"','"right"','"center"'):{value:"center"},qDe(a,"left","right")),x=On(a,uK(a,"bottom","top"),g?G3(l,c,'"top"','"bottom"','"middle"'):{value:"middle"}),w=G3(l,c,`-(${f})`,f,0);g=g&&f;const _={opacity:ft,x:On(a,v,y),y:Ao(a,v,y)},$={enter:_,update:m={opacity:qi,text:{field:ak},x:_.x,y:_.y,align:b,baseline:x},exit:{opacity:ft,x:_.x,y:_.y}};Hn($,{dx:!h&&g?On(a,w):null,dy:!p&&g?Ao(a,w):null}),Hn($,{angle:s("labelAngle"),fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontWeight:s("labelFontWeight"),fontStyle:s("labelFontStyle"),limit:s("labelLimit"),lineHeight:s("labelLineHeight")},{align:h,baseline:p});const S=s("labelBound");let C=s("labelOverlap");return C=C||S?{separation:s("labelSeparation"),method:C,order:"datum.index",bound:S?{scale:l,orient:a,tolerance:S}:null}:void 0,m.align!==b&&(m.align=Cd(m.align,b)),m.baseline!==x&&(m.baseline=Cd(m.baseline,x)),Mi({type:_f,role:EPe,style:t1,key:Ui,from:r,encode:$,overlap:C},n)}function rLe(e,t,n,r){const i=ui(e,t),o=e.orient,s=pw(o,-1,1);let a,l;const u={enter:a={opacity:ft,anchor:Tn(i("titleAnchor",null)),align:{signal:fk}},update:l=Ke({},a,{opacity:qi,text:Tn(e.title)}),exit:{opacity:ft}},c={signal:`lerp(range("${e.scale}"), ${fw(0,1,.5)})`};return l.x=On(o,c),l.y=Ao(o,c),a.angle=On(o,ft,KDe(s,90)),a.baseline=On(o,uK(o,su,Xo),{value:su}),l.angle=a.angle,l.baseline=a.baseline,Hn(u,{fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),angle:i("titleAngle"),baseline:i("titleBaseline")}),iLe(i,o,u,n),u.update.align=Cd(u.update.align,a.align),u.update.angle=Cd(u.update.angle,a.angle),u.update.baseline=Cd(u.update.baseline,a.baseline),Mi({type:_f,role:$Pe,style:lk,from:r,encode:u},n)}function iLe(e,t,n,r){const i=(a,l)=>a!=null?(n.update[l]=Cd(Tn(a),n.update[l]),!1):!ad(l,r),o=i(e("titleX"),"x"),s=i(e("titleY"),"y");n.enter.auto=s===o?Tn(s):On(t,Tn(s),Tn(o))}function oLe(e,t){const n=JDe(e,t),r=e.encode||{},i=r.axis||{},o=i.name||void 0,s=i.interactive,a=i.style,l=ui(e,n),u=tDe(l),c={scale:e.scale,ticks:!!l("ticks"),labels:!!l("labels"),grid:!!l("grid"),domain:!!l("domain"),title:e.title!=null},f=Ie(t.add(Yo({},[c]))),h=Ie(t.add(sIe({scale:t.scaleRef(e.scale),extra:t.property(u.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),p=[];let g;return c.grid&&p.push(ZDe(e,n,r.grid,h,u)),c.ticks&&(g=l("tickSize"),p.push(tLe(e,n,r.ticks,h,g,u))),c.labels&&(g=c.ticks?g:0,p.push(nLe(e,n,r.labels,h,g,u))),c.domain&&p.push(QDe(e,n,r.domain,f)),c.title&&p.push(rLe(e,n,r.title,f)),hw(H0({role:xPe,from:f,encode:ep(sLe(l,e),i,n1),marks:p,aria:l("aria"),description:l("description"),zindex:l("zindex"),name:o,interactive:s,style:a}),t)}function sLe(e,t){const n={enter:{},update:{}};return Hn(n,{orient:e("orient"),offset:e("offset")||0,position:lo(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function fK(e,t,n){const r=$e(e.signals),i=$e(e.scales);return n||r.forEach(o=>qX(o,t)),$e(e.projections).forEach(o=>LIe(o,t)),i.forEach(o=>CIe(o,t)),$e(e.data).forEach(o=>jDe(o,t)),i.forEach(o=>AIe(o,t)),(n||r).forEach(o=>oIe(o,t)),$e(e.axes).forEach(o=>oLe(o,t)),$e(e.marks).forEach(o=>hw(o,t)),$e(e.legends).forEach(o=>MDe(o,t)),e.title&&IDe(e.title,t),t.parseLambdas(),t}const aLe=e=>ep({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e);function lLe(e,t){const n=t.config,r=Ie(t.root=t.add(Bb())),i=uLe(e,n);i.forEach(u=>qX(u,t)),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;const o=t.add(Yo()),s=t.add(WX(UX(aLe(e.encode),cw,rk,e.style,t,{pulse:Ie(o)}))),a=t.add(XX({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:Ie(s)}));t.operators.pop(),t.pushState(Ie(s),Ie(a),null),fK(e,t,i),t.operators.push(a);let l=t.add(HX({mark:r,pulse:Ie(a)}));return l=t.add(YX({pulse:Ie(l)})),l=t.add(wf({pulse:Ie(l)})),t.addData("root",new Wc(t,o,o,l)),t}function Dp(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function uLe(e,t){const n=s=>lo(e[s],t[s]),r=[Dp("background",n("background")),Dp("autosize",yPe(n("autosize"))),Dp("padding",bPe(n("padding"))),Dp("width",n("width")||0),Dp("height",n("height")||0)],i=r.reduce((s,a)=>(s[a.name]=a,s),{}),o={};return $e(e.signals).forEach(s=>{Le(i,s.name)?s=Ke(i[s.name],s):r.push(s),o[s.name]=s}),$e(t.signals).forEach(s=>{!Le(o,s.name)&&!Le(i,s.name)&&r.push(s)}),r}function dK(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function VR(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}dK.prototype=VR.prototype={parse(e){return fK(e,this)},fork(){return new VR(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){const t=e instanceof R6?Ie(e):e;return this.add(xIe({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;this.root&&(this.root.root=!0);for(e in this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(r,i,o){let s,a;r&&(s=r.data||(r.data={}),a=s[i]||(s[i]=[]),a.push(o))}for(e in this.data){t=this.data[e],n(t.input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values");for(const r in t.index)n(t.index[r],e,"index:"+r)}return this},pushState(e,t,n){this._encode.push(Ie(this.add(wf({pulse:e})))),this._parent.push(t),this._lookup.push(n?Ie(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return lt(this._parent)},encode(){return lt(this._encode)},lookup(){return lt(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(Ee(e))return q0(e,t);e.signal||ne("Unsupported field reference: "+ye(e));const n=e.signal;let r=this.field[n];if(!r){const i={name:this.signalRef(n)};t&&(i.as=t),this.field[n]=r=Ie(this.add(cIe(i)))}return r},compareRef(e){let t=!1;const n=o=>wn(o)?(t=!0,this.signalRef(o.signal)):XPe(o)?(t=!0,this.exprRef(o.expr)):o,r=$e(e.field).map(n),i=$e(e.order).map(n);return t?Ie(this.add(TR({fields:r,orders:i}))):kR(r,i)},keyRef(e,t){let n=!1;const r=o=>wn(o)?(n=!0,Ie(i[o.signal])):o,i=this.signals;return e=$e(e).map(r),n?Ie(this.add(fIe({fields:e,flat:t}))):HPe(e,t)},sortRef(e){if(!e)return e;const t=lw(e.op,e.field),n=e.order||WPe;return n.signal?Ie(this.add(TR({fields:t,orders:this.signalRef(n.signal)}))):kR(t,n)},event(e,t){const n=e+":"+t;if(!this.events[n]){const r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},hasOwnSignal(e){return Le(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&ne("Duplicate signal name: "+ye(e));const n=t instanceof R6?t:this.add(Bb(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||ne("Unrecognized signal name: "+ye(e)),this.signals[e]},signalRef(e){return this.signals[e]?Ie(this.signals[e]):(Le(this.lambdas,e)||(this.lambdas[e]=this.add(Bb(null))),Ie(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,n=e.length;t<n;++t){const r=e[t],i=Ls(r,this),o=this.lambdas[r];o.params=i.$params,o.update=i.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return!e||!Ae(e)?e:this.signalRef(e.signal||mk(e))},exprRef(e,t){const n={expr:Ls(e,this)};return t&&(n.expr.$name=t),Ie(this.add(lIe(n)))},addBinding(e,t){this.bindings||ne("Nested signals do not support binding: "+ye(e)),this.bindings.push(Ke({signal:e},t))},addScaleProj(e,t){Le(this.scales,e)&&ne("Duplicate scale or projection name: "+ye(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,_Ie(t))},addProjection(e,t){this.addScaleProj(e,bIe(t))},getScale(e){return this.scales[e]||ne("Unrecognized scale name: "+ye(e)),this.scales[e]},scaleRef(e){return Ie(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return Le(this.data,e)&&ne("Duplicate data set name: "+ye(e)),this.data[e]=t},getData(e){return this.data[e]||ne("Undefined data set name: "+ye(e)),this.data[e]},addDataPipeline(e,t){return Le(this.data,e)&&ne("Duplicate data set name: "+ye(e)),this.addData(e,Wc.fromEntries(this,t))}};function mk(e){return(ie(e)?cLe:fLe)(e)}function cLe(e){const t=e.length;let n="[";for(let r=0;r<t;++r){const i=e[r];n+=(r>0?",":"")+(Ae(i)?i.signal||mk(i):ye(i))}return n+"]"}function fLe(e){let t="{",n=0,r,i;for(r in e)i=e[r],t+=(++n>1?",":"")+ye(r)+":"+(Ae(i)?i.signal||mk(i):ye(i));return t+"}"}function dLe(){const e="sans-serif",r="#4c78a8",i="#000",o="#888",s="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:r},area:{fill:r},image:null,line:{stroke:r,strokeWidth:2},path:{stroke:r},rect:{fill:r},rule:{stroke:i},shape:{stroke:r},symbol:{fill:r,size:64},text:{fill:i,font:e,fontSize:11},trail:{fill:r,size:2},style:{"guide-label":{fill:i,font:e,fontSize:10},"guide-title":{fill:i,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:i,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:i,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:s},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:o,grid:!1,gridWidth:1,gridColor:s,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:o,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:s,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:o,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function hLe(e,t,n){return Ae(e)||ne("Input Vega specification must be an object."),t=Wh(dLe(),t,e.config),lLe(e,new dK(t,n)).toRuntime()}var pLe="5.25.0";Ke(ih,fAe,QTe,T9e,a7e,p7e,j7e,x7e,q7e,W7e,nOe,uOe);const gLe=Object.freeze(Object.defineProperty({__proto__:null,Bounds:cn,CanvasHandler:Km,CanvasRenderer:kb,DATE:ti,DAY:sr,DAYOFYEAR:Ds,Dataflow:$d,Debug:HV,Error:a$,EventStream:Tx,Gradient:lG,GroupItem:qx,HOURS:Ci,Handler:iu,Info:VV,Item:Ux,MILLISECONDS:Do,MINUTES:Ai,MONTH:dr,Marks:ki,MultiPulse:A$,None:qV,Operator:Tt,Parameters:Mx,Pulse:Ll,QUARTER:ei,RenderType:Al,Renderer:Ws,ResourceLoader:OC,SECONDS:Gi,SVGHandler:XC,SVGRenderer:tA,SVGStringRenderer:nA,Scenegraph:GC,TIME_UNITS:b$,Transform:Z,View:TX,WEEK:vn,Warn:l$,YEAR:qn,accessor:li,accessorFields:fr,accessorName:tn,array:$e,ascending:Ex,bandwidthNRD:O$,bin:eW,bootstrapCI:tW,boundClip:nY,boundContext:Wm,boundItem:a6,boundMark:AG,boundStroke:Ua,changeset:vf,clampRange:nH,codegenExpression:iX,compare:h$,constant:mr,cumulativeLogNormal:D$,cumulativeNormal:Fx,cumulativeUniform:j$,dayofyear:pH,debounce:p$,defaultLocale:_$,definition:JH,densityLogNormal:I$,densityNormal:F$,densityUniform:B$,domChild:qr,domClear:go,domCreate:$l,domFind:YC,dotbin:nW,error:ne,expressionFunction:dn,extend:Ke,extent:Is,extentIndex:rH,falsy:il,fastmap:Yh,field:Zr,flush:iH,font:Yx,fontFamily:Xm,fontSize:Hs,format:Gy,formatLocale:yb,formats:$$,hasOwnProperty:Le,id:Rm,identity:gr,inferType:BH,inferTypes:jH,ingest:xt,inherits:ve,inrange:dd,interpolate:EC,interpolateColors:Bx,interpolateRange:YW,intersect:QG,intersectBoxLine:hd,intersectPath:FC,intersectPoint:NC,intersectRule:mG,isArray:ie,isBoolean:bu,isDate:Dl,isFunction:Je,isIterable:oH,isNumber:St,isObject:Ae,isRegExp:sH,isString:Ee,isTuple:Ax,key:g$,lerp:aH,lineHeight:nu,loader:$x,locale:LH,logger:u$,lruCache:lH,markup:eA,merge:uH,mergeConfig:Wh,multiLineOffset:VC,one:Hh,pad:cH,panLinear:KV,panLog:JV,panPow:QV,panSymlog:ZV,parse:hLe,parseExpression:qA,parseSelector:wu,path:Uh,pathCurves:kC,pathEqual:rY,pathParse:lh,pathRectangle:fG,pathRender:R0,pathSymbols:cG,pathTrail:dG,peek:lt,point:Kx,projection:pA,quantileLogNormal:L$,quantileNormal:Nx,quantileUniform:U$,quantiles:M$,quantizeInterpolator:XW,quarter:eH,quartiles:T$,get random(){return Yi},randomInteger:gCe,randomKDE:R$,randomLCG:pCe,randomLogNormal:iW,randomMixture:oW,randomNormal:N$,randomUniform:sW,read:VH,regressionConstant:q$,regressionExp:lW,regressionLinear:V$,regressionLoess:fW,regressionLog:aW,regressionPoly:cW,regressionPow:uW,regressionQuad:H$,renderModule:Jx,repeat:sg,resetDefaultLocale:f$e,resetSVGClipId:pG,resetSVGDefIds:mTe,responseType:qH,runtimeContext:yX,sampleCurve:Px,sampleLogNormal:P$,sampleNormal:Ox,sampleUniform:z$,scale:vt,sceneEqual:rA,sceneFromJSON:MG,scenePickVisit:_b,sceneToJSON:kG,sceneVisit:Lo,sceneZOrder:RC,scheme:SC,serializeXML:VG,setRandom:dCe,span:Pm,splitAccessPath:Vs,stringValue:ye,textMetrics:Co,timeBin:OH,timeFloor:wH,timeFormatLocale:O0,timeInterval:Xh,timeOffset:SH,timeSequence:AH,timeUnitSpecifier:hH,timeUnits:x$,toBoolean:m$,toDate:y$,toNumber:ar,toSet:Io,toString:v$,transform:QH,transforms:ih,truncate:fH,truthy:Wi,tupleid:De,typeParsers:JS,utcFloor:_H,utcInterval:Kh,utcOffset:$H,utcSequence:kH,utcdayofyear:yH,utcquarter:tH,utcweek:vH,version:pLe,visitArray:fl,week:gH,writeConfig:Gh,zero:yl,zoomLinear:c$,zoomLog:f$,zoomPow:mb,zoomSymlog:d$},Symbol.toStringTag,{value:"Module"}));function mLe(e,t,n){let r;t.x2&&(t.x?(n&&e.x>e.x2&&(r=e.x,e.x=e.x2,e.x2=r),e.width=e.x2-e.x):e.x=e.x2-(e.width||0)),t.xc&&(e.x=e.xc-(e.width||0)/2),t.y2&&(t.y?(n&&e.y>e.y2&&(r=e.y,e.y=e.y2,e.y2=r),e.height=e.y2-e.y):e.y=e.y2-(e.height||0)),t.yc&&(e.y=e.yc-(e.height||0)/2)}var yLe={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},vLe={"*":(e,t)=>e*t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"/":(e,t)=>e/t,"%":(e,t)=>e%t,">":(e,t)=>e>t,"<":(e,t)=>e<t,"<=":(e,t)=>e<=t,">=":(e,t)=>e>=t,"==":(e,t)=>e==t,"!=":(e,t)=>e!=t,"===":(e,t)=>e===t,"!==":(e,t)=>e!==t,"&":(e,t)=>e&t,"|":(e,t)=>e|t,"^":(e,t)=>e^t,"<<":(e,t)=>e<<t,">>":(e,t)=>e>>t,">>>":(e,t)=>e>>>t},bLe={"+":e=>+e,"-":e=>-e,"~":e=>~e,"!":e=>!e};const xLe=Array.prototype.slice,Lu=(e,t,n)=>{const r=n?n(t[0]):t[0];return r[e].apply(r,xLe.call(t,1))},wLe=(e,t,n,r,i,o,s)=>new Date(e,t||0,n??1,r||0,i||0,o||0,s||0);var _Le={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(e,t,n)=>Math.max(t,Math.min(n,e)),now:Date.now,utc:Date.UTC,datetime:wLe,date:e=>new Date(e).getDate(),day:e=>new Date(e).getDay(),year:e=>new Date(e).getFullYear(),month:e=>new Date(e).getMonth(),hours:e=>new Date(e).getHours(),minutes:e=>new Date(e).getMinutes(),seconds:e=>new Date(e).getSeconds(),milliseconds:e=>new Date(e).getMilliseconds(),time:e=>new Date(e).getTime(),timezoneoffset:e=>new Date(e).getTimezoneOffset(),utcdate:e=>new Date(e).getUTCDate(),utcday:e=>new Date(e).getUTCDay(),utcyear:e=>new Date(e).getUTCFullYear(),utcmonth:e=>new Date(e).getUTCMonth(),utchours:e=>new Date(e).getUTCHours(),utcminutes:e=>new Date(e).getUTCMinutes(),utcseconds:e=>new Date(e).getUTCSeconds(),utcmilliseconds:e=>new Date(e).getUTCMilliseconds(),length:e=>e.length,join:function(){return Lu("join",arguments)},indexof:function(){return Lu("indexOf",arguments)},lastindexof:function(){return Lu("lastIndexOf",arguments)},slice:function(){return Lu("slice",arguments)},reverse:e=>e.slice().reverse(),parseFloat,parseInt,upper:e=>String(e).toUpperCase(),lower:e=>String(e).toLowerCase(),substring:function(){return Lu("substring",arguments,String)},split:function(){return Lu("split",arguments,String)},replace:function(){return Lu("replace",arguments,String)},trim:e=>String(e).trim(),regexp:RegExp,test:(e,t)=>RegExp(e).test(t)};const ELe=["view","item","group","xy","x","y"],j6=new Set([Function,eval,setTimeout,setInterval]);typeof setImmediate=="function"&&j6.add(setImmediate);const SLe={Literal:(e,t)=>t.value,Identifier:(e,t)=>{const n=t.name;return e.memberDepth>0?n:n==="datum"?e.datum:n==="event"?e.event:n==="item"?e.item:yLe[n]||e.params["$"+n]},MemberExpression:(e,t)=>{const n=!t.computed,r=e(t.object);n&&(e.memberDepth+=1);const i=e(t.property);if(n&&(e.memberDepth-=1),j6.has(r[i])){console.error(`Prevented interpretation of member "${i}" which could lead to insecure code execution`);return}return r[i]},CallExpression:(e,t)=>{const n=t.arguments;let r=t.callee.name;return r.startsWith("_")&&(r=r.slice(1)),r==="if"?e(n[0])?e(n[1]):e(n[2]):(e.fn[r]||_Le[r]).apply(e.fn,n.map(e))},ArrayExpression:(e,t)=>t.elements.map(e),BinaryExpression:(e,t)=>vLe[t.operator](e(t.left),e(t.right)),UnaryExpression:(e,t)=>bLe[t.operator](e(t.argument)),ConditionalExpression:(e,t)=>e(t.test)?e(t.consequent):e(t.alternate),LogicalExpression:(e,t)=>t.operator==="&&"?e(t.left)&&e(t.right):e(t.left)||e(t.right),ObjectExpression:(e,t)=>t.properties.reduce((n,r)=>{e.memberDepth+=1;const i=e(r.key);return e.memberDepth-=1,j6.has(e(r.value))?console.error(`Prevented interpretation of property "${i}" which could lead to insecure code execution`):n[i]=e(r.value),n},{})};function Lp(e,t,n,r,i,o){const s=a=>SLe[a.type](s,a);return s.memberDepth=0,s.fn=Object.create(t),s.params=n,s.datum=r,s.event=i,s.item=o,ELe.forEach(a=>s.fn[a]=function(){return i.vega[a](...arguments)}),s(e)}var $Le={operator(e,t){const n=t.ast,r=e.functions;return i=>Lp(n,r,i)},parameter(e,t){const n=t.ast,r=e.functions;return(i,o)=>Lp(n,r,o,i)},event(e,t){const n=t.ast,r=e.functions;return i=>Lp(n,r,void 0,void 0,i)},handler(e,t){const n=t.ast,r=e.functions;return(i,o)=>{const s=o.item&&o.item.datum;return Lp(n,r,i,s,o)}},encode(e,t){const{marktype:n,channels:r}=t,i=e.functions,o=n==="group"||n==="image"||n==="rect";return(s,a)=>{const l=s.datum;let u=0,c;for(const f in r)c=Lp(r[f].ast,i,a,l,void 0,s),s[f]!==c&&(s[f]=c,u=1);return n!=="rule"&&mLe(s,r,o),u}}};const CLe="vega-lite",ALe='Dominik Moritz, Kanit "Ham" Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer',kLe="5.13.0",MLe=["Kanit Wongsuphasawat (http://kanitw.yellowpigz.com)","Dominik Moritz (https://www.domoritz.de)","Arvind Satyanarayan (https://arvindsatya.com)","Jeffrey Heer (https://jheer.org)"],TLe="https://vega.github.io/vega-lite/",OLe="Vega-Lite is a concise high-level language for interactive visualization.",FLe=["vega","chart","visualization"],NLe="build/vega-lite.js",RLe="build/vega-lite.min.js",PLe="build/vega-lite.min.js",ILe="build/src/index",DLe="build/src/index.d.ts",LLe={vl2pdf:"./bin/vl2pdf",vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2vg:"./bin/vl2vg"},zLe=["bin","build","src","vega-lite*","tsconfig.json"],BLe={changelog:"conventional-changelog -p angular -r 2",prebuild:"yarn clean:build",build:"yarn build:only","build:only":"tsc -p tsconfig.build.json && rollup -c","prebuild:examples":"yarn build:only","build:examples":"yarn data && TZ=America/Los_Angeles scripts/build-examples.sh","prebuild:examples-full":"yarn build:only","build:examples-full":"TZ=America/Los_Angeles scripts/build-examples.sh 1","build:example":"TZ=America/Los_Angeles scripts/build-example.sh","build:toc":"yarn build:jekyll && scripts/generate-toc","build:site":"rollup -c site/rollup.config.mjs","build:jekyll":"pushd site && bundle exec jekyll build -q && popd","build:versions":"scripts/update-version.sh",clean:"yarn clean:build && del-cli 'site/data/*' 'examples/compiled/*.png' && find site/examples ! -name 'index.md' ! -name 'data' -type f -delete","clean:build":"del-cli 'build/*' !build/vega-lite-schema.json",data:"rsync -r node_modules/vega-datasets/data/* site/data",schema:"mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/",renameschema:"scripts/rename-schema.sh",presite:"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh",site:"yarn site:only","site:only":"pushd site && bundle exec jekyll serve -I -l && popd",prettierbase:"prettier '**/*.{md,css,yml}'",format:"eslint . --fix && yarn prettierbase --write",lint:"eslint . && yarn prettierbase --check",jest:"NODE_OPTIONS=--experimental-vm-modules npx jest",test:"yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn test:runtime","test:cover":"yarn jest --collectCoverage test/","test:inspect":"node --inspect-brk --experimental-vm-modules ./node_modules/.bin/jest --runInBand test","test:runtime":"NODE_OPTIONS=--experimental-vm-modules TZ=America/Los_Angeles npx jest test-runtime/ --config test-runtime/jest-config.json","test:runtime:generate":"yarn build:only && del-cli test-runtime/resources && VL_GENERATE_TESTS=true yarn test:runtime",watch:"tsc -p tsconfig.build.json -w","watch:site":"yarn build:site -w","watch:test":"yarn jest --watch test/","watch:test:runtime":"NODE_OPTIONS=--experimental-vm-modules TZ=America/Los_Angeles npx jest --watch test-runtime/ --config test-runtime/jest-config.json",release:"release-it"},jLe={type:"git",url:"https://github.com/vega/vega-lite.git"},ULe="BSD-3-Clause",qLe={url:"https://github.com/vega/vega-lite/issues"},VLe={"@babel/core":"^7.21.8","@babel/plugin-proposal-class-properties":"^7.18.6","@babel/preset-env":"^7.21.5","@babel/preset-typescript":"^7.21.5","@release-it/conventional-changelog":"^5.1.1","@rollup/plugin-alias":"^5.0.0","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^25.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.2","@rollup/plugin-terser":"^0.4.1","@types/chai":"^4.3.5","@types/d3":"^7.4.0","@types/jest":"^27.4.1","@types/pako":"^2.0.0","@typescript-eslint/eslint-plugin":"^5.59.5","@typescript-eslint/parser":"^5.59.5",ajv:"^8.12.0","ajv-formats":"^2.1.1",chai:"^4.3.7",cheerio:"^1.0.0-rc.12","conventional-changelog-cli":"^3.0.0",d3:"^7.8.4","del-cli":"^5.0.0",eslint:"^8.40.0","eslint-config-prettier":"^8.8.0","eslint-plugin-jest":"^27.2.1","eslint-plugin-prettier":"^4.2.1","highlight.js":"^11.8.0",jest:"^27.5.1","jest-dev-server":"^6.1.1",mkdirp:"^3.0.1",pako:"^2.1.0",prettier:"^2.8.8",puppeteer:"^15.0.0","release-it":"^15.10.3",rollup:"^3.21.6","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-sourcemaps":"^0.6.3",serve:"^14.2.0",terser:"^5.17.3","ts-jest":"^29.1.0","ts-json-schema-generator":"^1.2.0",typescript:"~4.9.5","vega-cli":"^5.25.0","vega-datasets":"^2.7.0","vega-embed":"^6.22.1","vega-tooltip":"^0.32.0","yaml-front-matter":"^4.1.1"},HLe={"@types/clone":"~2.1.1",clone:"~2.1.2","fast-deep-equal":"~3.1.3","fast-json-stable-stringify":"~2.1.0","json-stringify-pretty-compact":"~3.0.0",tslib:"~2.5.0","vega-event-selector":"~3.0.1","vega-expression":"~5.1.0","vega-util":"~1.17.2",yargs:"~17.7.2"},WLe={vega:"^5.24.0"},GLe={node:">=16"},YLe={name:CLe,author:ALe,version:kLe,collaborators:MLe,homepage:TLe,description:OLe,keywords:FLe,main:NLe,unpkg:RLe,jsdelivr:PLe,module:ILe,types:DLe,bin:LLe,files:zLe,scripts:BLe,repository:jLe,license:ULe,bugs:qLe,devDependencies:VLe,dependencies:HLe,peerDependencies:WLe,engines:GLe};var hK={exports:{}};(function(e){var t=function(){function n(h,p){return p!=null&&h instanceof p}var r;try{r=Map}catch{r=function(){}}var i;try{i=Set}catch{i=function(){}}var o;try{o=Promise}catch{o=function(){}}function s(h,p,g,m,y){typeof p=="object"&&(g=p.depth,m=p.prototype,y=p.includeNonEnumerable,p=p.circular);var v=[],b=[],x=typeof Buffer<"u";typeof p>"u"&&(p=!0),typeof g>"u"&&(g=1/0);function w(_,$){if(_===null)return null;if($===0)return _;var S,C;if(typeof _!="object")return _;if(n(_,r))S=new r;else if(n(_,i))S=new i;else if(n(_,o))S=new o(function(R,D){_.then(function(z){R(w(z,$-1))},function(z){D(w(z,$-1))})});else if(s.__isArray(_))S=[];else if(s.__isRegExp(_))S=new RegExp(_.source,f(_)),_.lastIndex&&(S.lastIndex=_.lastIndex);else if(s.__isDate(_))S=new Date(_.getTime());else{if(x&&Buffer.isBuffer(_))return Buffer.allocUnsafe?S=Buffer.allocUnsafe(_.length):S=new Buffer(_.length),_.copy(S),S;n(_,Error)?S=Object.create(_):typeof m>"u"?(C=Object.getPrototypeOf(_),S=Object.create(C)):(S=Object.create(m),C=m)}if(p){var T=v.indexOf(_);if(T!=-1)return b[T];v.push(_),b.push(S)}n(_,r)&&_.forEach(function(R,D){var z=w(D,$-1),U=w(R,$-1);S.set(z,U)}),n(_,i)&&_.forEach(function(R){var D=w(R,$-1);S.add(D)});for(var M in _){var E;C&&(E=Object.getOwnPropertyDescriptor(C,M)),!(E&&E.set==null)&&(S[M]=w(_[M],$-1))}if(Object.getOwnPropertySymbols)for(var N=Object.getOwnPropertySymbols(_),M=0;M<N.length;M++){var k=N[M],A=Object.getOwnPropertyDescriptor(_,k);A&&!A.enumerable&&!y||(S[k]=w(_[k],$-1),A.enumerable||Object.defineProperty(S,k,{enumerable:!1}))}if(y)for(var O=Object.getOwnPropertyNames(_),M=0;M<O.length;M++){var F=O[M],A=Object.getOwnPropertyDescriptor(_,F);A&&A.enumerable||(S[F]=w(_[F],$-1),Object.defineProperty(S,F,{enumerable:!1}))}return S}return w(h,g)}s.clonePrototype=function(p){if(p===null)return null;var g=function(){};return g.prototype=p,new g};function a(h){return Object.prototype.toString.call(h)}s.__objToStr=a;function l(h){return typeof h=="object"&&a(h)==="[object Date]"}s.__isDate=l;function u(h){return typeof h=="object"&&a(h)==="[object Array]"}s.__isArray=u;function c(h){return typeof h=="object"&&a(h)==="[object RegExp]"}s.__isRegExp=c;function f(h){var p="";return h.global&&(p+="g"),h.ignoreCase&&(p+="i"),h.multiline&&(p+="m"),p}return s.__getRegExpFlags=f,s}();e.exports&&(e.exports=t)})(hK);var XLe=hK.exports;const KLe=M2(XLe);var JLe=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n};const QLe=M2(JLe);var ZLe=function(e,t){t||(t={}),typeof t=="function"&&(t={cmp:t});var n=typeof t.cycles=="boolean"?t.cycles:!1,r=t.cmp&&function(o){return function(s){return function(a,l){var u={key:a,value:s[a]},c={key:l,value:s[l]};return o(u,c)}}}(t.cmp),i=[];return function o(s){if(s&&s.toJSON&&typeof s.toJSON=="function"&&(s=s.toJSON()),s!==void 0){if(typeof s=="number")return isFinite(s)?""+s:"null";if(typeof s!="object")return JSON.stringify(s);var a,l;if(Array.isArray(s)){for(l="[",a=0;a<s.length;a++)a&&(l+=","),l+=o(s[a])||"null";return l+"]"}if(s===null)return"null";if(i.indexOf(s)!==-1){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var u=i.push(s)-1,c=Object.keys(s).sort(r&&r(s));for(l="",a=0;a<c.length;a++){var f=c[a],h=o(s[f]);h&&(l&&(l+=","),l+=JSON.stringify(f)+":"+h)}return i.splice(u,1),"{"+l+"}"}}(e)};const yk=M2(ZLe);function vk(e){return!!e.or}function bk(e){return!!e.and}function xk(e){return!!e.not}function dv(e,t){if(xk(e))dv(e.not,t);else if(bk(e))for(const n of e.and)dv(n,t);else if(vk(e))for(const n of e.or)dv(n,t);else t(e)}function Ad(e,t){return xk(e)?{not:Ad(e.not,t)}:bk(e)?{and:e.and.map(n=>Ad(n,t))}:vk(e)?{or:e.or.map(n=>Ad(n,t))}:t(e)}const vs=QLe,He=KLe;function pK(e){throw new Error(e)}function ph(e,t){const n={};for(const r of t)Le(e,r)&&(n[r]=e[r]);return n}function Xr(e,t){const n={...e};for(const r of t)delete n[r];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>yk(e)).join(",")})`};const Rt=yk;function ot(e){if(St(e))return e;const t=Ee(e)?e:yk(e);if(t.length<250)return t;let n=0;for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return n}function U6(e){return e===!1||e===null}function st(e,t){return e.includes(t)}function Gc(e,t){let n=0;for(const[r,i]of e.entries())if(t(i,r,n++))return!0;return!1}function wk(e,t){let n=0;for(const[r,i]of e.entries())if(!t(i,r,n++))return!1;return!0}function gK(e,...t){for(const n of t)eze(e,n??{});return e}function eze(e,t){for(const n of le(t))Gh(e,n,t[n],!0)}function bs(e,t){const n=[],r={};let i;for(const o of e)i=t(o),!(i in r)&&(r[i]=1,n.push(o));return n}function tze(e,t){const n=le(e),r=le(t);if(n.length!==r.length)return!1;for(const i of n)if(e[i]!==t[i])return!1;return!0}function mK(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function _k(e,t){for(const n of e)if(t.has(n))return!0;return!1}function q6(e){const t=new Set;for(const n of e){const i=Vs(n).map((s,a)=>a===0?s:`[${s}]`),o=i.map((s,a)=>i.slice(0,a+1).join(""));for(const s of o)t.add(s)}return t}function Ek(e,t){return e===void 0||t===void 0?!0:_k(q6(e),q6(t))}function Ct(e){return le(e).length===0}const le=Object.keys,Vn=Object.values,au=Object.entries;function W0(e){return e===!0||e===!1}function Vt(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function qg(e,t){return xk(e)?`!(${qg(e.not,t)})`:bk(e)?`(${e.and.map(n=>qg(n,t)).join(") && (")})`:vk(e)?`(${e.or.map(n=>qg(n,t)).join(") || (")})`:t(e)}function jb(e,t){if(t.length===0)return!0;const n=t.shift();return n in e&&jb(e[n],t)&&delete e[n],Ct(e)}function r1(e){return e.charAt(0).toUpperCase()+e.substr(1)}function Sk(e,t="datum"){const n=Vs(e),r=[];for(let i=1;i<=n.length;i++){const o=`[${n.slice(0,i).map(ye).join("][")}]`;r.push(`${t}${o}`)}return r.join(" && ")}function yK(e,t="datum"){return`${t}[${ye(Vs(e).join("."))}]`}function nze(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function Xi(e){return`${Vs(e).map(nze).join("\\.")}`}function Yc(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function $k(e){return`${Vs(e).join(".")}`}function gh(e){return e?Vs(e).length:0}function an(...e){for(const t of e)if(t!==void 0)return t}let vK=42;function bK(e){const t=++vK;return e?String(e)+t:t}function rze(){vK=42}function xK(e){return wK(e)?e:`__${e}`}function wK(e){return e.startsWith("__")}function G0(e){if(e!==void 0)return(e%360+360)%360}function gw(e){return St(e)?!0:!isNaN(e)&&!isNaN(parseFloat(e))}const $a="row",Ca="column",mw="facet",Ht="x",Pn="y",Ko="x2",Ys="y2",_u="xOffset",rp="yOffset",Jo="radius",Ha="radius2",Zi="theta",Wa="theta2",Qo="latitude",Zo="longitude",es="latitude2",Ki="longitude2",ni="color",Xs="fill",Ks="stroke",ri="shape",Ga="size",Ef="angle",Ya="opacity",Eu="fillOpacity",Su="strokeOpacity",$u="strokeWidth",Cu="strokeDash",i1="text",mh="order",o1="detail",yw="key",Xc="tooltip",vw="href",bw="url",xw="description",ize={x:1,y:1,x2:1,y2:1},_K={theta:1,theta2:1,radius:1,radius2:1};function EK(e){return e in _K}const Ck={longitude:1,longitude2:1,latitude:1,latitude2:1};function SK(e){switch(e){case Qo:return"y";case es:return"y2";case Zo:return"x";case Ki:return"x2"}}function $K(e){return e in Ck}const oze=le(Ck),Ak={...ize,..._K,...Ck,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function kd(e){return e===ni||e===Xs||e===Ks}const CK={row:1,column:1,facet:1},zi=le(CK),kk={...Ak,...CK},sze=le(kk),{order:sKe,detail:aKe,tooltip:lKe,...aze}=kk,{row:uKe,column:cKe,facet:fKe,...lze}=aze;function uze(e){return!!lze[e]}function AK(e){return!!kk[e]}const cze=[Ko,Ys,es,Ki,Wa,Ha];function kK(e){return Sf(e)!==e}function Sf(e){switch(e){case Ko:return Ht;case Ys:return Pn;case es:return Qo;case Ki:return Zo;case Wa:return Zi;case Ha:return Jo}return e}function lu(e){if(EK(e))switch(e){case Zi:return"startAngle";case Wa:return"endAngle";case Jo:return"outerRadius";case Ha:return"innerRadius"}return e}function Js(e){switch(e){case Ht:return Ko;case Pn:return Ys;case Qo:return es;case Zo:return Ki;case Zi:return Wa;case Jo:return Ha}}function ii(e){switch(e){case Ht:case Ko:return"width";case Pn:case Ys:return"height"}}function MK(e){switch(e){case Ht:return"xOffset";case Pn:return"yOffset";case Ko:return"x2Offset";case Ys:return"y2Offset";case Zi:return"thetaOffset";case Jo:return"radiusOffset";case Wa:return"theta2Offset";case Ha:return"radius2Offset"}}function Mk(e){switch(e){case Ht:return"xOffset";case Pn:return"yOffset"}}function TK(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}const fze=le(Ak),{x:dKe,y:hKe,x2:pKe,y2:gKe,xOffset:mKe,yOffset:yKe,latitude:vKe,longitude:bKe,latitude2:xKe,longitude2:wKe,theta:_Ke,theta2:EKe,radius:SKe,radius2:$Ke,...Tk}=Ak,dze=le(Tk),Ok={x:1,y:1},Qs=le(Ok);function In(e){return e in Ok}const Fk={theta:1,radius:1},hze=le(Fk);function ww(e){return e==="width"?Ht:Pn}const OK={xOffset:1,yOffset:1};function ip(e){return e in OK}const{text:CKe,tooltip:AKe,href:kKe,url:MKe,description:TKe,detail:OKe,key:FKe,order:NKe,...FK}=Tk,pze=le(FK);function gze(e){return!!Tk[e]}function mze(e){switch(e){case ni:case Xs:case Ks:case Ga:case ri:case Ya:case $u:case Cu:return!0;case Eu:case Su:case Ef:return!1}}const NK={...Ok,...Fk,...OK,...FK},_w=le(NK);function Xa(e){return!!NK[e]}function yze(e,t){return bze(e)[t]}const RK={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:RKe,...vze}=RK;function bze(e){switch(e){case ni:case Xs:case Ks:case xw:case o1:case yw:case Xc:case vw:case mh:case Ya:case Eu:case Su:case $u:case mw:case $a:case Ca:return RK;case Ht:case Pn:case _u:case rp:case Qo:case Zo:return vze;case Ko:case Ys:case es:case Ki:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case Ga:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case Cu:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case ri:return{point:"always",geoshape:"always"};case i1:return{text:"always"};case Ef:return{point:"always",square:"always",text:"always"};case bw:return{image:"always"};case Zi:return{text:"always",arc:"always"};case Jo:return{text:"always",arc:"always"};case Wa:case Ha:return{arc:"always"}}}function Y3(e){switch(e){case Ht:case Pn:case Zi:case Jo:case _u:case rp:case Ga:case Ef:case $u:case Ya:case Eu:case Su:case Ko:case Ys:case Wa:case Ha:return;case mw:case $a:case Ca:case ri:case Cu:case i1:case Xc:case vw:case bw:case xw:return"discrete";case ni:case Xs:case Ks:return"flexible";case Qo:case Zo:case es:case Ki:case o1:case yw:case mh:return}}const xze={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},wze={count:1,min:1,max:1};function Da(e){return!!e&&!!e.argmin}function Au(e){return!!e&&!!e.argmax}function Nk(e){return Ee(e)&&!!xze[e]}const _ze=new Set(["count","valid","missing","distinct"]);function PK(e){return Ee(e)&&_ze.has(e)}function Eze(e){return Ee(e)&&st(["min","max"],e)}const Sze=new Set(["count","sum","distinct","valid","missing"]),$ze=new Set(["mean","average","median","q1","q3","min","max"]);function IK(e){return bu(e)&&(e=Rw(e,void 0)),"bin"+le(e).map(t=>Ew(e[t])?Vt(`_${t}_${au(e[t])}`):Vt(`_${t}_${e[t]}`)).join("")}function Pt(e){return e===!0||$f(e)&&!e.binned}function zn(e){return e==="binned"||$f(e)&&e.binned===!0}function $f(e){return Ae(e)}function Ew(e){return e==null?void 0:e.param}function HR(e){switch(e){case $a:case Ca:case Ga:case ni:case Xs:case Ks:case $u:case Ya:case Eu:case Su:case ri:return 6;case Cu:return 4;default:return 10}}function s1(e){return!!(e!=null&&e.expr)}function Ur(e){const t=le(e||{}),n={};for(const r of t)n[r]=vi(e[r]);return n}function DK(e){const{anchor:t,frame:n,offset:r,orient:i,angle:o,limit:s,color:a,subtitleColor:l,subtitleFont:u,subtitleFontSize:c,subtitleFontStyle:f,subtitleFontWeight:h,subtitleLineHeight:p,subtitlePadding:g,...m}=e,y={...m,...a?{fill:a}:{}},v={...t?{anchor:t}:{},...n?{frame:n}:{},...r?{offset:r}:{},...i?{orient:i}:{},...o!==void 0?{angle:o}:{},...s!==void 0?{limit:s}:{}},b={...l?{subtitleColor:l}:{},...u?{subtitleFont:u}:{},...c?{subtitleFontSize:c}:{},...f?{subtitleFontStyle:f}:{},...h?{subtitleFontWeight:h}:{},...p?{subtitleLineHeight:p}:{},...g?{subtitlePadding:g}:{}},x=ph(e,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:y,subtitleMarkConfig:x,nonMarkTitleProperties:v,subtitle:b}}function pl(e){return Ee(e)||ie(e)&&Ee(e[0])}function Ne(e){return!!(e!=null&&e.signal)}function ku(e){return!!e.step}function Cze(e){return ie(e)?!1:"fields"in e&&!("data"in e)}function Aze(e){return ie(e)?!1:"fields"in e&&"data"in e}function _a(e){return ie(e)?!1:"field"in e&&"data"in e}const kze={aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1},Mze=le(kze),Tze={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},V6=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function LK(e){const t=ie(e.condition)?e.condition.map(WR):WR(e.condition);return{...vi(e),condition:t}}function vi(e){if(s1(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function WR(e){if(s1(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function Bt(e){if(s1(e)){const{expr:t,...n}=e;return{signal:t,...n}}return Ne(e)?e:e!==void 0?{value:e}:void 0}function Oze(e){return Ne(e)?e.signal:ye(e)}function GR(e){return Ne(e)?e.signal:ye(e.value)}function wo(e){return Ne(e)?e.signal:e==null?null:ye(e)}function Fze(e,t,n){for(const r of n){const i=La(r,t.markDef,t.config);i!==void 0&&(e[r]=Bt(i))}return e}function zK(e){return[].concat(e.type,e.style??[])}function wt(e,t,n,r={}){const{vgChannel:i,ignoreVgConfig:o}=r;return i&&t[i]!==void 0?t[i]:t[e]!==void 0?t[e]:o&&(!i||i===e)?void 0:La(e,t,n,r)}function La(e,t,n,{vgChannel:r}={}){return an(r?Ub(e,t,n.style):void 0,Ub(e,t,n.style),r?n[t.type][r]:void 0,n[t.type][e],r?n.mark[r]:n.mark[e])}function Ub(e,t,n){return BK(e,zK(t),n)}function BK(e,t,n){t=$e(t);let r;for(const i of t){const o=n[i];o&&o[e]!==void 0&&(r=o[e])}return r}function jK(e,t){return $e(e).reduce((n,r)=>(n.field.push(we(r,t)),n.order.push(r.sort??"ascending"),n),{field:[],order:[]})}function UK(e,t){const n=[...e];return t.forEach(r=>{for(const i of n)if(vs(i,r))return;n.push(r)}),n}function qK(e,t){return vs(e,t)||!t?e:e?[...$e(e),...$e(t)].join(", "):t}function VK(e,t){const n=e.value,r=t.value;if(n==null||r===null)return{explicit:e.explicit,value:null};if((pl(n)||Ne(n))&&(pl(r)||Ne(r)))return{explicit:e.explicit,value:qK(n,r)};if(pl(n)||Ne(n))return{explicit:e.explicit,value:n};if(pl(r)||Ne(r))return{explicit:e.explicit,value:r};if(!pl(n)&&!Ne(n)&&!pl(r)&&!Ne(r))return{explicit:e.explicit,value:UK(n,r)};throw new Error("It should never reach here")}function Rk(e){return`Invalid specification ${Rt(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const Nze='Autosize "fit" only works for single views and layered views.';function YR(e){return`${e=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function XR(e){const t=e=="width"?"Width":"Height",n=e=="width"?"x":"y";return`${t} "container" only works well with autosize "fit" or "fit-${n}".`}function KR(e){return e?`Dropping "fit-${e}" because spec has discrete ${ii(e)}.`:'Dropping "fit" because spec has discrete size.'}function Pk(e){return`Unknown field for ${e}. Cannot calculate view size.`}function JR(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function Rze(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function Pze(e){return`The "nearest" transform is not supported for ${e} marks.`}function HK(e){return`Selection not supported for ${e} yet.`}function Ize(e){return`Cannot find a selection named "${e}".`}const Dze="Scale bindings are currently only supported for scales with unbinned, continuous domains.",Lze="Legend bindings are only supported for selections over an individual field or encoding channel.";function zze(e){return`Lookups can only be performed on selection parameters. "${e}" is a variable parameter.`}function Bze(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}const jze="The same selection must be used to override scale domains in a layered view.",Uze='Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.';function qze(e){return`Unknown repeated value "${e}".`}function QR(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}const Vze="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function Hze(e){return`Unrecognized parse "${e}".`}function ZR(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`}const Wze="Attempt to add the same child twice.";function Gze(e){return`Ignoring an invalid transform: ${Rt(e)}.`}const Yze='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function eP(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function Xze(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${Rt(t)} is overridden by a child projection ${Rt(n)}.`}const Kze="Arc marks uses theta channel rather than angle, replacing angle with theta.";function Jze(e){return`${e}Offset dropped because ${e} is continuous`}function Qze(e){return`There is no ${e} encoding. Replacing ${e}Offset encoding as ${e}.`}function Zze(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${Rt(n)}}.`}function WK(e){return`Invalid field type "${e}".`}function eBe(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}function tBe(e){return`Invalid aggregation operator "${e}".`}function GK(e,t){const{fill:n,stroke:r}=t;return`Dropping color ${e} as the plot also has ${n&&r?"fill and stroke":n?"fill":"stroke"}.`}function nBe(e){return`Position range does not support relative band size for ${e}.`}function H6(e,t){return`Dropping ${Rt(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}const rBe="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function Sw(e,t,n){return`${e} dropped as it is incompatible with "${t}"${n?` when ${n}`:""}.`}function iBe(e){return`${e} encoding has no scale, so specified scale is ignored.`}function oBe(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function sBe(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function aBe(e){return`${e} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function lBe(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}function X3(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${t==="ordinal"?"order":"magnitude"}.`}function uBe(e){return`The ${e} for range marks cannot be an expression`}function cBe(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function fBe(e,t){return`Specified orient "${e}" overridden with "${t}".`}function dBe(e){return`Cannot use the scale property "${e}" with non-color channel.`}function hBe(e){return`Cannot use the relative band size with ${e} scale.`}function pBe(e){return`Using unaggregated domain with raw field has no effect (${Rt(e)}).`}function gBe(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function mBe(e){return`Unaggregated domain is currently unsupported for log scale (${Rt(e)}).`}function yBe(e){return`Cannot apply size to non-oriented mark "${e}".`}function vBe(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`}function bBe(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}function YK(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function XK(e){return`The step for "${e}" is dropped because the ${e==="width"?"x":"y"} is continuous.`}function xBe(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${Rt(n)} and ${Rt(r)}). Using ${Rt(n)}.`}function wBe(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${Rt(n)} and ${Rt(r)}). Using the union of the two domains.`}function _Be(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}function EBe(e){return`Dropping sort property ${Rt(e)} as unioned domains only support boolean or op "count", "min", and "max".`}const tP="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",SBe="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",$Be="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",CBe="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function ABe(e){return`Cannot stack "${e}" if there is already "${e}2".`}function kBe(e){return`Cannot stack non-linear scale (${e}).`}function MBe(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}").`}function qb(e,t){return`Invalid ${e}: ${Rt(t)}.`}function TBe(e){return`Dropping day from datetime ${Rt(e)} as day cannot be combined with other units.`}function OBe(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}function FBe(e,t,n){return`${e} is not usually used with ${t} for ${n}.`}function NBe(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}function nP(e){return`1D error band does not support ${e}.`}function KK(e){return`Channel ${e} is required for "binned" bin.`}function RBe(e){return`Channel ${e} should not be used with "binned" bin.`}function PBe(e){return`Domain for ${e} is required for threshold scale.`}globalThis&&globalThis.__classPrivateFieldSet;globalThis&&globalThis.__classPrivateFieldGet;const JK=u$(l$);let yh=JK;function IBe(e){return yh=e,yh}function DBe(){return yh=JK,yh}function de(...e){yh.warn(...e)}function LBe(...e){yh.debug(...e)}function Cf(e){if(e&&Ae(e)){for(const t of Dk)if(t in e)return!0}return!1}const QK=["january","february","march","april","may","june","july","august","september","october","november","december"],zBe=QK.map(e=>e.substr(0,3)),ZK=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],BBe=ZK.map(e=>e.substr(0,3));function jBe(e){if(gw(e)&&(e=+e),St(e))return e>4&&de(qb("quarter",e)),e-1;throw new Error(qb("quarter",e))}function UBe(e){if(gw(e)&&(e=+e),St(e))return e-1;{const t=e.toLowerCase(),n=QK.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=zBe.indexOf(r);if(i!==-1)return i;throw new Error(qb("month",e))}}function qBe(e){if(gw(e)&&(e=+e),St(e))return e%7;{const t=e.toLowerCase(),n=ZK.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=BBe.indexOf(r);if(i!==-1)return i;throw new Error(qb("day",e))}}function Ik(e,t){const n=[];if(t&&e.day!==void 0&&le(e).length>1&&(de(TBe(e)),e=He(e),delete e.day),e.year!==void 0?n.push(e.year):n.push(2012),e.month!==void 0){const r=t?UBe(e.month):e.month;n.push(r)}else if(e.quarter!==void 0){const r=t?jBe(e.quarter):e.quarter;n.push(St(r)?r*3:`${r}*3`)}else n.push(0);if(e.date!==void 0)n.push(e.date);else if(e.day!==void 0){const r=t?qBe(e.day):e.day;n.push(St(r)?r+1:`${r}+1`)}else n.push(1);for(const r of["hours","minutes","seconds","milliseconds"]){const i=e[r];n.push(typeof i>"u"?0:i)}return n}function Kc(e){const n=Ik(e,!0).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function VBe(e){const n=Ik(e,!1).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function HBe(e){const t=Ik(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}const eJ={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Dk=le(eJ);function WBe(e){return!!eJ[e]}function Af(e){return Ae(e)?e.binned:tJ(e)}function tJ(e){return e&&e.startsWith("binned")}function Lk(e){return e.startsWith("utc")}function GBe(e){return e.substring(3)}const YBe={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function $w(e){return Dk.filter(t=>rJ(e,t))}function nJ(e){const t=$w(e);return t[t.length-1]}function rJ(e,t){const n=e.indexOf(t);return!(n<0||n>0&&t==="seconds"&&e.charAt(n-1)==="i"||e.length>n+3&&t==="day"&&e.charAt(n+3)==="o"||n>0&&t==="year"&&e.charAt(n-1)==="f")}function XBe(e,t,{end:n}={end:!1}){const r=Sk(t),i=Lk(e)?"utc":"";function o(l){return l==="quarter"?`(${i}quarter(${r})-1)`:`${i}${l}(${r})`}let s;const a={};for(const l of Dk)rJ(e,l)&&(a[l]=o(l),s=l);return n&&(a[s]+="+1"),VBe(a)}function iJ(e){if(!e)return;const t=$w(e);return`timeUnitSpecifier(${Rt(t)}, ${Rt(YBe)})`}function KBe(e,t,n){if(!e)return;const r=iJ(e);return`${n||Lk(e)?"utc":"time"}Format(${t}, ${r})`}function Nn(e){if(!e)return;let t;return Ee(e)?tJ(e)?t={unit:e.substring(6),binned:!0}:t={unit:e}:Ae(e)&&(t={...e,...e.unit?{unit:e.unit}:{}}),Lk(t.unit)&&(t.utc=!0,t.unit=GBe(t.unit)),t}function JBe(e){const{utc:t,...n}=Nn(e);return n.unit?(t?"utc":"")+le(n).map(r=>Vt(`${r==="unit"?"":`_${r}_`}${n[r]}`)).join(""):(t?"utc":"")+"timeunit"+le(n).map(r=>Vt(`_${r}_${n[r]}`)).join("")}function oJ(e,t=n=>n){const n=Nn(e),r=nJ(n.unit);if(r&&r!=="day"){const i={year:2001,month:1,date:1,hours:0,minutes:0,seconds:0,milliseconds:0},{step:o,part:s}=sJ(r,n.step),a={...i,[s]:+i[s]+o};return`${t(Kc(a))} - ${t(Kc(i))}`}}const QBe={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1};function ZBe(e){return!!QBe[e]}function sJ(e,t=1){if(ZBe(e))return{part:e,step:t};switch(e){case"day":case"dayofyear":return{part:"date",step:t};case"quarter":return{part:"month",step:t*3};case"week":return{part:"date",step:t*7}}}function eje(e){return e==null?void 0:e.param}function zk(e){return!!(e!=null&&e.field)&&e.equal!==void 0}function Bk(e){return!!(e!=null&&e.field)&&e.lt!==void 0}function jk(e){return!!(e!=null&&e.field)&&e.lte!==void 0}function Uk(e){return!!(e!=null&&e.field)&&e.gt!==void 0}function qk(e){return!!(e!=null&&e.field)&&e.gte!==void 0}function Vk(e){if(e!=null&&e.field){if(ie(e.range)&&e.range.length===2)return!0;if(Ne(e.range))return!0}return!1}function Hk(e){return!!(e!=null&&e.field)&&(ie(e.oneOf)||ie(e.in))}function tje(e){return!!(e!=null&&e.field)&&e.valid!==void 0}function aJ(e){return Hk(e)||zk(e)||Vk(e)||Bk(e)||Uk(e)||jk(e)||qk(e)}function is(e,t){return Pw(e,{timeUnit:t,wrapTime:!0})}function nje(e,t){return e.map(n=>is(n,t))}function lJ(e,t=!0){const{field:n}=e,r=Nn(e.timeUnit),{unit:i,binned:o}=r||{},s=we(e,{expr:"datum"}),a=i?`time(${o?s:XBe(i,n)})`:s;if(zk(e))return`${a}===${is(e.equal,i)}`;if(Bk(e)){const l=e.lt;return`${a}<${is(l,i)}`}else if(Uk(e)){const l=e.gt;return`${a}>${is(l,i)}`}else if(jk(e)){const l=e.lte;return`${a}<=${is(l,i)}`}else if(qk(e)){const l=e.gte;return`${a}>=${is(l,i)}`}else{if(Hk(e))return`indexof([${nje(e.oneOf,i).join(",")}], ${a}) !== -1`;if(tje(e))return Wk(a,e.valid);if(Vk(e)){const{range:l}=e,u=Ne(l)?{signal:`${l.signal}[0]`}:l[0],c=Ne(l)?{signal:`${l.signal}[1]`}:l[1];if(u!==null&&c!==null&&t)return"inrange("+a+", ["+is(u,i)+", "+is(c,i)+"])";const f=[];return u!==null&&f.push(`${a} >= ${is(u,i)}`),c!==null&&f.push(`${a} <= ${is(c,i)}`),f.length>0?f.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${Rt(e)}`)}function Wk(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function rje(e){return aJ(e)&&e.timeUnit?{...e,timeUnit:Nn(e.timeUnit)}:e}const a1={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function ije(e){return e==="quantitative"||e==="temporal"}function uJ(e){return e==="ordinal"||e==="nominal"}const Jc=a1.quantitative,Gk=a1.ordinal,vh=a1.temporal,Yk=a1.nominal,op=a1.geojson;function oje(e){if(e)switch(e=e.toLowerCase(),e){case"q":case Jc:return"quantitative";case"t":case vh:return"temporal";case"o":case Gk:return"ordinal";case"n":case Yk:return"nominal";case op:return"geojson"}}const Kr={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},W6={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function sje(e,t){const n=W6[e],r=W6[t];return n===r||n==="ordinal-position"&&r==="time"||r==="ordinal-position"&&n==="time"}const aje={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function rP(e){return aje[e]}const cJ=new Set(["linear","log","pow","sqrt","symlog"]),fJ=new Set([...cJ,"time","utc"]);function dJ(e){return cJ.has(e)}const hJ=new Set(["quantile","quantize","threshold"]),lje=new Set([...fJ,...hJ,"sequential","identity"]),uje=new Set(["ordinal","bin-ordinal","point","band"]);function Dn(e){return uje.has(e)}function Ti(e){return lje.has(e)}function _o(e){return fJ.has(e)}function bh(e){return hJ.has(e)}const cje={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0};function fje(e){return!Ee(e)&&!!e.name}function pJ(e){return e==null?void 0:e.param}function dje(e){return e==null?void 0:e.unionWith}function hje(e){return Ae(e)&&"field"in e}const pje={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:PKe,domain:IKe,range:DKe,rangeMax:LKe,rangeMin:zKe,scheme:BKe,...gje}=pje,mje=le(gje);function G6(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return _o(e)||e==="band"||e==="point";case"padding":case"rangeMin":case"rangeMax":return _o(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return e==="band";case"domainMax":case"domainMid":case"domainMin":case"domainRaw":case"clamp":return _o(e);case"nice":return _o(e)||e==="quantize"||e==="threshold";case"exponent":return e==="pow";case"base":return e==="log";case"constant":return e==="symlog";case"zero":return Ti(e)&&!st(["log","time","utc","threshold","quantile"],e)}}function gJ(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return kd(e)?void 0:dBe(t);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"domainRaw":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function yje(e,t){return st([Gk,Yk],t)?e===void 0||Dn(e):t===vh?st([Kr.TIME,Kr.UTC,void 0],e):t===Jc?dJ(e)||bh(e)||e===void 0:!0}function vje(e,t,n=!1){if(!Xa(e))return!1;switch(e){case Ht:case Pn:case _u:case rp:case Zi:case Jo:return _o(t)||t==="band"?!0:t==="point"?!n:!1;case Ga:case $u:case Ya:case Eu:case Su:case Ef:return _o(t)||bh(t)||st(["band","point","ordinal"],t);case ni:case Xs:case Ks:return t!=="band";case Cu:case ri:return t==="ordinal"||bh(t)}}const Ir={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},mJ=Ir.arc,Cw=Ir.area,Aw=Ir.bar,bje=Ir.image,kw=Ir.line,Mw=Ir.point,xje=Ir.rect,Vb=Ir.rule,yJ=Ir.text,Xk=Ir.tick,wje=Ir.trail,Kk=Ir.circle,Jk=Ir.square,vJ=Ir.geoshape;function Mu(e){return["line","area","trail"].includes(e)}function Qk(e){return["rect","bar","image","arc"].includes(e)}const _je=new Set(le(Ir));function zs(e){return e.type}const Eje=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],Sje=["fill","fillOpacity"],$je=[...Eje,...Sje],Cje={color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1},iP=le(Cje),Aje={area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],line:["point"],tick:["bandSize","thickness"]},kje={color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},Mje={mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1},bJ=le(Mje);function Qc(e){return e&&e.band!=null}const Tje={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},xJ=5,Oje={binSpacing:1,continuousBandSize:xJ,minBandSize:.25,timeUnitBandPosition:.5},Fje={binSpacing:0,continuousBandSize:xJ,minBandSize:.25,timeUnitBandPosition:.5},Nje={thickness:1};function Rje(e){return zs(e)?e.type:e}function Zk(e){const{channel:t,channelDef:n,markDef:r,scale:i,config:o}=e,s=tM(e);return ge(n)&&!PK(n.aggregate)&&i&&_o(i.get("type"))?Pje({fieldDef:n,channel:t,markDef:r,ref:s,config:o}):s}function Pje({fieldDef:e,channel:t,markDef:n,ref:r,config:i}){return Mu(n.type)?r:wt("invalid",n,i)===null?[Ije(e,t),r]:r}function Ije(e,t){const n=eM(e,!0),i=Sf(t)==="y"?{field:{group:"height"}}:{value:0};return{test:n,...i}}function eM(e,t=!0){return Wk(Ee(e)?e:we(e,{expr:"datum"}),!t)}function Dje(e){const{datum:t}=e;return Cf(t)?Kc(t):`${Rt(t)}`}function Ec(e,t,n,r){const i={};if(t&&(i.scale=t),Zs(e)){const{datum:o}=e;Cf(o)?i.signal=Kc(o):Ne(o)?i.signal=o.signal:s1(o)?i.signal=o.expr:i.value=o}else i.field=we(e,n);if(r){const{offset:o,band:s}=r;o&&(i.offset=o),s&&(i.band=s)}return i}function Hb({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:n,offset:r,startSuffix:i,bandPosition:o=.5}){const s=0<o&&o<1?"datum":void 0,a=we(t,{expr:s,suffix:i}),l=n!==void 0?we(n,{expr:s}):we(t,{suffix:"end",expr:s}),u={};if(o===0||o===1){u.scale=e;const c=o===0?a:l;u.field=c}else{const c=Ne(o)?`${o.signal} * ${a} + (1-${o.signal}) * ${l}`:`${o} * ${a} + ${1-o} * ${l}`;u.signal=`scale("${e}", ${c})`}return r&&(u.offset=r),u}function Lje({scaleName:e,fieldDef:t}){const n=we(t,{expr:"datum"}),r=we(t,{expr:"datum",suffix:"end"});return`abs(scale("${e}", ${r}) - scale("${e}", ${n}))`}function tM({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:o,scale:s,stack:a,offset:l,defaultRef:u,bandPosition:c}){if(t){if(We(t)){const f=s==null?void 0:s.get("type");if(Rr(t)){c??(c=kJ({fieldDef:t,fieldDef2:n,markDef:r,config:i}));const{bin:h,timeUnit:p,type:g}=t;if(Pt(h)||c&&p&&g===vh)return a!=null&&a.impute?Ec(t,o,{binSuffix:"mid"},{offset:l}):c&&!Dn(f)?Hb({scaleName:o,fieldOrDatumDef:t,bandPosition:c,offset:l}):Ec(t,o,f1(t,e)?{binSuffix:"range"}:{},{offset:l});if(zn(h)){if(ge(n))return Hb({scaleName:o,fieldOrDatumDef:t,fieldOrDatumDef2:n,bandPosition:c,offset:l});de(KK(e===Ht?Ko:Ys))}}return Ec(t,o,Dn(f)?{binSuffix:"range"}:{},{offset:l,band:f==="band"?c??t.bandPosition??.5:void 0})}else if(zo(t)){const f=t.value,h=l?{offset:l}:{};return{...Vg(e,f),...h}}}return Je(u)&&(u=u()),u&&{...u,...l?{offset:l}:{}}}function Vg(e,t){return st(["x","x2"],e)&&t==="width"?{field:{group:"width"}}:st(["y","y2"],e)&&t==="height"?{field:{group:"height"}}:Bt(t)}function Zc(e){return e&&e!=="number"&&e!=="time"}function wJ(e,t,n){return`${e}(${t}${n?`, ${Rt(n)}`:""})`}const zje=" – ";function nM({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:o}){var l,u;if(Zc(n))return Eo({fieldOrDatumDef:e,format:t,formatType:n,expr:r,config:o});const s=_J(e,r,i),a=xh(e);if(t===void 0&&n===void 0&&o.customFormatTypes){if(a==="quantitative"){if(i&&o.normalizedNumberFormatType)return Eo({fieldOrDatumDef:e,format:o.normalizedNumberFormat,formatType:o.normalizedNumberFormatType,expr:r,config:o});if(o.numberFormatType)return Eo({fieldOrDatumDef:e,format:o.numberFormat,formatType:o.numberFormatType,expr:r,config:o})}if(a==="temporal"&&o.timeFormatType&&ge(e)&&e.timeUnit===void 0)return Eo({fieldOrDatumDef:e,format:o.timeFormat,formatType:o.timeFormatType,expr:r,config:o})}if(_h(e)){const c=jje({field:s,timeUnit:ge(e)?(l=Nn(e.timeUnit))==null?void 0:l.unit:void 0,format:t,formatType:o.timeFormatType,rawTimeFormat:o.timeFormat,isUTCScale:kf(e)&&((u=e.scale)==null?void 0:u.type)===Kr.UTC});return c?{signal:c}:void 0}if(t=Y6({type:a,specifiedFormat:t,config:o,normalizeStack:i}),ge(e)&&Pt(e.bin)){const c=we(e,{expr:r,binSuffix:"end"});return{signal:l1(s,c,t,n,o)}}else return t||xh(e)==="quantitative"?{signal:`${$J(s,t)}`}:{signal:`isValid(${s}) ? ${s} : ""+${s}`}}function _J(e,t,n){return ge(e)?n?`${we(e,{expr:t,suffix:"end"})}-${we(e,{expr:t,suffix:"start"})}`:we(e,{expr:t}):Dje(e)}function Eo({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:o,field:s}){if(s??(s=_J(e,r,i)),s!=="datum.value"&&ge(e)&&Pt(e.bin)){const a=we(e,{expr:r,binSuffix:"end"});return{signal:l1(s,a,t,n,o)}}return{signal:wJ(n,s,t)}}function EJ(e,t,n,r,i,o){var s;if(!(Ee(r)&&Zc(r))&&!(n===void 0&&r===void 0&&i.customFormatTypes&&xh(e)==="quantitative"&&(i.normalizedNumberFormatType&&wh(e)&&e.stack==="normalize"||i.numberFormatType))){if(wh(e)&&e.stack==="normalize"&&i.normalizedNumberFormat)return Y6({type:"quantitative",config:i,normalizeStack:!0});if(_h(e)){const a=ge(e)?(s=Nn(e.timeUnit))==null?void 0:s.unit:void 0;return a===void 0&&i.customFormatTypes&&i.timeFormatType?void 0:Bje({specifiedFormat:n,timeUnit:a,config:i,omitTimeFormatConfig:o})}return Y6({type:t,specifiedFormat:n,config:i})}}function SJ(e,t,n){var r;if(e&&(Ne(e)||e==="number"||e==="time"))return e;if(_h(t)&&n!=="time"&&n!=="utc")return ge(t)&&((r=Nn(t==null?void 0:t.timeUnit))!=null&&r.utc)?"utc":"time"}function Y6({type:e,specifiedFormat:t,config:n,normalizeStack:r}){if(Ee(t))return t;if(e===Jc)return r?n.normalizedNumberFormat:n.numberFormat}function Bje({specifiedFormat:e,timeUnit:t,config:n,omitTimeFormatConfig:r}){return e||(t?{signal:iJ(t)}:r?void 0:n.timeFormat)}function $J(e,t){return`format(${e}, "${t||""}")`}function oP(e,t,n,r){return Zc(n)?wJ(n,e,t):$J(e,(Ee(t)?t:void 0)??r.numberFormat)}function l1(e,t,n,r,i){if(n===void 0&&r===void 0&&i.customFormatTypes&&i.numberFormatType)return l1(e,t,i.numberFormat,i.numberFormatType,i);const o=oP(e,n,r,i),s=oP(t,n,r,i);return`${Wk(e,!1)} ? "null" : ${o} + "${zje}" + ${s}`}function jje({field:e,timeUnit:t,format:n,formatType:r,rawTimeFormat:i,isUTCScale:o}){return!t||n?!t&&r?`${r}(${e}, '${n}')`:(n=Ee(n)?n:i,`${o?"utc":"time"}Format(${e}, '${n}')`):KBe(t,e,o)}const Tw="min",Uje={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function sP(e){return e in Uje}function CJ(e){return!!(e!=null&&e.encoding)}function As(e){return e&&(e.op==="count"||!!e.field)}function AJ(e){return e&&ie(e)}function u1(e){return"row"in e||"column"in e}function rM(e){return!!e&&"header"in e}function Ow(e){return"facet"in e}function qje(e){return e.param}function Vje(e){return e&&!Ee(e)&&"repeat"in e}function aP(e){const{field:t,timeUnit:n,bin:r,aggregate:i}=e;return{...n?{timeUnit:n}:{},...r?{bin:r}:{},...i?{aggregate:i}:{},field:t}}function iM(e){return"sort"in e}function kJ({fieldDef:e,fieldDef2:t,markDef:n,config:r}){if(We(e)&&e.bandPosition!==void 0)return e.bandPosition;if(ge(e)){const{timeUnit:i,bin:o}=e;if(i&&!t)return Qk(n.type)?0:La("timeUnitBandPosition",n,r);if(Pt(o))return .5}}function MJ({channel:e,fieldDef:t,fieldDef2:n,markDef:r,config:i,scaleType:o,useVlSizeChannel:s}){var u,c,f;const a=ii(e),l=wt(s?"size":a,r,i,{vgChannel:a});if(l!==void 0)return l;if(ge(t)){const{timeUnit:h,bin:p}=t;if(h&&!n)return{band:La("timeUnitBandSize",r,i)};if(Pt(p)&&!Dn(o))return{band:1}}if(Qk(r.type))return o?Dn(o)?((u=i[r.type])==null?void 0:u.discreteBandSize)||{band:1}:(c=i[r.type])==null?void 0:c.continuousBandSize:(f=i[r.type])==null?void 0:f.discreteBandSize}function TJ(e,t,n,r){return Pt(e.bin)||e.timeUnit&&Rr(e)&&e.type==="temporal"?kJ({fieldDef:e,fieldDef2:t,markDef:n,config:r})!==void 0:!1}function OJ(e){return e&&!!e.sort&&!e.field}function Fw(e){return e&&"condition"in e}function Nw(e){const t=e==null?void 0:e.condition;return!!t&&!ie(t)&&ge(t)}function c1(e){const t=e==null?void 0:e.condition;return!!t&&!ie(t)&&We(t)}function Hje(e){const t=e==null?void 0:e.condition;return!!t&&(ie(t)||zo(t))}function ge(e){return e&&(!!e.field||e.aggregate==="count")}function xh(e){return e==null?void 0:e.type}function Zs(e){return e&&"datum"in e}function Ol(e){return Rr(e)&&!Gb(e)||Wb(e)}function lP(e){return Rr(e)&&e.type==="quantitative"&&!e.bin||Wb(e)}function Wb(e){return Zs(e)&&St(e.datum)}function We(e){return ge(e)||Zs(e)}function Rr(e){return e&&("field"in e||e.aggregate==="count")&&"type"in e}function zo(e){return e&&"value"in e&&"value"in e}function kf(e){return e&&("scale"in e||"sort"in e)}function wh(e){return e&&("axis"in e||"stack"in e||"impute"in e)}function FJ(e){return e&&"legend"in e}function NJ(e){return e&&("format"in e||"formatType"in e)}function Wje(e){return Xr(e,["legend","axis","header","scale"])}function Gje(e){return"op"in e}function we(e,t={}){let n=e.field;const r=t.prefix;let i=t.suffix,o="";if(Xje(e))n=xK("count");else{let s;if(!t.nofn)if(Gje(e))s=e.op;else{const{bin:a,aggregate:l,timeUnit:u}=e;Pt(a)?(s=IK(a),i=(t.binSuffix??"")+(t.suffix??"")):l?Au(l)?(o=`["${n}"]`,n=`argmax_${l.argmax}`):Da(l)?(o=`["${n}"]`,n=`argmin_${l.argmin}`):s=String(l):u&&!Af(u)&&(s=JBe(u),i=(!["range","mid"].includes(t.binSuffix)&&t.binSuffix||"")+(t.suffix??""))}s&&(n=n?`${s}_${n}`:s)}return i&&(n=`${n}_${i}`),r&&(n=`${r}_${n}`),t.forAs?$k(n):t.expr?yK(n,t.expr)+o:Xi(n)+o}function Gb(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return ge(e)&&!!e.bin;case"temporal":return!1}throw new Error(WK(e.type))}function Yje(e){var t;return kf(e)&&bh((t=e.scale)==null?void 0:t.type)}function Xje(e){return e.aggregate==="count"}function Kje(e,t){var s;const{field:n,bin:r,timeUnit:i,aggregate:o}=e;if(o==="count")return t.countTitle;if(Pt(r))return`${n} (binned)`;if(i&&!Af(i)){const a=(s=Nn(i))==null?void 0:s.unit;if(a)return`${n} (${$w(a).join("-")})`}else if(o)return Au(o)?`${n} for max ${o.argmax}`:Da(o)?`${n} for min ${o.argmin}`:`${r1(o)} of ${n}`;return n}function Jje(e){const{aggregate:t,bin:n,timeUnit:r,field:i}=e;if(Au(t))return`${i} for argmax(${t.argmax})`;if(Da(t))return`${i} for argmin(${t.argmin})`;const o=r&&!Af(r)?Nn(r):void 0,s=t||(o==null?void 0:o.unit)||(o==null?void 0:o.maxbins)&&"timeunit"||Pt(n)&&"bin";return s?`${s.toUpperCase()}(${i})`:i}const RJ=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return Jje(e);default:return Kje(e,t)}};let PJ=RJ;function IJ(e){PJ=e}function Qje(){IJ(RJ)}function Md(e,t,{allowDisabling:n,includeDefault:r=!0}){var a;const i=(a=oM(e))==null?void 0:a.title;if(!ge(e))return i??e.title;const o=e,s=r?sM(o,t):void 0;return n?an(i,o.title,s):i??o.title??s}function oM(e){if(wh(e)&&e.axis)return e.axis;if(FJ(e)&&e.legend)return e.legend;if(rM(e)&&e.header)return e.header}function sM(e,t){return PJ(e,t)}function Yb(e){if(NJ(e)){const{format:t,formatType:n}=e;return{format:t,formatType:n}}else{const t=oM(e)??{},{format:n,formatType:r}=t;return{format:n,formatType:r}}}function Zje(e,t){var o;switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(iM(e)&&ie(e.sort))return"ordinal";const{aggregate:n,bin:r,timeUnit:i}=e;if(i)return"temporal";if(r||n&&!Au(n)&&!Da(n))return"quantitative";if(kf(e)&&((o=e.scale)!=null&&o.type))switch(W6[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function Bs(e){if(ge(e))return e;if(Nw(e))return e.condition}function bn(e){if(We(e))return e;if(c1(e))return e.condition}function DJ(e,t,n,r={}){if(Ee(e)||St(e)||bu(e)){const i=Ee(e)?"string":St(e)?"number":"boolean";return de(Zze(t,i,e)),{value:e}}return We(e)?Xb(e,t,n,r):c1(e)?{...e,condition:Xb(e.condition,t,n,r)}:e}function Xb(e,t,n,r){if(NJ(e)){const{format:i,formatType:o,...s}=e;if(Zc(o)&&!n.customFormatTypes)return de(eP(t)),Xb(s,t,n,r)}else{const i=wh(e)?"axis":FJ(e)?"legend":rM(e)?"header":null;if(i&&e[i]){const{format:o,formatType:s,...a}=e[i];if(Zc(s)&&!n.customFormatTypes)return de(eP(t)),Xb({...e,[i]:a},t,n,r)}}return ge(e)?aM(e,t,r):eUe(e)}function eUe(e){let t=e.type;if(t)return e;const{datum:n}=e;return t=St(n)?"quantitative":Ee(n)?"nominal":Cf(n)?"temporal":void 0,{...e,type:t}}function aM(e,t,{compositeMark:n=!1}={}){const{aggregate:r,timeUnit:i,bin:o,field:s}=e,a={...e};if(!n&&r&&!Nk(r)&&!Au(r)&&!Da(r)&&(de(tBe(r)),delete a.aggregate),i&&(a.timeUnit=Nn(i)),s&&(a.field=`${s}`),Pt(o)&&(a.bin=Rw(o,t)),zn(o)&&!In(t)&&de(RBe(t)),Rr(a)){const{type:l}=a,u=oje(l);l!==u&&(a.type=u),l!=="quantitative"&&PK(r)&&(de(eBe(l,r)),a.type="quantitative")}else if(!kK(t)){const l=Zje(a,t);a.type=l}if(Rr(a)){const{compatible:l,warning:u}=tUe(a,t)||{};l===!1&&de(u)}if(iM(a)&&Ee(a.sort)){const{sort:l}=a;if(sP(l))return{...a,sort:{encoding:l}};const u=l.substr(1);if(l.charAt(0)==="-"&&sP(u))return{...a,sort:{encoding:u,order:"descending"}}}if(rM(a)){const{header:l}=a;if(l){const{orient:u,...c}=l;if(u)return{...a,header:{...c,labelOrient:l.labelOrient||u,titleOrient:l.titleOrient||u}}}}return a}function Rw(e,t){return bu(e)?{maxbins:HR(t)}:e==="binned"?{binned:!0}:!e.maxbins&&!e.step?{...e,maxbins:HR(t)}:e}const Zf={compatible:!0};function tUe(e,t){const n=e.type;if(n==="geojson"&&t!=="shape")return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case $a:case Ca:case mw:return Gb(e)?Zf:{compatible:!1,warning:sBe(t)};case Ht:case Pn:case _u:case rp:case ni:case Xs:case Ks:case i1:case o1:case yw:case Xc:case vw:case bw:case Ef:case Zi:case Jo:case xw:return Zf;case Zo:case Ki:case Qo:case es:return n!==Jc?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:Zf;case Ya:case Eu:case Su:case $u:case Ga:case Wa:case Ha:case Ko:case Ys:return n==="nominal"&&!e.sort?{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`}:Zf;case ri:case Cu:return!Gb(e)&&!Yje(e)?{compatible:!1,warning:aBe(t)}:Zf;case mh:return e.type==="nominal"&&!("sort"in e)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:Zf}}function _h(e){const{formatType:t}=Yb(e);return t==="time"||!t&&nUe(e)}function nUe(e){return e&&(e.type==="temporal"||ge(e)&&!!e.timeUnit)}function Pw(e,{timeUnit:t,type:n,wrapTime:r,undefinedIfExprNotRequired:i}){var l;const o=t&&((l=Nn(t))==null?void 0:l.unit);let s=o||n==="temporal",a;return s1(e)?a=e.expr:Ne(e)?a=e.signal:Cf(e)?(s=!0,a=Kc(e)):(Ee(e)||St(e))&&s&&(a=`datetime(${Rt(e)})`,WBe(o)&&(St(e)&&e<1e4||Ee(e)&&isNaN(Date.parse(e)))&&(a=Kc({[o]:e}))),a?r&&s?`time(${a})`:a:i?void 0:Rt(e)}function LJ(e,t){const{type:n}=e;return t.map(r=>{const i=ge(e)&&!Af(e.timeUnit)?e.timeUnit:void 0,o=Pw(r,{timeUnit:i,type:n,undefinedIfExprNotRequired:!0});return o!==void 0?{signal:o}:r})}function f1(e,t){return Pt(e.bin)?Xa(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}const uP={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function d1(e){return e==null?void 0:e.condition}const zJ=["domain","grid","labels","ticks","title"],rUe={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},BJ={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},iUe={...BJ,style:1,labelExpr:1,encoding:1};function cP(e){return!!iUe[e]}const oUe={axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1},jJ=le(oUe);function Ka(e){return"mark"in e}class Iw{constructor(t,n){this.name=t,this.run=n}hasMatchingType(t){return Ka(t)?Rje(t.mark)===this.name:!1}}function Sc(e,t){const n=e&&e[t];return n?ie(n)?Gc(n,r=>!!r.field):ge(n)||Nw(n):!1}function UJ(e,t){const n=e&&e[t];return n?ie(n)?Gc(n,r=>!!r.field):ge(n)||Zs(n)||c1(n):!1}function X6(e,t){if(In(t)){const n=e[t];if((ge(n)||Zs(n))&&(uJ(n.type)||ge(n)&&n.timeUnit)){const r=Mk(t);return UJ(e,r)}}return!1}function lM(e){return Gc(sze,t=>{if(Sc(e,t)){const n=e[t];if(ie(n))return Gc(n,r=>!!r.aggregate);{const r=Bs(n);return r&&!!r.aggregate}}return!1})}function qJ(e,t){const n=[],r=[],i=[],o=[],s={};return uM(e,(a,l)=>{if(ge(a)){const{field:u,aggregate:c,bin:f,timeUnit:h,...p}=a;if(c||h||f){const g=oM(a),m=g==null?void 0:g.title;let y=we(a,{forAs:!0});const v={...m?[]:{title:Md(a,t,{allowDisabling:!0})},...p,field:y};if(c){let b;if(Au(c)?(b="argmax",y=we({op:"argmax",field:c.argmax},{forAs:!0}),v.field=`${y}.${u}`):Da(c)?(b="argmin",y=we({op:"argmin",field:c.argmin},{forAs:!0}),v.field=`${y}.${u}`):c!=="boxplot"&&c!=="errorbar"&&c!=="errorband"&&(b=c),b){const x={op:b,as:y};u&&(x.field=u),o.push(x)}}else if(n.push(y),Rr(a)&&Pt(f)){if(r.push({bin:f,field:u,as:y}),n.push(we(a,{binSuffix:"end"})),f1(a,l)&&n.push(we(a,{binSuffix:"range"})),In(l)){const b={field:`${y}_end`};s[`${l}2`]=b}v.bin="binned",kK(l)||(v.type=Jc)}else if(h&&!Af(h)){i.push({timeUnit:h,field:u,as:y});const b=Rr(a)&&a.type!==vh&&"time";b&&(l===i1||l===Xc?v.formatType=b:gze(l)?v.legend={formatType:b,...v.legend}:In(l)&&(v.axis={formatType:b,...v.axis}))}s[l]=v}else n.push(u),s[l]=e[l]}else s[l]=e[l]}),{bins:r,timeUnits:i,aggregate:o,groupby:n,encoding:s}}function sUe(e,t,n){const r=yze(t,n);if(r){if(r==="binned"){const i=e[t===Ko?Ht:Pn];return!!(ge(i)&&ge(e[t])&&zn(i.bin))}}else return!1;return!0}function aUe(e,t,n,r){const i={};for(const o of le(e))AK(o)||de(oBe(o));for(let o of fze){if(!e[o])continue;const s=e[o];if(ip(o)){const a=TK(o),l=i[a];if(ge(l)){if(ije(l.type)&&ge(s)&&!l.timeUnit){de(Jze(a));continue}}else o=a,de(Qze(a))}if(o==="angle"&&t==="arc"&&!e.theta&&(de(Kze),o=Zi),!sUe(e,o,t)){de(Sw(o,t));continue}if(o===Ga&&t==="line"){const a=Bs(e[o]);if(a!=null&&a.aggregate){de(rBe);continue}}if(o===ni&&(n?"fill"in e:"stroke"in e)){de(GK("encoding",{fill:"fill"in e,stroke:"stroke"in e}));continue}if(o===o1||o===mh&&!ie(s)&&!zo(s)||o===Xc&&ie(s)){if(s){if(o===mh){const a=e[o];if(OJ(a)){i[o]=a;continue}}i[o]=$e(s).reduce((a,l)=>(ge(l)?a.push(aM(l,o)):de(H6(l,o)),a),[])}}else{if(o===Xc&&s===null)i[o]=null;else if(!ge(s)&&!Zs(s)&&!zo(s)&&!Fw(s)&&!Ne(s)){de(H6(s,o));continue}i[o]=DJ(s,o,r)}}return i}function Dw(e,t){const n={};for(const r of le(e)){const i=DJ(e[r],r,t,{compositeMark:!0});n[r]=i}return n}function lUe(e){const t=[];for(const n of le(e))if(Sc(e,n)){const r=e[n],i=$e(r);for(const o of i)ge(o)?t.push(o):Nw(o)&&t.push(o.condition)}return t}function uM(e,t,n){if(e)for(const r of le(e)){const i=e[r];if(ie(i))for(const o of i)t.call(n,o,r);else t.call(n,i,r)}}function uUe(e,t,n,r){return e?le(e).reduce((i,o)=>{const s=e[o];return ie(s)?s.reduce((a,l)=>t.call(r,a,l,o),i):t.call(r,i,s,o)},n):n}function VJ(e,t){return le(t).reduce((n,r)=>{switch(r){case Ht:case Pn:case vw:case xw:case bw:case Ko:case Ys:case _u:case rp:case Zi:case Wa:case Jo:case Ha:case Qo:case Zo:case es:case Ki:case i1:case ri:case Ef:case Xc:return n;case mh:if(e==="line"||e==="trail")return n;case o1:case yw:{const i=t[r];if(ie(i)||ge(i))for(const o of $e(i))o.aggregate||n.push(we(o,{}));return n}case Ga:if(e==="trail")return n;case ni:case Xs:case Ks:case Ya:case Eu:case Su:case Cu:case $u:{const i=Bs(t[r]);return i&&!i.aggregate&&n.push(we(i,{})),n}}},[])}function cUe(e){const{tooltip:t,...n}=e;if(!t)return{filteredEncoding:n};let r,i;if(ie(t)){for(const o of t)o.aggregate?(r||(r=[]),r.push(o)):(i||(i=[]),i.push(o));r&&(n.tooltip=r)}else t.aggregate?n.tooltip=t:i=t;return ie(i)&&i.length===1&&(i=i[0]),{customTooltipWithoutAggregatedField:i,filteredEncoding:n}}function K6(e,t,n,r=!0){if("tooltip"in n)return{tooltip:n.tooltip};const i=e.map(({fieldPrefix:s,titlePrefix:a})=>{const l=r?` of ${cM(t)}`:"";return{field:s+t.field,type:t.type,title:Ne(a)?{signal:`${a}"${escape(l)}"`}:a+l}}),o=lUe(n).map(Wje);return{tooltip:[...i,...bs(o,ot)]}}function cM(e){const{title:t,field:n}=e;return an(t,n)}function fM(e,t,n,r,i){const{scale:o,axis:s}=n;return({partName:a,mark:l,positionPrefix:u,endPositionPrefix:c=void 0,extraEncoding:f={}})=>{const h=cM(n);return HJ(e,a,i,{mark:l,encoding:{[t]:{field:`${u}_${n.field}`,type:n.type,...h!==void 0?{title:h}:{},...o!==void 0?{scale:o}:{},...s!==void 0?{axis:s}:{}},...Ee(c)?{[`${t}2`]:{field:`${c}_${n.field}`}}:{},...r,...f}})}}function HJ(e,t,n,r){const{clip:i,color:o,opacity:s}=e,a=e.type;return e[t]||e[t]===void 0&&n[t]?[{...r,mark:{...n[t],...i?{clip:i}:{},...o?{color:o}:{},...s?{opacity:s}:{},...zs(r.mark)?r.mark:{type:r.mark},style:`${a}-${String(t)}`,...bu(e[t])?{}:e[t]}}]:[]}function WJ(e,t,n){const{encoding:r}=e,i=t==="vertical"?"y":"x",o=r[i],s=r[`${i}2`],a=r[`${i}Error`],l=r[`${i}Error2`];return{continuousAxisChannelDef:gy(o,n),continuousAxisChannelDef2:gy(s,n),continuousAxisChannelDefError:gy(a,n),continuousAxisChannelDefError2:gy(l,n),continuousAxis:i}}function gy(e,t){if(e!=null&&e.aggregate){const{aggregate:n,...r}=e;return n!==t&&de(NBe(n,t)),r}else return e}function GJ(e,t){const{mark:n,encoding:r}=e,{x:i,y:o}=r;if(zs(n)&&n.orient)return n.orient;if(Ol(i)){if(Ol(o)){const s=ge(i)&&i.aggregate,a=ge(o)&&o.aggregate;if(!s&&a===t)return"vertical";if(!a&&s===t)return"horizontal";if(s===t&&a===t)throw new Error("Both x and y cannot have aggregate");return _h(o)&&!_h(i)?"horizontal":"vertical"}return"horizontal"}else{if(Ol(o))return"vertical";throw new Error(`Need a valid continuous axis for ${t}s`)}}const Kb="boxplot",fUe=["box","median","outliers","rule","ticks"],dUe=new Iw(Kb,XJ);function YJ(e){return St(e)?"tukey":e}function XJ(e,{config:t}){e={...e,encoding:Dw(e.encoding,t)};const{mark:n,encoding:r,params:i,projection:o,...s}=e,a=zs(n)?n:{type:n};i&&de(HK("boxplot"));const l=a.extent??t.boxplot.extent,u=wt("size",a,t),c=a.invalid,f=YJ(l),{bins:h,timeUnits:p,transform:g,continuousAxisChannelDef:m,continuousAxis:y,groupby:v,aggregate:b,encodingWithoutContinuousAxis:x,ticksOrient:w,boxOrient:_,customTooltipWithoutAggregatedField:$}=hUe(e,l,t),{color:S,size:C,...T}=x,M=ee=>fM(a,y,m,ee,t.boxplot),E=M(T),N=M(x),k=M({...T,...C?{size:C}:{}}),A=K6([{fieldPrefix:f==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:f==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],m,x),O={type:"tick",color:"black",opacity:1,orient:w,invalid:c,aria:!1},F=f==="min-max"?A:K6([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],m,x),R=[...E({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:F}),...E({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:F}),...E({partName:"ticks",mark:O,positionPrefix:"lower_whisker",extraEncoding:F}),...E({partName:"ticks",mark:O,positionPrefix:"upper_whisker",extraEncoding:F})],D=[...f!=="tukey"?R:[],...N({partName:"box",mark:{type:"bar",...u?{size:u}:{},orient:_,invalid:c,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:A}),...k({partName:"median",mark:{type:"tick",invalid:c,...Ae(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{},...u?{size:u}:{},orient:w,aria:!1},positionPrefix:"mid_box",extraEncoding:A})];if(f==="min-max")return{...s,transform:(s.transform??[]).concat(g),layer:D};const z=`datum["lower_box_${m.field}"]`,U=`datum["upper_box_${m.field}"]`,H=`(${U} - ${z})`,W=`${z} - ${l} * ${H}`,he=`${U} + ${l} * ${H}`,ae=`datum["${m.field}"]`,Ce={joinaggregate:KJ(m.field),groupby:v},xe={transform:[{filter:`(${W} <= ${ae}) && (${ae} <= ${he})`},{aggregate:[{op:"min",field:m.field,as:`lower_whisker_${m.field}`},{op:"max",field:m.field,as:`upper_whisker_${m.field}`},{op:"min",field:`lower_box_${m.field}`,as:`lower_box_${m.field}`},{op:"max",field:`upper_box_${m.field}`,as:`upper_box_${m.field}`},...b],groupby:v}],layer:R},{tooltip:B,...Q}=T,{scale:q,axis:K}=m,ce=cM(m),I=Xr(K,["title"]),L=HJ(a,"outliers",t.boxplot,{transform:[{filter:`(${ae} < ${W}) || (${ae} > ${he})`}],mark:"point",encoding:{[y]:{field:m.field,type:m.type,...ce!==void 0?{title:ce}:{},...q!==void 0?{scale:q}:{},...Ct(I)?{}:{axis:I}},...Q,...S?{color:S}:{},...$?{tooltip:$}:{}}})[0];let j;const X=[...h,...p,Ce];return L?j={transform:X,layer:[L,xe]}:(j=xe,j.transform.unshift(...X)),{...s,layer:[j,{transform:g,layer:D}]}}function KJ(e){return[{op:"q1",field:e,as:`lower_box_${e}`},{op:"q3",field:e,as:`upper_box_${e}`}]}function hUe(e,t,n){const r=GJ(e,Kb),{continuousAxisChannelDef:i,continuousAxis:o}=WJ(e,r,Kb),s=i.field,a=YJ(t),l=[...KJ(s),{op:"median",field:s,as:`mid_box_${s}`},{op:"min",field:s,as:(a==="min-max"?"lower_whisker_":"min_")+s},{op:"max",field:s,as:(a==="min-max"?"upper_whisker_":"max_")+s}],u=a==="min-max"||a==="tukey"?[]:[{calculate:`datum["upper_box_${s}"] - datum["lower_box_${s}"]`,as:`iqr_${s}`},{calculate:`min(datum["upper_box_${s}"] + datum["iqr_${s}"] * ${t}, datum["max_${s}"])`,as:`upper_whisker_${s}`},{calculate:`max(datum["lower_box_${s}"] - datum["iqr_${s}"] * ${t}, datum["min_${s}"])`,as:`lower_whisker_${s}`}],{[o]:c,...f}=e.encoding,{customTooltipWithoutAggregatedField:h,filteredEncoding:p}=cUe(f),{bins:g,timeUnits:m,aggregate:y,groupby:v,encoding:b}=qJ(p,n),x=r==="vertical"?"horizontal":"vertical",w=r,_=[...g,...m,{aggregate:[...y,...l],groupby:v},...u];return{bins:g,timeUnits:m,transform:_,groupby:v,aggregate:y,continuousAxisChannelDef:i,continuousAxis:o,encodingWithoutContinuousAxis:b,ticksOrient:x,boxOrient:w,customTooltipWithoutAggregatedField:h}}const dM="errorbar",pUe=["ticks","rule"],gUe=new Iw(dM,JJ);function JJ(e,{config:t}){e={...e,encoding:Dw(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:o,ticksOrient:s,markDef:a,outerSpec:l,tooltipEncoding:u}=QJ(e,dM,t);delete o.size;const c=fM(a,i,r,o,t.errorbar),f=a.thickness,h=a.size,p={type:"tick",orient:s,aria:!1,...f!==void 0?{thickness:f}:{},...h!==void 0?{size:h}:{}},g=[...c({partName:"ticks",mark:p,positionPrefix:"lower",extraEncoding:u}),...c({partName:"ticks",mark:p,positionPrefix:"upper",extraEncoding:u}),...c({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...f!==void 0?{size:f}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:u})];return{...l,transform:n,...g.length>1?{layer:g}:{...g[0]}}}function mUe(e,t){const{encoding:n}=e;if(yUe(n))return{orient:GJ(e,t),inputType:"raw"};const r=vUe(n),i=bUe(n),o=n.x,s=n.y;if(r){if(i)throw new Error(`${t} cannot be both type aggregated-upper-lower and aggregated-error`);const a=n.x2,l=n.y2;if(We(a)&&We(l))throw new Error(`${t} cannot have both x2 and y2`);if(We(a)){if(Ol(o))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${t}`)}else if(We(l)){if(Ol(s))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${t}`)}throw new Error("No ranged axis")}else{const a=n.xError,l=n.xError2,u=n.yError,c=n.yError2;if(We(l)&&!We(a))throw new Error(`${t} cannot have xError2 without xError`);if(We(c)&&!We(u))throw new Error(`${t} cannot have yError2 without yError`);if(We(a)&&We(u))throw new Error(`${t} cannot have both xError and yError with both are quantiative`);if(We(a)){if(Ol(o))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(We(u)){if(Ol(s))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function yUe(e){return(We(e.x)||We(e.y))&&!We(e.x2)&&!We(e.y2)&&!We(e.xError)&&!We(e.xError2)&&!We(e.yError)&&!We(e.yError2)}function vUe(e){return We(e.x2)||We(e.y2)}function bUe(e){return We(e.xError)||We(e.xError2)||We(e.yError)||We(e.yError2)}function QJ(e,t,n){const{mark:r,encoding:i,params:o,projection:s,...a}=e,l=zs(r)?r:{type:r};o&&de(HK(t));const{orient:u,inputType:c}=mUe(e,t),{continuousAxisChannelDef:f,continuousAxisChannelDef2:h,continuousAxisChannelDefError:p,continuousAxisChannelDefError2:g,continuousAxis:m}=WJ(e,u,t),{errorBarSpecificAggregate:y,postAggregateCalculates:v,tooltipSummary:b,tooltipTitleWithFieldName:x}=xUe(l,f,h,p,g,c,t,n),{[m]:w,[m==="x"?"x2":"y2"]:_,[m==="x"?"xError":"yError"]:$,[m==="x"?"xError2":"yError2"]:S,...C}=i,{bins:T,timeUnits:M,aggregate:E,groupby:N,encoding:k}=qJ(C,n),A=[...E,...y],O=c!=="raw"?[]:N,F=K6(b,f,k,x);return{transform:[...a.transform??[],...T,...M,...A.length===0?[]:[{aggregate:A,groupby:O}],...v],groupby:O,continuousAxisChannelDef:f,continuousAxis:m,encodingWithoutContinuousAxis:k,ticksOrient:u==="vertical"?"horizontal":"vertical",markDef:l,outerSpec:a,tooltipEncoding:F}}function xUe(e,t,n,r,i,o,s,a){let l=[],u=[];const c=t.field;let f,h=!1;if(o==="raw"){const p=e.center?e.center:e.extent?e.extent==="iqr"?"median":"mean":a.errorbar.center,g=e.extent?e.extent:p==="mean"?"stderr":"iqr";if(p==="median"!=(g==="iqr")&&de(FBe(p,g,s)),g==="stderr"||g==="stdev")l=[{op:g,field:c,as:`extent_${c}`},{op:p,field:c,as:`center_${c}`}],u=[{calculate:`datum["center_${c}"] + datum["extent_${c}"]`,as:`upper_${c}`},{calculate:`datum["center_${c}"] - datum["extent_${c}"]`,as:`lower_${c}`}],f=[{fieldPrefix:"center_",titlePrefix:r1(p)},{fieldPrefix:"upper_",titlePrefix:fP(p,g,"+")},{fieldPrefix:"lower_",titlePrefix:fP(p,g,"-")}],h=!0;else{let m,y,v;g==="ci"?(m="mean",y="ci0",v="ci1"):(m="median",y="q1",v="q3"),l=[{op:y,field:c,as:`lower_${c}`},{op:v,field:c,as:`upper_${c}`},{op:m,field:c,as:`center_${c}`}],f=[{fieldPrefix:"upper_",titlePrefix:Md({field:c,aggregate:v,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:Md({field:c,aggregate:y,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:Md({field:c,aggregate:m,type:"quantitative"},a,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&de(OBe(e.center,e.extent)),o==="aggregated-upper-lower"?(f=[],u=[{calculate:`datum["${n.field}"]`,as:`upper_${c}`},{calculate:`datum["${c}"]`,as:`lower_${c}`}]):o==="aggregated-error"&&(f=[{fieldPrefix:"",titlePrefix:c}],u=[{calculate:`datum["${c}"] + datum["${r.field}"]`,as:`upper_${c}`}],i?u.push({calculate:`datum["${c}"] + datum["${i.field}"]`,as:`lower_${c}`}):u.push({calculate:`datum["${c}"] - datum["${r.field}"]`,as:`lower_${c}`}));for(const p of u)f.push({fieldPrefix:p.as.substring(0,6),titlePrefix:Yc(Yc(p.calculate,'datum["',""),'"]',"")})}return{postAggregateCalculates:u,errorBarSpecificAggregate:l,tooltipSummary:f,tooltipTitleWithFieldName:h}}function fP(e,t,n){return`${r1(e)} ${n} ${t}`}const hM="errorband",wUe=["band","borders"],_Ue=new Iw(hM,ZJ);function ZJ(e,{config:t}){e={...e,encoding:Dw(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:o,markDef:s,outerSpec:a,tooltipEncoding:l}=QJ(e,hM,t),u=s,c=fM(u,i,r,o,t.errorband),f=e.encoding.x!==void 0&&e.encoding.y!==void 0;let h={type:f?"area":"rect"},p={type:f?"line":"rule"};const g={...u.interpolate?{interpolate:u.interpolate}:{},...u.tension&&u.interpolate?{tension:u.tension}:{}};return f?(h={...h,...g,ariaRoleDescription:"errorband"},p={...p,...g,aria:!1}):u.interpolate?de(nP("interpolate")):u.tension&&de(nP("tension")),{...a,transform:n,layer:[...c({partName:"band",mark:h,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:l}),...c({partName:"borders",mark:p,positionPrefix:"lower",extraEncoding:l}),...c({partName:"borders",mark:p,positionPrefix:"upper",extraEncoding:l})]}}const eQ={};function pM(e,t,n){const r=new Iw(e,t);eQ[e]={normalizer:r,parts:n}}function EUe(){return le(eQ)}pM(Kb,XJ,fUe);pM(dM,JJ,pUe);pM(hM,ZJ,wUe);const SUe=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],tQ={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},nQ={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},$Ue=le(tQ),CUe=le(nQ),AUe={header:1,headerRow:1,headerColumn:1,headerFacet:1},rQ=le(AUe),iQ=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],kUe={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},MUe={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},Bo="_vgsid_",TUe={point:{on:"click",fields:[Bo],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function gM(e){return e==="legend"||!!(e!=null&&e.legend)}function K3(e){return gM(e)&&Ae(e)}function mM(e){return!!(e!=null&&e.select)}function oQ(e){const t=[];for(const n of e||[]){if(mM(n))continue;const{expr:r,bind:i,...o}=n;if(i&&r){const s={...o,bind:i,init:r};t.push(s)}else{const s={...o,...r?{update:r}:{},...i?{bind:i}:{}};t.push(s)}}return t}function OUe(e){return Lw(e)||vM(e)||yM(e)}function yM(e){return"concat"in e}function Lw(e){return"vconcat"in e}function vM(e){return"hconcat"in e}function sQ({step:e,offsetIsDiscrete:t}){return t?e.for??"offset":"position"}function js(e){return Ae(e)&&e.step!==void 0}function dP(e){return e.view||e.width||e.height}const hP=20,FUe={align:1,bounds:1,center:1,columns:1,spacing:1},NUe=le(FUe);function RUe(e,t,n){const r=n[t],i={},{spacing:o,columns:s}=r;o!==void 0&&(i.spacing=o),s!==void 0&&(Ow(e)&&!u1(e.facet)||yM(e))&&(i.columns=s),Lw(e)&&(i.columns=1);for(const a of NUe)if(e[a]!==void 0)if(a==="spacing"){const l=e[a];i[a]=St(l)?l:{row:l.row??o,column:l.column??o}}else i[a]=e[a];return i}function J6(e,t){return e[t]??e[t==="width"?"continuousWidth":"continuousHeight"]}function Jb(e,t){const n=Qb(e,t);return js(n)?n.step:aQ}function Qb(e,t){const n=e[t]??e[t==="width"?"discreteWidth":"discreteHeight"];return an(n,{step:e.step})}const aQ=20,PUe={continuousWidth:200,continuousHeight:200,step:aQ},IUe={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:PUe,mark:kje,arc:{},area:{},bar:Oje,circle:{},geoshape:{},image:{},line:{},point:{},rect:Fje,rule:{color:"black"},square:{},text:{color:"black"},tick:Nje,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:cje,projection:{},legend:kUe,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:TUe,style:{},title:{},facet:{spacing:hP},concat:{spacing:hP},normalizedNumberFormat:".0%"},la=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],pP={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},gP={blue:la[0],orange:la[1],red:la[2],teal:la[3],green:la[4],yellow:la[5],purple:la[6],pink:la[7],brown:la[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function DUe(e={}){return{signals:[{name:"color",value:Ae(e)?{...gP,...e}:gP}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function LUe(e){return{signals:[{name:"fontSize",value:Ae(e)?{...pP,...e}:pP}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function zUe(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function lQ(e){const t=le(e||{}),n={};for(const r of t){const i=e[r];n[r]=d1(i)?LK(i):vi(i)}return n}function BUe(e){const t=le(e),n={};for(const r of t)n[r]=lQ(e[r]);return n}const jUe=[...bJ,...jJ,...rQ,"background","padding","legend","lineBreak","scale","style","title","view"];function uQ(e={}){const{color:t,font:n,fontSize:r,selection:i,...o}=e,s=Wh({},He(IUe),n?zUe(n):{},t?DUe(t):{},r?LUe(r):{},o||{});i&&Gh(s,"selection",i,!0);const a=Xr(s,jUe);for(const l of["background","lineBreak","padding"])s[l]&&(a[l]=vi(s[l]));for(const l of bJ)s[l]&&(a[l]=Ur(s[l]));for(const l of jJ)s[l]&&(a[l]=lQ(s[l]));for(const l of rQ)s[l]&&(a[l]=Ur(s[l]));return s.legend&&(a.legend=Ur(s.legend)),s.scale&&(a.scale=Ur(s.scale)),s.style&&(a.style=BUe(s.style)),s.title&&(a.title=Ur(s.title)),s.view&&(a.view=Ur(s.view)),a}const UUe=new Set(["view",..._je]),qUe=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],VUe={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],...Aje};function HUe(e){e=He(e);for(const t of qUe)delete e[t];if(e.axis)for(const t in e.axis)d1(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of SUe)delete e.legend[t];if(e.mark){for(const t of iP)delete e.mark[t];e.mark.tooltip&&Ae(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(oQ(e.params)),delete e.params);for(const t of UUe){for(const r of iP)delete e[t][r];const n=VUe[t];if(n)for(const r of n)delete e[t][r];GUe(e,t)}for(const t of EUe())delete e[t];WUe(e);for(const t in e)Ae(e[t])&&Ct(e[t])&&delete e[t];return Ct(e)?void 0:e}function WUe(e){const{titleMarkConfig:t,subtitleMarkConfig:n,subtitle:r}=DK(e.title);Ct(t)||(e.style["group-title"]={...e.style["group-title"],...t}),Ct(n)||(e.style["group-subtitle"]={...e.style["group-subtitle"],...n}),Ct(r)?delete e.title:e.title=r}function GUe(e,t,n,r){const i=r?e[t][r]:e[t];t==="view"&&(n="cell");const o={...i,...e.style[n??t]};Ct(o)||(e.style[n??t]=o),r||delete e[t]}function zw(e){return"layer"in e}function YUe(e){return"repeat"in e}function XUe(e){return!ie(e.repeat)&&e.repeat.layer}class bM{map(t,n){return Ow(t)?this.mapFacet(t,n):YUe(t)?this.mapRepeat(t,n):vM(t)?this.mapHConcat(t,n):Lw(t)?this.mapVConcat(t,n):yM(t)?this.mapConcat(t,n):this.mapLayerOrUnit(t,n)}mapLayerOrUnit(t,n){if(zw(t))return this.mapLayer(t,n);if(Ka(t))return this.mapUnit(t,n);throw new Error(Rk(t))}mapLayer(t,n){return{...t,layer:t.layer.map(r=>this.mapLayerOrUnit(r,n))}}mapHConcat(t,n){return{...t,hconcat:t.hconcat.map(r=>this.map(r,n))}}mapVConcat(t,n){return{...t,vconcat:t.vconcat.map(r=>this.map(r,n))}}mapConcat(t,n){const{concat:r,...i}=t;return{...i,concat:r.map(o=>this.map(o,n))}}mapFacet(t,n){return{...t,spec:this.map(t.spec,n)}}mapRepeat(t,n){return{...t,spec:this.map(t.spec,n)}}}const KUe={zero:1,center:1,normalize:1};function JUe(e){return e in KUe}const QUe=new Set([mJ,Aw,Cw,Vb,Mw,Kk,Jk,kw,yJ,Xk]),ZUe=new Set([Aw,Cw,mJ]);function ed(e){return ge(e)&&xh(e)==="quantitative"&&!e.bin}function mP(e,t,{orient:n,type:r}){const i=t==="x"?"y":"radius",o=t==="x",s=e[t],a=e[i];if(ge(s)&&ge(a))if(ed(s)&&ed(a)){if(s.stack)return t;if(a.stack)return i;const l=ge(s)&&!!s.aggregate,u=ge(a)&&!!a.aggregate;if(l!==u)return l?t:i;if(o&&r==="bar"){if(n==="vertical")return i;if(n==="horizontal")return t}}else{if(ed(s))return t;if(ed(a))return i}else{if(ed(s))return t;if(ed(a))return i}}function eqe(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function cQ(e,t){var h,p;const n=zs(e)?e:{type:e},r=n.type;if(!QUe.has(r))return null;const i=mP(t,"x",n)||mP(t,"theta",n);if(!i)return null;const o=t[i],s=ge(o)?we(o,{}):void 0,a=eqe(i),l=[],u=new Set;if(t[a]){const g=t[a],m=ge(g)?we(g,{}):void 0;m&&m!==s&&(l.push(a),u.add(m));const y=a==="x"?"xOffset":"yOffset",v=t[y],b=ge(v)?we(v,{}):void 0;b&&b!==s&&(l.push(y),u.add(b))}const c=dze.reduce((g,m)=>{if(m!=="tooltip"&&Sc(t,m)){const y=t[m];for(const v of $e(y)){const b=Bs(v);if(b.aggregate)continue;const x=we(b,{});(!x||!u.has(x))&&g.push({channel:m,fieldDef:b})}}return g},[]);let f;return o.stack!==void 0?bu(o.stack)?f=o.stack?"zero":null:f=o.stack:ZUe.has(r)&&(f="zero"),!f||!JUe(f)||lM(t)&&c.length===0?null:(h=o==null?void 0:o.scale)!=null&&h.type&&((p=o==null?void 0:o.scale)==null?void 0:p.type)!==Kr.LINEAR?(o!=null&&o.stack&&de(kBe(o.scale.type)),null):We(t[Js(i)])?(o.stack!==void 0&&de(ABe(i)),null):(ge(o)&&o.aggregate&&!Sze.has(o.aggregate)&&de(MBe(o.aggregate)),{groupbyChannels:l,groupbyFields:u,fieldChannel:i,impute:o.impute===null?!1:Mu(r),stackBy:c,offset:f})}function tqe(e){const{point:t,line:n,...r}=e;return le(r).length>1?r:r.type}function nqe(e){for(const t of["line","area","rule","trail"])e[t]&&(e={...e,[t]:Xr(e[t],["point","line"])});return e}function J3(e,t={},n){return e.point==="transparent"?{opacity:0}:e.point?Ae(e.point)?e.point:{}:e.point!==void 0?null:t.point||n.shape?Ae(t.point)?t.point:{}:void 0}function yP(e,t={}){return e.line?e.line===!0?{}:e.line:e.line!==void 0?null:t.line?t.line===!0?{}:t.line:void 0}class rqe{constructor(){this.name="path-overlay"}hasMatchingType(t,n){if(Ka(t)){const{mark:r,encoding:i}=t,o=zs(r)?r:{type:r};switch(o.type){case"line":case"rule":case"trail":return!!J3(o,n[o.type],i);case"area":return!!J3(o,n[o.type],i)||!!yP(o,n[o.type])}}return!1}run(t,n,r){const{config:i}=n,{params:o,projection:s,mark:a,name:l,encoding:u,...c}=t,f=Dw(u,i),h=zs(a)?a:{type:a},p=J3(h,i[h.type],f),g=h.type==="area"&&yP(h,i[h.type]),m=[{name:l,...o?{params:o}:{},mark:tqe({...h.type==="area"&&h.opacity===void 0&&h.fillOpacity===void 0?{opacity:.7}:{},...h}),encoding:Xr(f,["shape"])}],y=cQ(h,f);let v=f;if(y){const{fieldChannel:b,offset:x}=y;v={...f,[b]:{...f[b],...x?{stack:x}:{}}}}return v=Xr(v,["y2","x2"]),g&&m.push({...s?{projection:s}:{},mark:{type:"line",...ph(h,["clip","interpolate","tension","tooltip"]),...g},encoding:v}),p&&m.push({...s?{projection:s}:{},mark:{type:"point",opacity:1,filled:!0,...ph(h,["clip","tooltip"]),...p},encoding:v}),r({...c,layer:m},{...n,config:nqe(i)})}}function iqe(e,t){return t?u1(e)?dQ(e,t):fQ(e,t):e}function Q3(e,t){return t?dQ(e,t):e}function Q6(e,t,n){const r=t[e];if(Vje(r)){if(r.repeat in n)return{...t,[e]:n[r.repeat]};de(qze(r.repeat));return}return t}function fQ(e,t){if(e=Q6("field",e,t),e!==void 0){if(e===null)return null;if(iM(e)&&As(e.sort)){const n=Q6("field",e.sort,t);e={...e,...n?{sort:n}:{}}}return e}}function vP(e,t){if(ge(e))return fQ(e,t);{const n=Q6("datum",e,t);return n!==e&&!n.type&&(n.type="nominal"),n}}function bP(e,t){if(We(e)){const n=vP(e,t);if(n)return n;if(Fw(e))return{condition:e.condition}}else{if(c1(e)){const n=vP(e.condition,t);if(n)return{...e,condition:n};{const{condition:r,...i}=e;return i}}return e}}function dQ(e,t){const n={};for(const r in e)if(Le(e,r)){const i=e[r];if(ie(i))n[r]=i.map(o=>bP(o,t)).filter(o=>o);else{const o=bP(i,t);o!==void 0&&(n[r]=o)}}return n}class oqe{constructor(){this.name="RuleForRangedLine"}hasMatchingType(t){if(Ka(t)){const{encoding:n,mark:r}=t;if(r==="line"||zs(r)&&r.type==="line")for(const i of cze){const o=Sf(i),s=n[o];if(n[i]&&(ge(s)&&!zn(s.bin)||Zs(s)))return!0}}return!1}run(t,n,r){const{encoding:i,mark:o}=t;return de(cBe(!!i.x2,!!i.y2)),r({...t,mark:Ae(o)?{...o,type:"rule"}:"rule"},n)}}class sqe extends bM{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[dUe,gUe,_Ue,new rqe,new oqe]}map(t,n){if(Ka(t)){const r=Sc(t.encoding,$a),i=Sc(t.encoding,Ca),o=Sc(t.encoding,mw);if(r||i||o)return this.mapFacetedUnit(t,n)}return super.map(t,n)}mapUnit(t,n){const{parentEncoding:r,parentProjection:i}=n,o=Q3(t.encoding,n.repeater),s={...t,...t.name?{name:[n.repeaterPrefix,t.name].filter(l=>l).join("_")}:{},...o?{encoding:o}:{}};if(r||i)return this.mapUnitWithParentEncodingOrProjection(s,n);const a=this.mapLayerOrUnit.bind(this);for(const l of this.nonFacetUnitNormalizers)if(l.hasMatchingType(s,n.config))return l.run(s,n,a);return s}mapRepeat(t,n){return XUe(t)?this.mapLayerRepeat(t,n):this.mapNonLayerRepeat(t,n)}mapLayerRepeat(t,n){const{repeat:r,spec:i,...o}=t,{row:s,column:a,layer:l}=r,{repeater:u={},repeaterPrefix:c=""}=n;return s||a?this.mapRepeat({...t,repeat:{...s?{row:s}:{},...a?{column:a}:{}},spec:{repeat:{layer:l},spec:i}},n):{...o,layer:l.map(f=>{const h={...u,layer:f},p=`${(i.name?`${i.name}_`:"")+c}child__layer_${Vt(f)}`,g=this.mapLayerOrUnit(i,{...n,repeater:h,repeaterPrefix:p});return g.name=p,g})}}mapNonLayerRepeat(t,n){const{repeat:r,spec:i,data:o,...s}=t;!ie(r)&&t.columns&&(t=Xr(t,["columns"]),de(QR("repeat")));const a=[],{repeater:l={},repeaterPrefix:u=""}=n,c=!ie(r)&&r.row||[l?l.row:null],f=!ie(r)&&r.column||[l?l.column:null],h=ie(r)&&r||[l?l.repeat:null];for(const g of h)for(const m of c)for(const y of f){const v={repeat:g,row:m,column:y,layer:l.layer},b=(i.name?`${i.name}_`:"")+u+"child__"+(ie(r)?`${Vt(g)}`:(r.row?`row_${Vt(m)}`:"")+(r.column?`column_${Vt(y)}`:"")),x=this.map(i,{...n,repeater:v,repeaterPrefix:b});x.name=b,a.push(Xr(x,["data"]))}const p=ie(r)?t.columns:r.column?r.column.length:1;return{data:i.data??o,align:"all",...s,columns:p,concat:a}}mapFacet(t,n){const{facet:r}=t;return u1(r)&&t.columns&&(t=Xr(t,["columns"]),de(QR("facet"))),super.mapFacet(t,n)}mapUnitWithParentEncodingOrProjection(t,n){const{encoding:r,projection:i}=t,{parentEncoding:o,parentProjection:s,config:a}=n,l=wP({parentProjection:s,projection:i}),u=xP({parentEncoding:o,encoding:Q3(r,n.repeater)});return this.mapUnit({...t,...l?{projection:l}:{},...u?{encoding:u}:{}},{config:a})}mapFacetedUnit(t,n){const{row:r,column:i,facet:o,...s}=t.encoding,{mark:a,width:l,projection:u,height:c,view:f,params:h,encoding:p,...g}=t,{facetMapping:m,layout:y}=this.getFacetMappingAndLayout({row:r,column:i,facet:o},n),v=Q3(s,n.repeater);return this.mapFacet({...g,...y,facet:m,spec:{...l?{width:l}:{},...c?{height:c}:{},...f?{view:f}:{},...u?{projection:u}:{},mark:a,encoding:v,...h?{params:h}:{}}},n)}getFacetMappingAndLayout(t,n){const{row:r,column:i,facet:o}=t;if(r||i){o&&de(lBe([...r?[$a]:[],...i?[Ca]:[]]));const s={},a={};for(const l of[$a,Ca]){const u=t[l];if(u){const{align:c,center:f,spacing:h,columns:p,...g}=u;s[l]=g;for(const m of["align","center","spacing"])u[m]!==void 0&&(a[m]??(a[m]={}),a[m][l]=u[m])}}return{facetMapping:s,layout:a}}else{const{align:s,center:a,spacing:l,columns:u,...c}=o;return{facetMapping:iqe(c,n.repeater),layout:{...s?{align:s}:{},...a?{center:a}:{},...l?{spacing:l}:{},...u?{columns:u}:{}}}}}mapLayer(t,{parentEncoding:n,parentProjection:r,...i}){const{encoding:o,projection:s,...a}=t,l={...i,parentEncoding:xP({parentEncoding:n,encoding:o,layer:!0}),parentProjection:wP({parentProjection:r,projection:s})};return super.mapLayer({...a,...t.name?{name:[l.repeaterPrefix,t.name].filter(u=>u).join("_")}:{}},l)}}function xP({parentEncoding:e,encoding:t={},layer:n}){let r={};if(e){const i=new Set([...le(e),...le(t)]);for(const o of i){const s=t[o],a=e[o];if(We(s)){const l={...a,...s};r[o]=l}else c1(s)?r[o]={...s,condition:{...a,...s.condition}}:s||s===null?r[o]=s:(n||zo(a)||Ne(a)||We(a)||ie(a))&&(r[o]=a)}}else r=t;return!r||Ct(r)?void 0:r}function wP(e){const{parentProjection:t,projection:n}=e;return t&&n&&de(Xze({parentProjection:t,projection:n})),n??t}function xM(e){return"filter"in e}function aqe(e){return(e==null?void 0:e.stop)!==void 0}function hQ(e){return"lookup"in e}function lqe(e){return"data"in e}function uqe(e){return"param"in e}function cqe(e){return"pivot"in e}function fqe(e){return"density"in e}function dqe(e){return"quantile"in e}function hqe(e){return"regression"in e}function pqe(e){return"loess"in e}function gqe(e){return"sample"in e}function mqe(e){return"window"in e}function yqe(e){return"joinaggregate"in e}function vqe(e){return"flatten"in e}function bqe(e){return"calculate"in e}function pQ(e){return"bin"in e}function xqe(e){return"impute"in e}function wqe(e){return"timeUnit"in e}function _qe(e){return"aggregate"in e}function Eqe(e){return"stack"in e}function Sqe(e){return"fold"in e}function $qe(e){return"extent"in e&&!("density"in e)}function Cqe(e){return e.map(t=>xM(t)?{filter:Ad(t.filter,rje)}:t)}class Aqe extends bM{map(t,n){return n.emptySelections??(n.emptySelections={}),n.selectionPredicates??(n.selectionPredicates={}),t=_P(t,n),super.map(t,n)}mapLayerOrUnit(t,n){if(t=_P(t,n),t.encoding){const r={};for(const[i,o]of au(t.encoding))r[i]=gQ(o,n);t={...t,encoding:r}}return super.mapLayerOrUnit(t,n)}mapUnit(t,n){const{selection:r,...i}=t;return r?{...i,params:au(r).map(([o,s])=>{const{init:a,bind:l,empty:u,...c}=s;c.type==="single"?(c.type="point",c.toggle=!1):c.type==="multi"&&(c.type="point"),n.emptySelections[o]=u!=="none";for(const f of Vn(n.selectionPredicates[o]??{}))f.empty=u!=="none";return{name:o,value:a,select:c,bind:l}})}:t}}function _P(e,t){const{transform:n,...r}=e;if(n){const i=n.map(o=>{if(xM(o))return{filter:Z6(o,t)};if(pQ(o)&&$f(o.bin))return{...o,bin:mQ(o.bin)};if(hQ(o)){const{selection:s,...a}=o.from;return s?{...o,from:{param:s,...a}}:o}return o});return{...r,transform:i}}return e}function gQ(e,t){var r,i;const n=He(e);if(ge(n)&&$f(n.bin)&&(n.bin=mQ(n.bin)),kf(n)&&((i=(r=n.scale)==null?void 0:r.domain)!=null&&i.selection)){const{selection:o,...s}=n.scale.domain;n.scale.domain={...s,...o?{param:o}:{}}}if(Fw(n))if(ie(n.condition))n.condition=n.condition.map(o=>{const{selection:s,param:a,test:l,...u}=o;return a?o:{...u,test:Z6(o,t)}});else{const{selection:o,param:s,test:a,...l}=gQ(n.condition,t);n.condition=s?n.condition:{...l,test:Z6(n.condition,t)}}return n}function mQ(e){const t=e.extent;if(t!=null&&t.selection){const{selection:n,...r}=t;return{...e,extent:{...r,param:n}}}return e}function Z6(e,t){const n=r=>Ad(r,i=>{var o;const s=t.emptySelections[i]??!0,a={param:i,empty:s};return(o=t.selectionPredicates)[i]??(o[i]=[]),t.selectionPredicates[i].push(a),a});return e.selection?n(e.selection):Ad(e.test||e.filter,r=>r.selection?n(r.selection):r)}class e4 extends bM{map(t,n){const r=n.selections??[];if(t.params&&!Ka(t)){const i=[];for(const o of t.params)mM(o)?r.push(o):i.push(o);t.params=i}return n.selections=r,super.map(t,n)}mapUnit(t,n){const r=n.selections;if(!r||!r.length)return t;const i=(n.path??[]).concat(t.name),o=[];for(const s of r)if(!s.views||!s.views.length)o.push(s);else for(const a of s.views)(Ee(a)&&(a===t.name||i.includes(a))||ie(a)&&a.map(l=>i.indexOf(l)).every((l,u,c)=>l!==-1&&(u===0||l>c[u-1])))&&o.push(s);return o.length&&(t.params=o),t}}for(const e of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const t=e4.prototype[e];e4.prototype[e]=function(n,r){return t.call(this,n,kqe(n,r))}}function kqe(e,t){return e.name?{...t,path:(t.path??[]).concat(e.name)}:t}function yQ(e,t){t===void 0&&(t=uQ(e.config));const n=Fqe(e,t),{width:r,height:i}=e,o=Nqe(n,{width:r,height:i,autosize:e.autosize},t);return{...n,...o?{autosize:o}:{}}}const Mqe=new sqe,Tqe=new Aqe,Oqe=new e4;function Fqe(e,t={}){const n={config:t};return Oqe.map(Mqe.map(Tqe.map(e,n),n),n)}function EP(e){return Ee(e)?{type:e}:e??{}}function Nqe(e,t,n){let{width:r,height:i}=t;const o=Ka(e)||zw(e),s={};o?r=="container"&&i=="container"?(s.type="fit",s.contains="padding"):r=="container"?(s.type="fit-x",s.contains="padding"):i=="container"&&(s.type="fit-y",s.contains="padding"):(r=="container"&&(de(YR("width")),r=void 0),i=="container"&&(de(YR("height")),i=void 0));const a={type:"pad",...s,...n?EP(n.autosize):{},...EP(e.autosize)};if(a.type==="fit"&&!o&&(de(Nze),a.type="pad"),r=="container"&&!(a.type=="fit"||a.type=="fit-x")&&de(XR("width")),i=="container"&&!(a.type=="fit"||a.type=="fit-y")&&de(XR("height")),!vs(a,{type:"pad"}))return a}function Rqe(e){return e==="fit"||e==="fit-x"||e==="fit-y"}function Pqe(e){return e?`fit-${ww(e)}`:"fit"}const Iqe=["background","padding"];function SP(e,t){const n={};for(const r of Iqe)e&&e[r]!==void 0&&(n[r]=vi(e[r]));return t&&(n.params=e.params),n}class Ja{constructor(t={},n={}){this.explicit=t,this.implicit=n}clone(){return new Ja(He(this.explicit),He(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(t){return an(this.explicit[t],this.implicit[t])}getWithExplicit(t){return this.explicit[t]!==void 0?{explicit:!0,value:this.explicit[t]}:this.implicit[t]!==void 0?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}setWithExplicit(t,{value:n,explicit:r}){n!==void 0&&this.set(t,n,r)}set(t,n,r){return delete this[r?"implicit":"explicit"][t],this[r?"explicit":"implicit"][t]=n,this}copyKeyFromSplit(t,{explicit:n,implicit:r}){n[t]!==void 0?this.set(t,n[t],!0):r[t]!==void 0&&this.set(t,r[t],!1)}copyKeyFromObject(t,n){n[t]!==void 0&&this.set(t,n[t],!0)}copyAll(t){for(const n of le(t.combine())){const r=t.getWithExplicit(n);this.setWithExplicit(n,r)}}}function us(e){return{explicit:!0,value:e}}function di(e){return{explicit:!1,value:e}}function vQ(e){return(t,n,r,i)=>{const o=e(t.value,n.value);return o>0?t:o<0?n:Bw(t,n,r,i)}}function Bw(e,t,n,r){return e.explicit&&t.explicit&&de(xBe(n,r,e.value,t.value)),e}function uu(e,t,n,r,i=Bw){return e===void 0||e.value===void 0?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:vs(e.value,t.value)?e:i(e,t,n,r)}class Dqe extends Ja{constructor(t={},n={},r=!1){super(t,n),this.explicit=t,this.implicit=n,this.parseNothing=r}clone(){const t=super.clone();return t.parseNothing=this.parseNothing,t}}function Eh(e){return"url"in e}function Y0(e){return"values"in e}function bQ(e){return"name"in e&&!Eh(e)&&!Y0(e)&&!jl(e)}function jl(e){return e&&(xQ(e)||wQ(e)||wM(e))}function xQ(e){return"sequence"in e}function wQ(e){return"sphere"in e}function wM(e){return"graticule"in e}var Nt;(function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup"})(Nt||(Nt={}));function _Q(e){const{signals:t,hasLegend:n,index:r,...i}=e;return i.field=Xi(i.field),i}function ef(e,t=!0,n=gr){if(ie(e)){const r=e.map(i=>ef(i,t,n));return t?`[${r.join(", ")}]`:r}else if(Cf(e))return n(t?Kc(e):HBe(e));return t?n(Rt(e)):e}function Lqe(e,t){for(const n of Vn(e.component.selection??{})){const r=n.name;let i=`${r}${fu}, ${n.resolve==="global"?"true":`{unit: ${$c(e)}}`}`;for(const o of Uw)o.defined(n)&&(o.signals&&(t=o.signals(e,n,t)),o.modifyExpr&&(i=o.modifyExpr(e,n,i)));t.push({name:r+mVe,on:[{events:{signal:n.name+fu},update:`modify(${ye(n.name+tf)}, ${i})`}]})}return _M(t)}function zqe(e,t){if(e.component.selection&&le(e.component.selection).length){const n=ye(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:wu("mousemove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return _M(t)}function Bqe(e,t){let n=!1;for(const r of Vn(e.component.selection??{})){const i=r.name,o=ye(i+tf);if(t.filter(a=>a.name===i).length===0){const a=r.resolve==="global"?"union":r.resolve,l=r.type==="point"?", true, true)":")";t.push({name:r.name,update:`${zQ}(${o}, ${ye(a)}${l}`})}n=!0;for(const a of Uw)a.defined(r)&&a.topLevelSignals&&(t=a.topLevelSignals(e,r,t))}return n&&t.filter(i=>i.name==="unit").length===0&&t.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]}),_M(t)}function jqe(e,t){const n=[...t],r=$c(e,{escape:!1});for(const i of Vn(e.component.selection??{})){const o={name:i.name+tf};if(i.project.hasSelectionId&&(o.transform=[{type:"collect",sort:{field:Bo}}]),i.init){const a=i.project.items.map(_Q);o.values=i.project.hasSelectionId?i.init.map(l=>({unit:r,[Bo]:ef(l,!1)[0]})):i.init.map(l=>({unit:r,fields:a,values:ef(l,!1)}))}n.filter(a=>a.name===i.name+tf).length||n.push(o)}return n}function EQ(e,t){for(const n of Vn(e.component.selection??{}))for(const r of Uw)r.defined(n)&&r.marks&&(t=r.marks(e,n,t));return t}function Uqe(e,t){for(const n of e.children)Zt(n)&&(t=EQ(n,t));return t}function qqe(e,t,n,r){const i=VQ(e,t.param,t);return{signal:Ti(n.get("type"))&&ie(r)&&r[0]>r[1]?`isValid(${i}) && reverse(${i})`:i}}function _M(e){return e.map(t=>(t.on&&!t.on.length&&delete t.on,t))}class $t{constructor(t,n){this.debugName=n,this._children=[],this._parent=null,t&&(this.parent=t)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(t){this._parent=t,t&&t.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(t,n){if(this._children.includes(t)){de(Wze);return}n!==void 0?this._children.splice(n,0,t):this._children.push(t)}removeChild(t){const n=this._children.indexOf(t);return this._children.splice(n,1),n}remove(){let t=this._parent.removeChild(this);for(const n of this._children)n._parent=this._parent,this._parent.addChild(n,t++)}insertAsParentOf(t){const n=t.parent;n.removeChild(this),this.parent=n,t.parent=this}swapWithParent(){const t=this._parent,n=t.parent;for(const i of this._children)i.parent=t;this._children=[],t.removeChild(this);const r=t.parent.removeChild(t);this._parent=n,n.addChild(this,r),t.parent=this}}class Mr extends $t{clone(){const t=new this.constructor;return t.debugName=`clone_${this.debugName}`,t._source=this._source,t._name=`clone_${this._name}`,t.type=this.type,t.refCounts=this.refCounts,t.refCounts[t._name]=0,t}constructor(t,n,r,i){super(t,n),this.type=r,this.refCounts=i,this._source=this._name=n,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${bK()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(t){this._source=t}}function Z3(e){return e.as!==void 0}function $P(e){return`${e}_end`}class ks extends $t{clone(){return new ks(null,He(this.formula))}constructor(t,n){super(t),this.formula=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,o)=>{const{field:s,timeUnit:a}=o;if(a){let l;if(Af(a)){if(Zt(n)){const{mark:u}=n;(Qk(u)||o.bandPosition)&&(l={timeUnit:Nn(a),field:s})}}else l={as:we(o,{forAs:!0}),field:s,timeUnit:a};l&&(i[ot(l)]=l)}return i},{});return Ct(r)?null:new ks(t,r)}static makeFromTransform(t,n){const{timeUnit:r,...i}={...n},o=Nn(r),s={...i,timeUnit:o};return new ks(t,{[ot(s)]:s})}merge(t){this.formula={...this.formula};for(const n in t.formula)this.formula[n]||(this.formula[n]=t.formula[n]);for(const n of t.children)t.removeChild(n),n.parent=this;t.remove()}removeFormulas(t){const n={};for(const[r,i]of au(this.formula)){const o=Z3(i)?i.as:`${i.field}_end`;t.has(o)||(n[r]=i)}this.formula=n}producedFields(){return new Set(Vn(this.formula).map(t=>Z3(t)?t.as:$P(t.field)))}dependentFields(){return new Set(Vn(this.formula).map(t=>t.field))}hash(){return`TimeUnit ${ot(this.formula)}`}assemble(){const t=[];for(const n of Vn(this.formula))if(Z3(n)){const{field:r,as:i,timeUnit:o}=n,{unit:s,utc:a,...l}=Nn(o);t.push({field:Xi(r),type:"timeunit",...s?{units:$w(s)}:{},...a?{timezone:"utc"}:{},...l,as:[i,`${i}_end`]})}else if(n){const{field:r,timeUnit:i}=n,o=nJ(i==null?void 0:i.unit),{part:s,step:a}=sJ(o,i.step);t.push({type:"formula",expr:`timeOffset('${s}', datum['${r}'], ${a})`,as:$P(r)})}return t}}const h1="_tuple_fields";class Vqe{constructor(...t){this.items=t,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}const Hqe={defined:()=>!0,parse:(e,t,n)=>{const r=t.name,i=t.project??(t.project=new Vqe),o={},s={},a=new Set,l=(g,m)=>{const y=m==="visual"?g.channel:g.field;let v=Vt(`${r}_${y}`);for(let b=1;a.has(v);b++)v=Vt(`${r}_${y}_${b}`);return a.add(v),{[m]:v}},u=t.type,c=e.config.selection[u],f=n.value!==void 0?$e(n.value):null;let{fields:h,encodings:p}=Ae(n.select)?n.select:{};if(!h&&!p&&f){for(const g of f)if(Ae(g))for(const m of le(g))uze(m)?(p||(p=[])).push(m):u==="interval"?(de(Uze),p=c.encodings):(h??(h=[])).push(m)}!h&&!p&&(p=c.encodings,"fields"in c&&(h=c.fields));for(const g of p??[]){const m=e.fieldDef(g);if(m){let y=m.field;if(m.aggregate){de(Rze(g,m.aggregate));continue}else if(!y){de(JR(g));continue}if(m.timeUnit&&!Af(m.timeUnit)){y=e.vgField(g);const v={timeUnit:m.timeUnit,as:y,field:m.field};s[ot(v)]=v}if(!o[y]){const v=u==="interval"&&Xa(g)&&Ti(e.getScaleComponent(g).get("type"))?"R":m.bin?"R-RE":"E",b={field:y,channel:g,type:v,index:i.items.length};b.signals={...l(b,"data"),...l(b,"visual")},i.items.push(o[y]=b),i.hasField[y]=o[y],i.hasSelectionId=i.hasSelectionId||y===Bo,$K(g)?(b.geoChannel=g,b.channel=SK(g),i.hasChannel[b.channel]=o[y]):i.hasChannel[g]=o[y]}}else de(JR(g))}for(const g of h??[]){if(i.hasField[g])continue;const m={type:"E",field:g,index:i.items.length};m.signals={...l(m,"data")},i.items.push(m),i.hasField[g]=m,i.hasSelectionId=i.hasSelectionId||g===Bo}f&&(t.init=f.map(g=>i.items.map(m=>Ae(g)?g[m.geoChannel||m.channel]!==void 0?g[m.geoChannel||m.channel]:g[m.field]:g))),Ct(s)||(i.timeUnit=new ks(null,s))},signals:(e,t,n)=>{const r=t.name+h1;return n.filter(o=>o.name===r).length>0||t.project.hasSelectionId?n:n.concat({name:r,value:t.project.items.map(_Q)})}},Aa={defined:e=>e.type==="interval"&&e.resolve==="global"&&e.bind&&e.bind==="scales",parse:(e,t)=>{const n=t.scales=[];for(const r of t.project.items){const i=r.channel;if(!Xa(i))continue;const o=e.getScaleComponent(i),s=o?o.get("type"):void 0;if(!o||!Ti(s)){de(Dze);continue}o.set("selectionExtent",{param:t.name,field:r.field},!0),n.push(r)}},topLevelSignals:(e,t,n)=>{const r=t.scales.filter(s=>n.filter(a=>a.name===s.signals.data).length===0);if(!e.parent||CP(e)||r.length===0)return n;const i=n.filter(s=>s.name===t.name)[0];let o=i.update;if(o.indexOf(zQ)>=0)i.update=`{${r.map(s=>`${ye(Xi(s.field))}: ${s.signals.data}`).join(", ")}}`;else{for(const s of r){const a=`${ye(Xi(s.field))}: ${s.signals.data}`;o.includes(a)||(o=`${o.substring(0,o.length-1)}, ${a}}`)}i.update=o}return n.concat(r.map(s=>({name:s.signals.data})))},signals:(e,t,n)=>{if(e.parent&&!CP(e))for(const r of t.scales){const i=n.filter(o=>o.name===r.signals.data)[0];i.push="outer",delete i.value,delete i.update}return n}};function t4(e,t){return`domain(${ye(e.scaleName(t))})`}function CP(e){return e.parent&&cp(e.parent)&&!e.parent.parent}const Td="_brush",SQ="_scale_trigger",zp="geo_interval_init_tick",$Q="_init",Wqe="_center",Gqe={defined:e=>e.type==="interval",parse:(e,t,n)=>{var r;if(e.hasProjection){const i={...Ae(n.select)?n.select:{}};i.fields=[Bo],i.encodings||(i.encodings=n.value?le(n.value):[Zo,Qo]),n.select={type:"interval",...i}}if(t.translate&&!Aa.defined(t)){const i=`!event.item || event.item.mark.name !== ${ye(t.name+Td)}`;for(const o of t.events){if(!o.between){de(`${o} is not an ordered event stream for interval selections.`);continue}const s=$e((r=o.between[0]).filter??(r.filter=[]));s.indexOf(i)<0&&s.push(i)}}},signals:(e,t,n)=>{const r=t.name,i=r+fu,o=Vn(t.project.hasChannel).filter(a=>a.channel===Ht||a.channel===Pn),s=t.init?t.init[0]:null;if(n.push(...o.reduce((a,l)=>a.concat(Yqe(e,t,l,s&&s[l.index])),[])),e.hasProjection){const a=ye(e.projectionName()),l=e.projectionName()+Wqe,{x:u,y:c}=t.project.hasChannel,f=u&&u.signals.visual,h=c&&c.signals.visual,p=u?s&&s[u.index]:`${l}[0]`,g=c?s&&s[c.index]:`${l}[1]`,m=_=>e.getSizeSignalRef(_).signal,y=`[[${f?f+"[0]":"0"}, ${h?h+"[0]":"0"}],[${f?f+"[1]":m("width")}, ${h?h+"[1]":m("height")}]]`;s&&(n.unshift({name:r+$Q,init:`[scale(${a}, [${u?p[0]:p}, ${c?g[0]:g}]), scale(${a}, [${u?p[1]:p}, ${c?g[1]:g}])]`}),(!u||!c)&&(n.find($=>$.name===l)||n.unshift({name:l,update:`invert(${a}, [${m("width")}/2, ${m("height")}/2])`})));const v=`intersect(${y}, {markname: ${ye(e.getName("marks"))}}, unit.mark)`,b=`{unit: ${$c(e)}}`,x=`vlSelectionTuples(${v}, ${b})`,w=o.map(_=>_.signals.visual);return n.concat({name:i,on:[{events:[...w.length?[{signal:w.join(" || ")}]:[],...s?[{signal:zp}]:[]],update:x}]})}else{if(!Aa.defined(t)){const u=r+SQ,c=o.map(f=>{const h=f.channel,{data:p,visual:g}=f.signals,m=ye(e.scaleName(h)),y=e.getScaleComponent(h).get("type"),v=Ti(y)?"+":"";return`(!isArray(${p}) || (${v}invert(${m}, ${g})[0] === ${v}${p}[0] && ${v}invert(${m}, ${g})[1] === ${v}${p}[1]))`});c.length&&n.push({name:u,value:{},on:[{events:o.map(f=>({scale:e.scaleName(f.channel)})),update:c.join(" && ")+` ? ${u} : {}`}]})}const a=o.map(u=>u.signals.data),l=`unit: ${$c(e)}, fields: ${r+h1}, values`;return n.concat({name:i,...s?{init:`{${l}: ${ef(s)}}`}:{},...a.length?{on:[{events:[{signal:a.join(" || ")}],update:`${a.join(" && ")} ? {${l}: [${a}]} : null`}]}:{}})}},topLevelSignals:(e,t,n)=>(Zt(e)&&e.hasProjection&&t.init&&(n.filter(i=>i.name===zp).length||n.unshift({name:zp,value:null,on:[{events:"timer{1}",update:`${zp} === null ? {} : ${zp}`}]})),n),marks:(e,t,n)=>{const r=t.name,{x:i,y:o}=t.project.hasChannel,s=i==null?void 0:i.signals.visual,a=o==null?void 0:o.signals.visual,l=`data(${ye(t.name+tf)})`;if(Aa.defined(t)||!i&&!o)return n;const u={x:i!==void 0?{signal:`${s}[0]`}:{value:0},y:o!==void 0?{signal:`${a}[0]`}:{value:0},x2:i!==void 0?{signal:`${s}[1]`}:{field:{group:"width"}},y2:o!==void 0?{signal:`${a}[1]`}:{field:{group:"height"}}};if(t.resolve==="global")for(const m of le(u))u[m]=[{test:`${l}.length && ${l}[0].unit === ${$c(e)}`,...u[m]},{value:0}];const{fill:c,fillOpacity:f,cursor:h,...p}=t.mark,g=le(p).reduce((m,y)=>(m[y]=[{test:[i!==void 0&&`${s}[0] !== ${s}[1]`,o!==void 0&&`${a}[0] !== ${a}[1]`].filter(v=>v).join(" && "),value:p[y]},{value:null}],m),{});return[{name:`${r+Td}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:c},fillOpacity:{value:f}},update:u}},...n,{name:r+Td,type:"rect",clip:!0,encode:{enter:{...h?{cursor:{value:h}}:{},fill:{value:"transparent"}},update:{...u,...g}}}]}};function Yqe(e,t,n,r){const i=!e.hasProjection,o=n.channel,s=n.signals.visual,a=ye(i?e.scaleName(o):e.projectionName()),l=h=>`scale(${a}, ${h})`,u=e.getSizeSignalRef(o===Ht?"width":"height").signal,c=`${o}(unit)`,f=t.events.reduce((h,p)=>[...h,{events:p.between[0],update:`[${c}, ${c}]`},{events:p,update:`[${s}[0], clamp(${c}, 0, ${u})]`}],[]);if(i){const h=n.signals.data,p=Aa.defined(t),g=e.getScaleComponent(o),m=g?g.get("type"):void 0,y=r?{init:ef(r,!0,l)}:{value:[]};return f.push({events:{signal:t.name+SQ},update:Ti(m)?`[${l(`${h}[0]`)}, ${l(`${h}[1]`)}]`:"[0, 0]"}),p?[{name:h,on:[]}]:[{name:s,...y,on:f},{name:h,...r?{init:ef(r)}:{},on:[{events:{signal:s},update:`${s}[0] === ${s}[1] ? null : invert(${a}, ${s})`}]}]}else{const h=o===Ht?0:1,p=t.name+$Q,g=r?{init:`[${p}[0][${h}], ${p}[1][${h}]]`}:{value:[]};return[{name:s,...g,on:f}]}}const Xqe={defined:e=>e.type==="point",signals:(e,t,n)=>{const r=t.name,i=r+h1,o=t.project,s="(item().isVoronoi ? datum.datum : datum)",a=Vn(e.component.selection??{}).reduce((f,h)=>h.type==="interval"?f.concat(h.name+Td):f,[]).map(f=>`indexof(item().mark.name, '${f}') < 0`).join(" && "),l=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${a?` && ${a}`:""}`;let u=`unit: ${$c(e)}, `;if(t.project.hasSelectionId)u+=`${Bo}: ${s}[${ye(Bo)}]`;else{const f=o.items.map(h=>{const p=e.fieldDef(h.channel);return p!=null&&p.bin?`[${s}[${ye(e.vgField(h.channel,{}))}], ${s}[${ye(e.vgField(h.channel,{binSuffix:"end"}))}]]`:`${s}[${ye(h.field)}]`}).join(", ");u+=`fields: ${i}, values: [${f}]`}const c=t.events;return n.concat([{name:r+fu,on:c?[{events:c,update:`${l} ? {${u}} : null`,force:!0}]:[]}])}};function sp(e,t,n,r){const i=Fw(t)&&t.condition,o=r(t);if(i){const a=$e(i).map(l=>{const u=r(l);if(qje(l)){const{param:c,empty:f}=l;return{test:qQ(e,{param:c,empty:f}),...u}}else return{test:t2(e,l.test),...u}});return{[n]:[...a,...o!==void 0?[o]:[]]}}else return o!==void 0?{[n]:o}:{}}function EM(e,t="text"){const n=e.encoding[t];return sp(e,n,t,r=>jw(r,e.config))}function jw(e,t,n="datum"){if(e){if(zo(e))return Bt(e.value);if(We(e)){const{format:r,formatType:i}=Yb(e);return nM({fieldOrDatumDef:e,format:r,formatType:i,expr:n,config:t})}}}function CQ(e,t={}){const{encoding:n,markDef:r,config:i,stack:o}=e,s=n.tooltip;if(ie(s))return{tooltip:AP({tooltip:s},o,i,t)};{const a=t.reactiveGeom?"datum.datum":"datum";return sp(e,s,"tooltip",l=>{const u=jw(l,i,a);if(u)return u;if(l===null)return;let c=wt("tooltip",r,i);if(c===!0&&(c={content:"encoding"}),Ee(c))return{value:c};if(Ae(c))return Ne(c)?c:c.content==="encoding"?AP(n,o,i,t):{signal:a}})}}function AQ(e,t,n,{reactiveGeom:r}={}){const i={...n,...n.tooltipFormat},o={},s=r?"datum.datum":"datum",a=[];function l(c,f){const h=Sf(f),p=Rr(c)?c:{...c,type:e[h].type},g=p.title||sM(p,i),m=$e(g).join(", ");let y;if(In(f)){const v=f==="x"?"x2":"y2",b=Bs(e[v]);if(zn(p.bin)&&b){const x=we(p,{expr:s}),w=we(b,{expr:s}),{format:_,formatType:$}=Yb(p);y=l1(x,w,_,$,i),o[v]=!0}}if((In(f)||f===Zi||f===Jo)&&t&&t.fieldChannel===f&&t.offset==="normalize"){const{format:v,formatType:b}=Yb(p);y=nM({fieldOrDatumDef:p,format:v,formatType:b,expr:s,config:i,normalizeStack:!0}).signal}y??(y=jw(p,i,s).signal),a.push({channel:f,key:m,value:y})}uM(e,(c,f)=>{ge(c)?l(c,f):Nw(c)&&l(c.condition,f)});const u={};for(const{channel:c,key:f,value:h}of a)!o[c]&&!u[f]&&(u[f]=h);return u}function AP(e,t,n,{reactiveGeom:r}={}){const i=AQ(e,t,n,{reactiveGeom:r}),o=au(i).map(([s,a])=>`"${s}": ${a}`);return o.length>0?{signal:`{${o.join(", ")}}`}:void 0}function Kqe(e){const{markDef:t,config:n}=e,r=wt("aria",t,n);return r===!1?{}:{...r?{aria:r}:{},...Jqe(e),...Qqe(e)}}function Jqe(e){const{mark:t,markDef:n,config:r}=e;if(r.aria===!1)return{};const i=wt("ariaRoleDescription",n,r);return i!=null?{ariaRoleDescription:{value:i}}:t in Tze?{}:{ariaRoleDescription:{value:t}}}function Qqe(e){const{encoding:t,markDef:n,config:r,stack:i}=e,o=t.description;if(o)return sp(e,o,"description",l=>jw(l,e.config));const s=wt("description",n,r);if(s!=null)return{description:Bt(s)};if(r.aria===!1)return{};const a=AQ(t,i,r);if(!Ct(a))return{description:{signal:au(a).map(([l,u],c)=>`"${c>0?"; ":""}${l}: " + (${u})`).join(" + ")}}}function Cn(e,t,n={}){const{markDef:r,encoding:i,config:o}=t,{vgChannel:s}=n;let{defaultRef:a,defaultValue:l}=n;a===void 0&&(l??(l=wt(e,r,o,{vgChannel:s,ignoreVgConfig:!0})),l!==void 0&&(a=Bt(l)));const u=i[e];return sp(t,u,s??e,c=>tM({channel:e,channelDef:c,markDef:r,config:o,scaleName:t.scaleName(e),scale:t.getScaleComponent(e),stack:null,defaultRef:a}))}function kQ(e,t={filled:void 0}){const{markDef:n,encoding:r,config:i}=e,{type:o}=n,s=t.filled??wt("filled",n,i),a=st(["bar","point","circle","square","geoshape"],o)?"transparent":void 0,l=wt(s===!0?"color":void 0,n,i,{vgChannel:"fill"})??i.mark[s===!0&&"color"]??a,u=wt(s===!1?"color":void 0,n,i,{vgChannel:"stroke"})??i.mark[s===!1&&"color"],c=s?"fill":"stroke",f={...l?{fill:Bt(l)}:{},...u?{stroke:Bt(u)}:{}};return n.color&&(s?n.fill:n.stroke)&&de(GK("property",{fill:"fill"in n,stroke:"stroke"in n})),{...f,...Cn("color",e,{vgChannel:c,defaultValue:s?l:u}),...Cn("fill",e,{defaultValue:r.fill?l:void 0}),...Cn("stroke",e,{defaultValue:r.stroke?u:void 0})}}function Zqe(e){const{encoding:t,mark:n}=e,r=t.order;return!Mu(n)&&zo(r)?sp(e,r,"zindex",i=>Bt(i.value)):{}}function Sh({channel:e,markDef:t,encoding:n={},model:r,bandPosition:i}){const o=`${e}Offset`,s=t[o],a=n[o];if((o==="xOffset"||o==="yOffset")&&a)return{offsetType:"encoding",offset:tM({channel:o,channelDef:a,markDef:t,config:r==null?void 0:r.config,scaleName:r.scaleName(o),scale:r.getScaleComponent(o),stack:null,defaultRef:Bt(s),bandPosition:i})};const l=t[o];return l?{offsetType:"visual",offset:l}:{}}function lr(e,t,{defaultPos:n,vgChannel:r}){const{encoding:i,markDef:o,config:s,stack:a}=t,l=i[e],u=i[Js(e)],c=t.scaleName(e),f=t.getScaleComponent(e),{offset:h,offsetType:p}=Sh({channel:e,markDef:o,encoding:i,model:t,bandPosition:.5}),g=SM({model:t,defaultPos:n,channel:e,scaleName:c,scale:f}),m=!l&&In(e)&&(i.latitude||i.longitude)?{field:t.getName(e)}:eVe({channel:e,channelDef:l,channel2Def:u,markDef:o,config:s,scaleName:c,scale:f,stack:a,offset:h,defaultRef:g,bandPosition:p==="encoding"?0:void 0});return m?{[r||e]:m}:void 0}function eVe(e){const{channel:t,channelDef:n,scaleName:r,stack:i,offset:o,markDef:s}=e;if(We(n)&&i&&t===i.fieldChannel){if(ge(n)){let a=n.bandPosition;if(a===void 0&&s.type==="text"&&(t==="radius"||t==="theta")&&(a=.5),a!==void 0)return Hb({scaleName:r,fieldOrDatumDef:n,startSuffix:"start",bandPosition:a,offset:o})}return Ec(n,r,{suffix:"end"},{offset:o})}return Zk(e)}function SM({model:e,defaultPos:t,channel:n,scaleName:r,scale:i}){const{markDef:o,config:s}=e;return()=>{const a=Sf(n),l=lu(n),u=wt(n,o,s,{vgChannel:l});if(u!==void 0)return Vg(n,u);switch(t){case"zeroOrMin":case"zeroOrMax":if(r){const c=i.get("type");if(!st([Kr.LOG,Kr.TIME,Kr.UTC],c)){if(i.domainDefinitelyIncludesZero())return{scale:r,value:0}}}if(t==="zeroOrMin")return a==="y"?{field:{group:"height"}}:{value:0};switch(a){case"radius":return{signal:`min(${e.width.signal},${e.height.signal})/2`};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}break;case"mid":return{...e[ii(n)],mult:.5}}}}const tVe={left:"x",center:"xc",right:"x2"},nVe={top:"y",middle:"yc",bottom:"y2"};function MQ(e,t,n,r="middle"){if(e==="radius"||e==="theta")return lu(e);const i=e==="x"?"align":"baseline",o=wt(i,t,n);let s;return Ne(o)?(de(uBe(i)),s=void 0):s=o,e==="x"?tVe[s||(r==="top"?"left":"center")]:nVe[s||r]}function Zb(e,t,{defaultPos:n,defaultPos2:r,range:i}){return i?TQ(e,t,{defaultPos:n,defaultPos2:r}):lr(e,t,{defaultPos:n})}function TQ(e,t,{defaultPos:n,defaultPos2:r}){const{markDef:i,config:o}=t,s=Js(e),a=ii(e),l=rVe(t,r,s),u=l[a]?MQ(e,i,o):lu(e);return{...lr(e,t,{defaultPos:n,vgChannel:u}),...l}}function rVe(e,t,n){const{encoding:r,mark:i,markDef:o,stack:s,config:a}=e,l=Sf(n),u=ii(n),c=lu(n),f=r[l],h=e.scaleName(l),p=e.getScaleComponent(l),{offset:g}=n in r||n in o?Sh({channel:n,markDef:o,encoding:r,model:e}):Sh({channel:l,markDef:o,encoding:r,model:e});if(!f&&(n==="x2"||n==="y2")&&(r.latitude||r.longitude)){const y=ii(n),v=e.markDef[y];return v!=null?{[y]:{value:v}}:{[c]:{field:e.getName(n)}}}const m=iVe({channel:n,channelDef:f,channel2Def:r[n],markDef:o,config:a,scaleName:h,scale:p,stack:s,offset:g,defaultRef:void 0});return m!==void 0?{[c]:m}:my(n,o)||my(n,{[n]:Ub(n,o,a.style),[u]:Ub(u,o,a.style)})||my(n,a[i])||my(n,a.mark)||{[c]:SM({model:e,defaultPos:t,channel:n,scaleName:h,scale:p})()}}function iVe({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:o,scale:s,stack:a,offset:l,defaultRef:u}){return We(t)&&a&&e.charAt(0)===a.fieldChannel.charAt(0)?Ec(t,o,{suffix:"start"},{offset:l}):Zk({channel:e,channelDef:n,scaleName:o,scale:s,stack:a,markDef:r,config:i,offset:l,defaultRef:u})}function my(e,t){const n=ii(e),r=lu(e);if(t[r]!==void 0)return{[r]:Vg(e,t[r])};if(t[e]!==void 0)return{[r]:Vg(e,t[e])};if(t[n]){const i=t[n];if(Qc(i))de(nBe(n));else return{[n]:Vg(e,i)}}}function cu(e,t){const{config:n,encoding:r,markDef:i}=e,o=i.type,s=Js(t),a=ii(t),l=r[t],u=r[s],c=e.getScaleComponent(t),f=c?c.get("type"):void 0,h=i.orient,p=r[a]??r.size??wt("size",i,n,{vgChannel:a}),g=MK(t),m=o==="bar"&&(t==="x"?h==="vertical":h==="horizontal");return ge(l)&&(Pt(l.bin)||zn(l.bin)||l.timeUnit&&!u)&&!(p&&!Qc(p))&&!r[g]&&!Dn(f)?aVe({fieldDef:l,fieldDef2:u,channel:t,model:e}):(We(l)&&Dn(f)||m)&&!u?sVe(l,t,e):TQ(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function oVe(e,t,n,r,i,o,s){if(Qc(i))if(n){const l=n.get("type");if(l==="band"){let u=`bandwidth('${t}')`;i.band!==1&&(u=`${i.band} * ${u}`);const c=La("minBandSize",{type:s},r);return{signal:c?`max(${wo(c)}, ${u})`:u}}else i.band!==1&&(de(hBe(l)),i=void 0)}else return{mult:i.band,field:{group:e}};else{if(Ne(i))return i;if(i)return{value:i}}if(n){const l=n.get("range");if(ku(l)&&St(l.step))return{value:l.step-2}}if(!o){const{bandPaddingInner:l,barBandPaddingInner:u,rectBandPaddingInner:c}=r.scale,f=an(l,s==="bar"?u:c);if(Ne(f))return{signal:`(1 - (${f.signal})) * ${e}`};if(St(f))return{signal:`${1-f} * ${e}`}}return{value:Jb(r.view,e)-2}}function sVe(e,t,n){const{markDef:r,encoding:i,config:o,stack:s}=n,a=r.orient,l=n.scaleName(t),u=n.getScaleComponent(t),c=ii(t),f=Js(t),h=MK(t),p=n.scaleName(h),g=n.getScaleComponent(Mk(t)),m=a==="horizontal"&&t==="y"||a==="vertical"&&t==="x";let y;(i.size||r.size)&&(m?y=Cn("size",n,{vgChannel:c,defaultRef:Bt(r.size)}):de(yBe(r.type)));const v=!!y,b=MJ({channel:t,fieldDef:e,markDef:r,config:o,scaleType:u==null?void 0:u.get("type"),useVlSizeChannel:m});y=y||{[c]:oVe(c,p||l,g||u,o,b,!!e,r.type)};const x=(u==null?void 0:u.get("type"))==="band"&&Qc(b)&&!v?"top":"middle",w=MQ(t,r,o,x),_=w==="xc"||w==="yc",{offset:$,offsetType:S}=Sh({channel:t,markDef:r,encoding:i,model:n,bandPosition:_?.5:0}),C=Zk({channel:t,channelDef:e,markDef:r,config:o,scaleName:l,scale:u,stack:s,offset:$,defaultRef:SM({model:n,defaultPos:"mid",channel:t,scaleName:l,scale:u}),bandPosition:_?S==="encoding"?0:.5:Ne(b)?{signal:`(1-${b})/2`}:Qc(b)?(1-b.band)/2:0});if(c)return{[w]:C,...y};{const T=lu(f),M=y[c],E=$?{...M,offset:$}:M;return{[w]:C,[T]:ie(C)?[C[0],{...C[1],offset:E}]:{...C,offset:E}}}}function kP(e,t,n,r,i,o,s){if(EK(e))return 0;const a=e==="x"||e==="y2",l=a?-t/2:t/2;if(Ne(n)||Ne(i)||Ne(r)||o){const u=wo(n),c=wo(i),f=wo(r),h=wo(o),g=o?`(${s} < ${h} ? ${a?"":"-"}0.5 * (${h} - (${s})) : ${l})`:l,m=f?`${f} + `:"",y=u?`(${u} ? -1 : 1) * `:"",v=c?`(${c} + ${g})`:g;return{signal:m+y+v}}else return i=i||0,r+(n?-i-l:+i+l)}function aVe({fieldDef:e,fieldDef2:t,channel:n,model:r}){var T;const{config:i,markDef:o,encoding:s}=r,a=r.getScaleComponent(n),l=r.scaleName(n),u=a?a.get("type"):void 0,c=a.get("reverse"),f=MJ({channel:n,fieldDef:e,markDef:o,config:i,scaleType:u}),h=(T=r.component.axes[n])==null?void 0:T[0],p=(h==null?void 0:h.get("translate"))??.5,g=In(n)?wt("binSpacing",o,i)??0:0,m=Js(n),y=lu(n),v=lu(m),b=La("minBandSize",o,i),{offset:x}=Sh({channel:n,markDef:o,encoding:s,model:r,bandPosition:0}),{offset:w}=Sh({channel:m,markDef:o,encoding:s,model:r,bandPosition:0}),_=Lje({fieldDef:e,scaleName:l}),$=kP(n,g,c,p,x,b,_),S=kP(m,g,c,p,w??x,b,_),C=Ne(f)?{signal:`(1-${f.signal})/2`}:Qc(f)?(1-f.band)/2:.5;if(Pt(e.bin)||e.timeUnit)return{[v]:MP({fieldDef:e,scaleName:l,bandPosition:C,offset:S}),[y]:MP({fieldDef:e,scaleName:l,bandPosition:Ne(C)?{signal:`1-${C.signal}`}:1-C,offset:$})};if(zn(e.bin)){const M=Ec(e,l,{},{offset:S});if(ge(t))return{[v]:M,[y]:Ec(t,l,{},{offset:$})};if($f(e.bin)&&e.bin.step)return{[v]:M,[y]:{signal:`scale("${l}", ${we(e,{expr:"datum"})} + ${e.bin.step})`,offset:$}}}de(KK(m))}function MP({fieldDef:e,scaleName:t,bandPosition:n,offset:r}){return Hb({scaleName:t,fieldOrDatumDef:e,bandPosition:n,offset:r})}const lVe=new Set(["aria","width","height"]);function eo(e,t){const{fill:n=void 0,stroke:r=void 0}=t.color==="include"?kQ(e):{};return{...uVe(e.markDef,t),...TP(e,"fill",n),...TP(e,"stroke",r),...Cn("opacity",e),...Cn("fillOpacity",e),...Cn("strokeOpacity",e),...Cn("strokeWidth",e),...Cn("strokeDash",e),...Zqe(e),...CQ(e),...EM(e,"href"),...Kqe(e)}}function TP(e,t,n){const{config:r,mark:i,markDef:o}=e;if(wt("invalid",o,r)==="hide"&&n&&!Mu(i)){const a=cVe(e,{invalid:!0,channels:_w});if(a)return{[t]:[{test:a,value:null},...$e(n)]}}return n?{[t]:n}:{}}function uVe(e,t){return Mze.reduce((n,r)=>(!lVe.has(r)&&e[r]!==void 0&&t[r]!=="ignore"&&(n[r]=Bt(e[r])),n),{})}function cVe(e,{invalid:t=!1,channels:n}){const r=n.reduce((o,s)=>{const a=e.getScaleComponent(s);if(a){const l=a.get("type"),u=e.vgField(s,{expr:"datum"});u&&Ti(l)&&(o[u]=!0)}return o},{}),i=le(r);if(i.length>0){const o=t?"||":"&&";return i.map(s=>eM(s,t)).join(` ${o} `)}}function $M(e){const{config:t,markDef:n}=e;if(wt("invalid",n,t)){const i=fVe(e,{channels:Qs});if(i)return{defined:{signal:i}}}return{}}function fVe(e,{invalid:t=!1,channels:n}){const r=n.reduce((o,s)=>{var l;const a=e.getScaleComponent(s);if(a){const u=a.get("type"),c=e.vgField(s,{expr:"datum",binSuffix:(l=e.stack)!=null&&l.impute?"mid":void 0});c&&Ti(u)&&(o[c]=!0)}return o},{}),i=le(r);if(i.length>0){const o=t?"||":"&&";return i.map(s=>eM(s,t)).join(` ${o} `)}}function OP(e,t){if(t!==void 0)return{[e]:Bt(t)}}const eE="voronoi",OQ={defined:e=>e.type==="point"&&e.nearest,parse:(e,t)=>{if(t.events)for(const n of t.events)n.markname=e.getName(eE)},marks:(e,t,n)=>{const{x:r,y:i}=t.project.hasChannel,o=e.mark;if(Mu(o))return de(Pze(o)),n;const s={name:e.getName(eE),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...CQ(e,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:r||!i?"datum.datum.x || 0":"0"},y:{expr:i||!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let a=0,l=!1;return n.forEach((u,c)=>{const f=u.name??"";f===e.component.mark[0].name?a=c:f.indexOf(eE)>=0&&(l=!0)}),l||n.splice(a+1,0,s),n}},FQ={defined:e=>e.type==="point"&&e.resolve==="global"&&e.bind&&e.bind!=="scales"&&!gM(e.bind),parse:(e,t,n)=>BQ(t,n),topLevelSignals:(e,t,n)=>{const r=t.name,i=t.project,o=t.bind,s=t.init&&t.init[0],a=OQ.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((l,u)=>{const c=Vt(`${r}_${l.field}`);n.filter(h=>h.name===c).length||n.unshift({name:c,...s?{init:ef(s[u])}:{value:null},on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${a}[${ye(l.field)}] : null`}]:[],bind:o[l.field]??o[l.channel]??o})}),n},signals:(e,t,n)=>{const r=t.name,i=t.project,o=n.filter(u=>u.name===r+fu)[0],s=r+h1,a=i.items.map(u=>Vt(`${r}_${u.field}`)),l=a.map(u=>`${u} !== null`).join(" && ");return a.length&&(o.update=`${l} ? {fields: ${s}, values: [${a.join(", ")}]} : null`),delete o.value,delete o.on,n}},e2="_toggle",NQ={defined:e=>e.type==="point"&&!!e.toggle,signals:(e,t,n)=>n.concat({name:t.name+e2,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+fu,r=t.name+e2;return`${r} ? null : ${n}, `+(t.resolve==="global"?`${r} ? null : true, `:`${r} ? null : {unit: ${$c(e)}}, `)+`${r} ? ${n} : null`}},dVe={defined:e=>e.clear!==void 0&&e.clear!==!1,parse:(e,t)=>{t.clear&&(t.clear=Ee(t.clear)?wu(t.clear,"view"):t.clear)},topLevelSignals:(e,t,n)=>{if(FQ.defined(t))for(const r of t.project.items){const i=n.findIndex(o=>o.name===Vt(`${t.name}_${r.field}`));i!==-1&&n[i].on.push({events:t.clear,update:"null"})}return n},signals:(e,t,n)=>{function r(i,o){i!==-1&&n[i].on&&n[i].on.push({events:t.clear,update:o})}if(t.type==="interval")for(const i of t.project.items){const o=n.findIndex(s=>s.name===i.signals.visual);if(r(o,"[0, 0]"),o===-1){const s=n.findIndex(a=>a.name===i.signals.data);r(s,"null")}}else{let i=n.findIndex(o=>o.name===t.name+fu);r(i,"null"),NQ.defined(t)&&(i=n.findIndex(o=>o.name===t.name+e2),r(i,"false"))}return n}},RQ={defined:e=>{const t=e.resolve==="global"&&e.bind&&gM(e.bind),n=e.project.items.length===1&&e.project.items[0].field!==Bo;return t&&!n&&de(Lze),t&&n},parse:(e,t,n)=>{const r=He(n);if(r.select=Ee(r.select)?{type:r.select,toggle:t.toggle}:{...r.select,toggle:t.toggle},BQ(t,r),Ae(n.select)&&(n.select.on||n.select.clear)){const s='event.item && indexof(event.item.mark.role, "legend") < 0';for(const a of t.events)a.filter=$e(a.filter??[]),a.filter.includes(s)||a.filter.push(s)}const i=K3(t.bind)?t.bind.legend:"click",o=Ee(i)?wu(i,"view"):$e(i);t.bind={legend:{merge:o}}},topLevelSignals:(e,t,n)=>{const r=t.name,i=K3(t.bind)&&t.bind.legend,o=s=>a=>{const l=He(a);return l.markname=s,l};for(const s of t.project.items){if(!s.hasLegend)continue;const a=`${Vt(s.field)}_legend`,l=`${r}_${a}`;if(n.filter(c=>c.name===l).length===0){const c=i.merge.map(o(`${a}_symbols`)).concat(i.merge.map(o(`${a}_labels`))).concat(i.merge.map(o(`${a}_entries`)));n.unshift({name:l,...t.init?{}:{value:null},on:[{events:c,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:i.merge,update:`!event.item || !datum ? null : ${l}`,force:!0}]})}}return n},signals:(e,t,n)=>{const r=t.name,i=t.project,o=n.find(h=>h.name===r+fu),s=r+h1,a=i.items.filter(h=>h.hasLegend).map(h=>Vt(`${r}_${Vt(h.field)}_legend`)),u=`${a.map(h=>`${h} !== null`).join(" && ")} ? {fields: ${s}, values: [${a.join(", ")}]} : null`;t.events&&a.length>0?o.on.push({events:a.map(h=>({signal:h})),update:u}):a.length>0&&(o.update=u,delete o.value,delete o.on);const c=n.find(h=>h.name===r+e2),f=K3(t.bind)&&t.bind.legend;return c&&(t.events?c.on.push({...c.on[0],events:f}):c.on[0].events=f),n}};function hVe(e,t,n){var i;const r=(i=e.fieldDef(t))==null?void 0:i.field;for(const o of Vn(e.component.selection??{})){const s=o.project.hasField[r]??o.project.hasChannel[t];if(s&&RQ.defined(o)){const a=n.get("selections")??[];a.push(o.name),n.set("selections",a,!1),s.hasLegend=!0}}}const PQ="_translate_anchor",IQ="_translate_delta",pVe={defined:e=>e.type==="interval"&&e.translate,signals:(e,t,n)=>{const r=t.name,i=Aa.defined(t),o=r+PQ,{x:s,y:a}=t.project.hasChannel;let l=wu(t.translate,"scope");return i||(l=l.map(u=>(u.between[0].markname=r+Td,u))),n.push({name:o,value:{},on:[{events:l.map(u=>u.between[0]),update:"{x: x(unit), y: y(unit)"+(s!==void 0?`, extent_x: ${i?t4(e,Ht):`slice(${s.signals.visual})`}`:"")+(a!==void 0?`, extent_y: ${i?t4(e,Pn):`slice(${a.signals.visual})`}`:"")+"}"}]},{name:r+IQ,value:{},on:[{events:l,update:`{x: ${o}.x - x(unit), y: ${o}.y - y(unit)}`}]}),s!==void 0&&FP(e,t,s,"width",n),a!==void 0&&FP(e,t,a,"height",n),n}};function FP(e,t,n,r,i){const o=t.name,s=o+PQ,a=o+IQ,l=n.channel,u=Aa.defined(t),c=i.filter(_=>_.name===n.signals[u?"data":"visual"])[0],f=e.getSizeSignalRef(r).signal,h=e.getScaleComponent(l),p=h&&h.get("type"),g=h&&h.get("reverse"),m=u?l===Ht?g?"":"-":g?"-":"":"",y=`${s}.extent_${l}`,v=`${m}${a}.${l} / ${u?`${f}`:`span(${y})`}`,b=!u||!h?"panLinear":p==="log"?"panLog":p==="symlog"?"panSymlog":p==="pow"?"panPow":"panLinear",x=u?p==="pow"?`, ${h.get("exponent")??1}`:p==="symlog"?`, ${h.get("constant")??1}`:"":"",w=`${b}(${y}, ${v}${x})`;c.on.push({events:{signal:a},update:u?w:`clampRange(${w}, 0, ${f})`})}const DQ="_zoom_anchor",LQ="_zoom_delta",gVe={defined:e=>e.type==="interval"&&e.zoom,signals:(e,t,n)=>{const r=t.name,i=Aa.defined(t),o=r+LQ,{x:s,y:a}=t.project.hasChannel,l=ye(e.scaleName(Ht)),u=ye(e.scaleName(Pn));let c=wu(t.zoom,"scope");return i||(c=c.map(f=>(f.markname=r+Td,f))),n.push({name:r+DQ,on:[{events:c,update:i?"{"+[l?`x: invert(${l}, x(unit))`:"",u?`y: invert(${u}, y(unit))`:""].filter(f=>f).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:o,on:[{events:c,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),s!==void 0&&NP(e,t,s,"width",n),a!==void 0&&NP(e,t,a,"height",n),n}};function NP(e,t,n,r,i){const o=t.name,s=n.channel,a=Aa.defined(t),l=i.filter(b=>b.name===n.signals[a?"data":"visual"])[0],u=e.getSizeSignalRef(r).signal,c=e.getScaleComponent(s),f=c&&c.get("type"),h=a?t4(e,s):l.name,p=o+LQ,g=`${o}${DQ}.${s}`,m=!a||!c?"zoomLinear":f==="log"?"zoomLog":f==="symlog"?"zoomSymlog":f==="pow"?"zoomPow":"zoomLinear",y=a?f==="pow"?`, ${c.get("exponent")??1}`:f==="symlog"?`, ${c.get("constant")??1}`:"":"",v=`${m}(${h}, ${g}, ${p}${y})`;l.on.push({events:{signal:p},update:a?v:`clampRange(${v}, 0, ${u})`})}const tf="_store",fu="_tuple",mVe="_modify",zQ="vlSelectionResolve",Uw=[Xqe,Gqe,Hqe,NQ,FQ,Aa,RQ,dVe,pVe,gVe,OQ];function yVe(e){let t=e.parent;for(;t&&!Mo(t);)t=t.parent;return t}function $c(e,{escape:t}={escape:!0}){let n=t?ye(e.name):e.name;const r=yVe(e);if(r){const{facet:i}=r;for(const o of zi)i[o]&&(n+=` + '__facet_${o}_' + (facet[${ye(r.vgField(o))}])`)}return n}function CM(e){return Vn(e.component.selection??{}).reduce((t,n)=>t||n.project.hasSelectionId,!1)}function BQ(e,t){(Ee(t.select)||!t.select.on)&&delete e.events,(Ee(t.select)||!t.select.clear)&&delete e.clear,(Ee(t.select)||!t.select.toggle)&&delete e.toggle}function n4(e){const t=[];return e.type==="Identifier"?[e.name]:e.type==="Literal"?[e.value]:(e.type==="MemberExpression"&&(t.push(...n4(e.object)),t.push(...n4(e.property))),t)}function jQ(e){return e.object.type==="MemberExpression"?jQ(e.object):e.object.name==="datum"}function UQ(e){const t=qA(e),n=new Set;return t.visit(r=>{r.type==="MemberExpression"&&jQ(r)&&n.add(n4(r).slice(1).join("."))}),n}class ap extends $t{clone(){return new ap(null,this.model,He(this.filter))}constructor(t,n,r){super(t),this.model=n,this.filter=r,this.expr=t2(this.model,this.filter,this),this._dependentFields=UQ(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function vVe(e,t){const n={},r=e.config.selection;if(!t||!t.length)return n;for(const i of t){const o=Vt(i.name),s=i.select,a=Ee(s)?s:s.type,l=Ae(s)?He(s):{type:a},u=r[a];for(const h in u)h==="fields"||h==="encodings"||(h==="mark"&&(l[h]={...u[h],...l[h]}),(l[h]===void 0||l[h]===!0)&&(l[h]=He(u[h]??l[h])));const c=n[o]={...l,name:o,type:a,init:i.value,bind:i.bind,events:Ee(l.on)?wu(l.on,"scope"):$e(He(l.on))},f=He(i);for(const h of Uw)h.defined(c)&&h.parse&&h.parse(e,c,f)}return n}function qQ(e,t,n,r="datum"){const i=Ee(t)?t:t.param,o=Vt(i),s=ye(o+tf);let a;try{a=e.getSelectionComponent(o,i)}catch{return`!!${o}`}if(a.project.timeUnit){const h=n??e.component.data.raw,p=a.project.timeUnit.clone();h.parent?p.insertAsParentOf(h):h.parent=p}const l=a.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",u=a.resolve==="global"?")":`, ${ye(a.resolve)})`,c=`${l}${s}, ${r}${u}`,f=`length(data(${s}))`;return t.empty===!1?`${f} && ${c}`:`!${f} || ${c}`}function VQ(e,t,n){const r=Vt(t),i=n.encoding;let o=n.field,s;try{s=e.getSelectionComponent(r,t)}catch{return r}if(!i&&!o)o=s.project.items[0].field,s.project.items.length>1&&de(`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${ye(o)}.`);else if(i&&!o){const a=s.project.items.filter(l=>l.channel===i);!a.length||a.length>1?(o=s.project.items[0].field,de((a.length?"Multiple ":"No ")+`matching ${ye(i)} encoding found for selection ${ye(n.param)}. Using "field": ${ye(o)}.`)):o=a[0].field}return`${s.name}[${ye(Xi(o))}]`}function bVe(e,t){for(const[n,r]of au(e.component.selection??{})){const i=e.getName(`lookup_${n}`);e.component.data.outputNodes[i]=r.materialized=new Mr(new ap(t,e,{param:n}),i,Nt.Lookup,e.component.data.outputNodeRefCounts)}}function t2(e,t,n){return qg(t,r=>Ee(r)?r:eje(r)?qQ(e,r,n):lJ(r))}function xVe(e,t){if(e)return ie(e)&&!pl(e)?e.map(n=>sM(n,t)).join(", "):e}function tE(e,t,n,r){var i,o;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(o=e.encode[t]).update??(o.update={}),e.encode[t].update[n]=r}function yg(e,t,n,r={header:!1}){var f,h;const{disable:i,orient:o,scale:s,labelExpr:a,title:l,zindex:u,...c}=e.combine();if(!i){for(const p in c){const g=rUe[p],m=c[p];if(g&&g!==t&&g!=="both")delete c[p];else if(d1(m)){const{condition:y,...v}=m,b=$e(y),x=uP[p];if(x){const{vgProp:w,part:_}=x,$=[...b.map(S=>{const{test:C,...T}=S;return{test:t2(null,C),...T}}),v];tE(c,_,w,$),delete c[p]}else if(x===null){const w={signal:b.map(_=>{const{test:$,...S}=_;return`${t2(null,$)} ? ${GR(S)} : `}).join("")+GR(v)};c[p]=w}}else if(Ne(m)){const y=uP[p];if(y){const{vgProp:v,part:b}=y;tE(c,b,v,m),delete c[p]}}st(["labelAlign","labelBaseline"],p)&&c[p]===null&&delete c[p]}if(t==="grid"){if(!c.grid)return;if(c.encode){const{grid:p}=c.encode;c.encode={...p?{grid:p}:{}},Ct(c.encode)&&delete c.encode}return{scale:s,orient:o,...c,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:an(u,0)}}else{if(!r.header&&e.mainExtracted)return;if(a!==void 0){let g=a;(h=(f=c.encode)==null?void 0:f.labels)!=null&&h.update&&Ne(c.encode.labels.update.text)&&(g=Yc(a,"datum.label",c.encode.labels.update.text.signal)),tE(c,"labels","text",{signal:g})}if(c.labelAlign===null&&delete c.labelAlign,c.encode){for(const g of zJ)e.hasAxisPart(g)||delete c.encode[g];Ct(c.encode)&&delete c.encode}const p=xVe(l,n);return{scale:s,orient:o,grid:!1,...p?{title:p}:{},...c,...n.aria===!1?{aria:!1}:{},zindex:an(u,0)}}}}function HQ(e){const{axes:t}=e.component,n=[];for(const r of Qs)if(t[r]){for(const i of t[r])if(!i.get("disable")&&!i.get("gridScale")){const o=r==="x"?"height":"width",s=e.getSizeSignalRef(o).signal;o!==s&&n.push({name:o,update:s})}}return n}function wVe(e,t){const{x:n=[],y:r=[]}=e;return[...n.map(i=>yg(i,"grid",t)),...r.map(i=>yg(i,"grid",t)),...n.map(i=>yg(i,"main",t)),...r.map(i=>yg(i,"main",t))].filter(i=>i)}function RP(e,t,n,r){return Object.assign.apply(null,[{},...e.map(i=>{if(i==="axisOrient"){const o=n==="x"?"bottom":"left",s=t[n==="x"?"axisBottom":"axisLeft"]||{},a=t[n==="x"?"axisTop":"axisRight"]||{},l=new Set([...le(s),...le(a)]),u={};for(const c of l.values())u[c]={signal:`${r.signal} === "${o}" ? ${wo(s[c])} : ${wo(a[c])}`};return u}return t[i]})])}function _Ve(e,t,n,r){const i=t==="band"?["axisDiscrete","axisBand"]:t==="point"?["axisDiscrete","axisPoint"]:dJ(t)?["axisQuantitative"]:t==="time"||t==="utc"?["axisTemporal"]:[],o=e==="x"?"axisX":"axisY",s=Ne(n)?"axisOrient":`axis${r1(n)}`,a=[...i,...i.map(u=>o+u.substr(4))],l=["axis",s,o];return{vlOnlyAxisConfig:RP(a,r,e,n),vgAxisConfig:RP(l,r,e,n),axisConfigStyle:EVe([...l,...a],r)}}function EVe(e,t){var r;const n=[{}];for(const i of e){let o=(r=t[i])==null?void 0:r.style;if(o){o=$e(o);for(const s of o)n.push(t.style[s])}}return Object.assign.apply(null,n)}function r4(e,t,n,r={}){var o;const i=BK(e,n,t);if(i!==void 0)return{configFrom:"style",configValue:i};for(const s of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(((o=r[s])==null?void 0:o[e])!==void 0)return{configFrom:s,configValue:r[s][e]};return{}}const PP={scale:({model:e,channel:t})=>e.scaleName(t),format:({format:e})=>e,formatType:({formatType:e})=>e,grid:({fieldOrDatumDef:e,axis:t,scaleType:n})=>t.grid??SVe(n,e),gridScale:({model:e,channel:t})=>$Ve(e,t),labelAlign:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelAlign||GQ(t,n,r),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelBaseline||WQ(t,n,r),labelFlush:({axis:e,fieldOrDatumDef:t,channel:n})=>e.labelFlush??AVe(t.type,n),labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:n})=>e.labelOverlap??kVe(t.type,n,ge(t)&&!!t.timeUnit,ge(t)?t.sort:void 0),orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:n,fieldOrDatumDef:r,scaleType:i})=>{const o=e==="x"?"width":e==="y"?"height":void 0,s=o?t.getSizeSignalRef(o):void 0;return n.tickCount??TVe({fieldOrDatumDef:r,scaleType:i,size:s,values:n.values})},tickMinStep:OVe,title:({axis:e,model:t,channel:n})=>{if(e.title!==void 0)return e.title;const r=YQ(t,n);if(r!==void 0)return r;const i=t.typedFieldDef(n),o=n==="x"?"x2":"y2",s=t.fieldDef(o);return UK(i?[aP(i)]:[],ge(s)?[aP(s)]:[])},values:({axis:e,fieldOrDatumDef:t})=>FVe(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:n})=>e.zindex??NVe(n,t)};function SVe(e,t){return!Dn(e)&&ge(t)&&!Pt(t==null?void 0:t.bin)&&!zn(t==null?void 0:t.bin)}function $Ve(e,t){const n=t==="x"?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}function CVe(e,t,n,r,i){const o=t==null?void 0:t.labelAngle;if(o!==void 0)return Ne(o)?o:G0(o);{const{configValue:s}=r4("labelAngle",r,t==null?void 0:t.style,i);return s!==void 0?G0(s):n===Ht&&st([Yk,Gk],e.type)&&!(ge(e)&&e.timeUnit)?270:void 0}}function i4(e){return`(((${e.signal} % 360) + 360) % 360)`}function WQ(e,t,n,r){if(e!==void 0)if(n==="x"){if(Ne(e)){const i=i4(e),o=Ne(t)?`(${t.signal} === "top")`:t==="top";return{signal:`(45 < ${i} && ${i} < 135) || (225 < ${i} && ${i} < 315) ? "middle" :(${i} <= 45 || 315 <= ${i}) === ${o} ? "bottom" : "top"`}}if(45<e&&e<135||225<e&&e<315)return"middle";if(Ne(t)){const i=e<=45||315<=e?"===":"!==";return{signal:`${t.signal} ${i} "top" ? "bottom" : "top"`}}return(e<=45||315<=e)==(t==="top")?"bottom":"top"}else{if(Ne(e)){const i=i4(e),o=Ne(t)?`(${t.signal} === "left")`:t==="left";return{signal:`${i} <= 45 || 315 <= ${i} || (135 <= ${i} && ${i} <= 225) ? ${r?'"middle"':"null"} : (45 <= ${i} && ${i} <= 135) === ${o} ? "top" : "bottom"`}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(Ne(t)){const i=45<=e&&e<=135?"===":"!==";return{signal:`${t.signal} ${i} "left" ? "top" : "bottom"`}}return(45<=e&&e<=135)==(t==="left")?"top":"bottom"}}function GQ(e,t,n){if(e===void 0)return;const r=n==="x",i=r?0:90,o=r?"bottom":"left";if(Ne(e)){const s=i4(e),a=Ne(t)?`(${t.signal} === "${o}")`:t===o;return{signal:`(${i?`(${s} + 90)`:s} % 180 === 0) ? ${r?null:'"center"'} :(${i} < ${s} && ${s} < ${180+i}) === ${a} ? "left" : "right"`}}if((e+i)%180===0)return r?null:"center";if(Ne(t)){const s=i<e&&e<180+i?"===":"!==";return{signal:`${`${t.signal} ${s} "${o}"`} ? "left" : "right"`}}return(i<e&&e<180+i)==(t===o)?"left":"right"}function AVe(e,t){if(t==="x"&&st(["quantitative","temporal"],e))return!0}function kVe(e,t,n,r){if(n&&!Ae(r)||e!=="nominal"&&e!=="ordinal")return t==="log"||t==="symlog"?"greedy":!0}function MVe(e){return e==="x"?"bottom":"left"}function TVe({fieldOrDatumDef:e,scaleType:t,size:n,values:r}){var i;if(!r&&!Dn(t)&&t!=="log"){if(ge(e)){if(Pt(e.bin))return{signal:`ceil(${n.signal}/10)`};if(e.timeUnit&&st(["month","hours","day","quarter"],(i=Nn(e.timeUnit))==null?void 0:i.unit))return}return{signal:`ceil(${n.signal}/40)`}}}function OVe({format:e,fieldOrDatumDef:t}){if(e==="d")return 1;if(ge(t)){const{timeUnit:n}=t;if(n){const r=oJ(n);if(r)return{signal:r}}}}function YQ(e,t){const n=t==="x"?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),o=r?r.title:void 0,s=i?i.title:void 0;if(o&&s)return qK(o,s);if(o)return o;if(s)return s;if(o!==void 0)return o;if(s!==void 0)return s}function FVe(e,t){const n=e.values;if(ie(n))return LJ(t,n);if(Ne(n))return n}function NVe(e,t){return e==="rect"&&Gb(t)?1:0}class $h extends $t{clone(){return new $h(null,He(this.transform))}constructor(t,n){super(t),this.transform=n,this._dependentFields=UQ(this.transform.calculate)}static parseAllForSortIndex(t,n){return n.forEachFieldDef((r,i)=>{if(kf(r)&&AJ(r.sort)){const{field:o,timeUnit:s}=r,a=r.sort,l=a.map((u,c)=>`${lJ({field:o,timeUnit:s,equal:u})} ? ${c} : `).join("")+a.length;t=new $h(t,{calculate:l,as:Ch(r,i,{forAs:!0})})}}),t}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${ot(this.transform)}`}}function Ch(e,t,n){return we(e,{prefix:t,suffix:"sort_index",...n??{}})}function qw(e,t){return st(["top","bottom"],t)?"column":st(["left","right"],t)||e==="row"?"row":"column"}function Ah(e,t,n,r){const i=r==="row"?n.headerRow:r==="column"?n.headerColumn:n.headerFacet;return an((t||{})[e],i[e],n.header[e])}function Vw(e,t,n,r){const i={};for(const o of e){const s=Ah(o,t||{},n,r);s!==void 0&&(i[o]=s)}return i}const AM=["row","column"],kM=["header","footer"];function RVe(e,t){const n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,i=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:o,titleAngle:s,titleOrient:a}=Vw(["titleAnchor","titleAngle","titleOrient"],i.header,r,t),l=qw(t,a),u=G0(s);return{name:`${t}-title`,type:"group",role:`${l}-title`,title:{text:n,...t==="row"?{orient:"left"}:{},style:"guide-title",...KQ(u,l),...XQ(l,u,o),...JQ(r,i,t,$Ue,tQ)}}}function XQ(e,t,n="middle"){switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const r=GQ(t,e==="row"?"left":"top",e==="row"?"y":"x");return r?{align:r}:{}}function KQ(e,t){const n=WQ(e,t==="row"?"left":"top",t==="row"?"y":"x",!0);return n?{baseline:n}:{}}function PVe(e,t){const n=e.component.layoutHeaders[t],r=[];for(const i of kM)if(n[i])for(const o of n[i]){const s=DVe(e,t,i,n,o);s!=null&&r.push(s)}return r}function IVe(e,t){const{sort:n}=e;return As(n)?{field:we(n,{expr:"datum"}),order:n.order??"ascending"}:ie(n)?{field:Ch(e,t,{expr:"datum"}),order:"ascending"}:{field:we(e,{expr:"datum"}),order:n??"ascending"}}function o4(e,t,n){const{format:r,formatType:i,labelAngle:o,labelAnchor:s,labelOrient:a,labelExpr:l}=Vw(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,n,t),u=nM({fieldOrDatumDef:e,format:r,formatType:i,expr:"parent",config:n}).signal,c=qw(t,a);return{text:{signal:l?Yc(Yc(l,"datum.label",u),"datum.value",we(e,{expr:"parent"})):u},...t==="row"?{orient:"left"}:{},style:"guide-label",frame:"group",...KQ(o,c),...XQ(c,o,s),...JQ(n,e,t,CUe,nQ)}}function DVe(e,t,n,r,i){if(i){let o=null;const{facetFieldDef:s}=r,a=e.config?e.config:void 0;if(s&&i.labels){const{labelOrient:f}=Vw(["labelOrient"],s.header,a,t);(t==="row"&&!st(["top","bottom"],f)||t==="column"&&!st(["left","right"],f))&&(o=o4(s,t,a))}const l=Mo(e)&&!u1(e.facet),u=i.axes,c=(u==null?void 0:u.length)>0;if(o||c){const f=t==="row"?"height":"width";return{name:e.getName(`${t}_${n}`),type:"group",role:`${t}-${n}`,...r.facetFieldDef?{from:{data:e.getName(`${t}_domain`)},sort:IVe(s,t)}:{},...c&&l?{from:{data:e.getName(`facet_domain_${t}`)}}:{},...o?{title:o}:{},...i.sizeSignal?{encode:{update:{[f]:i.sizeSignal}}}:{},...c?{axes:u}:{}}}}return null}const LVe={column:{start:0,end:1},row:{start:1,end:0}};function zVe(e,t){return LVe[t][e]}function BVe(e,t){const n={};for(const r of zi){const i=e[r];if(i!=null&&i.facetFieldDef){const{titleAnchor:o,titleOrient:s}=Vw(["titleAnchor","titleOrient"],i.facetFieldDef.header,t,r),a=qw(r,s),l=zVe(o,a);l!==void 0&&(n[a]=l)}}return Ct(n)?void 0:n}function JQ(e,t,n,r,i){const o={};for(const s of r){if(!i[s])continue;const a=Ah(s,t==null?void 0:t.header,e,n);a!==void 0&&(o[i[s]]=a)}return o}function MM(e){return[...yy(e,"width"),...yy(e,"height"),...yy(e,"childWidth"),...yy(e,"childHeight")]}function yy(e,t){const n=t==="width"?"x":"y",r=e.component.layoutSize.get(t);if(!r||r==="merged")return[];const i=e.getSizeSignalRef(t).signal;if(r==="step"){const o=e.getScaleComponent(n);if(o){const s=o.get("type"),a=o.get("range");if(Dn(s)&&ku(a)){const l=e.scaleName(n);return Mo(e.parent)&&e.parent.component.resolve.scale[n]==="independent"?[IP(l,a)]:[IP(l,a),{name:i,update:QQ(l,o,`domain('${l}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(r=="container"){const o=i.endsWith("width"),s=o?"containerSize()[0]":"containerSize()[1]",a=J6(e.config.view,o?"width":"height"),l=`isFinite(${s}) ? ${s} : ${a}`;return[{name:i,init:l,on:[{update:l,events:"window:resize"}]}]}else return[{name:i,value:r}]}function IP(e,t){const n=`${e}_step`;return Ne(t.step)?{name:n,update:t.step.signal}:{name:n,value:t.step}}function QQ(e,t,n){const r=t.get("type"),i=t.get("padding"),o=an(t.get("paddingOuter"),i);let s=t.get("paddingInner");return s=r==="band"?s!==void 0?s:i:1,`bandspace(${n}, ${wo(s)}, ${wo(o)}) * ${e}_step`}function ZQ(e){return e==="childWidth"?"width":e==="childHeight"?"height":e}function eZ(e,t){return le(e).reduce((n,r)=>{const i=e[r];return{...n,...sp(t,i,r,o=>Bt(o.value))}},{})}function tZ(e,t){if(Mo(t))return e==="theta"?"independent":"shared";if(cp(t))return"shared";if(IM(t))return In(e)||e==="theta"||e==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function TM(e,t){const n=e.scale[t],r=In(t)?"axis":"legend";return n==="independent"?(e[r][t]==="shared"&&de(_Be(t)),"independent"):e[r][t]||"shared"}const jVe={...MUe,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1},nZ=le(jVe);class UVe extends Ja{}const DP={symbols:qVe,gradient:VVe,labels:HVe,entries:WVe};function qVe(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i,legendType:o}){if(o!=="symbol")return;const{markDef:s,encoding:a,config:l,mark:u}=n,c=s.filled&&u!=="trail";let f={...Fze({},n,$je),...kQ(n,{filled:c})};const h=i.get("symbolOpacity")??l.legend.symbolOpacity,p=i.get("symbolFillColor")??l.legend.symbolFillColor,g=i.get("symbolStrokeColor")??l.legend.symbolStrokeColor,m=h===void 0?rZ(a.opacity)??s.opacity:void 0;if(f.fill){if(r==="fill"||c&&r===ni)delete f.fill;else if(f.fill.field)p?delete f.fill:(f.fill=Bt(l.legend.symbolBaseFillColor??"black"),f.fillOpacity=Bt(m??1));else if(ie(f.fill)){const y=s4(a.fill??a.color)??s.fill??(c&&s.color);y&&(f.fill=Bt(y))}}if(f.stroke){if(r==="stroke"||!c&&r===ni)delete f.stroke;else if(f.stroke.field||g)delete f.stroke;else if(ie(f.stroke)){const y=an(s4(a.stroke||a.color),s.stroke,c?s.color:void 0);y&&(f.stroke={value:y})}}if(r!==Ya){const y=ge(t)&&oZ(n,i,t);y?f.opacity=[{test:y,...Bt(m??1)},Bt(l.legend.unselectedOpacity)]:m&&(f.opacity=Bt(m))}return f={...f,...e},Ct(f)?void 0:f}function VVe(e,{model:t,legendType:n,legendCmpt:r}){if(n!=="gradient")return;const{config:i,markDef:o,encoding:s}=t;let a={};const u=(r.get("gradientOpacity")??i.legend.gradientOpacity)===void 0?rZ(s.opacity)||o.opacity:void 0;return u&&(a.opacity=Bt(u)),a={...a,...e},Ct(a)?void 0:a}function HVe(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i}){const o=n.legend(r)||{},s=n.config,a=ge(t)?oZ(n,i,t):void 0,l=a?[{test:a,value:1},{value:s.legend.unselectedOpacity}]:void 0,{format:u,formatType:c}=o;let f;Zc(c)?f=Eo({fieldOrDatumDef:t,field:"datum.value",format:u,formatType:c,config:s}):u===void 0&&c===void 0&&s.customFormatTypes&&(t.type==="quantitative"&&s.numberFormatType?f=Eo({fieldOrDatumDef:t,field:"datum.value",format:s.numberFormat,formatType:s.numberFormatType,config:s}):t.type==="temporal"&&s.timeFormatType&&ge(t)&&t.timeUnit===void 0&&(f=Eo({fieldOrDatumDef:t,field:"datum.value",format:s.timeFormat,formatType:s.timeFormatType,config:s})));const h={...l?{opacity:l}:{},...f?{text:f}:{},...e};return Ct(h)?void 0:h}function WVe(e,{legendCmpt:t}){const n=t.get("selections");return n!=null&&n.length?{...e,fill:{value:"transparent"}}:e}function rZ(e){return iZ(e,(t,n)=>Math.max(t,n.value))}function s4(e){return iZ(e,(t,n)=>an(t,n.value))}function iZ(e,t){if(Hje(e))return $e(e.condition).reduce(t,e.value);if(zo(e))return e.value}function oZ(e,t,n){const r=t.get("selections");if(!(r!=null&&r.length))return;const i=ye(n.field);return r.map(o=>`(!length(data(${ye(Vt(o)+tf)})) || (${o}[${i}] && indexof(${o}[${i}], datum.value) >= 0))`).join(" || ")}const LP={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:t,config:n})=>{const{format:r,formatType:i}=t;return EJ(e,e.type,r,i,n,!1)},formatType:({legend:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:r}=e;return SJ(r,t,n)},gradientLength:e=>{const{legend:t,legendConfig:n}=e;return t.gradientLength??n.gradientLength??ZVe(e)},labelOverlap:({legend:e,legendConfig:t,scaleType:n})=>e.labelOverlap??t.labelOverlap??eHe(n),symbolType:({legend:e,markDef:t,channel:n,encoding:r})=>e.symbolType??YVe(t.type,n,r.shape,t.shape),title:({fieldOrDatumDef:e,config:t})=>Md(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:n})=>{if(kd(n)&&_o(t)){if(e==="gradient")return}else if(e==="symbol")return;return e},values:({fieldOrDatumDef:e,legend:t})=>GVe(t,e)};function GVe(e,t){const n=e.values;if(ie(n))return LJ(t,n);if(Ne(n))return n}function YVe(e,t,n,r){if(t!=="shape"){const i=s4(n)??r;if(i)return i}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function XVe(e){const{legend:t}=e;return an(t.type,KVe(e))}function KVe({channel:e,timeUnit:t,scaleType:n}){if(kd(e)){if(st(["quarter","month","day"],t))return"symbol";if(_o(n))return"gradient"}return"symbol"}function JVe({legendConfig:e,legendType:t,orient:n,legend:r}){return r.direction??e[t?"gradientDirection":"symbolDirection"]??QVe(n,t)}function QVe(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return t==="gradient"?"horizontal":void 0}}function ZVe({legendConfig:e,model:t,direction:n,orient:r,scaleType:i}){const{gradientHorizontalMaxLength:o,gradientHorizontalMinLength:s,gradientVerticalMaxLength:a,gradientVerticalMinLength:l}=e;if(_o(i))return n==="horizontal"?r==="top"||r==="bottom"?zP(t,"width",s,o):s:zP(t,"height",l,a)}function zP(e,t,n,r){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${r})`}}function eHe(e){if(st(["quantile","threshold","log","symlog"],e))return"greedy"}function sZ(e){const t=Zt(e)?tHe(e):oHe(e);return e.component.legends=t,t}function tHe(e){const{encoding:t}=e,n={};for(const r of[ni,...iQ]){const i=bn(t[r]);!i||!e.getScaleComponent(r)||r===ri&&ge(i)&&i.type===op||(n[r]=iHe(e,r))}return n}function nHe(e,t){const n=e.scaleName(t);if(e.mark==="trail"){if(t==="color")return{stroke:n};if(t==="size")return{strokeWidth:n}}return t==="color"?e.markDef.filled?{fill:n}:{stroke:n}:{[t]:n}}function rHe(e,t,n,r){switch(t){case"disable":return n!==void 0;case"values":return!!(n!=null&&n.values);case"title":if(t==="title"&&e===(r==null?void 0:r.title))return!0}return e===(n||{})[t]}function iHe(e,t){var w;let n=e.legend(t);const{markDef:r,encoding:i,config:o}=e,s=o.legend,a=new UVe({},nHe(e,t));hVe(e,t,a);const l=n!==void 0?!n:s.disable;if(a.set("disable",l,n!==void 0),l)return a;n=n||{};const u=e.getScaleComponent(t).get("type"),c=bn(i[t]),f=ge(c)?(w=Nn(c.timeUnit))==null?void 0:w.unit:void 0,h=n.orient||o.legend.orient||"right",p=XVe({legend:n,channel:t,timeUnit:f,scaleType:u}),g=JVe({legend:n,legendType:p,orient:h,legendConfig:s}),m={legend:n,channel:t,model:e,markDef:r,encoding:i,fieldOrDatumDef:c,legendConfig:s,config:o,scaleType:u,orient:h,legendType:p,direction:g};for(const _ of nZ){if(p==="gradient"&&_.startsWith("symbol")||p==="symbol"&&_.startsWith("gradient"))continue;const $=_ in LP?LP[_](m):n[_];if($!==void 0){const S=rHe($,_,n,e.fieldDef(t));(S||o.legend[_]===void 0)&&a.set(_,$,S)}}const y=(n==null?void 0:n.encoding)??{},v=a.get("selections"),b={},x={fieldOrDatumDef:c,model:e,channel:t,legendCmpt:a,legendType:p};for(const _ of["labels","legend","title","symbols","gradient","entries"]){const $=eZ(y[_]??{},e),S=_ in DP?DP[_]($,x):$;S!==void 0&&!Ct(S)&&(b[_]={...v!=null&&v.length&&ge(c)?{name:`${Vt(c.field)}_legend_${_}`}:{},...v!=null&&v.length?{interactive:!!v}:{},update:S})}return Ct(b)||a.set("encode",b,!!(n!=null&&n.encoding)),a}function oHe(e){const{legends:t,resolve:n}=e.component;for(const r of e.children){sZ(r);for(const i of le(r.component.legends))n.legend[i]=TM(e.component.resolve,i),n.legend[i]==="shared"&&(t[i]=aZ(t[i],r.component.legends[i]),t[i]||(n.legend[i]="independent",delete t[i]))}for(const r of le(t))for(const i of e.children)i.component.legends[r]&&n.legend[r]==="shared"&&delete i.component.legends[r];return t}function aZ(e,t){var o,s,a,l;if(!e)return t.clone();const n=e.getWithExplicit("orient"),r=t.getWithExplicit("orient");if(n.explicit&&r.explicit&&n.value!==r.value)return;let i=!1;for(const u of nZ){const c=uu(e.getWithExplicit(u),t.getWithExplicit(u),u,"legend",(f,h)=>{switch(u){case"symbolType":return sHe(f,h);case"title":return VK(f,h);case"type":return i=!0,di("symbol")}return Bw(f,h,u,"legend")});e.setWithExplicit(u,c)}return i&&((s=(o=e.implicit)==null?void 0:o.encode)!=null&&s.gradient&&jb(e.implicit,["encode","gradient"]),(l=(a=e.explicit)==null?void 0:a.encode)!=null&&l.gradient&&jb(e.explicit,["encode","gradient"])),e}function sHe(e,t){return t.value==="circle"?t:e}function aHe(e,t,n,r){var i,o;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(o=e.encode[t]).update??(o.update={}),e.encode[t].update[n]=r}function lZ(e){const t=e.component.legends,n={};for(const i of le(t)){const o=e.getScaleComponent(i),s=Rt(o.get("domains"));if(n[s])for(const a of n[s])aZ(a,t[i])||n[s].push(t[i]);else n[s]=[t[i].clone()]}return Vn(n).flat().map(i=>lHe(i,e.config)).filter(i=>i!==void 0)}function lHe(e,t){var s,a,l;const{disable:n,labelExpr:r,selections:i,...o}=e.combine();if(!n){if(t.aria===!1&&o.aria==null&&(o.aria=!1),(s=o.encode)!=null&&s.symbols){const u=o.encode.symbols.update;u.fill&&u.fill.value!=="transparent"&&!u.stroke&&!o.stroke&&(u.stroke={value:"transparent"});for(const c of iQ)o[c]&&delete u[c]}if(o.title||delete o.title,r!==void 0){let u=r;(l=(a=o.encode)==null?void 0:a.labels)!=null&&l.update&&Ne(o.encode.labels.update.text)&&(u=Yc(r,"datum.label",o.encode.labels.update.text.signal)),aHe(o,"labels","text",{signal:u})}return o}}function uHe(e){return cp(e)||IM(e)?cHe(e):uZ(e)}function cHe(e){return e.children.reduce((t,n)=>t.concat(n.assembleProjections()),uZ(e))}function uZ(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:r}=n;if(t.data){const i={signal:`[${t.size.map(s=>s.signal).join(", ")}]`},o=t.data.reduce((s,a)=>{const l=Ne(a)?a.signal:`data('${e.lookupDataSource(a)}')`;return st(s,l)||s.push(l),s},[]);if(o.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:r,size:i,fit:{signal:o.length>1?`[${o.join(", ")}]`:o[0]},...n}]}else return[{name:r,translate:{signal:"[width / 2, height / 2]"},...n}]}const fHe=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class cZ extends Ja{constructor(t,n,r,i){super({...n},{name:t}),this.specifiedProjection=n,this.size=r,this.data=i,this.merged=!1}get isFit(){return!!this.data}}function fZ(e){e.component.projection=Zt(e)?dHe(e):gHe(e)}function dHe(e){if(e.hasProjection){const t=Ur(e.specifiedProjection),n=!(t&&(t.scale!=null||t.translate!=null)),r=n?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,i=n?hHe(e):void 0,o=new cZ(e.projectionName(!0),{...Ur(e.config.projection)??{},...t??{}},r,i);return o.get("type")||o.set("type","equalEarth",!1),o}}function hHe(e){const t=[],{encoding:n}=e;for(const r of[[Zo,Qo],[Ki,es]])(bn(n[r[0]])||bn(n[r[1]]))&&t.push({signal:e.getName(`geojson_${t.length}`)});return e.channelHasField(ri)&&e.typedFieldDef(ri).type===op&&t.push({signal:e.getName(`geojson_${t.length}`)}),t.length===0&&t.push(e.requestDataName(Nt.Main)),t}function pHe(e,t){const n=wk(fHe,i=>!!(!Le(e.explicit,i)&&!Le(t.explicit,i)||Le(e.explicit,i)&&Le(t.explicit,i)&&vs(e.get(i),t.get(i))));if(vs(e.size,t.size)){if(n)return e;if(vs(e.explicit,{}))return t;if(vs(t.explicit,{}))return e}return null}function gHe(e){if(e.children.length===0)return;let t;for(const r of e.children)fZ(r);const n=wk(e.children,r=>{const i=r.component.projection;if(i)if(t){const o=pHe(t,i);return o&&(t=o),!!o}else return t=i,!0;else return!0});if(t&&n){const r=e.projectionName(!0),i=new cZ(r,t.specifiedProjection,t.size,He(t.data));for(const o of e.children){const s=o.component.projection;s&&(s.isFit&&i.data.push(...o.component.projection.data),o.renameProjection(s.get("name"),r),s.merged=!0)}return i}}function mHe(e,t,n,r){if(f1(t,n)){const i=Zt(e)?e.axis(n)??e.legend(n)??{}:{},o=we(t,{expr:"datum"}),s=we(t,{expr:"datum",binSuffix:"end"});return{formulaAs:we(t,{binSuffix:"range",forAs:!0}),formula:l1(o,s,i.format,i.formatType,r)}}return{}}function dZ(e,t){return`${IK(e)}_${t}`}function yHe(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}function OM(e,t,n){const r=Rw(n,void 0)??{},i=dZ(r,t);return e.getName(`${i}_bins`)}function vHe(e){return"as"in e}function BP(e,t,n){let r,i;vHe(e)?r=Ee(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:r=[we(e,{forAs:!0}),we(e,{binSuffix:"end",forAs:!0})];const o={...Rw(t,void 0)},s=dZ(o,e.field),{signal:a,extentSignal:l}=yHe(n,s);if(Ew(o.extent)){const c=o.extent;i=VQ(n,c.param,c),delete o.extent}const u={bin:o,field:e.field,as:[r],...a?{signal:a}:{},...l?{extentSignal:l}:{},...i?{span:i}:{}};return{key:s,binComponent:u}}class Ms extends $t{clone(){return new Ms(null,He(this.bins))}constructor(t,n){super(t),this.bins=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,o,s)=>{if(Rr(o)&&Pt(o.bin)){const{key:a,binComponent:l}=BP(o,o.bin,n);i[a]={...l,...i[a],...mHe(n,o,s,n.config)}}return i},{});return Ct(r)?null:new Ms(t,r)}static makeFromTransform(t,n,r){const{key:i,binComponent:o}=BP(n,n.bin,r);return new Ms(t,{[i]:o})}merge(t,n){for(const r of le(t.bins))r in this.bins?(n(t.bins[r].signal,this.bins[r].signal),this.bins[r].as=bs([...this.bins[r].as,...t.bins[r].as],ot)):this.bins[r]=t.bins[r];for(const r of t.children)t.removeChild(r),r.parent=this;t.remove()}producedFields(){return new Set(Vn(this.bins).map(t=>t.as).flat(2))}dependentFields(){return new Set(Vn(this.bins).map(t=>t.field))}hash(){return`Bin ${ot(this.bins)}`}assemble(){return Vn(this.bins).flatMap(t=>{const n=[],[r,...i]=t.as,{extent:o,...s}=t.bin,a={type:"bin",field:Xi(t.field),as:r,signal:t.signal,...Ew(o)?{extent:null}:{extent:o},...t.span?{span:{signal:`span(${t.span})`}}:{},...s};!o&&t.extentSignal&&(n.push({type:"extent",field:Xi(t.field),signal:t.extentSignal}),a.extent={signal:t.extentSignal}),n.push(a);for(const l of i)for(let u=0;u<2;u++)n.push({type:"formula",expr:we({field:r[u]},{expr:"datum"}),as:l[u]});return t.formula&&n.push({type:"formula",expr:t.formula,as:t.formulaAs}),n})}}function bHe(e,t,n,r){var o;const i=Zt(r)?r.encoding[Js(t)]:void 0;if(Rr(n)&&Zt(r)&&TJ(n,i,r.markDef,r.config))e.add(we(n,{})),e.add(we(n,{suffix:"end"})),n.bin&&f1(n,t)&&e.add(we(n,{binSuffix:"range"}));else if($K(t)){const s=SK(t);e.add(r.getName(s))}else e.add(we(n));return kf(n)&&hje((o=n.scale)==null?void 0:o.range)&&e.add(n.scale.range.field),e}function xHe(e,t){for(const n of le(t)){const r=t[n];for(const i of le(r))n in e?e[n][i]=new Set([...e[n][i]??[],...r[i]]):e[n]={[i]:r[i]}}}class ko extends $t{clone(){return new ko(null,new Set(this.dimensions),He(this.measures))}constructor(t,n,r){super(t),this.dimensions=n,this.measures=r}get groupBy(){return this.dimensions}static makeFromEncoding(t,n){let r=!1;n.forEachFieldDef(s=>{s.aggregate&&(r=!0)});const i={},o=new Set;return!r||(n.forEachFieldDef((s,a)=>{const{aggregate:l,field:u}=s;if(l)if(l==="count")i["*"]??(i["*"]={}),i["*"].count=new Set([we(s,{forAs:!0})]);else{if(Da(l)||Au(l)){const c=Da(l)?"argmin":"argmax",f=l[c];i[f]??(i[f]={}),i[f][c]=new Set([we({op:c,field:f},{forAs:!0})])}else i[u]??(i[u]={}),i[u][l]=new Set([we(s,{forAs:!0})]);Xa(a)&&n.scaleDomain(a)==="unaggregated"&&(i[u]??(i[u]={}),i[u].min=new Set([we({field:u,aggregate:"min"},{forAs:!0})]),i[u].max=new Set([we({field:u,aggregate:"max"},{forAs:!0})]))}else bHe(o,a,s,n)}),o.size+le(i).length===0)?null:new ko(t,o,i)}static makeFromTransform(t,n){const r=new Set,i={};for(const o of n.aggregate){const{op:s,field:a,as:l}=o;s&&(s==="count"?(i["*"]??(i["*"]={}),i["*"].count=new Set([l||we(o,{forAs:!0})])):(i[a]??(i[a]={}),i[a][s]=new Set([l||we(o,{forAs:!0})])))}for(const o of n.groupby??[])r.add(o);return r.size+le(i).length===0?null:new ko(t,r,i)}merge(t){return mK(this.dimensions,t.dimensions)?(xHe(this.measures,t.measures),!0):(LBe("different dimensions, cannot merge"),!1)}addDimensions(t){t.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...le(this.measures)])}producedFields(){const t=new Set;for(const n of le(this.measures))for(const r of le(this.measures[n])){const i=this.measures[n][r];i.size===0?t.add(`${r}_${n}`):i.forEach(t.add,t)}return t}hash(){return`Aggregate ${ot({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const t=[],n=[],r=[];for(const o of le(this.measures))for(const s of le(this.measures[o]))for(const a of this.measures[o][s])r.push(a),t.push(s),n.push(o==="*"?null:Xi(o));return{type:"aggregate",groupby:[...this.dimensions].map(Xi),ops:t,fields:n,as:r}}}class lp extends $t{constructor(t,n,r,i){super(t),this.model=n,this.name=r,this.data=i;for(const o of zi){const s=n.facet[o];if(s){const{bin:a,sort:l}=s;this[o]={name:n.getName(`${o}_domain`),fields:[we(s),...Pt(a)?[we(s,{binSuffix:"end"})]:[]],...As(l)?{sortField:l}:ie(l)?{sortIndexField:Ch(s,o)}:{}}}}this.childModel=n.child}hash(){let t="Facet";for(const n of zi)this[n]&&(t+=` ${n.charAt(0)}:${ot(this[n])}`);return t}get fields(){var n;const t=[];for(const r of zi)(n=this[r])!=null&&n.fields&&t.push(...this[r].fields);return t}dependentFields(){const t=new Set(this.fields);for(const n of zi)this[n]&&(this[n].sortField&&t.add(this[n].sortField.field),this[n].sortIndexField&&t.add(this[n].sortIndexField));return t}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const t={};for(const n of Qs){const r=this.childModel.component.scales[n];if(r&&!r.merged){const i=r.get("type"),o=r.get("range");if(Dn(i)&&ku(o)){const s=Hw(this.childModel,n),a=PM(s);a?t[n]=a:de(Pk(n))}}}return t}assembleRowColumnHeaderData(t,n,r){const i={row:"y",column:"x",facet:void 0}[t],o=[],s=[],a=[];i&&r&&r[i]&&(n?(o.push(`distinct_${r[i]}`),s.push("max")):(o.push(r[i]),s.push("distinct")),a.push(`distinct_${r[i]}`));const{sortField:l,sortIndexField:u}=this[t];if(l){const{op:c=Tw,field:f}=l;o.push(f),s.push(c),a.push(we(l,{forAs:!0}))}else u&&(o.push(u),s.push("max"),a.push(u));return{name:this[t].name,source:n??this.data,transform:[{type:"aggregate",groupby:this[t].fields,...o.length?{fields:o,ops:s,as:a}:{}}]}}assembleFacetHeaderData(t){var l;const{columns:n}=this.model.layout,{layoutHeaders:r}=this.model.component,i=[],o={};for(const u of AM){for(const c of kM){const f=(r[u]&&r[u][c])??[];for(const h of f)if(((l=h.axes)==null?void 0:l.length)>0){o[u]=!0;break}}if(o[u]){const c=`length(data("${this.facet.name}"))`,f=u==="row"?n?{signal:`ceil(${c} / ${n})`}:1:n?{signal:`min(${c}, ${n})`}:{signal:c};i.push({name:`${this.facet.name}_${u}`,transform:[{type:"sequence",start:0,stop:f}]})}}const{row:s,column:a}=o;return(s||a)&&i.unshift(this.assembleRowColumnHeaderData("facet",null,t)),i}assemble(){const t=[];let n=null;const r=this.getChildIndependentFieldsWithStep(),{column:i,row:o,facet:s}=this;if(i&&o&&(r.x||r.y)){n=`cross_${this.column.name}_${this.row.name}`;const a=[].concat(r.x??[],r.y??[]),l=a.map(()=>"distinct");t.push({name:n,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:a,ops:l}]})}for(const a of[Ca,$a])this[a]&&t.push(this.assembleRowColumnHeaderData(a,n,r));if(s){const a=this.assembleFacetHeaderData(r);a&&t.push(...a)}return t}}function jP(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function wHe(e,t){const n=Sk(e);if(t==="number")return`toNumber(${n})`;if(t==="boolean")return`toBoolean(${n})`;if(t==="string")return`toString(${n})`;if(t==="date")return`toDate(${n})`;if(t==="flatten")return n;if(t.startsWith("date:")){const r=jP(t.slice(5,t.length));return`timeParse(${n},'${r}')`}else if(t.startsWith("utc:")){const r=jP(t.slice(4,t.length));return`utcParse(${n},'${r}')`}else return de(Hze(t)),null}function _He(e){const t={};return dv(e.filter,n=>{if(aJ(n)){let r=null;zk(n)?r=vi(n.equal):jk(n)?r=vi(n.lte):Bk(n)?r=vi(n.lt):Uk(n)?r=vi(n.gt):qk(n)?r=vi(n.gte):Vk(n)?r=n.range[0]:Hk(n)&&(r=(n.oneOf??n.in)[0]),r&&(Cf(r)?t[n.field]="date":St(r)?t[n.field]="number":Ee(r)&&(t[n.field]="string")),n.timeUnit&&(t[n.field]="date")}}),t}function EHe(e){const t={};function n(r){_h(r)?t[r.field]="date":r.type==="quantitative"&&Eze(r.aggregate)?t[r.field]="number":gh(r.field)>1?r.field in t||(t[r.field]="flatten"):kf(r)&&As(r.sort)&&gh(r.sort.field)>1&&(r.sort.field in t||(t[r.sort.field]="flatten"))}if((Zt(e)||Mo(e))&&e.forEachFieldDef((r,i)=>{if(Rr(r))n(r);else{const o=Sf(i),s=e.fieldDef(o);n({...r,type:s.type})}}),Zt(e)){const{mark:r,markDef:i,encoding:o}=e;if(Mu(r)&&!e.encoding.order){const s=i.orient==="horizontal"?"y":"x",a=o[s];ge(a)&&a.type==="quantitative"&&!(a.field in t)&&(t[a.field]="number")}}return t}function SHe(e){const t={};if(Zt(e)&&e.component.selection)for(const n of le(e.component.selection)){const r=e.component.selection[n];for(const i of r.project.items)!i.channel&&gh(i.field)>1&&(t[i.field]="flatten")}return t}class ur extends $t{clone(){return new ur(null,He(this._parse))}constructor(t,n){super(t),this._parse=n}hash(){return`Parse ${ot(this._parse)}`}static makeExplicit(t,n,r){var s;let i={};const o=n.data;return!jl(o)&&((s=o==null?void 0:o.format)!=null&&s.parse)&&(i=o.format.parse),this.makeWithAncestors(t,i,{},r)}static makeWithAncestors(t,n,r,i){for(const a of le(r)){const l=i.getWithExplicit(a);l.value!==void 0&&(l.explicit||l.value===r[a]||l.value==="derived"||r[a]==="flatten"?delete r[a]:de(ZR(a,r[a],l.value)))}for(const a of le(n)){const l=i.get(a);l!==void 0&&(l===n[a]?delete n[a]:de(ZR(a,n[a],l)))}const o=new Ja(n,r);i.copyAll(o);const s={};for(const a of le(o.combine())){const l=o.get(a);l!==null&&(s[a]=l)}return le(s).length===0||i.parseNothing?null:new ur(t,s)}get parse(){return this._parse}merge(t){this._parse={...this._parse,...t.parse},t.remove()}assembleFormatParse(){const t={};for(const n of le(this._parse)){const r=this._parse[n];gh(n)===1&&(t[n]=r)}return t}producedFields(){return new Set(le(this._parse))}dependentFields(){return new Set(le(this._parse))}assembleTransforms(t=!1){return le(this._parse).filter(n=>t?gh(n)>1:!0).map(n=>{const r=wHe(n,this._parse[n]);return r?{type:"formula",expr:r,as:$k(n)}:null}).filter(n=>n!==null)}}class du extends $t{clone(){return new du(null)}constructor(t){super(t)}dependentFields(){return new Set}producedFields(){return new Set([Bo])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:Bo}}}class p1 extends $t{clone(){return new p1(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${ot(this.params)}`}assemble(){return{type:"graticule",...this.params===!0?{}:this.params}}}class g1 extends $t{clone(){return new g1(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${ot(this.params)}`}assemble(){return{type:"sequence",...this.params}}}class nf extends $t{constructor(t){super(null),t??(t={name:"source"});let n;if(jl(t)||(n=t.format?{...Xr(t.format,["parse"])}:{}),Y0(t))this._data={values:t.values};else if(Eh(t)){if(this._data={url:t.url},!n.type){let r=/(?:\.([^.]+))?$/.exec(t.url)[1];st(["json","csv","tsv","dsv","topojson"],r)||(r="json"),n.type=r}}else wQ(t)?this._data={values:[{type:"Sphere"}]}:(bQ(t)||jl(t))&&(this._data={});this._generator=jl(t),t.name&&(this._name=t.name),n&&!Ct(n)&&(this._data.format=n)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(t){this._name=t}set parent(t){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}var UP=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},$He=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},vg;function FM(e){return e instanceof nf||e instanceof p1||e instanceof g1}class NM{constructor(){vg.set(this,void 0),UP(this,vg,!1,"f")}setModified(){UP(this,vg,!0,"f")}get modifiedFlag(){return $He(this,vg,"f")}}vg=new WeakMap;class Mf extends NM{getNodeDepths(t,n,r){r.set(t,n);for(const i of t.children)this.getNodeDepths(i,n+1,r);return r}optimize(t){const r=[...this.getNodeDepths(t,0,new Map).entries()].sort((i,o)=>o[1]-i[1]);for(const i of r)this.run(i[0]);return this.modifiedFlag}}class RM extends NM{optimize(t){this.run(t);for(const n of t.children)this.optimize(n);return this.modifiedFlag}}class CHe extends RM{mergeNodes(t,n){const r=n.shift();for(const i of n)t.removeChild(i),i.parent=r,i.remove()}run(t){const n=t.children.map(i=>i.hash()),r={};for(let i=0;i<n.length;i++)r[n[i]]===void 0?r[n[i]]=[t.children[i]]:r[n[i]].push(t.children[i]);for(const i of le(r))r[i].length>1&&(this.setModified(),this.mergeNodes(t,r[i]))}}class AHe extends RM{constructor(t){super(),this.requiresSelectionId=t&&CM(t)}run(t){t instanceof du&&(this.requiresSelectionId&&(FM(t.parent)||t.parent instanceof ko||t.parent instanceof ur)||(this.setModified(),t.remove()))}}class kHe extends NM{optimize(t){return this.run(t,new Set),this.modifiedFlag}run(t,n){let r=new Set;t instanceof ks&&(r=t.producedFields(),_k(r,n)&&(this.setModified(),t.removeFormulas(n),t.producedFields.length===0&&t.remove()));for(const i of t.children)this.run(i,new Set([...n,...r]))}}class MHe extends RM{constructor(){super()}run(t){t instanceof Mr&&!t.isRequired()&&(this.setModified(),t.remove())}}class THe extends Mf{run(t){if(!FM(t)&&!(t.numChildren()>1)){for(const n of t.children)if(n instanceof ur)if(t instanceof ur)this.setModified(),t.merge(n);else{if(Ek(t.producedFields(),n.dependentFields()))continue;this.setModified(),n.swapWithParent()}}}}class OHe extends Mf{run(t){const n=[...t.children],r=t.children.filter(i=>i instanceof ur);if(t.numChildren()>1&&r.length>=1){const i={},o=new Set;for(const s of r){const a=s.parse;for(const l of le(a))l in i?i[l]!==a[l]&&o.add(l):i[l]=a[l]}for(const s of o)delete i[s];if(!Ct(i)){this.setModified();const s=new ur(t,i);for(const a of n){if(a instanceof ur)for(const l of le(i))delete a.parse[l];t.removeChild(a),a.parent=s,a instanceof ur&&le(a.parse).length===0&&a.remove()}}}}}class FHe extends Mf{run(t){t instanceof Mr||t.numChildren()>0||t instanceof lp||t instanceof nf||(this.setModified(),t.remove())}}class NHe extends Mf{run(t){const n=t.children.filter(i=>i instanceof ks),r=n.pop();for(const i of n)this.setModified(),r.merge(i)}}class RHe extends Mf{run(t){const n=t.children.filter(i=>i instanceof ko),r={};for(const i of n){const o=ot(i.groupBy);o in r||(r[o]=[]),r[o].push(i)}for(const i of le(r)){const o=r[i];if(o.length>1){const s=o.pop();for(const a of o)s.merge(a)&&(t.removeChild(a),a.parent=s,a.remove(),this.setModified())}}}}class PHe extends Mf{constructor(t){super(),this.model=t}run(t){const n=!(FM(t)||t instanceof ap||t instanceof ur||t instanceof du),r=[],i=[];for(const o of t.children)o instanceof Ms&&(n&&!Ek(t.producedFields(),o.dependentFields())?r.push(o):i.push(o));if(r.length>0){const o=r.pop();for(const s of r)o.merge(s,this.model.renameSignal.bind(this.model));this.setModified(),t instanceof Ms?t.merge(o,this.model.renameSignal.bind(this.model)):o.swapWithParent()}if(i.length>1){const o=i.pop();for(const s of i)o.merge(s,this.model.renameSignal.bind(this.model));this.setModified()}}}class IHe extends Mf{run(t){const n=[...t.children];if(!Gc(n,s=>s instanceof Mr)||t.numChildren()<=1)return;const i=[];let o;for(const s of n)if(s instanceof Mr){let a=s;for(;a.numChildren()===1;){const[l]=a.children;if(l instanceof Mr)a=l;else break}i.push(...a.children),o?(t.removeChild(s),s.parent=o.parent,o.parent.removeChild(o),o.parent=a,this.setModified()):o=a}else i.push(s);if(i.length){this.setModified();for(const s of i)s.parent.removeChild(s),s.parent=o}}}class Tf extends $t{clone(){return new Tf(null,He(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=bs(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return this.transform.groupby&&this.transform.groupby.forEach(t.add,t),this.transform.joinaggregate.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(t){return t.as??we(t)}hash(){return`JoinAggregateTransform ${ot(this.transform)}`}assemble(){const t=[],n=[],r=[];for(const o of this.transform.joinaggregate)n.push(o.op),r.push(this.getDefaultName(o)),t.push(o.field===void 0?null:o.field);const i=this.transform.groupby;return{type:"joinaggregate",as:r,ops:n,fields:t,...i!==void 0?{groupby:i}:{}}}}function DHe(e){return e.stack.stackBy.reduce((t,n)=>{const r=n.fieldDef,i=we(r);return i&&t.push(i),t},[])}function LHe(e){return ie(e)&&e.every(t=>Ee(t))&&e.length>1}class ka extends $t{clone(){return new ka(null,He(this._stack))}constructor(t,n){super(t),this._stack=n}static makeFromTransform(t,n){const{stack:r,groupby:i,as:o,offset:s="zero"}=n,a=[],l=[];if(n.sort!==void 0)for(const f of n.sort)a.push(f.field),l.push(an(f.order,"ascending"));const u={field:a,order:l};let c;return LHe(o)?c=o:Ee(o)?c=[o,`${o}_end`]:c=[`${n.stack}_start`,`${n.stack}_end`],new ka(t,{dimensionFieldDefs:[],stackField:r,groupby:i,offset:s,sort:u,facetby:[],as:c})}static makeFromEncoding(t,n){const r=n.stack,{encoding:i}=n;if(!r)return null;const{groupbyChannels:o,fieldChannel:s,offset:a,impute:l}=r,u=o.map(p=>{const g=i[p];return Bs(g)}).filter(p=>!!p),c=DHe(n),f=n.encoding.order;let h;if(ie(f)||ge(f))h=jK(f);else{const p=OJ(f)?f.sort:s==="y"?"descending":"ascending";h=c.reduce((g,m)=>(g.field.push(m),g.order.push(p),g),{field:[],order:[]})}return new ka(t,{dimensionFieldDefs:u,stackField:n.vgField(s),facetby:[],stackby:c,sort:h,offset:a,impute:l,as:[n.vgField(s,{suffix:"start",forAs:!0}),n.vgField(s,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(t){this._stack.facetby.push(...t)}dependentFields(){const t=new Set;return t.add(this._stack.stackField),this.getGroupbyFields().forEach(t.add,t),this._stack.facetby.forEach(t.add,t),this._stack.sort.field.forEach(t.add,t),t}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${ot(this._stack)}`}getGroupbyFields(){const{dimensionFieldDefs:t,impute:n,groupby:r}=this._stack;return t.length>0?t.map(i=>i.bin?n?[we(i,{binSuffix:"mid"})]:[we(i,{}),we(i,{binSuffix:"end"})]:[we(i)]).flat():r??[]}assemble(){const t=[],{facetby:n,dimensionFieldDefs:r,stackField:i,stackby:o,sort:s,offset:a,impute:l,as:u}=this._stack;if(l)for(const c of r){const{bandPosition:f=.5,bin:h}=c;if(h){const p=we(c,{expr:"datum"}),g=we(c,{expr:"datum",binSuffix:"end"});t.push({type:"formula",expr:`${f}*${p}+${1-f}*${g}`,as:we(c,{binSuffix:"mid",forAs:!0})})}t.push({type:"impute",field:i,groupby:[...o,...n],key:we(c,{binSuffix:"mid"}),method:"value",value:0})}return t.push({type:"stack",groupby:[...this.getGroupbyFields(),...n],field:i,sort:s,as:u,offset:a}),t}}class up extends $t{clone(){return new up(null,He(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=bs(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return(this.transform.groupby??[]).forEach(t.add,t),(this.transform.sort??[]).forEach(n=>t.add(n.field)),this.transform.window.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(t){return t.as??we(t)}hash(){return`WindowTransform ${ot(this.transform)}`}assemble(){const t=[],n=[],r=[],i=[];for(const f of this.transform.window)n.push(f.op),r.push(this.getDefaultName(f)),i.push(f.param===void 0?null:f.param),t.push(f.field===void 0?null:f.field);const o=this.transform.frame,s=this.transform.groupby;if(o&&o[0]===null&&o[1]===null&&n.every(f=>Nk(f)))return{type:"joinaggregate",as:r,ops:n,fields:t,...s!==void 0?{groupby:s}:{}};const a=[],l=[];if(this.transform.sort!==void 0)for(const f of this.transform.sort)a.push(f.field),l.push(f.order??"ascending");const u={field:a,order:l},c=this.transform.ignorePeers;return{type:"window",params:i,as:r,ops:n,fields:t,sort:u,...c!==void 0?{ignorePeers:c}:{},...s!==void 0?{groupby:s}:{},...o!==void 0?{frame:o}:{}}}}function zHe(e){function t(n){if(!(n instanceof lp)){const r=n.clone();if(r instanceof Mr){const i=l4+r.getSource();r.setSource(i),e.model.component.data.outputNodes[i]=r}else(r instanceof ko||r instanceof ka||r instanceof up||r instanceof Tf)&&r.addDimensions(e.fields);for(const i of n.children.flatMap(t))i.parent=r;return[r]}return n.children.flatMap(t)}return t}function a4(e){if(e instanceof lp)if(e.numChildren()===1&&!(e.children[0]instanceof Mr)){const t=e.children[0];(t instanceof ko||t instanceof ka||t instanceof up||t instanceof Tf)&&t.addDimensions(e.fields),t.swapWithParent(),a4(e)}else{const t=e.model.component.data.main;hZ(t);const n=zHe(e),r=e.children.map(n).flat();for(const i of r)i.parent=t}else e.children.map(a4)}function hZ(e){if(e instanceof Mr&&e.type===Nt.Main&&e.numChildren()===1){const t=e.children[0];t instanceof lp||(t.swapWithParent(),hZ(e))}}const l4="scale_",vy=5;function u4(e){for(const t of e){for(const n of t.children)if(n.parent!==t)return!1;if(!u4(t.children))return!1}return!0}function ro(e,t){let n=!1;for(const r of t)n=e.optimize(r)||n;return n}function qP(e,t,n){let r=e.sources,i=!1;return i=ro(new MHe,r)||i,i=ro(new AHe(t),r)||i,r=r.filter(o=>o.numChildren()>0),i=ro(new FHe,r)||i,r=r.filter(o=>o.numChildren()>0),n||(i=ro(new THe,r)||i,i=ro(new PHe(t),r)||i,i=ro(new kHe,r)||i,i=ro(new OHe,r)||i,i=ro(new RHe,r)||i,i=ro(new NHe,r)||i,i=ro(new CHe,r)||i,i=ro(new IHe,r)||i),e.sources=r,i}function BHe(e,t){u4(e.sources);let n=0,r=0;for(let i=0;i<vy&&qP(e,t,!0);i++)n++;e.sources.map(a4);for(let i=0;i<vy&&qP(e,t,!1);i++)r++;u4(e.sources),Math.max(n,r)===vy&&de(`Maximum optimization runs(${vy}) reached.`)}class Jr{constructor(t){Object.defineProperty(this,"signal",{enumerable:!0,get:t})}static fromName(t,n){return new Jr(()=>t(n))}}function pZ(e){Zt(e)?jHe(e):UHe(e)}function jHe(e){const t=e.component.scales;for(const n of le(t)){const r=VHe(e,n);if(t[n].setWithExplicit("domains",r),WHe(e,n),e.component.data.isFaceted){let o=e;for(;!Mo(o)&&o.parent;)o=o.parent;if(o.component.resolve.scale[n]==="shared")for(const a of r.value)_a(a)&&(a.data=l4+a.data.replace(l4,""))}}}function UHe(e){for(const n of e.children)pZ(n);const t=e.component.scales;for(const n of le(t)){let r,i=null;for(const o of e.children){const s=o.component.scales[n];if(s){r===void 0?r=s.getWithExplicit("domains"):r=uu(r,s.getWithExplicit("domains"),"domains","scale",c4);const a=s.get("selectionExtent");i&&a&&i.param!==a.param&&de(jze),i=a}}t[n].setWithExplicit("domains",r),i&&t[n].set("selectionExtent",i,!0)}}function qHe(e,t,n,r){if(e==="unaggregated"){const{valid:i,reason:o}=VP(t,n);if(!i){de(o);return}}else if(e===void 0&&r.useUnaggregatedDomain){const{valid:i}=VP(t,n);if(i)return"unaggregated"}return e}function VHe(e,t){const n=e.getScaleComponent(t).get("type"),{encoding:r}=e,i=qHe(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return i!==e.scaleDomain(t)&&(e.specifiedScales[t]={...e.specifiedScales[t],domain:i}),t==="x"&&bn(r.x2)?bn(r.x)?uu(sl(n,i,e,"x"),sl(n,i,e,"x2"),"domain","scale",c4):sl(n,i,e,"x2"):t==="y"&&bn(r.y2)?bn(r.y)?uu(sl(n,i,e,"y"),sl(n,i,e,"y2"),"domain","scale",c4):sl(n,i,e,"y2"):sl(n,i,e,t)}function HHe(e,t,n){return e.map(r=>({signal:`{data: ${Pw(r,{timeUnit:n,type:t})}}`}))}function nE(e,t,n){var i;const r=(i=Nn(n))==null?void 0:i.unit;return t==="temporal"||r?HHe(e,t,r):[e]}function sl(e,t,n,r){const{encoding:i}=n,o=bn(i[r]),{type:s}=o,a=o.timeUnit;if(dje(t)){const f=sl(e,void 0,n,r),h=nE(t.unionWith,s,a);return us([...h,...f.value])}else{if(Ne(t))return us([t]);if(t&&t!=="unaggregated"&&!pJ(t))return us(nE(t,s,a))}const l=n.stack;if(l&&r===l.fieldChannel){if(l.offset==="normalize")return di([[0,1]]);const f=n.requestDataName(Nt.Main);return di([{data:f,field:n.vgField(r,{suffix:"start"})},{data:f,field:n.vgField(r,{suffix:"end"})}])}const u=Xa(r)&&ge(o)?GHe(n,r,e):void 0;if(Zs(o)){const f=nE([o.datum],s,a);return di(f)}const c=o;if(t==="unaggregated"){const f=n.requestDataName(Nt.Main),{field:h}=o;return di([{data:f,field:we({field:h,aggregate:"min"})},{data:f,field:we({field:h,aggregate:"max"})}])}else if(Pt(c.bin)){if(Dn(e))return di(e==="bin-ordinal"?[]:[{data:W0(u)?n.requestDataName(Nt.Main):n.requestDataName(Nt.Raw),field:n.vgField(r,f1(c,r)?{binSuffix:"range"}:{}),sort:u===!0||!Ae(u)?{field:n.vgField(r,{}),op:"min"}:u}]);{const{bin:f}=c;if(Pt(f)){const h=OM(n,c.field,f);return di([new Jr(()=>{const p=n.getSignalName(h);return`[${p}.start, ${p}.stop]`})])}else return di([{data:n.requestDataName(Nt.Main),field:n.vgField(r,{})}])}}else if(c.timeUnit&&st(["time","utc"],e)&&TJ(c,Zt(n)?n.encoding[Js(r)]:void 0,n.markDef,n.config)){const f=n.requestDataName(Nt.Main);return di([{data:f,field:n.vgField(r)},{data:f,field:n.vgField(r,{suffix:"end"})}])}else return di(u?[{data:W0(u)?n.requestDataName(Nt.Main):n.requestDataName(Nt.Raw),field:n.vgField(r),sort:u}]:[{data:n.requestDataName(Nt.Main),field:n.vgField(r)}])}function rE(e,t){const{op:n,field:r,order:i}=e;return{op:n??(t?"sum":Tw),...r?{field:Xi(r)}:{},...i?{order:i}:{}}}function WHe(e,t){var a;const n=e.component.scales[t],r=e.specifiedScales[t].domain,i=(a=e.fieldDef(t))==null?void 0:a.bin,o=pJ(r)&&r,s=$f(i)&&Ew(i.extent)&&i.extent;(o||s)&&n.set("selectionExtent",o??s,!0)}function GHe(e,t,n){if(!Dn(n))return;const r=e.fieldDef(t),i=r.sort;if(AJ(i))return{op:"min",field:Ch(r,t),order:"ascending"};const{stack:o}=e,s=o?new Set([...o.groupbyFields,...o.stackBy.map(a=>a.fieldDef.field)]):void 0;if(As(i)){const a=o&&!s.has(i.field);return rE(i,a)}else if(CJ(i)){const{encoding:a,order:l}=i,u=e.fieldDef(a),{aggregate:c,field:f}=u,h=o&&!s.has(f);if(Da(c)||Au(c))return rE({field:we(u),order:l},h);if(Nk(c)||!c)return rE({op:c,field:f,order:l},h)}else{if(i==="descending")return{op:"min",field:e.vgField(t),order:"descending"};if(st(["ascending",void 0],i))return!0}}function VP(e,t){const{aggregate:n,type:r}=e;return n?Ee(n)&&!$ze.has(n)?{valid:!1,reason:gBe(n)}:r==="quantitative"&&t==="log"?{valid:!1,reason:mBe(e)}:{valid:!0}:{valid:!1,reason:pBe(e)}}function c4(e,t,n,r){return e.explicit&&t.explicit&&de(wBe(n,r,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function YHe(e){const t=bs(e.map(s=>{if(_a(s)){const{sort:a,...l}=s;return l}return s}),ot),n=bs(e.map(s=>{if(_a(s)){const a=s.sort;return a!==void 0&&!W0(a)&&("op"in a&&a.op==="count"&&delete a.field,a.order==="ascending"&&delete a.order),a}}).filter(s=>s!==void 0),ot);if(t.length===0)return;if(t.length===1){const s=e[0];if(_a(s)&&n.length>0){let a=n[0];if(n.length>1){de(tP);const l=n.filter(u=>Ae(u)&&"op"in u&&u.op!=="min");n.every(u=>Ae(u)&&"op"in u)&&l.length===1?a=l[0]:a=!0}else if(Ae(a)&&"field"in a){const l=a.field;s.field===l&&(a=a.order?{order:a.order}:!0)}return{...s,sort:a}}return s}const r=bs(n.map(s=>W0(s)||!("op"in s)||Ee(s.op)&&s.op in wze?s:(de(EBe(s)),!0)),ot);let i;r.length===1?i=r[0]:r.length>1&&(de(tP),i=!0);const o=bs(e.map(s=>_a(s)?s.data:null),s=>s);return o.length===1&&o[0]!==null?{data:o[0],fields:t.map(a=>a.field),...i?{sort:i}:{}}:{fields:t,...i?{sort:i}:{}}}function PM(e){if(_a(e)&&Ee(e.field))return e.field;if(Cze(e)){let t;for(const n of e.fields)if(_a(n)&&Ee(n.field)){if(!t)t=n.field;else if(t!==n.field)return de(SBe),t}return de($Be),t}else if(Aze(e)){de(CBe);const t=e.fields[0];return Ee(t)?t:void 0}}function Hw(e,t){const r=e.component.scales[t].get("domains").map(i=>(_a(i)&&(i.data=e.lookupDataSource(i.data)),i));return YHe(r)}function gZ(e){return cp(e)||IM(e)?e.children.reduce((t,n)=>t.concat(gZ(n)),HP(e)):HP(e)}function HP(e){return le(e.component.scales).reduce((t,n)=>{const r=e.component.scales[n];if(r.merged)return t;const i=r.combine(),{name:o,type:s,selectionExtent:a,domains:l,range:u,reverse:c,...f}=i,h=XHe(i.range,o,n,e),p=Hw(e,n),g=a?qqe(e,a,r,p):null;return t.push({name:o,type:s,...p?{domain:p}:{},...g?{domainRaw:g}:{},range:h,...c!==void 0?{reverse:c}:{},...f}),t},[])}function XHe(e,t,n,r){if(In(n)){if(ku(e))return{step:{signal:`${t}_step`}}}else if(Ae(e)&&_a(e))return{...e,data:r.lookupDataSource(e.data)};return e}class mZ extends Ja{constructor(t,n){super({},{name:t}),this.merged=!1,this.setWithExplicit("type",n)}domainDefinitelyIncludesZero(){return this.get("zero")!==!1?!0:Gc(this.get("domains"),t=>ie(t)&&t.length===2&&t[0]<=0&&t[1]>=0)}}const KHe=["range","scheme"];function JHe(e){const t=e.component.scales;for(const n of _w){const r=t[n];if(!r)continue;const i=QHe(n,e);r.setWithExplicit("range",i)}}function WP(e,t){const n=e.fieldDef(t);if(n!=null&&n.bin){const{bin:r,field:i}=n,o=ii(t),s=e.getName(o);if(Ae(r)&&r.binned&&r.step!==void 0)return new Jr(()=>{const a=e.scaleName(t),l=`(domain("${a}")[1] - domain("${a}")[0]) / ${r.step}`;return`${e.getSignalName(s)} / (${l})`});if(Pt(r)){const a=OM(e,i,r);return new Jr(()=>{const l=e.getSignalName(a),u=`(${l}.stop - ${l}.start) / ${l}.step`;return`${e.getSignalName(s)} / (${u})`})}}}function QHe(e,t){const n=t.specifiedScales[e],{size:r}=t,o=t.getScaleComponent(e).get("type");for(const f of KHe)if(n[f]!==void 0){const h=G6(o,f),p=gJ(e,f);if(!h)de(YK(o,f,e));else if(p)de(p);else switch(f){case"range":{const g=n.range;if(ie(g)){if(In(e))return us(g.map(m=>{if(m==="width"||m==="height"){const y=t.getName(m),v=t.getSignalName.bind(t);return Jr.fromName(v,y)}return m}))}else if(Ae(g))return us({data:t.requestDataName(Nt.Main),field:g.field,sort:{op:"min",field:t.vgField(e)}});return us(g)}case"scheme":return us(ZHe(n[f]))}}const s=e===Ht||e==="xOffset"?"width":"height",a=r[s];if(js(a)){if(In(e))if(Dn(o)){const f=yZ(a,t,e);if(f)return us({step:f})}else de(XK(s));else if(ip(e)){const f=e===_u?"x":"y";if(t.getScaleComponent(f).get("type")==="band"){const g=vZ(a,o);if(g)return us(g)}}}const{rangeMin:l,rangeMax:u}=n,c=eWe(e,t);return(l!==void 0||u!==void 0)&&G6(o,"rangeMin")&&ie(c)&&c.length===2?us([l??c[0],u??c[1]]):di(c)}function ZHe(e){return fje(e)?{scheme:e.name,...Xr(e,["name"])}:{scheme:e}}function eWe(e,t){const{size:n,config:r,mark:i,encoding:o}=t,s=t.getSignalName.bind(t),{type:a}=bn(o[e]),u=t.getScaleComponent(e).get("type"),{domain:c,domainMid:f}=t.specifiedScales[e];switch(e){case Ht:case Pn:{if(st(["point","band"],u)){const g=bZ(e,n,r.view);if(js(g))return{step:yZ(g,t,e)}}const h=ii(e),p=t.getName(h);return e===Pn&&Ti(u)?[Jr.fromName(s,p),0]:[0,Jr.fromName(s,p)]}case _u:case rp:return tWe(e,t,u);case Ga:{const h=t.component.scales[e].get("zero"),p=xZ(i,h,r),g=iWe(i,n,t,r);return bh(u)?rWe(p,g,nWe(u,r,c,e)):[p,g]}case Zi:return[0,Math.PI*2];case Ef:return[0,360];case Jo:return[0,new Jr(()=>{const h=t.getSignalName("width"),p=t.getSignalName("height");return`min(${h},${p})/2`})];case $u:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case Cu:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case ri:return"symbol";case ni:case Xs:case Ks:return u==="ordinal"?a==="nominal"?"category":"ordinal":f!==void 0?"diverging":i==="rect"||i==="geoshape"?"heatmap":"ramp";case Ya:case Eu:case Su:return[r.scale.minOpacity,r.scale.maxOpacity]}}function yZ(e,t,n){const{encoding:r}=t,i=t.getScaleComponent(n),o=Mk(n),s=r[o];if(sQ({step:e,offsetIsDiscrete:We(s)&&uJ(s.type)})==="offset"&&UJ(r,o)){const l=t.getScaleComponent(o);let c=`domain('${t.scaleName(o)}').length`;if(l.get("type")==="band"){const h=l.get("paddingInner")??l.get("padding")??0,p=l.get("paddingOuter")??l.get("padding")??0;c=`bandspace(${c}, ${h}, ${p})`}const f=i.get("paddingInner")??i.get("padding");return{signal:`${e.step} * ${c} / (1-${Oze(f)})`}}else return e.step}function vZ(e,t){if(sQ({step:e,offsetIsDiscrete:Dn(t)})==="offset")return{step:e.step}}function tWe(e,t,n){const r=e===_u?"x":"y",o=t.getScaleComponent(r).get("type"),s=t.scaleName(r);if(o==="band"){const a=bZ(r,t.size,t.config.view);if(js(a)){const l=vZ(a,n);if(l)return l}return[0,{signal:`bandwidth('${s}')`}]}else{const a=t.encoding[r];if(ge(a)&&a.timeUnit){const l=oJ(a.timeUnit,c=>`scale('${s}', ${c})`),u=t.config.scale.bandWithNestedOffsetPaddingInner;if(u){const c=Ne(u)?`${u.signal}/2`:`${u/2}`,f=Ne(u)?`(1 - ${u.signal}/2)`:`${1-u/2}`;return[{signal:`${c} * (${l})`},{signal:`${f} * (${l})`}]}return[0,{signal:l}]}return pK(`Cannot use ${e} scale if ${r} scale is not discrete.`)}}function bZ(e,t,n){const r=e===Ht?"width":"height",i=t[r];return i||Qb(n,r)}function nWe(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return n!==void 0&&ie(n)?n.length+1:(de(PBe(r)),3)}}function rWe(e,t,n){const r=()=>{const i=wo(t),o=wo(e),s=`(${i} - ${o}) / (${n} - 1)`;return`sequence(${o}, ${i} + ${s}, ${s})`};return Ne(t)?new Jr(r):{signal:r()}}function xZ(e,t,n){if(t)return Ne(t)?{signal:`${t.signal} ? 0 : ${xZ(e,!1,n)}`}:0;switch(e){case"bar":case"tick":return n.scale.minBandSize;case"line":case"trail":case"rule":return n.scale.minStrokeWidth;case"text":return n.scale.minFontSize;case"point":case"square":case"circle":return n.scale.minSize}throw new Error(Sw("size",e))}const GP=.95;function iWe(e,t,n,r){const i={x:WP(n,"x"),y:WP(n,"y")};switch(e){case"bar":case"tick":{if(r.scale.maxBandSize!==void 0)return r.scale.maxBandSize;const o=YP(t,i,r.view);return St(o)?o-1:new Jr(()=>`${o.signal} - 1`)}case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":{if(r.scale.maxSize)return r.scale.maxSize;const o=YP(t,i,r.view);return St(o)?Math.pow(GP*o,2):new Jr(()=>`pow(${GP} * ${o.signal}, 2)`)}}throw new Error(Sw("size",e))}function YP(e,t,n){const r=js(e.width)?e.width.step:Jb(n,"width"),i=js(e.height)?e.height.step:Jb(n,"height");return t.x||t.y?new Jr(()=>`min(${[t.x?t.x.signal:r,t.y?t.y.signal:i].join(", ")})`):Math.min(r,i)}function wZ(e,t){Zt(e)?oWe(e,t):EZ(e,t)}function oWe(e,t){const n=e.component.scales,{config:r,encoding:i,markDef:o,specifiedScales:s}=e;for(const a of le(n)){const l=s[a],u=n[a],c=e.getScaleComponent(a),f=bn(i[a]),h=l[t],p=c.get("type"),g=c.get("padding"),m=c.get("paddingInner"),y=G6(p,t),v=gJ(a,t);if(h!==void 0&&(y?v&&de(v):de(YK(p,t,a))),y&&v===void 0)if(h!==void 0){const b=f.timeUnit,x=f.type;switch(t){case"domainMax":case"domainMin":Cf(l[t])||x==="temporal"||b?u.set(t,{signal:Pw(l[t],{type:x,timeUnit:b})},!0):u.set(t,l[t],!0);break;default:u.copyKeyFromObject(t,l)}}else{const b=t in XP?XP[t]({model:e,channel:a,fieldOrDatumDef:f,scaleType:p,scalePadding:g,scalePaddingInner:m,domain:l.domain,domainMin:l.domainMin,domainMax:l.domainMax,markDef:o,config:r,hasNestedOffsetScale:X6(i,a),hasSecondaryRangeChannel:!!i[Js(a)]}):r.scale[t];b!==void 0&&u.set(t,b,!1)}}}const XP={bins:({model:e,fieldOrDatumDef:t})=>ge(t)?sWe(e,t):void 0,interpolate:({channel:e,fieldOrDatumDef:t})=>aWe(e,t.type),nice:({scaleType:e,channel:t,domain:n,domainMin:r,domainMax:i,fieldOrDatumDef:o})=>lWe(e,t,n,r,i,o),padding:({channel:e,scaleType:t,fieldOrDatumDef:n,markDef:r,config:i})=>uWe(e,t,i.scale,n,r,i.bar),paddingInner:({scalePadding:e,channel:t,markDef:n,scaleType:r,config:i,hasNestedOffsetScale:o})=>cWe(e,t,n.type,r,i.scale,o),paddingOuter:({scalePadding:e,channel:t,scaleType:n,scalePaddingInner:r,config:i,hasNestedOffsetScale:o})=>fWe(e,t,n,r,i.scale,o),reverse:({fieldOrDatumDef:e,scaleType:t,channel:n,config:r})=>{const i=ge(e)?e.sort:void 0;return dWe(t,i,n,r.scale)},zero:({channel:e,fieldOrDatumDef:t,domain:n,markDef:r,scaleType:i,config:o,hasSecondaryRangeChannel:s})=>hWe(e,t,n,r,i,o.scale,s)};function _Z(e){Zt(e)?JHe(e):EZ(e,"range")}function EZ(e,t){const n=e.component.scales;for(const r of e.children)t==="range"?_Z(r):wZ(r,t);for(const r of le(n)){let i;for(const o of e.children){const s=o.component.scales[r];if(s){const a=s.getWithExplicit(t);i=uu(i,a,t,"scale",vQ((l,u)=>{switch(t){case"range":return l.step&&u.step?l.step-u.step:0}return 0}))}}n[r].setWithExplicit(t,i)}}function sWe(e,t){const n=t.bin;if(Pt(n)){const r=OM(e,t.field,n);return new Jr(()=>e.getSignalName(r))}else if(zn(n)&&$f(n)&&n.step!==void 0)return{step:n.step}}function aWe(e,t){if(st([ni,Xs,Ks],e)&&t!=="nominal")return"hcl"}function lWe(e,t,n,r,i,o){var s;if(!((s=Bs(o))!=null&&s.bin||ie(n)||i!=null||r!=null||st([Kr.TIME,Kr.UTC],e)))return In(t)?!0:void 0}function uWe(e,t,n,r,i,o){if(In(e)){if(_o(t)){if(n.continuousPadding!==void 0)return n.continuousPadding;const{type:s,orient:a}=i;if(s==="bar"&&!(ge(r)&&(r.bin||r.timeUnit))&&(a==="vertical"&&e==="x"||a==="horizontal"&&e==="y"))return o.continuousBandSize}if(t===Kr.POINT)return n.pointPadding}}function cWe(e,t,n,r,i,o=!1){if(e===void 0){if(In(t)){const{bandPaddingInner:s,barBandPaddingInner:a,rectBandPaddingInner:l,bandWithNestedOffsetPaddingInner:u}=i;return o?u:an(s,n==="bar"?a:l)}else if(ip(t)&&r===Kr.BAND)return i.offsetBandPaddingInner}}function fWe(e,t,n,r,i,o=!1){if(e===void 0){if(In(t)){const{bandPaddingOuter:s,bandWithNestedOffsetPaddingOuter:a}=i;if(o)return a;if(n===Kr.BAND)return an(s,Ne(r)?{signal:`${r.signal}/2`}:r/2)}else if(ip(t)){if(n===Kr.POINT)return .5;if(n===Kr.BAND)return i.offsetBandPaddingOuter}}}function dWe(e,t,n,r){if(n==="x"&&r.xReverse!==void 0)return Ti(e)&&t==="descending"?Ne(r.xReverse)?{signal:`!${r.xReverse.signal}`}:!r.xReverse:r.xReverse;if(Ti(e)&&t==="descending")return!0}function hWe(e,t,n,r,i,o,s){if(!!n&&n!=="unaggregated"&&Ti(i)){if(ie(n)){const l=n[0],u=n[n.length-1];if(l<=0&&u>=0)return!0}return!1}if(e==="size"&&t.type==="quantitative"&&!bh(i))return!0;if(!(ge(t)&&t.bin)&&st([...Qs,...hze],e)){const{orient:l,type:u}=r;return st(["bar","area","line","trail"],u)&&(l==="horizontal"&&e==="y"||l==="vertical"&&e==="x")?!1:st(["bar","area"],u)&&!s?!0:o==null?void 0:o.zero}return!1}function pWe(e,t,n,r,i=!1){const o=gWe(t,n,r,i),{type:s}=e;return Xa(t)?s!==void 0?vje(t,s)?ge(n)&&!yje(s,n.type)?(de(bBe(s,o)),o):s:(de(vBe(t,s,o)),o):o:null}function gWe(e,t,n,r){var i;switch(t.type){case"nominal":case"ordinal":{if(kd(e)||Y3(e)==="discrete")return e==="shape"&&t.type==="ordinal"&&de(X3(e,"ordinal")),"ordinal";if(In(e)||ip(e)){if(st(["rect","bar","image","rule"],n.type)||r)return"band"}else if(n.type==="arc"&&e in Fk)return"band";const o=n[ii(e)];return Qc(o)||wh(t)&&((i=t.axis)!=null&&i.tickBand)?"band":"point"}case"temporal":return kd(e)?"time":Y3(e)==="discrete"?(de(X3(e,"temporal")),"ordinal"):ge(t)&&t.timeUnit&&Nn(t.timeUnit).utc?"utc":"time";case"quantitative":return kd(e)?ge(t)&&Pt(t.bin)?"bin-ordinal":"linear":Y3(e)==="discrete"?(de(X3(e,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(WK(t.type))}function mWe(e,{ignoreRange:t}={}){SZ(e),pZ(e);for(const n of mje)wZ(e,n);t||_Z(e)}function SZ(e){Zt(e)?e.component.scales=yWe(e):e.component.scales=bWe(e)}function yWe(e){const{encoding:t,mark:n,markDef:r}=e,i={};for(const o of _w){const s=bn(t[o]);if(s&&n===vJ&&o===ri&&s.type===op)continue;let a=s&&s.scale;if(ip(o)){const l=TK(o);if(!X6(t,l)){a&&de(iBe(o));continue}}if(s&&a!==null&&a!==!1){a??(a={});const l=X6(t,o),u=pWe(a,o,s,r,l);i[o]=new mZ(e.scaleName(`${o}`,!0),{value:u,explicit:a.type===u})}}return i}const vWe=vQ((e,t)=>rP(e)-rP(t));function bWe(e){var t;const n=e.component.scales={},r={},i=e.component.resolve;for(const o of e.children){SZ(o);for(const s of le(o.component.scales))if((t=i.scale)[s]??(t[s]=tZ(s,e)),i.scale[s]==="shared"){const a=r[s],l=o.component.scales[s].getWithExplicit("type");a?sje(a.value,l.value)?r[s]=uu(a,l,"type","scale",vWe):(i.scale[s]="independent",delete r[s]):r[s]=l}}for(const o of le(r)){const s=e.scaleName(o,!0),a=r[o];n[o]=new mZ(s,a);for(const l of e.children){const u=l.component.scales[o];u&&(l.renameScale(u.get("name"),s),u.merged=!0)}}return n}class iE{constructor(){this.nameMap={}}rename(t,n){this.nameMap[t]=n}has(t){return this.nameMap[t]!==void 0}get(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t}}function Zt(e){return(e==null?void 0:e.type)==="unit"}function Mo(e){return(e==null?void 0:e.type)==="facet"}function IM(e){return(e==null?void 0:e.type)==="concat"}function cp(e){return(e==null?void 0:e.type)==="layer"}class DM{constructor(t,n,r,i,o,s,a){this.type=n,this.parent=r,this.config=o,this.correctDataNames=l=>{var u,c,f;return(u=l.from)!=null&&u.data&&(l.from.data=this.lookupDataSource(l.from.data)),(f=(c=l.from)==null?void 0:c.facet)!=null&&f.data&&(l.from.facet.data=this.lookupDataSource(l.from.facet.data)),l},this.parent=r,this.config=o,this.view=Ur(a),this.name=t.name??i,this.title=pl(t.title)?{text:t.title}:t.title?Ur(t.title):void 0,this.scaleNameMap=r?r.scaleNameMap:new iE,this.projectionNameMap=r?r.projectionNameMap:new iE,this.signalNameMap=r?r.signalNameMap:new iE,this.data=t.data,this.description=t.description,this.transforms=Cqe(t.transform??[]),this.layout=n==="layer"||n==="unit"?{}:RUe(t,n,o),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:Ow(t)||(r==null?void 0:r.component.data.isFaceted)&&t.data===void 0},layoutSize:new Ja,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...s?He(s):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){mWe(this)}parseProjection(){fZ(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){sZ(this)}assembleEncodeFromView(t){const{style:n,...r}=t,i={};for(const o of le(r)){const s=r[o];s!==void 0&&(i[o]=Bt(s))}return i}assembleGroupEncodeEntry(t){let n={};return this.view&&(n=this.assembleEncodeFromView(this.view)),!t&&(this.description&&(n.description=Bt(this.description)),this.type==="unit"||this.type==="layer")?{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...n??{}}:Ct(n)?void 0:n}assembleLayout(){if(!this.layout)return;const{spacing:t,...n}=this.layout,{component:r,config:i}=this,o=BVe(r.layoutHeaders,i);return{padding:t,...this.assembleDefaultLayout(),...n,...o?{titleBand:o}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:t}=this.component;let n=[];for(const r of zi)t[r].title&&n.push(RVe(this,r));for(const r of AM)n=n.concat(PVe(this,r));return n}assembleAxes(){return wVe(this.component.axes,this.config)}assembleLegends(){return lZ(this)}assembleProjections(){return uHe(this)}assembleTitle(){const{encoding:t,...n}=this.title??{},r={...DK(this.config.title).nonMarkTitleProperties,...n,...t?{encode:{update:t}}:{}};if(r.text)return st(["unit","layer"],this.type)?st(["middle",void 0],r.anchor)&&(r.frame??(r.frame="group")):r.anchor??(r.anchor="start"),Ct(r)?void 0:r}assembleGroup(t=[]){const n={};t=t.concat(this.assembleSignals()),t.length>0&&(n.signals=t);const r=this.assembleLayout();r&&(n.layout=r),n.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const i=!this.parent||Mo(this.parent)?gZ(this):[];i.length>0&&(n.scales=i);const o=this.assembleAxes();o.length>0&&(n.axes=o);const s=this.assembleLegends();return s.length>0&&(n.legends=s),n}getName(t){return Vt((this.name?`${this.name}_`:"")+t)}getDataName(t){return this.getName(Nt[t].toLowerCase())}requestDataName(t){const n=this.getDataName(t),r=this.component.data.outputNodeRefCounts;return r[n]=(r[n]||0)+1,n}getSizeSignalRef(t){if(Mo(this.parent)){const n=ZQ(t),r=ww(n),i=this.component.scales[r];if(i&&!i.merged){const o=i.get("type"),s=i.get("range");if(Dn(o)&&ku(s)){const a=i.get("name"),l=Hw(this,r),u=PM(l);if(u){const c=we({aggregate:"distinct",field:u},{expr:"datum"});return{signal:QQ(a,i,c)}}else return de(Pk(r)),null}}}return{signal:this.signalNameMap.get(this.getName(t))}}lookupDataSource(t){const n=this.component.data.outputNodes[t];return n?n.getSource():t}getSignalName(t){return this.signalNameMap.get(t)}renameSignal(t,n){this.signalNameMap.rename(t,n)}renameScale(t,n){this.scaleNameMap.rename(t,n)}renameProjection(t,n){this.projectionNameMap.rename(t,n)}scaleName(t,n){if(n)return this.getName(t);if(AK(t)&&Xa(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t)))return this.scaleNameMap.get(this.getName(t))}projectionName(t){if(t)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const n=this.component.scales[t];return n&&!n.merged?n:this.parent?this.parent.getScaleComponent(t):void 0}getSelectionComponent(t,n){let r=this.component.selection[t];if(!r&&this.parent&&(r=this.parent.getSelectionComponent(t,n)),!r)throw new Error(Ize(n));return r}hasAxisOrientSignalRef(){var t,n;return((t=this.component.axes.x)==null?void 0:t.some(r=>r.hasOrientSignalRef()))||((n=this.component.axes.y)==null?void 0:n.some(r=>r.hasOrientSignalRef()))}}class $Z extends DM{vgField(t,n={}){const r=this.fieldDef(t);if(r)return we(r,n)}reduceFieldDef(t,n){return uUe(this.getMapping(),(r,i,o)=>{const s=Bs(i);return s?t(r,s,o):r},n)}forEachFieldDef(t,n){uM(this.getMapping(),(r,i)=>{const o=Bs(r);o&&t(o,i)},n)}}class Ww extends $t{clone(){return new Ww(null,He(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=He(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"value",r[1]??"density"],n.groupby&&n.minsteps==null&&n.maxsteps==null&&n.steps==null&&(this.transform.steps=200)}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${ot(this.transform)}`}assemble(){const{density:t,...n}=this.transform;return{type:"kde",field:t,...n}}}class Gw extends $t{clone(){return new Gw(null,He(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=He(n)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${ot(this.transform)}`}assemble(){const{extent:t,param:n}=this.transform;return{type:"extent",field:t,signal:n}}}class X0 extends $t{clone(){return new X0(null,{...this.filter})}constructor(t,n){super(t),this.filter=n}static make(t,n){const{config:r,mark:i,markDef:o}=n;if(wt("invalid",o,r)!=="filter")return null;const a=n.reduceFieldDef((l,u,c)=>{const f=Xa(c)&&n.getScaleComponent(c);if(f){const h=f.get("type");Ti(h)&&u.aggregate!=="count"&&!Mu(i)&&(l[u.field]=u)}return l},{});return le(a).length?new X0(t,a):null}dependentFields(){return new Set(le(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${ot(this.filter)}`}assemble(){const t=le(this.filter).reduce((n,r)=>{const i=this.filter[r],o=we(i,{expr:"datum"});return i!==null&&(i.type==="temporal"?n.push(`(isDate(${o}) || (isValid(${o}) && isFinite(+${o})))`):i.type==="quantitative"&&(n.push(`isValid(${o})`),n.push(`isFinite(+${o})`))),n},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}class Yw extends $t{clone(){return new Yw(this.parent,He(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=He(n);const{flatten:r,as:i=[]}=this.transform;this.transform.as=r.map((o,s)=>i[s]??o)}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${ot(this.transform)}`}assemble(){const{flatten:t,as:n}=this.transform;return{type:"flatten",fields:t,as:n}}}class Xw extends $t{clone(){return new Xw(null,He(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=He(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"key",r[1]??"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${ot(this.transform)}`}assemble(){const{fold:t,as:n}=this.transform;return{type:"fold",fields:t,as:n}}}class Od extends $t{clone(){return new Od(null,He(this.fields),this.geojson,this.signal)}static parseAll(t,n){if(n.component.projection&&!n.component.projection.isFit)return t;let r=0;for(const i of[[Zo,Qo],[Ki,es]]){const o=i.map(s=>{const a=bn(n.encoding[s]);return ge(a)?a.field:Zs(a)?{expr:`${a.datum}`}:zo(a)?{expr:`${a.value}`}:void 0});(o[0]||o[1])&&(t=new Od(t,o,null,n.getName(`geojson_${r++}`)))}if(n.channelHasField(ri)){const i=n.typedFieldDef(ri);i.type===op&&(t=new Od(t,null,i.field,n.getName(`geojson_${r++}`)))}return t}constructor(t,n,r,i){super(t),this.fields=n,this.geojson=r,this.signal=i}dependentFields(){const t=(this.fields??[]).filter(Ee);return new Set([...this.geojson?[this.geojson]:[],...t])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${ot(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class K0 extends $t{clone(){return new K0(null,this.projection,He(this.fields),He(this.as))}constructor(t,n,r,i){super(t),this.projection=n,this.fields=r,this.as=i}static parseAll(t,n){if(!n.projectionName())return t;for(const r of[[Zo,Qo],[Ki,es]]){const i=r.map(s=>{const a=bn(n.encoding[s]);return ge(a)?a.field:Zs(a)?{expr:`${a.datum}`}:zo(a)?{expr:`${a.value}`}:void 0}),o=r[0]===Ki?"2":"";(i[0]||i[1])&&(t=new K0(t,n.projectionName(),i,[n.getName(`x${o}`),n.getName(`y${o}`)]))}return t}dependentFields(){return new Set(this.fields.filter(Ee))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${ot(this.fields)} ${ot(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class Cc extends $t{clone(){return new Cc(null,He(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(t){const{start:n=0,stop:r,step:i}=t;return{signal:`sequence(${[n,r,...i?[i]:[]].join(",")})`}}static makeFromTransform(t,n){return new Cc(t,n)}static makeFromEncoding(t,n){const r=n.encoding,i=r.x,o=r.y;if(ge(i)&&ge(o)){const s=i.impute?i:o.impute?o:void 0;if(s===void 0)return;const a=i.impute?o:o.impute?i:void 0,{method:l,value:u,frame:c,keyvals:f}=s.impute,h=VJ(n.mark,r);return new Cc(t,{impute:s.field,key:a.field,...l?{method:l}:{},...u!==void 0?{value:u}:{},...c?{frame:c}:{},...f!==void 0?{keyvals:f}:{},...h.length?{groupby:h}:{}})}return null}hash(){return`Impute ${ot(this.transform)}`}assemble(){const{impute:t,key:n,keyvals:r,method:i,groupby:o,value:s,frame:a=[null,null]}=this.transform,l={type:"impute",field:t,key:n,...r?{keyvals:aqe(r)?this.processSequence(r):r}:{},method:"value",...o?{groupby:o}:{},value:!i||i==="value"?s:null};if(i&&i!=="value"){const u={type:"window",as:[`imputed_${t}_value`],ops:[i],fields:[t],frame:a,ignorePeers:!1,...o?{groupby:o}:{}},c={type:"formula",expr:`datum.${t} === null ? datum.imputed_${t}_value : datum.${t}`,as:t};return[l,u,c]}else return[l]}}class Kw extends $t{clone(){return new Kw(null,He(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=He(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.loess]}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${ot(this.transform)}`}assemble(){const{loess:t,on:n,...r}=this.transform;return{type:"loess",x:n,y:t,...r}}}class J0 extends $t{clone(){return new J0(null,He(this.transform),this.secondary)}constructor(t,n,r){super(t),this.transform=n,this.secondary=r}static make(t,n,r,i){const o=n.component.data.sources,{from:s}=r;let a=null;if(lqe(s)){let l=kZ(s.data,o);l||(l=new nf(s.data),o.push(l));const u=n.getName(`lookup_${i}`);a=new Mr(l,u,Nt.Lookup,n.component.data.outputNodeRefCounts),n.component.data.outputNodes[u]=a}else if(uqe(s)){const l=s.param;r={as:l,...r};let u;try{u=n.getSelectionComponent(Vt(l),l)}catch{throw new Error(zze(l))}if(a=u.materialized,!a)throw new Error(Bze(l))}return new J0(t,r,a.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?$e(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${ot({transform:this.transform,secondary:this.secondary})}`}assemble(){let t;if(this.transform.from.fields)t={values:this.transform.from.fields,...this.transform.as?{as:$e(this.transform.as)}:{}};else{let n=this.transform.as;Ee(n)||(de(Yze),n="_lookup"),t={as:[n]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...t,...this.transform.default?{default:this.transform.default}:{}}}}class Jw extends $t{clone(){return new Jw(null,He(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=He(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"prob",r[1]??"value"]}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${ot(this.transform)}`}assemble(){const{quantile:t,...n}=this.transform;return{type:"quantile",field:t,...n}}}class Qw extends $t{clone(){return new Qw(null,He(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=He(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.regression]}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${ot(this.transform)}`}assemble(){const{regression:t,on:n,...r}=this.transform;return{type:"regression",x:n,y:t,...r}}}class Zw extends $t{clone(){return new Zw(null,He(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=bs((this.transform.groupby??[]).concat(t),n=>n)}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${ot(this.transform)}`}assemble(){const{pivot:t,value:n,groupby:r,limit:i,op:o}=this.transform;return{type:"pivot",field:t,value:n,...i!==void 0?{limit:i}:{},...o!==void 0?{op:o}:{},...r!==void 0?{groupby:r}:{}}}}class e_ extends $t{clone(){return new e_(null,He(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${ot(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function CZ(e){let t=0;function n(r,i){if(r instanceof nf&&!r.isGenerator&&!Eh(r.data)&&(e.push(i),i={name:null,source:i.name,transform:[]}),r instanceof ur&&(r.parent instanceof nf&&!i.source?(i.format={...i.format??{},parse:r.assembleFormatParse()},i.transform.push(...r.assembleTransforms(!0))):i.transform.push(...r.assembleTransforms())),r instanceof lp){i.name||(i.name=`data_${t++}`),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,e.push(...r.assemble());return}switch((r instanceof p1||r instanceof g1||r instanceof X0||r instanceof ap||r instanceof $h||r instanceof K0||r instanceof ko||r instanceof J0||r instanceof up||r instanceof Tf||r instanceof Xw||r instanceof Yw||r instanceof Ww||r instanceof Kw||r instanceof Jw||r instanceof Qw||r instanceof du||r instanceof e_||r instanceof Zw||r instanceof Gw)&&i.transform.push(r.assemble()),(r instanceof Ms||r instanceof ks||r instanceof Cc||r instanceof ka||r instanceof Od)&&i.transform.push(...r.assemble()),r instanceof Mr&&(i.source&&i.transform.length===0?r.setSource(i.source):r.parent instanceof Mr?r.setSource(i.name):(i.name||(i.name=`data_${t++}`),r.setSource(i.name),r.numChildren()===1&&(e.push(i),i={name:null,source:i.name,transform:[]}))),r.numChildren()){case 0:r instanceof Mr&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:{i.name||(i.name=`data_${t++}`);let o=i.name;!i.source||i.transform.length>0?e.push(i):o=i.source;for(const s of r.children)n(s,{name:null,source:o,transform:[]});break}}}return n}function xWe(e){const t=[],n=CZ(t);for(const r of e.children)n(r,{source:e.name,name:null,transform:[]});return t}function wWe(e,t){const n=[],r=CZ(n);let i=0;for(const s of e.sources){s.hasName()||(s.dataName=`source_${i++}`);const a=s.assemble();r(s,a)}for(const s of n)s.transform.length===0&&delete s.transform;let o=0;for(const[s,a]of n.entries())(a.transform??[]).length===0&&!a.source&&n.splice(o++,0,n.splice(s,1)[0]);for(const s of n)for(const a of s.transform??[])a.type==="lookup"&&(a.from=e.outputNodes[a.from].getSource());for(const s of n)s.name in t&&(s.values=t[s.name]);return n}function _We(e){return e==="top"||e==="left"||Ne(e)?"header":"footer"}function EWe(e){for(const t of zi)SWe(e,t);KP(e,"x"),KP(e,"y")}function SWe(e,t){var s;const{facet:n,config:r,child:i,component:o}=e;if(e.channelHasField(t)){const a=n[t],l=Ah("title",null,r,t);let u=Md(a,r,{allowDisabling:!0,includeDefault:l===void 0||!!l});i.component.layoutHeaders[t].title&&(u=ie(u)?u.join(", "):u,u+=` / ${i.component.layoutHeaders[t].title}`,i.component.layoutHeaders[t].title=null);const c=Ah("labelOrient",a.header,r,t),f=a.header!==null?an((s=a.header)==null?void 0:s.labels,r.header.labels,!0):!1,h=st(["bottom","right"],c)?"footer":"header";o.layoutHeaders[t]={title:a.header!==null?u:null,facetFieldDef:a,[h]:t==="facet"?[]:[AZ(e,t,f)]}}}function AZ(e,t,n){const r=t==="row"?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function KP(e,t){const{child:n}=e;if(n.component.axes[t]){const{layoutHeaders:r,resolve:i}=e.component;if(i.axis[t]=TM(i,t),i.axis[t]==="shared"){const o=t==="x"?"column":"row",s=r[o];for(const a of n.component.axes[t]){const l=_We(a.get("orient"));s[l]??(s[l]=[AZ(e,o,!1)]);const u=yg(a,"main",e.config,{header:!0});u&&s[l][0].axes.push(u),a.mainExtracted=!0}}}}function $We(e){LM(e),n2(e,"width"),n2(e,"height")}function CWe(e){LM(e);const t=e.layout.columns===1?"width":"childWidth",n=e.layout.columns===void 0?"height":"childHeight";n2(e,t),n2(e,n)}function LM(e){for(const t of e.children)t.parseLayoutSize()}function n2(e,t){const n=ZQ(t),r=ww(n),i=e.component.resolve,o=e.component.layoutSize;let s;for(const a of e.children){const l=a.component.layoutSize.getWithExplicit(n),u=i.scale[r]??tZ(r,e);if(u==="independent"&&l.value==="step"){s=void 0;break}if(s){if(u==="independent"&&s.value!==l.value){s=void 0;break}s=uu(s,l,n,"")}else s=l}if(s){for(const a of e.children)e.renameSignal(a.getName(n),e.getName(t)),a.component.layoutSize.set(n,"merged",!1);o.setWithExplicit(t,s)}else o.setWithExplicit(t,{explicit:!1,value:void 0})}function AWe(e){const{size:t,component:n}=e;for(const r of Qs){const i=ii(r);if(t[i]){const o=t[i];n.layoutSize.set(i,js(o)?"step":o,!0)}else{const o=kWe(e,i);n.layoutSize.set(i,o,!1)}}}function kWe(e,t){const n=t==="width"?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){const o=i.get("type"),s=i.get("range");if(Dn(o)){const a=Qb(r.view,t);return ku(s)||js(a)?"step":a}else return J6(r.view,t)}else{if(e.hasProjection||e.mark==="arc")return J6(r.view,t);{const o=Qb(r.view,t);return js(o)?o.step:o}}}function f4(e,t,n){return we(t,{suffix:`by_${we(e)}`,...n??{}})}class Hg extends $Z{constructor(t,n,r,i){super(t,"facet",n,r,i,t.resolve),this.child=qM(t.spec,this,this.getName("child"),void 0,i),this.children=[this.child],this.facet=this.initFacet(t.facet)}initFacet(t){if(!u1(t))return{facet:this.initFacetFieldDef(t,"facet")};const n=le(t),r={};for(const i of n){if(![$a,Ca].includes(i)){de(Sw(i,"facet"));break}const o=t[i];if(o.field===void 0){de(H6(o,i));break}r[i]=this.initFacetFieldDef(o,i)}return r}initFacetFieldDef(t,n){const r=aM(t,n);return r.header?r.header=Ur(r.header):r.header===null&&(r.header=null),r}channelHasField(t){return!!this.facet[t]}fieldDef(t){return this.facet[t]}parseData(){this.component.data=t_(this),this.child.parseData()}parseLayoutSize(){LM(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),EWe(this)}assembleSelectionTopLevelSignals(t){return this.child.assembleSelectionTopLevelSignals(t)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(t){return this.child.assembleSelectionData(t)}getHeaderLayoutMixins(){const t={};for(const n of zi)for(const r of kM){const i=this.component.layoutHeaders[n],o=i[r],{facetFieldDef:s}=i;if(s){const a=Ah("titleOrient",s.header,this.config,n);if(["right","bottom"].includes(a)){const l=qw(n,a);t.titleAnchor??(t.titleAnchor={}),t.titleAnchor[l]="end"}}if(o!=null&&o[0]){const a=n==="row"?"height":"width",l=r==="header"?"headerBand":"footerBand";n!=="facet"&&!this.child.component.layoutSize.get(a)&&(t[l]??(t[l]={}),t[l][n]=.5),i.title&&(t.offset??(t.offset={}),t.offset[n==="row"?"rowTitle":"columnTitle"]=10)}}return t}assembleDefaultLayout(){const{column:t,row:n}=this.facet,r=t?this.columnDistinctSignal():n?1:void 0;let i="all";return(!n&&this.component.resolve.scale.x==="independent"||!t&&this.component.resolve.scale.y==="independent")&&(i="none"),{...this.getHeaderLayoutMixins(),...r?{columns:r}:{},bounds:"full",align:i}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof Hg))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(t){return this.parent&&this.parent instanceof Hg?{...this.channelHasField("column")?{encode:{update:{columns:{field:we(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(t)}:super.assembleGroup(t)}getCardinalityAggregateForChild(){const t=[],n=[],r=[];if(this.child instanceof Hg){if(this.child.channelHasField("column")){const i=we(this.child.facet.column);t.push(i),n.push("distinct"),r.push(`distinct_${i}`)}}else for(const i of Qs){const o=this.child.component.scales[i];if(o&&!o.merged){const s=o.get("type"),a=o.get("range");if(Dn(s)&&ku(a)){const l=Hw(this.child,i),u=PM(l);u?(t.push(u),n.push("distinct"),r.push(`distinct_${u}`)):de(Pk(i))}}}return{fields:t,ops:n,as:r}}assembleFacet(){const{name:t,data:n}=this.component.data.facetRoot,{row:r,column:i}=this.facet,{fields:o,ops:s,as:a}=this.getCardinalityAggregateForChild(),l=[];for(const c of zi){const f=this.facet[c];if(f){l.push(we(f));const{bin:h,sort:p}=f;if(Pt(h)&&l.push(we(f,{binSuffix:"end"})),As(p)){const{field:g,op:m=Tw}=p,y=f4(f,p);r&&i?(o.push(y),s.push("max"),a.push(y)):(o.push(g),s.push(m),a.push(y))}else if(ie(p)){const g=Ch(f,c);o.push(g),s.push("max"),a.push(g)}}}const u=!!r&&!!i;return{name:t,data:n,groupby:l,...u||o.length>0?{aggregate:{...u?{cross:u}:{},...o.length?{fields:o,ops:s,as:a}:{}}}:{}}}facetSortFields(t){const{facet:n}=this,r=n[t];return r?As(r.sort)?[f4(r,r.sort,{expr:"datum"})]:ie(r.sort)?[Ch(r,t,{expr:"datum"})]:[we(r,{expr:"datum"})]:[]}facetSortOrder(t){const{facet:n}=this,r=n[t];if(r){const{sort:i}=r;return[(As(i)?i.order:!ie(i)&&i)||"ascending"]}return[]}assembleLabelTitle(){var i;const{facet:t,config:n}=this;if(t.facet)return o4(t.facet,"facet",n);const r={row:["top","bottom"],column:["left","right"]};for(const o of AM)if(t[o]){const s=Ah("labelOrient",(i=t[o])==null?void 0:i.header,n,o);if(r[o].includes(s))return o4(t[o],o,n)}}assembleMarks(){const{child:t}=this,n=this.component.data.facetRoot,r=xWe(n),i=t.assembleGroupEncodeEntry(!1),o=this.assembleLabelTitle()||t.assembleTitle(),s=t.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...o?{title:o}:{},...s?{style:s}:{},from:{facet:this.assembleFacet()},sort:{field:zi.map(l=>this.facetSortFields(l)).flat(),order:zi.map(l=>this.facetSortOrder(l)).flat()},...r.length>0?{data:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup(zqe(this,[]))}]}getMapping(){return this.facet}}function MWe(e,t){const{row:n,column:r}=t;if(n&&r){let i=null;for(const o of[n,r])if(As(o.sort)){const{field:s,op:a=Tw}=o.sort;e=i=new Tf(e,{joinaggregate:[{op:a,field:s,as:f4(o,o.sort,{forAs:!0})}],groupby:[we(o)]})}return i}return null}function kZ(e,t){var n,r,i,o;for(const s of t){const a=s.data;if(e.name&&s.hasName()&&e.name!==s.dataName)continue;const l=(n=e.format)==null?void 0:n.mesh,u=(r=a.format)==null?void 0:r.feature;if(l&&u)continue;const c=(i=e.format)==null?void 0:i.feature;if((c||u)&&c!==u)continue;const f=(o=a.format)==null?void 0:o.mesh;if(!((l||f)&&l!==f)){if(Y0(e)&&Y0(a)){if(vs(e.values,a.values))return s}else if(Eh(e)&&Eh(a)){if(e.url===a.url)return s}else if(bQ(e)&&e.name===s.dataName)return s}}return null}function TWe(e,t){if(e.data||!e.parent){if(e.data===null){const r=new nf({values:[]});return t.push(r),r}const n=kZ(e.data,t);if(n)return jl(e.data)||(n.data.format=gK({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const r=new nf(e.data);return t.push(r),r}}else return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function OWe(e,t,n){let r=0;for(const i of t.transforms){let o,s;if(bqe(i))s=e=new $h(e,i),o="derived";else if(xM(i)){const a=_He(i);s=e=ur.makeWithAncestors(e,{},a,n)??e,e=new ap(e,t,i.filter)}else if(pQ(i))s=e=Ms.makeFromTransform(e,i,t),o="number";else if(wqe(i))o="date",n.getWithExplicit(i.field).value===void 0&&(e=new ur(e,{[i.field]:o}),n.set(i.field,o,!1)),s=e=ks.makeFromTransform(e,i);else if(_qe(i))s=e=ko.makeFromTransform(e,i),o="number",CM(t)&&(e=new du(e));else if(hQ(i))s=e=J0.make(e,t,i,r++),o="derived";else if(mqe(i))s=e=new up(e,i),o="number";else if(yqe(i))s=e=new Tf(e,i),o="number";else if(Eqe(i))s=e=ka.makeFromTransform(e,i),o="derived";else if(Sqe(i))s=e=new Xw(e,i),o="derived";else if($qe(i))s=e=new Gw(e,i),o="derived";else if(vqe(i))s=e=new Yw(e,i),o="derived";else if(cqe(i))s=e=new Zw(e,i),o="derived";else if(gqe(i))e=new e_(e,i);else if(xqe(i))s=e=Cc.makeFromTransform(e,i),o="derived";else if(fqe(i))s=e=new Ww(e,i),o="derived";else if(dqe(i))s=e=new Jw(e,i),o="derived";else if(hqe(i))s=e=new Qw(e,i),o="derived";else if(pqe(i))s=e=new Kw(e,i),o="derived";else{de(Gze(i));continue}if(s&&o!==void 0)for(const a of s.producedFields()??[])n.set(a,o,!1)}return e}function t_(e){var m;let t=TWe(e,e.component.data.sources);const{outputNodes:n,outputNodeRefCounts:r}=e.component.data,i=e.data,s=!(i&&(jl(i)||Eh(i)||Y0(i)))&&e.parent?e.parent.component.data.ancestorParse.clone():new Dqe;jl(i)?(xQ(i)?t=new g1(t,i.sequence):wM(i)&&(t=new p1(t,i.graticule)),s.parseNothing=!0):((m=i==null?void 0:i.format)==null?void 0:m.parse)===null&&(s.parseNothing=!0),t=ur.makeExplicit(t,e,s)??t,t=new du(t);const a=e.parent&&cp(e.parent);(Zt(e)||Mo(e))&&a&&(t=Ms.makeFromEncoding(t,e)??t),e.transforms.length>0&&(t=OWe(t,e,s));const l=SHe(e),u=EHe(e);t=ur.makeWithAncestors(t,{},{...l,...u},s)??t,Zt(e)&&(t=Od.parseAll(t,e),t=K0.parseAll(t,e)),(Zt(e)||Mo(e))&&(a||(t=Ms.makeFromEncoding(t,e)??t),t=ks.makeFromEncoding(t,e)??t,t=$h.parseAllForSortIndex(t,e));const c=e.getDataName(Nt.Raw),f=new Mr(t,c,Nt.Raw,r);if(n[c]=f,t=f,Zt(e)){const y=ko.makeFromEncoding(t,e);y&&(t=y,CM(e)&&(t=new du(t))),t=Cc.makeFromEncoding(t,e)??t,t=ka.makeFromEncoding(t,e)??t}Zt(e)&&(t=X0.make(t,e)??t);const h=e.getDataName(Nt.Main),p=new Mr(t,h,Nt.Main,r);n[h]=p,t=p,Zt(e)&&bVe(e,p);let g=null;if(Mo(e)){const y=e.getName("facet");t=MWe(t,e.facet)??t,g=new lp(t,e,y,p.getSource()),n[y]=g}return{...e.component.data,outputNodes:n,outputNodeRefCounts:r,raw:f,main:p,facetRoot:g,ancestorParse:s}}class FWe extends DM{constructor(t,n,r,i){var o,s,a,l;super(t,"concat",n,r,i,t.resolve),(((s=(o=t.resolve)==null?void 0:o.axis)==null?void 0:s.x)==="shared"||((l=(a=t.resolve)==null?void 0:a.axis)==null?void 0:l.y)==="shared")&&de(Vze),this.children=this.getChildren(t).map((u,c)=>qM(u,this,this.getName(`concat_${c}`),void 0,i))}parseData(){this.component.data=t_(this);for(const t of this.children)t.parseData()}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of le(t.component.selection))this.component.selection[n]=t.component.selection[n]}}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){for(const t of this.children)t.parseAxesAndHeaders()}getChildren(t){return Lw(t)?t.vconcat:vM(t)?t.hconcat:t.concat}parseLayoutSize(){CWe(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.forEach(t=>t.assembleSignals()),[]}assembleLayoutSignals(){const t=MM(this);for(const n of this.children)t.push(...n.assembleLayoutSignals());return t}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleMarks(){return this.children.map(t=>{const n=t.assembleTitle(),r=t.assembleGroupStyle(),i=t.assembleGroupEncodeEntry(!1);return{type:"group",name:t.getName("group"),...n?{title:n}:{},...r?{style:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup()}})}assembleGroupStyle(){}assembleDefaultLayout(){const t=this.layout.columns;return{...t!=null?{columns:t}:{},bounds:"full",align:"each"}}}function NWe(e){return e===!1||e===null}const RWe={disable:1,gridScale:1,scale:1,...BJ,labelExpr:1,encode:1},MZ=le(RWe);class zM extends Ja{constructor(t={},n={},r=!1){super(),this.explicit=t,this.implicit=n,this.mainExtracted=r}clone(){return new zM(He(this.explicit),He(this.implicit),this.mainExtracted)}hasAxisPart(t){return t==="axis"?!0:t==="grid"||t==="title"?!!this.get(t):!NWe(this.get(t))}hasOrientSignalRef(){return Ne(this.explicit.orient)}}function PWe(e,t,n){const{encoding:r,config:i}=e,o=bn(r[t])??bn(r[Js(t)]),s=e.axis(t)||{},{format:a,formatType:l}=s;if(Zc(l))return{text:Eo({fieldOrDatumDef:o,field:"datum.value",format:a,formatType:l,config:i}),...n};if(a===void 0&&l===void 0&&i.customFormatTypes){if(xh(o)==="quantitative"){if(wh(o)&&o.stack==="normalize"&&i.normalizedNumberFormatType)return{text:Eo({fieldOrDatumDef:o,field:"datum.value",format:i.normalizedNumberFormat,formatType:i.normalizedNumberFormatType,config:i}),...n};if(i.numberFormatType)return{text:Eo({fieldOrDatumDef:o,field:"datum.value",format:i.numberFormat,formatType:i.numberFormatType,config:i}),...n}}if(xh(o)==="temporal"&&i.timeFormatType&&ge(o)&&!o.timeUnit)return{text:Eo({fieldOrDatumDef:o,field:"datum.value",format:i.timeFormat,formatType:i.timeFormatType,config:i}),...n}}return n}function IWe(e){return Qs.reduce((t,n)=>(e.component.scales[n]&&(t[n]=[qWe(n,e)]),t),{})}const DWe={bottom:"top",top:"bottom",left:"right",right:"left"};function LWe(e){const{axes:t,resolve:n}=e.component,r={top:0,bottom:0,right:0,left:0};for(const i of e.children){i.parseAxesAndHeaders();for(const o of le(i.component.axes))n.axis[o]=TM(e.component.resolve,o),n.axis[o]==="shared"&&(t[o]=zWe(t[o],i.component.axes[o]),t[o]||(n.axis[o]="independent",delete t[o]))}for(const i of Qs){for(const o of e.children)if(o.component.axes[i]){if(n.axis[i]==="independent"){t[i]=(t[i]??[]).concat(o.component.axes[i]);for(const s of o.component.axes[i]){const{value:a,explicit:l}=s.getWithExplicit("orient");if(!Ne(a)){if(r[a]>0&&!l){const u=DWe[a];r[a]>r[u]&&s.set("orient",u,!1)}r[a]++}}}delete o.component.axes[i]}if(n.axis[i]==="independent"&&t[i]&&t[i].length>1)for(const[o,s]of(t[i]||[]).entries())o>0&&s.get("grid")&&!s.explicit.grid&&(s.implicit.grid=!1)}}function zWe(e,t){if(e){if(e.length!==t.length)return;const n=e.length;for(let r=0;r<n;r++){const i=e[r],o=t[r];if(!!i!=!!o)return;if(i&&o){const s=i.getWithExplicit("orient"),a=o.getWithExplicit("orient");if(s.explicit&&a.explicit&&s.value!==a.value)return;e[r]=BWe(i,o)}}}else return t.map(n=>n.clone());return e}function BWe(e,t){for(const n of MZ){const r=uu(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",(i,o)=>{switch(n){case"title":return VK(i,o);case"gridScale":return{explicit:i.explicit,value:an(i.value,o.value)}}return Bw(i,o,n,"axis")});e.setWithExplicit(n,r)}return e}function jWe(e,t,n,r,i){if(t==="disable")return n!==void 0;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(Ne(n.labelAngle)?n.labelAngle:G0(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===YQ(r,i))return!0}return e===n[t]}const UWe=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function qWe(e,t){var v,b;let n=t.axis(e);const r=new zM,i=bn(t.encoding[e]),{mark:o,config:s}=t,a=(n==null?void 0:n.orient)||((v=s[e==="x"?"axisX":"axisY"])==null?void 0:v.orient)||((b=s.axis)==null?void 0:b.orient)||MVe(e),l=t.getScaleComponent(e).get("type"),u=_Ve(e,l,a,t.config),c=n!==void 0?!n:r4("disable",s.style,n==null?void 0:n.style,u).configValue;if(r.set("disable",c,n!==void 0),c)return r;n=n||{};const f=CVe(i,n,e,s.style,u),h=SJ(n.formatType,i,l),p=EJ(i,i.type,n.format,n.formatType,s,!0),g={fieldOrDatumDef:i,axis:n,channel:e,model:t,scaleType:l,orient:a,labelAngle:f,format:p,formatType:h,mark:o,config:s};for(const x of MZ){const w=x in PP?PP[x](g):cP(x)?n[x]:void 0,_=w!==void 0,$=jWe(w,x,n,t,e);if(_&&$)r.set(x,w,$);else{const{configValue:S=void 0,configFrom:C=void 0}=cP(x)&&x!=="values"?r4(x,s.style,n.style,u):{},T=S!==void 0;_&&!T?r.set(x,w,$):(C!=="vgAxisConfig"||UWe.has(x)&&T||d1(S)||Ne(S))&&r.set(x,S,!1)}}const m=n.encoding??{},y=zJ.reduce((x,w)=>{if(!r.hasAxisPart(w))return x;const _=eZ(m[w]??{},t),$=w==="labels"?PWe(t,e,_):_;return $!==void 0&&!Ct($)&&(x[w]={update:$}),x},{});return Ct(y)||r.set("encode",y,!!n.encoding||n.labelAngle!==void 0),r}function VWe({encoding:e,size:t}){for(const n of Qs){const r=ii(n);js(t[r])&&Ol(e[n])&&(delete t[r],de(XK(r)))}return t}function HWe(e,t,n){const r=Ur(e),i=wt("orient",r,n);if(r.orient=XWe(r.type,t,i),i!==void 0&&i!==r.orient&&de(fBe(r.orient,i)),r.type==="bar"&&r.orient){const a=wt("cornerRadiusEnd",r,n);if(a!==void 0){const l=r.orient==="horizontal"&&t.x2||r.orient==="vertical"&&t.y2?["cornerRadius"]:Tje[r.orient];for(const u of l)r[u]=a;r.cornerRadiusEnd!==void 0&&delete r.cornerRadiusEnd}}return wt("opacity",r,n)===void 0&&(r.opacity=GWe(r.type,t)),wt("cursor",r,n)===void 0&&(r.cursor=WWe(r,t,n)),r}function WWe(e,t,n){return t.href||e.href||wt("href",e,n)?"pointer":e.cursor}function GWe(e,t){if(st([Mw,Xk,Kk,Jk],e)&&!lM(t))return .7}function YWe(e,t,{graticule:n}){if(n)return!1;const r=La("filled",e,t),i=e.type;return an(r,i!==Mw&&i!==kw&&i!==Vb)}function XWe(e,t,n){switch(e){case Mw:case Kk:case Jk:case yJ:case xje:case bje:return}const{x:r,y:i,x2:o,y2:s}=t;switch(e){case Aw:if(ge(r)&&(zn(r.bin)||ge(i)&&i.aggregate&&!r.aggregate))return"vertical";if(ge(i)&&(zn(i.bin)||ge(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(s||o){if(n)return n;if(!o)return(ge(r)&&r.type===Jc&&!Pt(r.bin)||Wb(r))&&ge(i)&&zn(i.bin)?"horizontal":"vertical";if(!s)return(ge(i)&&i.type===Jc&&!Pt(i.bin)||Wb(i))&&ge(r)&&zn(r.bin)?"vertical":"horizontal"}case Vb:if(o&&!(ge(r)&&zn(r.bin))&&s&&!(ge(i)&&zn(i.bin)))return;case Cw:if(s)return ge(i)&&zn(i.bin)?"horizontal":"vertical";if(o)return ge(r)&&zn(r.bin)?"vertical":"horizontal";if(e===Vb){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case kw:case Xk:{const a=lP(r),l=lP(i);if(n)return n;if(a&&!l)return e!=="tick"?"horizontal":"vertical";if(!a&&l)return e!=="tick"?"vertical":"horizontal";if(a&&l)return"vertical";{const u=Rr(r)&&r.type===vh,c=Rr(i)&&i.type===vh;if(u&&!c)return"vertical";if(!u&&c)return"horizontal"}return}}return"vertical"}const KWe={vgMark:"arc",encodeEntry:e=>({...eo(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...lr("x",e,{defaultPos:"mid"}),...lr("y",e,{defaultPos:"mid"}),...cu(e,"radius"),...cu(e,"theta")})},JWe={vgMark:"area",encodeEntry:e=>({...eo(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...Zb("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="horizontal"}),...Zb("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="vertical"}),...$M(e)})},QWe={vgMark:"rect",encodeEntry:e=>({...eo(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...cu(e,"x"),...cu(e,"y")})},ZWe={vgMark:"shape",encodeEntry:e=>({...eo(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[{type:"geoshape",projection:e.projectionName(),...n&&ge(n)&&n.type===op?{field:we(n,{expr:"datum"})}:{}}]}},eGe={vgMark:"image",encodeEntry:e=>({...eo(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...cu(e,"x"),...cu(e,"y"),...EM(e,"url")})},tGe={vgMark:"line",encodeEntry:e=>({...eo(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...lr("x",e,{defaultPos:"mid"}),...lr("y",e,{defaultPos:"mid"}),...Cn("size",e,{vgChannel:"strokeWidth"}),...$M(e)})},nGe={vgMark:"trail",encodeEntry:e=>({...eo(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...lr("x",e,{defaultPos:"mid"}),...lr("y",e,{defaultPos:"mid"}),...Cn("size",e),...$M(e)})};function BM(e,t){const{config:n}=e;return{...eo(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...lr("x",e,{defaultPos:"mid"}),...lr("y",e,{defaultPos:"mid"}),...Cn("size",e),...Cn("angle",e),...rGe(e,n,t)}}function rGe(e,t,n){return n?{shape:{value:n}}:Cn("shape",e)}const iGe={vgMark:"symbol",encodeEntry:e=>BM(e)},oGe={vgMark:"symbol",encodeEntry:e=>BM(e,"circle")},sGe={vgMark:"symbol",encodeEntry:e=>BM(e,"square")},aGe={vgMark:"rect",encodeEntry:e=>({...eo(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...cu(e,"x"),...cu(e,"y")})},lGe={vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,n=t.orient;return!e.encoding.x&&!e.encoding.y&&!e.encoding.latitude&&!e.encoding.longitude?{}:{...eo(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Zb("x",e,{defaultPos:n==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="vertical"}),...Zb("y",e,{defaultPos:n==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="horizontal"}),...Cn("size",e,{vgChannel:"strokeWidth"})}}},uGe={vgMark:"text",encodeEntry:e=>{const{config:t,encoding:n}=e;return{...eo(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...lr("x",e,{defaultPos:"mid"}),...lr("y",e,{defaultPos:"mid"}),...EM(e),...Cn("size",e,{vgChannel:"fontSize"}),...Cn("angle",e),...OP("align",cGe(e.markDef,n,t)),...OP("baseline",fGe(e.markDef,n,t)),...lr("radius",e,{defaultPos:null}),...lr("theta",e,{defaultPos:null})}}};function cGe(e,t,n){if(wt("align",e,n)===void 0)return"center"}function fGe(e,t,n){if(wt("baseline",e,n)===void 0)return"middle"}const dGe={vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n}=e,r=n.orient,i=r==="horizontal"?"width":"height",o=r==="horizontal"?"height":"width";return{...eo(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...lr("x",e,{defaultPos:"mid",vgChannel:"xc"}),...lr("y",e,{defaultPos:"mid",vgChannel:"yc"}),...Cn("size",e,{defaultValue:hGe(e),vgChannel:i}),[o]:Bt(wt("thickness",n,t))}}};function hGe(e){const{config:t,markDef:n}=e,{orient:r}=n,i=r==="horizontal"?"width":"height",o=e.getScaleComponent(r==="horizontal"?"x":"y"),s=wt("size",n,t,{vgChannel:i})??t.tick.bandSize;if(s!==void 0)return s;{const a=o?o.get("range"):void 0;return a&&ku(a)&&St(a.step)?a.step*3/4:Jb(t.view,i)*3/4}}const by={arc:KWe,area:JWe,bar:QWe,circle:oGe,geoshape:ZWe,image:eGe,line:tGe,point:iGe,rect:aGe,rule:lGe,square:sGe,text:uGe,tick:dGe,trail:nGe};function pGe(e){if(st([kw,Cw,wje],e.mark)){const t=VJ(e.mark,e.encoding);if(t.length>0)return gGe(e,t)}else if(e.mark===Aw){const t=V6.some(n=>wt(n,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&t)return mGe(e)}return jM(e)}const JP="faceted_path_";function gGe(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:JP+e.requestDataName(Nt.Main),data:e.requestDataName(Nt.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:jM(e,{fromPrefix:JP})}]}const QP="stack_group_";function mGe(e){var u;const[t]=jM(e,{fromPrefix:QP}),n=e.scaleName(e.stack.fieldChannel),r=(c={})=>e.vgField(e.stack.fieldChannel,c),i=(c,f)=>{const h=[r({prefix:"min",suffix:"start",expr:f}),r({prefix:"max",suffix:"start",expr:f}),r({prefix:"min",suffix:"end",expr:f}),r({prefix:"max",suffix:"end",expr:f})];return`${c}(${h.map(p=>`scale('${n}',${p})`).join(",")})`};let o,s;e.stack.fieldChannel==="x"?(o={...ph(t.encode.update,["y","yc","y2","height",...V6]),x:{signal:i("min","datum")},x2:{signal:i("max","datum")},clip:{value:!0}},s={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},t.encode.update={...Xr(t.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(o={...ph(t.encode.update,["x","xc","x2","width"]),y:{signal:i("min","datum")},y2:{signal:i("max","datum")},clip:{value:!0}},s={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},t.encode.update={...Xr(t.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(const c of V6){const f=La(c,e.markDef,e.config);t.encode.update[c]?(o[c]=t.encode.update[c],delete t.encode.update[c]):f&&(o[c]=Bt(f)),f&&(t.encode.update[c]={value:0})}const a=[];if(((u=e.stack.groupbyChannels)==null?void 0:u.length)>0)for(const c of e.stack.groupbyChannels){const f=e.fieldDef(c),h=we(f);h&&a.push(h),(f!=null&&f.bin||f!=null&&f.timeUnit)&&a.push(we(f,{binSuffix:"end"}))}return o=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((c,f)=>{if(t.encode.update[f])return{...c,[f]:t.encode.update[f]};{const h=La(f,e.markDef,e.config);return h!==void 0?{...c,[f]:Bt(h)}:c}},o),o.stroke&&(o.strokeForeground={value:!0},o.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(Nt.Main),name:QP+e.requestDataName(Nt.Main),groupby:a,aggregate:{fields:[r({suffix:"start"}),r({suffix:"start"}),r({suffix:"end"}),r({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:o},marks:[{type:"group",encode:{update:s},marks:[t]}]}]}function yGe(e){var a;const{encoding:t,stack:n,mark:r,markDef:i,config:o}=e,s=t.order;if(!(!ie(s)&&zo(s)&&U6(s.value)||!s&&U6(wt("order",i,o)))){if((ie(s)||ge(s))&&!n)return jK(s,{expr:"datum"});if(Mu(r)){const l=i.orient==="horizontal"?"y":"x",u=t[l];if(ge(u)){const c=u.sort;if(ie(c))return{field:we(u,{prefix:l,suffix:"sort_index",expr:"datum"})};if(As(c))return{field:we({aggregate:lM(e.encoding)?c.op:void 0,field:c.field},{expr:"datum"})};if(CJ(c)){const f=e.fieldDef(c.encoding);return{field:we(f,{expr:"datum"}),order:c.order}}else return c===null?void 0:{field:we(u,{binSuffix:(a=e.stack)!=null&&a.impute?"mid":void 0,expr:"datum"})}}return}}}function jM(e,t={fromPrefix:""}){const{mark:n,markDef:r,encoding:i,config:o}=e,s=an(r.clip,vGe(e),bGe(e)),a=zK(r),l=i.key,u=yGe(e),c=xGe(e),f=wt("aria",r,o),h=by[n].postEncodingTransform?by[n].postEncodingTransform(e):null;return[{name:e.getName("marks"),type:by[n].vgMark,...s?{clip:!0}:{},...a?{style:a}:{},...l?{key:l.field}:{},...u?{sort:u}:{},...c||{},...f===!1?{aria:f}:{},from:{data:t.fromPrefix+e.requestDataName(Nt.Main)},encode:{update:by[n].encodeEntry(e)},...h?{transform:h}:{}}]}function vGe(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return t!=null&&t.get("selectionExtent")||n!=null&&n.get("selectionExtent")?!0:void 0}function bGe(e){const t=e.component.projection;return t&&!t.isFit?!0:void 0}function xGe(e){if(!e.component.selection)return null;const t=le(e.component.selection).length;let n=t,r=e.parent;for(;r&&n===0;)n=le(r.component.selection).length,r=r.parent;return n?{interactive:t>0||e.mark==="geoshape"||!!e.encoding.tooltip}:null}class TZ extends $Z{constructor(t,n,r,i={},o){super(t,"unit",n,r,o,void 0,dP(t)?t.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection=[],this.children=[];const s=zs(t.mark)?{...t.mark}:{type:t.mark},a=s.type;s.filled===void 0&&(s.filled=YWe(s,o,{graticule:t.data&&wM(t.data)}));const l=this.encoding=aUe(t.encoding||{},a,s.filled,o);this.markDef=HWe(s,l,o),this.size=VWe({encoding:l,size:dP(t)?{...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}}:i}),this.stack=cQ(this.markDef,l),this.specifiedScales=this.initScales(a,l),this.specifiedAxes=this.initAxes(l),this.specifiedLegends=this.initLegends(l),this.specifiedProjection=t.projection,this.selection=(t.params??[]).filter(u=>mM(u))}get hasProjection(){const{encoding:t}=this,n=this.mark===vJ,r=t&&oze.some(i=>We(t[i]));return n||r}scaleDomain(t){const n=this.specifiedScales[t];return n?n.domain:void 0}axis(t){return this.specifiedAxes[t]}legend(t){return this.specifiedLegends[t]}initScales(t,n){return _w.reduce((r,i)=>{const o=bn(n[i]);return o&&(r[i]=this.initScale(o.scale??{})),r},{})}initScale(t){const{domain:n,range:r}=t,i=Ur(t);return ie(n)&&(i.domain=n.map(vi)),ie(r)&&(i.range=r.map(vi)),i}initAxes(t){return Qs.reduce((n,r)=>{const i=t[r];if(We(i)||r===Ht&&We(t.x2)||r===Pn&&We(t.y2)){const o=We(i)?i.axis:void 0;n[r]=o&&this.initAxis({...o})}return n},{})}initAxis(t){const n=le(t),r={};for(const i of n){const o=t[i];r[i]=d1(o)?LK(o):vi(o)}return r}initLegends(t){return pze.reduce((n,r)=>{const i=bn(t[r]);if(i&&mze(r)){const o=i.legend;n[r]=o&&Ur(o)}return n},{})}parseData(){this.component.data=t_(this)}parseLayoutSize(){AWe(this)}parseSelections(){this.component.selection=vVe(this,this.selection)}parseMarkGroup(){this.component.mark=pGe(this)}parseAxesAndHeaders(){this.component.axes=IWe(this)}assembleSelectionTopLevelSignals(t){return Bqe(this,t)}assembleSignals(){return[...HQ(this),...Lqe(this,[])]}assembleSelectionData(t){return jqe(this,t)}assembleLayout(){return null}assembleLayoutSignals(){return MM(this)}assembleMarks(){let t=this.component.mark??[];return(!this.parent||!cp(this.parent))&&(t=EQ(this,t)),t.map(this.correctDataNames)}assembleGroupStyle(){const{style:t}=this.view||{};return t!==void 0?t:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(t){return Sc(this.encoding,t)}fieldDef(t){const n=this.encoding[t];return Bs(n)}typedFieldDef(t){const n=this.fieldDef(t);return Rr(n)?n:null}}class UM extends DM{constructor(t,n,r,i,o){super(t,"layer",n,r,o,t.resolve,t.view);const s={...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}};this.children=t.layer.map((a,l)=>{if(zw(a))return new UM(a,this,this.getName(`layer_${l}`),s,o);if(Ka(a))return new TZ(a,this,this.getName(`layer_${l}`),s,o);throw new Error(Rk(a))})}parseData(){this.component.data=t_(this);for(const t of this.children)t.parseData()}parseLayoutSize(){$We(this)}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of le(t.component.selection))this.component.selection[n]=t.component.selection[n]}}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){LWe(this)}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleSignals()),HQ(this))}assembleLayoutSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleLayoutSignals()),MM(this))}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleGroupStyle(){const t=new Set;for(const r of this.children)for(const i of $e(r.assembleGroupStyle()))t.add(i);const n=Array.from(t);return n.length>1?n:n.length===1?n[0]:void 0}assembleTitle(){let t=super.assembleTitle();if(t)return t;for(const n of this.children)if(t=n.assembleTitle(),t)return t}assembleLayout(){return null}assembleMarks(){return Uqe(this,this.children.flatMap(t=>t.assembleMarks()))}assembleLegends(){return this.children.reduce((t,n)=>t.concat(n.assembleLegends()),lZ(this))}}function qM(e,t,n,r,i){if(Ow(e))return new Hg(e,t,n,i);if(zw(e))return new UM(e,t,n,r,i);if(Ka(e))return new TZ(e,t,n,r,i);if(OUe(e))return new FWe(e,t,n,i);throw new Error(Rk(e))}function wGe(e,t={}){t.logger&&IBe(t.logger),t.fieldTitle&&IJ(t.fieldTitle);try{const n=uQ(Wh(t.config,e.config)),r=yQ(e,n),i=qM(r,null,"",void 0,n);return i.parse(),BHe(i.component.data,i),{spec:EGe(i,_Ge(e,r.autosize,n,i),e.datasets,e.usermeta),normalized:r}}finally{t.logger&&DBe(),t.fieldTitle&&Qje()}}function _Ge(e,t,n,r){const i=r.component.layoutSize.get("width"),o=r.component.layoutSize.get("height");if(t===void 0?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):Ee(t)&&(t={type:t}),i&&o&&Rqe(t.type)){if(i==="step"&&o==="step")de(KR()),t.type="pad";else if(i==="step"||o==="step"){const s=i==="step"?"width":"height";de(KR(ww(s)));const a=s==="width"?"height":"width";t.type=Pqe(a)}}return{...le(t).length===1&&t.type?t.type==="pad"?{}:{autosize:t.type}:{autosize:t},...SP(n,!1),...SP(e,!0)}}function EGe(e,t,n={},r){const i=e.config?HUe(e.config):void 0,o=[].concat(e.assembleSelectionData([]),wWe(e.component.data,n)),s=e.assembleProjections(),a=e.assembleTitle(),l=e.assembleGroupStyle(),u=e.assembleGroupEncodeEntry(!0);let c=e.assembleLayoutSignals();c=c.filter(p=>(p.name==="width"||p.name==="height")&&p.value!==void 0?(t[p.name]=+p.value,!1):!0);const{params:f,...h}=t;return{$schema:"https://vega.github.io/schema/vega/v5.json",...e.description?{description:e.description}:{},...h,...a?{title:a}:{},...l?{style:l}:{},...u?{encode:{update:u}}:{},data:o,...s.length>0?{projections:s}:{},...e.assembleGroup([...c,...e.assembleSelectionTopLevelSignals([]),...oQ(f)]),...i?{config:i}:{},...r?{usermeta:r}:{}}}const SGe=YLe.version,$Ge=Object.freeze(Object.defineProperty({__proto__:null,accessPathDepth:gh,accessPathWithDatum:Sk,compile:wGe,contains:st,deepEqual:vs,deleteNestedProperty:jb,duplicate:He,entries:au,every:wk,fieldIntersection:Ek,flatAccessWithDatum:yK,getFirstDefined:an,hasIntersection:_k,hash:ot,internalField:xK,isBoolean:W0,isEmpty:Ct,isEqual:tze,isInternalField:wK,isNullOrFalse:U6,isNumeric:gw,keys:le,logicalExpr:qg,mergeDeep:gK,never:pK,normalize:yQ,normalizeAngle:G0,omit:Xr,pick:ph,prefixGenerator:q6,removePathFromField:$k,replaceAll:Yc,replacePathInField:Xi,resetIdCounter:rze,setEqual:mK,some:Gc,stringify:Rt,titleCase:r1,unique:bs,uniqueId:bK,vals:Vn,varName:Vt,version:SGe},Symbol.toStringTag,{value:"Module"}));function OZ(e){const[t,n]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t,version:n}}var CGe="vega-themes",AGe="2.13.0",kGe="Themes for stylized Vega and Vega-Lite visualizations.",MGe=["vega","vega-lite","themes","style"],TGe="BSD-3-Clause",OGe={name:"UW Interactive Data Lab",url:"https://idl.cs.washington.edu"},FGe=[{name:"Emily Gu",url:"https://github.com/emilygu"},{name:"Arvind Satyanarayan",url:"http://arvindsatya.com"},{name:"Jeffrey Heer",url:"https://idl.cs.washington.edu"},{name:"Dominik Moritz",url:"https://www.domoritz.de"}],NGe="build/vega-themes.js",RGe="build/vega-themes.module.js",PGe="build/vega-themes.min.js",IGe="build/vega-themes.min.js",DGe="build/vega-themes.module.d.ts",LGe={type:"git",url:"https://github.com/vega/vega-themes.git"},zGe=["src","build"],BGe={prebuild:"yarn clean",build:"rollup -c",clean:"rimraf build && rimraf examples/build","copy:data":"rsync -r node_modules/vega-datasets/data/* examples/data","copy:build":"rsync -r build/* examples/build","deploy:gh":"yarn build && mkdir -p examples/build && rsync -r build/* examples/build && gh-pages -d examples",preversion:"yarn lint",serve:"browser-sync start -s -f build examples --serveStatic examples",start:"yarn build && concurrently --kill-others -n Server,Rollup 'yarn serve' 'rollup -c -w'",format:"eslint . --fix",lint:"eslint .",release:"release-it"},jGe={"@babel/core":"^7.21.4","@babel/plugin-transform-runtime":"^7.21.4","@babel/preset-env":"^7.21.4","@babel/preset-typescript":"^7.21.4","@release-it/conventional-changelog":"^5.1.1","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.2","@rollup/plugin-terser":"^0.4.1","@typescript-eslint/eslint-plugin":"^5.59.0","@typescript-eslint/parser":"^5.59.0","browser-sync":"^2.29.1",concurrently:"^8.0.1",eslint:"^8.38.0","eslint-config-prettier":"^8.8.0","eslint-plugin-prettier":"^4.2.1","gh-pages":"^5.0.0",prettier:"^2.8.7","release-it":"^15.10.1",rollup:"^3.20.6","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-ts":"^3.2.0",typescript:"^5.0.4",vega:"^5.24.0","vega-lite":"^5.7.1"},UGe={vega:"*","vega-lite":"*"},qGe={},VGe={name:CGe,version:AGe,description:kGe,keywords:MGe,license:TGe,author:OGe,contributors:FGe,main:NGe,module:RGe,unpkg:PGe,jsdelivr:IGe,types:DGe,repository:LGe,files:zGe,scripts:BGe,devDependencies:jGe,peerDependencies:UGe,dependencies:qGe};const td="#fff",ZP="#888",HGe={background:"#333",view:{stroke:ZP},title:{color:td,subtitleColor:td},style:{"guide-label":{fill:td},"guide-title":{fill:td}},axis:{domainColor:td,gridColor:ZP,tickColor:td}},zu="#4572a7",WGe={background:"#fff",arc:{fill:zu},area:{fill:zu},line:{stroke:zu,strokeWidth:2},path:{stroke:zu},rect:{fill:zu},shape:{stroke:zu},symbol:{fill:zu,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},Bu="#30a2da",oE="#cbcbcb",GGe="#999",YGe="#333",eI="#f0f0f0",tI="#333",XGe={arc:{fill:Bu},area:{fill:Bu},axis:{domainColor:oE,grid:!0,gridColor:oE,gridWidth:1,labelColor:GGe,labelFontSize:10,titleColor:YGe,tickColor:oE,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:eI,group:{fill:eI},legend:{labelColor:tI,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:tI,titleFontSize:14,titlePadding:10},line:{stroke:Bu,strokeWidth:2},path:{stroke:Bu,strokeWidth:.5},rect:{fill:Bu},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:Bu},bar:{binSpacing:2,fill:Bu,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},ju="#000",KGe={group:{fill:"#e5e5e5"},arc:{fill:ju},area:{fill:ju},line:{stroke:ju},path:{stroke:ju},rect:{fill:ju},shape:{stroke:ju},symbol:{fill:ju,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},JGe=22,QGe="normal",nI="Benton Gothic, sans-serif",rI=11.5,ZGe="normal",Uu="#82c6df",sE="Benton Gothic Bold, sans-serif",iI="normal",oI=13,Bp={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},eYe={background:"#ffffff",title:{anchor:"start",color:"#000000",font:sE,fontSize:JGe,fontWeight:QGe},arc:{fill:Uu},area:{fill:Uu},line:{stroke:Uu,strokeWidth:2},path:{stroke:Uu},rect:{fill:Uu},shape:{stroke:Uu},symbol:{fill:Uu,size:30},axis:{labelFont:nI,labelFontSize:rI,labelFontWeight:ZGe,titleFont:sE,titleFontSize:oI,titleFontWeight:iI},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:nI,labelFontSize:rI,symbolType:"square",titleFont:sE,titleFontSize:oI,titleFontWeight:iI},range:{category:Bp["category-6"],diverging:Bp["fireandice-6"],heatmap:Bp["fire-7"],ordinal:Bp["fire-7"],ramp:Bp["fire-7"]}},qu="#ab5787",xy="#979797",tYe={background:"#f9f9f9",arc:{fill:qu},area:{fill:qu},line:{stroke:qu},path:{stroke:qu},rect:{fill:qu},shape:{stroke:qu},symbol:{fill:qu,size:30},axis:{domainColor:xy,domainWidth:.5,gridWidth:.2,labelColor:xy,tickColor:xy,tickWidth:.2,titleColor:xy},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},Vu="#3e5c69",nYe={background:"#fff",arc:{fill:Vu},area:{fill:Vu},line:{stroke:Vu},path:{stroke:Vu},rect:{fill:Vu},shape:{stroke:Vu},symbol:{fill:Vu},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},Pi="#1696d2",sI="#000000",rYe="#FFFFFF",wy="Lato",aE="Lato",iYe="Lato",oYe="#DEDDDD",sYe=18,jp={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},aYe={background:rYe,title:{anchor:"start",fontSize:sYe,font:wy},axisX:{domain:!0,domainColor:sI,domainWidth:1,grid:!1,labelFontSize:12,labelFont:aE,labelAngle:0,tickColor:sI,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:wy},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:oYe,gridWidth:1,labelFontSize:12,labelFont:aE,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:wy,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:aE,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:wy,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:jp["six-groups-cat-1"],diverging:jp["diverging-colors"],heatmap:jp["diverging-colors"],ordinal:jp["six-groups-seq"],ramp:jp["shades-blue"]},area:{fill:Pi},rect:{fill:Pi},line:{color:Pi,stroke:Pi,strokeWidth:5},trail:{color:Pi,stroke:Pi,strokeWidth:0,size:1},path:{stroke:Pi,strokeWidth:.5},point:{filled:!0},text:{font:iYe,color:Pi,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:Pi,stroke:null}},arc:{fill:Pi},shape:{stroke:Pi},symbol:{fill:Pi,size:30}},Hu="#3366CC",aI="#ccc",_y="Arial, sans-serif",lYe={arc:{fill:Hu},area:{fill:Hu},path:{stroke:Hu},rect:{fill:Hu},shape:{stroke:Hu},symbol:{stroke:Hu},circle:{fill:Hu},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:_y,fontSize:12},"guide-title":{font:_y,fontSize:12},"group-title":{font:_y,fontSize:12}},title:{font:_y,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:aI,tickColor:aI,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},VM=e=>e*(1/3+1),lI=VM(9),uI=VM(10),cI=VM(12),Up="Segoe UI",fI="wf_standard-font, helvetica, arial, sans-serif",dI="#252423",qp="#605E5C",hI="transparent",uYe="#C8C6C4",so="#118DFF",cYe="#12239E",fYe="#E66C37",dYe="#6B007B",hYe="#E044A7",pYe="#744EC2",gYe="#D9B300",mYe="#D64550",FZ=so,NZ="#DEEFFF",pI=[NZ,FZ],yYe=[NZ,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",FZ],vYe={view:{stroke:hI},background:hI,font:Up,header:{titleFont:fI,titleFontSize:cI,titleColor:dI,labelFont:Up,labelFontSize:uI,labelColor:qp},axis:{ticks:!1,grid:!1,domain:!1,labelColor:qp,labelFontSize:lI,titleFont:fI,titleColor:dI,titleFontSize:cI,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:uYe,gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:so},line:{stroke:so,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:Up,fontSize:lI,fill:qp},arc:{fill:so},area:{fill:so,line:!0,opacity:.6},path:{stroke:so},rect:{fill:so},point:{fill:so,filled:!0,size:75},shape:{stroke:so},symbol:{fill:so,strokeWidth:1.5,size:50},legend:{titleFont:Up,titleFontWeight:"bold",titleColor:qp,labelFont:Up,labelFontSize:uI,labelColor:qp,symbolType:"circle",symbolSize:75},range:{category:[so,cYe,fYe,dYe,hYe,pYe,gYe,mYe],diverging:pI,heatmap:pI,ordinal:yYe}},bYe=VGe.version,xYe=Object.freeze(Object.defineProperty({__proto__:null,dark:HGe,excel:WGe,fivethirtyeight:XGe,ggplot2:KGe,googlecharts:lYe,latimes:eYe,powerbi:vYe,quartz:tYe,urbaninstitute:aYe,version:bYe,vox:nYe},Symbol.toStringTag,{value:"Module"}));function Q0(e){"@babel/helpers - typeof";return Q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q0(e)}function wYe(e,t){if(Q0(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Q0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _Ye(e){var t=wYe(e,"string");return Q0(t)==="symbol"?t:String(t)}function EYe(e,t,n){return t=_Ye(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SYe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function $Ye(e,t){if(e==null)return{};var n=SYe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}const CYe=["title","image"];function AYe(e,t,n){if(ie(e))return`[${e.map(r=>t(Ee(r)?r:gI(r,n))).join(", ")}]`;if(Ae(e)){let r="";const i=e,{title:o,image:s}=i,a=$Ye(i,CYe);o&&(r+=`<h2>${t(o)}</h2>`),s&&(r+=`<img src="${t(s)}">`);const l=Object.keys(a);if(l.length>0){r+="<table>";for(const u of l){let c=a[u];c!==void 0&&(Ae(c)&&(c=gI(c,n)),r+=`<tr><td class="key">${t(u)}:</td><td class="value">${t(c)}</td></tr>`)}r+="</table>"}return r||"{}"}return t(e)}function kYe(e){const t=[];return function(n,r){if(typeof r!="object"||r===null)return r;const i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}function gI(e,t){return JSON.stringify(e,kYe(t))}var MYe=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black;
}
#vg-tooltip-element.visible {
  visibility: visible;
}
#vg-tooltip-element h2 {
  margin-top: 0;
  margin-bottom: 10px;
  font-size: 13px;
}
#vg-tooltip-element table {
  border-spacing: 0;
}
#vg-tooltip-element table tr {
  border: none;
}
#vg-tooltip-element table tr td {
  overflow: hidden;
  text-overflow: ellipsis;
  padding-top: 2px;
  padding-bottom: 2px;
}
#vg-tooltip-element table tr td.key {
  color: #808080;
  max-width: 150px;
  text-align: right;
  padding-right: 4px;
}
#vg-tooltip-element table tr td.value {
  display: block;
  max-width: 300px;
  max-height: 7em;
  text-align: left;
}
#vg-tooltip-element.dark-theme {
  background-color: rgba(32, 32, 32, 0.9);
  border: 1px solid #f5f5f5;
  color: white;
}
#vg-tooltip-element.dark-theme td.key {
  color: #bfbfbf;
}
`;const RZ="vg-tooltip-element",TYe={offsetX:10,offsetY:10,id:RZ,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:OYe,maxDepth:2,formatTooltip:AYe};function OYe(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function FYe(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return MYe.toString().replace(RZ,e)}function NYe(e,t,n,r){let i=e.clientX+n;i+t.width>window.innerWidth&&(i=+e.clientX-n-t.width);let o=e.clientY+r;return o+t.height>window.innerHeight&&(o=+e.clientY-r-t.height),{x:i,y:o}}function mI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mI(Object(n),!0).forEach(function(r){EYe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}class RYe{constructor(t){this.options=yI(yI({},TYe),t);const n=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=FYe(n);const i=document.head;i.childNodes.length>0?i.insertBefore(r,i.childNodes[0]):i.appendChild(r)}}tooltipHandler(t,n,r,i){if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(document.fullscreenElement??document.body).appendChild(this.el)),i==null||i===""){this.el.classList.remove("visible",`${this.options.theme}-theme`);return}this.el.innerHTML=this.options.formatTooltip(i,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:o,y:s}=NYe(n,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.style.top=`${s}px`,this.el.style.left=`${o}px`}}function Z0(e){"@babel/helpers - typeof";return Z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z0(e)}function PYe(e,t){if(Z0(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Z0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IYe(e){var t=PYe(e,"string");return Z0(t)==="symbol"?t:String(t)}function DYe(e,t,n){return t=IYe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LYe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lE,vI;function zYe(){return vI||(vI=1,lE=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}),lE}var BYe=bt;bt.Node=rf;bt.create=bt;function bt(e){var t=this;if(t instanceof bt||(t=new bt),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)t.push(arguments[n]);return t}bt.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t};bt.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};bt.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};bt.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)UYe(this,arguments[e]);return this.length};bt.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)qYe(this,arguments[e]);return this.length};bt.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};bt.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};bt.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;n!==null;r++)e.call(t,n.value,r,this),n=n.next};bt.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;n!==null;r--)e.call(t,n.value,r,this),n=n.prev};bt.prototype.get=function(e){for(var t=0,n=this.head;n!==null&&t<e;t++)n=n.next;if(t===e&&n!==null)return n.value};bt.prototype.getReverse=function(e){for(var t=0,n=this.tail;n!==null&&t<e;t++)n=n.prev;if(t===e&&n!==null)return n.value};bt.prototype.map=function(e,t){t=t||this;for(var n=new bt,r=this.head;r!==null;)n.push(e.call(t,r.value,this)),r=r.next;return n};bt.prototype.mapReverse=function(e,t){t=t||this;for(var n=new bt,r=this.tail;r!==null;)n.push(e.call(t,r.value,this)),r=r.prev;return n};bt.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else if(this.head)r=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;r!==null;i++)n=e(n,r.value,i),r=r.next;return n};bt.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;r!==null;i--)n=e(n,r.value,i),r=r.prev;return n};bt.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;n!==null;t++)e[t]=n.value,n=n.next;return e};bt.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;n!==null;t++)e[t]=n.value,n=n.prev;return e};bt.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new bt;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,i=this.head;i!==null&&r<e;r++)i=i.next;for(;i!==null&&r<t;r++,i=i.next)n.push(i.value);return n};bt.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new bt;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,i=this.tail;i!==null&&r>t;r--)i=i.prev;for(;i!==null&&r>e;r--,i=i.prev)n.push(i.value);return n};bt.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,i=this.head;i!==null&&r<e;r++)i=i.next;for(var o=[],r=0;i&&r<t;r++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var r=0;r<n.length;r++)i=jYe(this,i,n[r]);return o};bt.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;n!==null;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};function jYe(e,t,n){var r=t===e.head?new rf(n,null,t,e):new rf(n,t,t.next,e);return r.next===null&&(e.tail=r),r.prev===null&&(e.head=r),e.length++,r}function UYe(e,t){e.tail=new rf(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function qYe(e,t){e.head=new rf(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function rf(e,t,n,r){if(!(this instanceof rf))return new rf(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{zYe()(bt)}catch{}const VYe=BYe,ic=Symbol("max"),ya=Symbol("length"),nd=Symbol("lengthCalculator"),Wg=Symbol("allowStale"),dc=Symbol("maxAge"),pa=Symbol("dispose"),bI=Symbol("noDisposeOnSet"),Sn=Symbol("lruList"),ao=Symbol("cache"),PZ=Symbol("updateAgeOnGet"),uE=()=>1;class HYe{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[ic]=t.max||1/0;const n=t.length||uE;if(this[nd]=typeof n!="function"?uE:n,this[Wg]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[dc]=t.maxAge||0,this[pa]=t.dispose,this[bI]=t.noDisposeOnSet||!1,this[PZ]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[ic]=t||1/0,Vp(this)}get max(){return this[ic]}set allowStale(t){this[Wg]=!!t}get allowStale(){return this[Wg]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[dc]=t,Vp(this)}get maxAge(){return this[dc]}set lengthCalculator(t){typeof t!="function"&&(t=uE),t!==this[nd]&&(this[nd]=t,this[ya]=0,this[Sn].forEach(n=>{n.length=this[nd](n.value,n.key),this[ya]+=n.length})),Vp(this)}get lengthCalculator(){return this[nd]}get length(){return this[ya]}get itemCount(){return this[Sn].length}rforEach(t,n){n=n||this;for(let r=this[Sn].tail;r!==null;){const i=r.prev;xI(this,t,r,n),r=i}}forEach(t,n){n=n||this;for(let r=this[Sn].head;r!==null;){const i=r.next;xI(this,t,r,n),r=i}}keys(){return this[Sn].toArray().map(t=>t.key)}values(){return this[Sn].toArray().map(t=>t.value)}reset(){this[pa]&&this[Sn]&&this[Sn].length&&this[Sn].forEach(t=>this[pa](t.key,t.value)),this[ao]=new Map,this[Sn]=new VYe,this[ya]=0}dump(){return this[Sn].map(t=>r2(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[Sn]}set(t,n,r){if(r=r||this[dc],r&&typeof r!="number")throw new TypeError("maxAge must be a number");const i=r?Date.now():0,o=this[nd](n,t);if(this[ao].has(t)){if(o>this[ic])return Fd(this,this[ao].get(t)),!1;const l=this[ao].get(t).value;return this[pa]&&(this[bI]||this[pa](t,l.value)),l.now=i,l.maxAge=r,l.value=n,this[ya]+=o-l.length,l.length=o,this.get(t),Vp(this),!0}const s=new WYe(t,n,o,i,r);return s.length>this[ic]?(this[pa]&&this[pa](t,n),!1):(this[ya]+=s.length,this[Sn].unshift(s),this[ao].set(t,this[Sn].head),Vp(this),!0)}has(t){if(!this[ao].has(t))return!1;const n=this[ao].get(t).value;return!r2(this,n)}get(t){return cE(this,t,!0)}peek(t){return cE(this,t,!1)}pop(){const t=this[Sn].tail;return t?(Fd(this,t),t.value):null}del(t){Fd(this,this[ao].get(t))}load(t){this.reset();const n=Date.now();for(let r=t.length-1;r>=0;r--){const i=t[r],o=i.e||0;if(o===0)this.set(i.k,i.v);else{const s=o-n;s>0&&this.set(i.k,i.v,s)}}}prune(){this[ao].forEach((t,n)=>cE(this,n,!1))}}const cE=(e,t,n)=>{const r=e[ao].get(t);if(r){const i=r.value;if(r2(e,i)){if(Fd(e,r),!e[Wg])return}else n&&(e[PZ]&&(r.value.now=Date.now()),e[Sn].unshiftNode(r));return i.value}},r2=(e,t)=>{if(!t||!t.maxAge&&!e[dc])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[dc]&&n>e[dc]},Vp=e=>{if(e[ya]>e[ic])for(let t=e[Sn].tail;e[ya]>e[ic]&&t!==null;){const n=t.prev;Fd(e,t),t=n}},Fd=(e,t)=>{if(t){const n=t.value;e[pa]&&e[pa](n.key,n.value),e[ya]-=n.length,e[ao].delete(n.key),e[Sn].removeNode(t)}};class WYe{constructor(t,n,r,i,o){this.key=t,this.value=n,this.length=r,this.now=i,this.maxAge=o||0}}const xI=(e,t,n,r)=>{let i=n.value;r2(e,i)&&(Fd(e,n),e[Wg]||(i=void 0)),i&&t.call(r,i.value,i.key,e)};var GYe=HYe;const YYe=Object.freeze({loose:!0}),XYe=Object.freeze({}),KYe=e=>e?typeof e!="object"?YYe:e:XYe;var HM=KYe,d4={exports:{}};const JYe="2.0.0",QYe=256,ZYe=Number.MAX_SAFE_INTEGER||9007199254740991,eXe=16,tXe=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var WM={MAX_LENGTH:QYe,MAX_SAFE_COMPONENT_LENGTH:eXe,MAX_SAFE_INTEGER:ZYe,RELEASE_TYPES:tXe,SEMVER_SPEC_VERSION:JYe,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const nXe=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var n_=nXe;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n}=WM,r=n_;t=e.exports={};const i=t.re=[],o=t.src=[],s=t.t={};let a=0;const l=(u,c,f)=>{const h=a++;r(u,h,c),s[u]=h,o[h]=c,i[h]=new RegExp(c,f?"g":void 0)};l("NUMERICIDENTIFIER","0|[1-9]\\d*"),l("NUMERICIDENTIFIERLOOSE","[0-9]+"),l("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),l("MAINVERSION",`(${o[s.NUMERICIDENTIFIER]})\\.(${o[s.NUMERICIDENTIFIER]})\\.(${o[s.NUMERICIDENTIFIER]})`),l("MAINVERSIONLOOSE",`(${o[s.NUMERICIDENTIFIERLOOSE]})\\.(${o[s.NUMERICIDENTIFIERLOOSE]})\\.(${o[s.NUMERICIDENTIFIERLOOSE]})`),l("PRERELEASEIDENTIFIER",`(?:${o[s.NUMERICIDENTIFIER]}|${o[s.NONNUMERICIDENTIFIER]})`),l("PRERELEASEIDENTIFIERLOOSE",`(?:${o[s.NUMERICIDENTIFIERLOOSE]}|${o[s.NONNUMERICIDENTIFIER]})`),l("PRERELEASE",`(?:-(${o[s.PRERELEASEIDENTIFIER]}(?:\\.${o[s.PRERELEASEIDENTIFIER]})*))`),l("PRERELEASELOOSE",`(?:-?(${o[s.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${o[s.PRERELEASEIDENTIFIERLOOSE]})*))`),l("BUILDIDENTIFIER","[0-9A-Za-z-]+"),l("BUILD",`(?:\\+(${o[s.BUILDIDENTIFIER]}(?:\\.${o[s.BUILDIDENTIFIER]})*))`),l("FULLPLAIN",`v?${o[s.MAINVERSION]}${o[s.PRERELEASE]}?${o[s.BUILD]}?`),l("FULL",`^${o[s.FULLPLAIN]}$`),l("LOOSEPLAIN",`[v=\\s]*${o[s.MAINVERSIONLOOSE]}${o[s.PRERELEASELOOSE]}?${o[s.BUILD]}?`),l("LOOSE",`^${o[s.LOOSEPLAIN]}$`),l("GTLT","((?:<|>)?=?)"),l("XRANGEIDENTIFIERLOOSE",`${o[s.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),l("XRANGEIDENTIFIER",`${o[s.NUMERICIDENTIFIER]}|x|X|\\*`),l("XRANGEPLAIN",`[v=\\s]*(${o[s.XRANGEIDENTIFIER]})(?:\\.(${o[s.XRANGEIDENTIFIER]})(?:\\.(${o[s.XRANGEIDENTIFIER]})(?:${o[s.PRERELEASE]})?${o[s.BUILD]}?)?)?`),l("XRANGEPLAINLOOSE",`[v=\\s]*(${o[s.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[s.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[s.XRANGEIDENTIFIERLOOSE]})(?:${o[s.PRERELEASELOOSE]})?${o[s.BUILD]}?)?)?`),l("XRANGE",`^${o[s.GTLT]}\\s*${o[s.XRANGEPLAIN]}$`),l("XRANGELOOSE",`^${o[s.GTLT]}\\s*${o[s.XRANGEPLAINLOOSE]}$`),l("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),l("COERCERTL",o[s.COERCE],!0),l("LONETILDE","(?:~>?)"),l("TILDETRIM",`(\\s*)${o[s.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",l("TILDE",`^${o[s.LONETILDE]}${o[s.XRANGEPLAIN]}$`),l("TILDELOOSE",`^${o[s.LONETILDE]}${o[s.XRANGEPLAINLOOSE]}$`),l("LONECARET","(?:\\^)"),l("CARETTRIM",`(\\s*)${o[s.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",l("CARET",`^${o[s.LONECARET]}${o[s.XRANGEPLAIN]}$`),l("CARETLOOSE",`^${o[s.LONECARET]}${o[s.XRANGEPLAINLOOSE]}$`),l("COMPARATORLOOSE",`^${o[s.GTLT]}\\s*(${o[s.LOOSEPLAIN]})$|^$`),l("COMPARATOR",`^${o[s.GTLT]}\\s*(${o[s.FULLPLAIN]})$|^$`),l("COMPARATORTRIM",`(\\s*)${o[s.GTLT]}\\s*(${o[s.LOOSEPLAIN]}|${o[s.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",l("HYPHENRANGE",`^\\s*(${o[s.XRANGEPLAIN]})\\s+-\\s+(${o[s.XRANGEPLAIN]})\\s*$`),l("HYPHENRANGELOOSE",`^\\s*(${o[s.XRANGEPLAINLOOSE]})\\s+-\\s+(${o[s.XRANGEPLAINLOOSE]})\\s*$`),l("STAR","(<|>)?=?\\s*\\*"),l("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),l("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(d4,d4.exports);var GM=d4.exports;const wI=/^[0-9]+$/,IZ=(e,t)=>{const n=wI.test(e),r=wI.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1},rXe=(e,t)=>IZ(t,e);var iXe={compareIdentifiers:IZ,rcompareIdentifiers:rXe};const Ey=n_,{MAX_LENGTH:_I,MAX_SAFE_INTEGER:Sy}=WM,{re:EI,t:SI}=GM,oXe=HM,{compareIdentifiers:rd}=iXe;let sXe=class os{constructor(t,n){if(n=oXe(n),t instanceof os){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid Version: ${t}`);if(t.length>_I)throw new TypeError(`version is longer than ${_I} characters`);Ey("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=t.trim().match(n.loose?EI[SI.LOOSE]:EI[SI.FULL]);if(!r)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>Sy||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Sy||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Sy||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const o=+i;if(o>=0&&o<Sy)return o}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Ey("SemVer.compare",this.version,this.options,t),!(t instanceof os)){if(typeof t=="string"&&t===this.version)return 0;t=new os(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof os||(t=new os(t,this.options)),rd(this.major,t.major)||rd(this.minor,t.minor)||rd(this.patch,t.patch)}comparePre(t){if(t instanceof os||(t=new os(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],i=t.prerelease[n];if(Ey("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return rd(r,i)}while(++n)}compareBuild(t){t instanceof os||(t=new os(t,this.options));let n=0;do{const r=this.build[n],i=t.build[n];if(Ey("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return rd(r,i)}while(++n)}inc(t,n,r){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);i===-1&&this.prerelease.push(0)}if(n){const i=Number(r)?1:0;rd(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=[n,i]):this.prerelease=[n,i]}break;default:throw new Error(`invalid increment argument: ${t}`)}return this.format(),this.raw=this.version,this}};var YM=sXe;const $I=YM,aXe=(e,t,n)=>new $I(e,n).compare(new $I(t,n));var fp=aXe;const lXe=fp,uXe=(e,t,n)=>lXe(e,t,n)===0;var cXe=uXe;const fXe=fp,dXe=(e,t,n)=>fXe(e,t,n)!==0;var hXe=dXe;const pXe=fp,gXe=(e,t,n)=>pXe(e,t,n)>0;var mXe=gXe;const yXe=fp,vXe=(e,t,n)=>yXe(e,t,n)>=0;var bXe=vXe;const xXe=fp,wXe=(e,t,n)=>xXe(e,t,n)<0;var _Xe=wXe;const EXe=fp,SXe=(e,t,n)=>EXe(e,t,n)<=0;var $Xe=SXe;const CXe=cXe,AXe=hXe,kXe=mXe,MXe=bXe,TXe=_Xe,OXe=$Xe,FXe=(e,t,n,r)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return CXe(e,n,r);case"!=":return AXe(e,n,r);case">":return kXe(e,n,r);case">=":return MXe(e,n,r);case"<":return TXe(e,n,r);case"<=":return OXe(e,n,r);default:throw new TypeError(`Invalid operator: ${t}`)}};var NXe=FXe,fE,CI;function RXe(){if(CI)return fE;CI=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(c,f){if(f=n(f),c instanceof t){if(c.loose===!!f.loose)return c;c=c.value}s("comparator",c,f),this.options=f,this.loose=!!f.loose,this.parse(c),this.semver===e?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(c){const f=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],h=c.match(f);if(!h)throw new TypeError(`Invalid comparator: ${c}`);this.operator=h[1]!==void 0?h[1]:"",this.operator==="="&&(this.operator=""),h[2]?this.semver=new a(h[2],this.options.loose):this.semver=e}toString(){return this.value}test(c){if(s("Comparator.test",c,this.options.loose),this.semver===e||c===e)return!0;if(typeof c=="string")try{c=new a(c,this.options)}catch{return!1}return o(c,this.operator,this.semver,this.options)}intersects(c,f){if(!(c instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(c.value,f).test(this.value):c.operator===""?c.value===""?!0:new l(this.value,f).test(c.semver):(f=n(f),f.includePrerelease&&(this.value==="<0.0.0-0"||c.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||c.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&c.operator.startsWith(">")||this.operator.startsWith("<")&&c.operator.startsWith("<")||this.semver.version===c.semver.version&&this.operator.includes("=")&&c.operator.includes("=")||o(this.semver,"<",c.semver,f)&&this.operator.startsWith(">")&&c.operator.startsWith("<")||o(this.semver,">",c.semver,f)&&this.operator.startsWith("<")&&c.operator.startsWith(">")))}}fE=t;const n=HM,{re:r,t:i}=GM,o=NXe,s=n_,a=YM,l=DZ();return fE}var dE,AI;function DZ(){if(AI)return dE;AI=1;class e{constructor(A,O){if(O=r(O),A instanceof e)return A.loose===!!O.loose&&A.includePrerelease===!!O.includePrerelease?A:new e(A.raw,O);if(A instanceof i)return this.raw=A.value,this.set=[[A]],this.format(),this;if(this.options=O,this.loose=!!O.loose,this.includePrerelease=!!O.includePrerelease,this.raw=A,this.set=A.split("||").map(F=>this.parseRange(F.trim())).filter(F=>F.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${A}`);if(this.set.length>1){const F=this.set[0];if(this.set=this.set.filter(R=>!g(R[0])),this.set.length===0)this.set=[F];else if(this.set.length>1){for(const R of this.set)if(R.length===1&&m(R[0])){this.set=[R];break}}}this.format()}format(){return this.range=this.set.map(A=>A.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(A){A=A.trim();const F=((this.options.includePrerelease&&h)|(this.options.loose&&p))+":"+A,R=n.get(F);if(R)return R;const D=this.options.loose,z=D?a[l.HYPHENRANGELOOSE]:a[l.HYPHENRANGE];A=A.replace(z,E(this.options.includePrerelease)),o("hyphen replace",A),A=A.replace(a[l.COMPARATORTRIM],u),o("comparator trim",A),A=A.replace(a[l.TILDETRIM],c),A=A.replace(a[l.CARETTRIM],f),A=A.split(/\s+/).join(" ");let U=A.split(" ").map(ae=>v(ae,this.options)).join(" ").split(/\s+/).map(ae=>M(ae,this.options));D&&(U=U.filter(ae=>(o("loose invalid filter",ae,this.options),!!ae.match(a[l.COMPARATORLOOSE])))),o("range list",U);const H=new Map,W=U.map(ae=>new i(ae,this.options));for(const ae of W){if(g(ae))return[ae];H.set(ae.value,ae)}H.size>1&&H.has("")&&H.delete("");const he=[...H.values()];return n.set(F,he),he}intersects(A,O){if(!(A instanceof e))throw new TypeError("a Range is required");return this.set.some(F=>y(F,O)&&A.set.some(R=>y(R,O)&&F.every(D=>R.every(z=>D.intersects(z,O)))))}test(A){if(!A)return!1;if(typeof A=="string")try{A=new s(A,this.options)}catch{return!1}for(let O=0;O<this.set.length;O++)if(N(this.set[O],A,this.options))return!0;return!1}}dE=e;const t=GYe,n=new t({max:1e3}),r=HM,i=RXe(),o=n_,s=YM,{re:a,t:l,comparatorTrimReplace:u,tildeTrimReplace:c,caretTrimReplace:f}=GM,{FLAG_INCLUDE_PRERELEASE:h,FLAG_LOOSE:p}=WM,g=k=>k.value==="<0.0.0-0",m=k=>k.value==="",y=(k,A)=>{let O=!0;const F=k.slice();let R=F.pop();for(;O&&F.length;)O=F.every(D=>R.intersects(D,A)),R=F.pop();return O},v=(k,A)=>(o("comp",k,A),k=_(k,A),o("caret",k),k=x(k,A),o("tildes",k),k=S(k,A),o("xrange",k),k=T(k,A),o("stars",k),k),b=k=>!k||k.toLowerCase()==="x"||k==="*",x=(k,A)=>k.trim().split(/\s+/).map(O=>w(O,A)).join(" "),w=(k,A)=>{const O=A.loose?a[l.TILDELOOSE]:a[l.TILDE];return k.replace(O,(F,R,D,z,U)=>{o("tilde",k,F,R,D,z,U);let H;return b(R)?H="":b(D)?H=`>=${R}.0.0 <${+R+1}.0.0-0`:b(z)?H=`>=${R}.${D}.0 <${R}.${+D+1}.0-0`:U?(o("replaceTilde pr",U),H=`>=${R}.${D}.${z}-${U} <${R}.${+D+1}.0-0`):H=`>=${R}.${D}.${z} <${R}.${+D+1}.0-0`,o("tilde return",H),H})},_=(k,A)=>k.trim().split(/\s+/).map(O=>$(O,A)).join(" "),$=(k,A)=>{o("caret",k,A);const O=A.loose?a[l.CARETLOOSE]:a[l.CARET],F=A.includePrerelease?"-0":"";return k.replace(O,(R,D,z,U,H)=>{o("caret",k,R,D,z,U,H);let W;return b(D)?W="":b(z)?W=`>=${D}.0.0${F} <${+D+1}.0.0-0`:b(U)?D==="0"?W=`>=${D}.${z}.0${F} <${D}.${+z+1}.0-0`:W=`>=${D}.${z}.0${F} <${+D+1}.0.0-0`:H?(o("replaceCaret pr",H),D==="0"?z==="0"?W=`>=${D}.${z}.${U}-${H} <${D}.${z}.${+U+1}-0`:W=`>=${D}.${z}.${U}-${H} <${D}.${+z+1}.0-0`:W=`>=${D}.${z}.${U}-${H} <${+D+1}.0.0-0`):(o("no pr"),D==="0"?z==="0"?W=`>=${D}.${z}.${U}${F} <${D}.${z}.${+U+1}-0`:W=`>=${D}.${z}.${U}${F} <${D}.${+z+1}.0-0`:W=`>=${D}.${z}.${U} <${+D+1}.0.0-0`),o("caret return",W),W})},S=(k,A)=>(o("replaceXRanges",k,A),k.split(/\s+/).map(O=>C(O,A)).join(" ")),C=(k,A)=>{k=k.trim();const O=A.loose?a[l.XRANGELOOSE]:a[l.XRANGE];return k.replace(O,(F,R,D,z,U,H)=>{o("xRange",k,F,R,D,z,U,H);const W=b(D),he=W||b(z),ae=he||b(U),Ce=ae;return R==="="&&Ce&&(R=""),H=A.includePrerelease?"-0":"",W?R===">"||R==="<"?F="<0.0.0-0":F="*":R&&Ce?(he&&(z=0),U=0,R===">"?(R=">=",he?(D=+D+1,z=0,U=0):(z=+z+1,U=0)):R==="<="&&(R="<",he?D=+D+1:z=+z+1),R==="<"&&(H="-0"),F=`${R+D}.${z}.${U}${H}`):he?F=`>=${D}.0.0${H} <${+D+1}.0.0-0`:ae&&(F=`>=${D}.${z}.0${H} <${D}.${+z+1}.0-0`),o("xRange return",F),F})},T=(k,A)=>(o("replaceStars",k,A),k.trim().replace(a[l.STAR],"")),M=(k,A)=>(o("replaceGTE0",k,A),k.trim().replace(a[A.includePrerelease?l.GTE0PRE:l.GTE0],"")),E=k=>(A,O,F,R,D,z,U,H,W,he,ae,Ce,xe)=>(b(F)?O="":b(R)?O=`>=${F}.0.0${k?"-0":""}`:b(D)?O=`>=${F}.${R}.0${k?"-0":""}`:z?O=`>=${O}`:O=`>=${O}${k?"-0":""}`,b(W)?H="":b(he)?H=`<${+W+1}.0.0-0`:b(ae)?H=`<${W}.${+he+1}.0-0`:Ce?H=`<=${W}.${he}.${ae}-${Ce}`:k?H=`<${W}.${he}.${+ae+1}-0`:H=`<=${H}`,`${O} ${H}`.trim()),N=(k,A,O)=>{for(let F=0;F<k.length;F++)if(!k[F].test(A))return!1;if(A.prerelease.length&&!O.includePrerelease){for(let F=0;F<k.length;F++)if(o(k[F].semver),k[F].semver!==i.ANY&&k[F].semver.prerelease.length>0){const R=k[F].semver;if(R.major===A.major&&R.minor===A.minor&&R.patch===A.patch)return!0}return!1}return!0};return dE}const PXe=DZ(),IXe=(e,t,n)=>{try{t=new PXe(t,n)}catch{return!1}return t.test(e)};var DXe=IXe,LZ=LYe(DXe);function LXe(e,t,n){const r=e.open(t),i=1e4,o=250,{origin:s}=new URL(t);let a=~~(i/o);function l(c){c.source===r&&(a=0,e.removeEventListener("message",l,!1))}e.addEventListener("message",l,!1);function u(){a<=0||(r.postMessage(n,s),setTimeout(u,o),a-=1)}setTimeout(u,o)}var zXe=`.vega-embed {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
}
.vega-embed.has-actions {
  padding-right: 38px;
}
.vega-embed details:not([open]) > :not(summary) {
  display: none !important;
}
.vega-embed summary {
  list-style: none;
  position: absolute;
  top: 0;
  right: 0;
  padding: 6px;
  z-index: 1000;
  background: white;
  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
  color: #1b1e23;
  border: 1px solid #aaa;
  border-radius: 999px;
  opacity: 0.2;
  transition: opacity 0.4s ease-in;
  cursor: pointer;
  line-height: 0px;
}
.vega-embed summary::-webkit-details-marker {
  display: none;
}
.vega-embed summary:active {
  box-shadow: #aaa 0px 0px 0px 1px inset;
}
.vega-embed summary svg {
  width: 14px;
  height: 14px;
}
.vega-embed details[open] summary {
  opacity: 0.7;
}
.vega-embed:hover summary, .vega-embed:focus-within summary {
  opacity: 1 !important;
  transition: opacity 0.2s ease;
}
.vega-embed .vega-actions {
  position: absolute;
  z-index: 1001;
  top: 35px;
  right: -9px;
  display: flex;
  flex-direction: column;
  padding-bottom: 8px;
  padding-top: 8px;
  border-radius: 4px;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
  border: 1px solid #d9d9d9;
  background: white;
  animation-duration: 0.15s;
  animation-name: scale-in;
  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
  text-align: left;
}
.vega-embed .vega-actions a {
  padding: 8px 16px;
  font-family: sans-serif;
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap;
  color: #434a56;
  text-decoration: none;
}
.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {
  background-color: #f7f7f9;
  color: black;
}
.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
  content: "";
  display: inline-block;
  position: absolute;
}
.vega-embed .vega-actions::before {
  left: auto;
  right: 14px;
  top: -16px;
  border: 8px solid rgba(0, 0, 0, 0);
  border-bottom-color: #d9d9d9;
}
.vega-embed .vega-actions::after {
  left: auto;
  right: 15px;
  top: -14px;
  border: 7px solid rgba(0, 0, 0, 0);
  border-bottom-color: #fff;
}
.vega-embed .chart-wrapper.fit-x {
  width: 100%;
}
.vega-embed .chart-wrapper.fit-y {
  height: 100%;
}

.vega-embed-wrapper {
  max-width: 100%;
  overflow: auto;
  padding-right: 14px;
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
`;function zZ(e,...t){for(const n of t)BXe(e,n);return e}function BXe(e,t){for(const n of Object.keys(t))Gh(e,n,t[n],!0)}function kI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ul(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kI(Object(n),!0).forEach(function(r){DYe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const ss=gLe;let em=$Ge;const $y=typeof window<"u"?window:void 0;var FI;em===void 0&&((FI=$y==null?void 0:$y.vl)!=null&&FI.compile)&&(em=$y.vl);const jXe={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},UXe={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},bg={vega:"Vega","vega-lite":"Vega-Lite"},i2={vega:ss.version,"vega-lite":em?em.version:"not available"},qXe={vega:e=>e,"vega-lite":(e,t)=>em.compile(e,{config:t}).spec},VXe=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`,HXe="chart-wrapper";function WXe(e){return typeof e=="function"}function MI(e,t,n,r){const i=`<html><head>${t}</head><body><pre><code class="json">`,o=`</code></pre>${n}</body></html>`,s=window.open("");s.document.write(i+e+o),s.document.title=`${bg[r]} JSON Source`}function GXe(e,t){if(e.$schema){const n=OZ(e.$schema);t&&t!==n.library&&console.warn(`The given visualization spec is written in ${bg[n.library]}, but mode argument sets ${bg[t]??t}.`);const r=n.library;return LZ(i2[r],`^${n.version.slice(1)}`)||console.warn(`The input spec uses ${bg[r]} ${n.version}, but the current version of ${bg[r]} is v${i2[r]}.`),r}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":t??"vega"}function YXe(e){return!!(e&&"load"in e)}function TI(e){return YXe(e)?e:ss.loader(e)}function XXe(e){var n;const t=((n=e.usermeta)==null?void 0:n.embedOptions)??{};return Ee(t.defaultStyle)&&(t.defaultStyle=!1),t}async function KXe(e,t,n={}){let r,i;Ee(t)?(i=TI(n.loader),r=JSON.parse(await i.load(t))):r=t;const o=XXe(r),s=o.loader;(!i||s)&&(i=TI(n.loader??s));const a=await OI(o,i),l=await OI(n,i),u=Ul(Ul({},zZ(l,a)),{},{config:Wh(l.config??{},a.config??{})});return await QXe(e,r,u,i)}async function OI(e,t){const n=Ee(e.config)?JSON.parse(await t.load(e.config)):e.config??{},r=Ee(e.patch)?JSON.parse(await t.load(e.patch)):e.patch;return Ul(Ul(Ul({},e),r?{patch:r}:{}),n?{config:n}:{})}function JXe(e){const t=e.getRootNode?e.getRootNode():document;return t instanceof ShadowRoot?{root:t,rootContainer:t}:{root:document,rootContainer:document.head??document.body}}async function QXe(e,t,n={},r){const i=n.theme?Wh(xYe[n.theme],n.config??{}):n.config,o=bu(n.actions)?n.actions:zZ({},jXe,n.actions??{}),s=Ul(Ul({},UXe),n.i18n),a=n.renderer??"canvas",l=n.logLevel??ss.Warn,u=n.downloadFileName??"visualization",c=typeof e=="string"?document.querySelector(e):e;if(!c)throw new Error(`${e} does not exist`);if(n.defaultStyle!==!1){const _="vega-embed-style",{root:$,rootContainer:S}=JXe(c);if(!$.getElementById(_)){const C=document.createElement("style");C.id=_,C.innerHTML=n.defaultStyle===void 0||n.defaultStyle===!0?zXe.toString():n.defaultStyle,S.appendChild(C)}}const f=GXe(t,n.mode);let h=qXe[f](t,i);if(f==="vega-lite"&&h.$schema){const _=OZ(h.$schema);LZ(i2.vega,`^${_.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${_.version}, but current version is v${i2.vega}.`)}c.classList.add("vega-embed"),o&&c.classList.add("has-actions"),c.innerHTML="";let p=c;if(o){const _=document.createElement("div");_.classList.add(HXe),c.appendChild(_),p=_}const g=n.patch;if(g&&(h=g instanceof Function?g(h):xx(h,g,!0,!1).newDocument),n.formatLocale&&ss.formatLocale(n.formatLocale),n.timeFormatLocale&&ss.timeFormatLocale(n.timeFormatLocale),n.expressionFunctions)for(const _ in n.expressionFunctions){const $=n.expressionFunctions[_];"fn"in $?ss.expressionFunction(_,$.fn,$.visitor):$ instanceof Function&&ss.expressionFunction(_,$)}const{ast:m}=n,y=ss.parse(h,f==="vega-lite"?{}:i,{ast:m}),v=new(n.viewClass||ss.View)(y,Ul({loader:r,logLevel:l,renderer:a},m?{expr:ss.expressionInterpreter??n.expr??$Le}:{}));if(v.addSignalListener("autosize",(_,$)=>{const{type:S}=$;S=="fit-x"?(p.classList.add("fit-x"),p.classList.remove("fit-y")):S=="fit-y"?(p.classList.remove("fit-x"),p.classList.add("fit-y")):S=="fit"?p.classList.add("fit-x","fit-y"):p.classList.remove("fit-x","fit-y")}),n.tooltip!==!1){const _=WXe(n.tooltip)?n.tooltip:new RYe(n.tooltip===!0?{}:n.tooltip).call;v.tooltip(_)}let{hover:b}=n;if(b===void 0&&(b=f==="vega"),b){const{hoverSet:_,updateSet:$}=typeof b=="boolean"?{}:b;v.hover(_,$)}n&&(n.width!=null&&v.width(n.width),n.height!=null&&v.height(n.height),n.padding!=null&&v.padding(n.padding)),await v.initialize(p,n.bind).runAsync();let x;if(o!==!1){let _=c;if(n.defaultStyle!==!1){const S=document.createElement("details");S.title=s.CLICK_TO_VIEW_ACTIONS,c.append(S),_=S;const C=document.createElement("summary");C.innerHTML=VXe,S.append(C),x=T=>{S.contains(T.target)||S.removeAttribute("open")},document.addEventListener("click",x)}const $=document.createElement("div");if(_.append($),$.classList.add("vega-actions"),o===!0||o.export!==!1){for(const S of["svg","png"])if(o===!0||o.export===!0||o.export[S]){const C=s[`${S.toUpperCase()}_ACTION`],T=document.createElement("a"),M=Ae(n.scaleFactor)?n.scaleFactor[S]:n.scaleFactor;T.text=C,T.href="#",T.target="_blank",T.download=`${u}.${S}`,T.addEventListener("mousedown",async function(E){E.preventDefault();const N=await v.toImageURL(S,M);this.href=N}),$.append(T)}}if(o===!0||o.source!==!1){const S=document.createElement("a");S.text=s.SOURCE_ACTION,S.href="#",S.addEventListener("click",function(C){MI(g3(t),n.sourceHeader??"",n.sourceFooter??"",f),C.preventDefault()}),$.append(S)}if(f==="vega-lite"&&(o===!0||o.compiled!==!1)){const S=document.createElement("a");S.text=s.COMPILED_ACTION,S.href="#",S.addEventListener("click",function(C){MI(g3(h),n.sourceHeader??"",n.sourceFooter??"","vega"),C.preventDefault()}),$.append(S)}if(o===!0||o.editor!==!1){const S=n.editorUrl??"https://vega.github.io/editor/",C=document.createElement("a");C.text=s.EDITOR_ACTION,C.href="#",C.addEventListener("click",function(T){LXe(window,S,{config:i,mode:f,renderer:a,spec:g3(t)}),T.preventDefault()}),$.append(C)}}function w(){x&&document.removeEventListener("click",x),v.finalize()}return{view:v,spec:t,vgSpec:h,finalize:w,embedOptions:n}}window.d3=h5e;window.vegaEmbed=KXe;const m1=_ne(Cne);m1.use(z1e);m1.use(oye);m1.component("BaseCard",L4);m1.component("BaseButton",xz);m1.mount("#app")});export default ZXe();
